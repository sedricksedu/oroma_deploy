var A_=t=>{throw TypeError(t)};var I0=(t,e,r)=>e.has(t)||A_("Cannot "+r);var B=(t,e,r)=>(I0(t,e,"read from private field"),r?r.call(t):e.get(t)),Me=(t,e,r)=>e.has(t)?A_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),xe=(t,e,r,n)=>(I0(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Ze=(t,e,r)=>(I0(t,e,"access private method"),r);var om=(t,e,r,n)=>({set _(i){xe(t,e,i,r)},get _(){return B(t,e,n)}});function A8(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var lm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var FR={exports:{}},Vv={},BR={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uh=Symbol.for("react.element"),_8=Symbol.for("react.portal"),P8=Symbol.for("react.fragment"),N8=Symbol.for("react.strict_mode"),C8=Symbol.for("react.profiler"),j8=Symbol.for("react.provider"),O8=Symbol.for("react.context"),I8=Symbol.for("react.forward_ref"),k8=Symbol.for("react.suspense"),R8=Symbol.for("react.memo"),L8=Symbol.for("react.lazy"),__=Symbol.iterator;function D8(t){return t===null||typeof t!="object"?null:(t=__&&t[__]||t["@@iterator"],typeof t=="function"?t:null)}var UR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},VR=Object.assign,GR={};function Wu(t,e,r){this.props=t,this.context=e,this.refs=GR,this.updater=r||UR}Wu.prototype.isReactComponent={};Wu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function HR(){}HR.prototype=Wu.prototype;function K1(t,e,r){this.props=t,this.context=e,this.refs=GR,this.updater=r||UR}var q1=K1.prototype=new HR;q1.constructor=K1;VR(q1,Wu.prototype);q1.isPureReactComponent=!0;var P_=Array.isArray,zR=Object.prototype.hasOwnProperty,Y1={current:null},WR={key:!0,ref:!0,__self:!0,__source:!0};function KR(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)zR.call(e,n)&&!WR.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Uh,type:t,key:s,ref:a,props:i,_owner:Y1.current}}function M8(t,e){return{$$typeof:Uh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function X1(t){return typeof t=="object"&&t!==null&&t.$$typeof===Uh}function $8(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var N_=/\/+/g;function k0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$8(""+t.key):e.toString(36)}function cp(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Uh:case _8:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+k0(a,0):n,P_(i)?(r="",t!=null&&(r=t.replace(N_,"$&/")+"/"),cp(i,e,r,"",function(u){return u})):i!=null&&(X1(i)&&(i=M8(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(N_,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",P_(t))for(var o=0;o<t.length;o++){s=t[o];var c=n+k0(s,o);a+=cp(s,e,r,c,i)}else if(c=D8(t),typeof c=="function")for(t=c.call(t),o=0;!(s=t.next()).done;)s=s.value,c=n+k0(s,o++),a+=cp(s,e,r,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function cm(t,e,r){if(t==null)return t;var n=[],i=0;return cp(t,n,"","",function(s){return e.call(r,s,i++)}),n}function F8(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dn={current:null},up={transition:null},B8={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:up,ReactCurrentOwner:Y1};function qR(){throw Error("act(...) is not supported in production builds of React.")}rt.Children={map:cm,forEach:function(t,e,r){cm(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return cm(t,function(){e++}),e},toArray:function(t){return cm(t,function(e){return e})||[]},only:function(t){if(!X1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};rt.Component=Wu;rt.Fragment=P8;rt.Profiler=C8;rt.PureComponent=K1;rt.StrictMode=N8;rt.Suspense=k8;rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B8;rt.act=qR;rt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=VR({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Y1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)zR.call(e,c)&&!WR.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Uh,type:t.type,key:i,ref:s,props:n,_owner:a}};rt.createContext=function(t){return t={$$typeof:O8,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:j8,_context:t},t.Consumer=t};rt.createElement=KR;rt.createFactory=function(t){var e=KR.bind(null,t);return e.type=t,e};rt.createRef=function(){return{current:null}};rt.forwardRef=function(t){return{$$typeof:I8,render:t}};rt.isValidElement=X1;rt.lazy=function(t){return{$$typeof:L8,_payload:{_status:-1,_result:t},_init:F8}};rt.memo=function(t,e){return{$$typeof:R8,type:t,compare:e===void 0?null:e}};rt.startTransition=function(t){var e=up.transition;up.transition={};try{t()}finally{up.transition=e}};rt.unstable_act=qR;rt.useCallback=function(t,e){return dn.current.useCallback(t,e)};rt.useContext=function(t){return dn.current.useContext(t)};rt.useDebugValue=function(){};rt.useDeferredValue=function(t){return dn.current.useDeferredValue(t)};rt.useEffect=function(t,e){return dn.current.useEffect(t,e)};rt.useId=function(){return dn.current.useId()};rt.useImperativeHandle=function(t,e,r){return dn.current.useImperativeHandle(t,e,r)};rt.useInsertionEffect=function(t,e){return dn.current.useInsertionEffect(t,e)};rt.useLayoutEffect=function(t,e){return dn.current.useLayoutEffect(t,e)};rt.useMemo=function(t,e){return dn.current.useMemo(t,e)};rt.useReducer=function(t,e,r){return dn.current.useReducer(t,e,r)};rt.useRef=function(t){return dn.current.useRef(t)};rt.useState=function(t){return dn.current.useState(t)};rt.useSyncExternalStore=function(t,e,r){return dn.current.useSyncExternalStore(t,e,r)};rt.useTransition=function(){return dn.current.useTransition()};rt.version="18.3.1";BR.exports=rt;var E=BR.exports;const L=pt(E),Q1=A8({__proto__:null,default:L},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U8=E,V8=Symbol.for("react.element"),G8=Symbol.for("react.fragment"),H8=Object.prototype.hasOwnProperty,z8=U8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,W8={key:!0,ref:!0,__self:!0,__source:!0};function YR(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)H8.call(e,n)&&!W8.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:V8,type:t,key:s,ref:a,props:i,_owner:z8.current}}Vv.Fragment=G8;Vv.jsx=YR;Vv.jsxs=YR;FR.exports=Vv;var l=FR.exports,XR={exports:{}},Gn={},QR={exports:{}},ZR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,F){var H=I.length;I.push(F);e:for(;0<H;){var G=H-1>>>1,V=I[G];if(0<i(V,F))I[G]=F,I[H]=V,H=G;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var F=I[0],H=I.pop();if(H!==F){I[0]=H;e:for(var G=0,V=I.length,ne=V>>>1;G<ne;){var ce=2*(G+1)-1,Se=I[ce],J=ce+1,re=I[J];if(0>i(Se,H))J<V&&0>i(re,Se)?(I[G]=re,I[J]=H,G=J):(I[G]=Se,I[ce]=H,G=ce);else if(J<V&&0>i(re,H))I[G]=re,I[J]=H,G=J;else break e}}return F}function i(I,F){var H=I.sortIndex-F.sortIndex;return H!==0?H:I.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var c=[],u=[],d=1,f=null,h=3,m=!1,p=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(I){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=I)n(u),F.sortIndex=F.expirationTime,e(c,F);else break;F=r(u)}}function S(I){if(g=!1,b(I),!p)if(r(c)!==null)p=!0,D(w);else{var F=r(u);F!==null&&U(S,F.startTime-I)}}function w(I,F){p=!1,g&&(g=!1,y(_),_=-1),m=!0;var H=h;try{for(b(F),f=r(c);f!==null&&(!(f.expirationTime>F)||I&&!j());){var G=f.callback;if(typeof G=="function"){f.callback=null,h=f.priorityLevel;var V=G(f.expirationTime<=F);F=t.unstable_now(),typeof V=="function"?f.callback=V:f===r(c)&&n(c),b(F)}else n(c);f=r(c)}if(f!==null)var ne=!0;else{var ce=r(u);ce!==null&&U(S,ce.startTime-F),ne=!1}return ne}finally{f=null,h=H,m=!1}}var T=!1,A=null,_=-1,N=5,C=-1;function j(){return!(t.unstable_now()-C<N)}function O(){if(A!==null){var I=t.unstable_now();C=I;var F=!0;try{F=A(!0,I)}finally{F?R():(T=!1,A=null)}}else T=!1}var R;if(typeof x=="function")R=function(){x(O)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,M=k.port2;k.port1.onmessage=O,R=function(){M.postMessage(null)}}else R=function(){v(O,0)};function D(I){A=I,T||(T=!0,R())}function U(I,F){_=v(function(){I(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,D(w))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(I){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var H=h;h=F;try{return I()}finally{h=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,F){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var H=h;h=I;try{return F()}finally{h=H}},t.unstable_scheduleCallback=function(I,F,H){var G=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?G+H:G):H=G,I){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=H+V,I={id:d++,callback:F,priorityLevel:I,startTime:H,expirationTime:V,sortIndex:-1},H>G?(I.sortIndex=H,e(u,I),r(c)===null&&I===r(u)&&(g?(y(_),_=-1):g=!0,U(S,H-G))):(I.sortIndex=V,e(c,I),p||m||(p=!0,D(w))),I},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(I){var F=h;return function(){var H=h;h=F;try{return I.apply(this,arguments)}finally{h=H}}}})(ZR);QR.exports=ZR;var K8=QR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q8=E,Un=K8;function ae(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var JR=new Set,Tf={};function Ml(t,e){eu(t,e),eu(t+"Capture",e)}function eu(t,e){for(Tf[t]=e,t=0;t<e.length;t++)JR.add(e[t])}var qs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sb=Object.prototype.hasOwnProperty,Y8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C_={},j_={};function X8(t){return Sb.call(j_,t)?!0:Sb.call(C_,t)?!1:Y8.test(t)?j_[t]=!0:(C_[t]=!0,!1)}function Q8(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Z8(t,e,r,n){if(e===null||typeof e>"u"||Q8(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function fn(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Ur={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ur[t]=new fn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ur[e]=new fn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ur[t]=new fn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ur[t]=new fn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ur[t]=new fn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ur[t]=new fn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ur[t]=new fn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ur[t]=new fn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ur[t]=new fn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Z1=/[\-:]([a-z])/g;function J1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Z1,J1);Ur[e]=new fn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Z1,J1);Ur[e]=new fn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Z1,J1);Ur[e]=new fn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ur[t]=new fn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ur.xlinkHref=new fn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ur[t]=new fn(t,1,!1,t.toLowerCase(),null,!0,!0)});function eE(t,e,r,n){var i=Ur.hasOwnProperty(e)?Ur[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Z8(e,r,i,n)&&(r=null),n||i===null?X8(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var aa=q8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,um=Symbol.for("react.element"),ac=Symbol.for("react.portal"),oc=Symbol.for("react.fragment"),tE=Symbol.for("react.strict_mode"),Eb=Symbol.for("react.profiler"),eL=Symbol.for("react.provider"),tL=Symbol.for("react.context"),rE=Symbol.for("react.forward_ref"),Tb=Symbol.for("react.suspense"),Ab=Symbol.for("react.suspense_list"),nE=Symbol.for("react.memo"),xa=Symbol.for("react.lazy"),rL=Symbol.for("react.offscreen"),O_=Symbol.iterator;function yd(t){return t===null||typeof t!="object"?null:(t=O_&&t[O_]||t["@@iterator"],typeof t=="function"?t:null)}var Wt=Object.assign,R0;function Gd(t){if(R0===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);R0=e&&e[1]||""}return`
`+R0+t}var L0=!1;function D0(t,e){if(!t||L0)return"";L0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=o);break}}}finally{L0=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Gd(t):""}function J8(t){switch(t.tag){case 5:return Gd(t.type);case 16:return Gd("Lazy");case 13:return Gd("Suspense");case 19:return Gd("SuspenseList");case 0:case 2:case 15:return t=D0(t.type,!1),t;case 11:return t=D0(t.type.render,!1),t;case 1:return t=D0(t.type,!0),t;default:return""}}function _b(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oc:return"Fragment";case ac:return"Portal";case Eb:return"Profiler";case tE:return"StrictMode";case Tb:return"Suspense";case Ab:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tL:return(t.displayName||"Context")+".Consumer";case eL:return(t._context.displayName||"Context")+".Provider";case rE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nE:return e=t.displayName||null,e!==null?e:_b(t.type)||"Memo";case xa:e=t._payload,t=t._init;try{return _b(t(e))}catch{}}return null}function eV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _b(e);case 8:return e===tE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ro(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nL(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tV(t){var e=nL(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function dm(t){t._valueTracker||(t._valueTracker=tV(t))}function iL(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=nL(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Fp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Pb(t,e){var r=e.checked;return Wt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function I_(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ro(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sL(t,e){e=e.checked,e!=null&&eE(t,"checked",e,!1)}function Nb(t,e){sL(t,e);var r=ro(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Cb(t,e.type,r):e.hasOwnProperty("defaultValue")&&Cb(t,e.type,ro(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function k_(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Cb(t,e,r){(e!=="number"||Fp(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Hd=Array.isArray;function Ac(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ro(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function jb(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ae(91));return Wt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function R_(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ae(92));if(Hd(r)){if(1<r.length)throw Error(ae(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ro(r)}}function aL(t,e){var r=ro(e.value),n=ro(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function L_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function oL(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ob(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?oL(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fm,lL=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(fm=fm||document.createElement("div"),fm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Af(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Zd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rV=["Webkit","ms","Moz","O"];Object.keys(Zd).forEach(function(t){rV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zd[e]=Zd[t]})});function cL(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Zd.hasOwnProperty(t)&&Zd[t]?(""+e).trim():e+"px"}function uL(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=cL(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var nV=Wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ib(t,e){if(e){if(nV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ae(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ae(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ae(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ae(62))}}function kb(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rb=null;function iE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lb=null,_c=null,Pc=null;function D_(t){if(t=Hh(t)){if(typeof Lb!="function")throw Error(ae(280));var e=t.stateNode;e&&(e=Kv(e),Lb(t.stateNode,t.type,e))}}function dL(t){_c?Pc?Pc.push(t):Pc=[t]:_c=t}function fL(){if(_c){var t=_c,e=Pc;if(Pc=_c=null,D_(t),e)for(t=0;t<e.length;t++)D_(e[t])}}function hL(t,e){return t(e)}function mL(){}var M0=!1;function pL(t,e,r){if(M0)return t(e,r);M0=!0;try{return hL(t,e,r)}finally{M0=!1,(_c!==null||Pc!==null)&&(mL(),fL())}}function _f(t,e){var r=t.stateNode;if(r===null)return null;var n=Kv(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ae(231,e,typeof r));return r}var Db=!1;if(qs)try{var xd={};Object.defineProperty(xd,"passive",{get:function(){Db=!0}}),window.addEventListener("test",xd,xd),window.removeEventListener("test",xd,xd)}catch{Db=!1}function iV(t,e,r,n,i,s,a,o,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Jd=!1,Bp=null,Up=!1,Mb=null,sV={onError:function(t){Jd=!0,Bp=t}};function aV(t,e,r,n,i,s,a,o,c){Jd=!1,Bp=null,iV.apply(sV,arguments)}function oV(t,e,r,n,i,s,a,o,c){if(aV.apply(this,arguments),Jd){if(Jd){var u=Bp;Jd=!1,Bp=null}else throw Error(ae(198));Up||(Up=!0,Mb=u)}}function $l(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function gL(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function M_(t){if($l(t)!==t)throw Error(ae(188))}function lV(t){var e=t.alternate;if(!e){if(e=$l(t),e===null)throw Error(ae(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return M_(i),t;if(s===n)return M_(i),e;s=s.sibling}throw Error(ae(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(ae(189))}}if(r.alternate!==n)throw Error(ae(190))}if(r.tag!==3)throw Error(ae(188));return r.stateNode.current===r?t:e}function vL(t){return t=lV(t),t!==null?yL(t):null}function yL(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yL(t);if(e!==null)return e;t=t.sibling}return null}var xL=Un.unstable_scheduleCallback,$_=Un.unstable_cancelCallback,cV=Un.unstable_shouldYield,uV=Un.unstable_requestPaint,nr=Un.unstable_now,dV=Un.unstable_getCurrentPriorityLevel,sE=Un.unstable_ImmediatePriority,bL=Un.unstable_UserBlockingPriority,Vp=Un.unstable_NormalPriority,fV=Un.unstable_LowPriority,wL=Un.unstable_IdlePriority,Gv=null,ns=null;function hV(t){if(ns&&typeof ns.onCommitFiberRoot=="function")try{ns.onCommitFiberRoot(Gv,t,void 0,(t.current.flags&128)===128)}catch{}}var Ii=Math.clz32?Math.clz32:gV,mV=Math.log,pV=Math.LN2;function gV(t){return t>>>=0,t===0?32:31-(mV(t)/pV|0)|0}var hm=64,mm=4194304;function zd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gp(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=zd(o):(s&=a,s!==0&&(n=zd(s)))}else a=r&~i,a!==0?n=zd(a):s!==0&&(n=zd(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ii(e),i=1<<r,n|=t[r],e&=~i;return n}function vV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yV(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Ii(s),o=1<<a,c=i[a];c===-1?(!(o&r)||o&n)&&(i[a]=vV(o,e)):c<=e&&(t.expiredLanes|=o),s&=~o}}function $b(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function SL(){var t=hm;return hm<<=1,!(hm&4194240)&&(hm=64),t}function $0(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Vh(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ii(e),t[e]=r}function xV(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Ii(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function aE(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ii(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var vt=0;function EL(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var TL,oE,AL,_L,PL,Fb=!1,pm=[],Ga=null,Ha=null,za=null,Pf=new Map,Nf=new Map,Aa=[],bV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function F_(t,e){switch(t){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":Ha=null;break;case"mouseover":case"mouseout":za=null;break;case"pointerover":case"pointerout":Pf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nf.delete(e.pointerId)}}function bd(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Hh(e),e!==null&&oE(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function wV(t,e,r,n,i){switch(e){case"focusin":return Ga=bd(Ga,t,e,r,n,i),!0;case"dragenter":return Ha=bd(Ha,t,e,r,n,i),!0;case"mouseover":return za=bd(za,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Pf.set(s,bd(Pf.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Nf.set(s,bd(Nf.get(s)||null,t,e,r,n,i)),!0}return!1}function NL(t){var e=Fo(t.target);if(e!==null){var r=$l(e);if(r!==null){if(e=r.tag,e===13){if(e=gL(r),e!==null){t.blockedOn=e,PL(t.priority,function(){AL(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Bb(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Rb=n,r.target.dispatchEvent(n),Rb=null}else return e=Hh(r),e!==null&&oE(e),t.blockedOn=r,!1;e.shift()}return!0}function B_(t,e,r){dp(t)&&r.delete(e)}function SV(){Fb=!1,Ga!==null&&dp(Ga)&&(Ga=null),Ha!==null&&dp(Ha)&&(Ha=null),za!==null&&dp(za)&&(za=null),Pf.forEach(B_),Nf.forEach(B_)}function wd(t,e){t.blockedOn===e&&(t.blockedOn=null,Fb||(Fb=!0,Un.unstable_scheduleCallback(Un.unstable_NormalPriority,SV)))}function Cf(t){function e(i){return wd(i,t)}if(0<pm.length){wd(pm[0],t);for(var r=1;r<pm.length;r++){var n=pm[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ga!==null&&wd(Ga,t),Ha!==null&&wd(Ha,t),za!==null&&wd(za,t),Pf.forEach(e),Nf.forEach(e),r=0;r<Aa.length;r++)n=Aa[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Aa.length&&(r=Aa[0],r.blockedOn===null);)NL(r),r.blockedOn===null&&Aa.shift()}var Nc=aa.ReactCurrentBatchConfig,Hp=!0;function EV(t,e,r,n){var i=vt,s=Nc.transition;Nc.transition=null;try{vt=1,lE(t,e,r,n)}finally{vt=i,Nc.transition=s}}function TV(t,e,r,n){var i=vt,s=Nc.transition;Nc.transition=null;try{vt=4,lE(t,e,r,n)}finally{vt=i,Nc.transition=s}}function lE(t,e,r,n){if(Hp){var i=Bb(t,e,r,n);if(i===null)q0(t,e,n,zp,r),F_(t,n);else if(wV(i,t,e,r,n))n.stopPropagation();else if(F_(t,n),e&4&&-1<bV.indexOf(t)){for(;i!==null;){var s=Hh(i);if(s!==null&&TL(s),s=Bb(t,e,r,n),s===null&&q0(t,e,n,zp,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else q0(t,e,n,null,r)}}var zp=null;function Bb(t,e,r,n){if(zp=null,t=iE(n),t=Fo(t),t!==null)if(e=$l(t),e===null)t=null;else if(r=e.tag,r===13){if(t=gL(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zp=t,null}function CL(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dV()){case sE:return 1;case bL:return 4;case Vp:case fV:return 16;case wL:return 536870912;default:return 16}default:return 16}}var $a=null,cE=null,fp=null;function jL(){if(fp)return fp;var t,e=cE,r=e.length,n,i="value"in $a?$a.value:$a.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return fp=i.slice(t,1<n?1-n:void 0)}function hp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function gm(){return!0}function U_(){return!1}function Hn(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?gm:U_,this.isPropagationStopped=U_,this}return Wt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=gm)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=gm)},persist:function(){},isPersistent:gm}),e}var Ku={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uE=Hn(Ku),Gh=Wt({},Ku,{view:0,detail:0}),AV=Hn(Gh),F0,B0,Sd,Hv=Wt({},Gh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Sd&&(Sd&&t.type==="mousemove"?(F0=t.screenX-Sd.screenX,B0=t.screenY-Sd.screenY):B0=F0=0,Sd=t),F0)},movementY:function(t){return"movementY"in t?t.movementY:B0}}),V_=Hn(Hv),_V=Wt({},Hv,{dataTransfer:0}),PV=Hn(_V),NV=Wt({},Gh,{relatedTarget:0}),U0=Hn(NV),CV=Wt({},Ku,{animationName:0,elapsedTime:0,pseudoElement:0}),jV=Hn(CV),OV=Wt({},Ku,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),IV=Hn(OV),kV=Wt({},Ku,{data:0}),G_=Hn(kV),RV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=DV[t])?!!e[t]:!1}function dE(){return MV}var $V=Wt({},Gh,{key:function(t){if(t.key){var e=RV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dE,charCode:function(t){return t.type==="keypress"?hp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),FV=Hn($V),BV=Wt({},Hv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),H_=Hn(BV),UV=Wt({},Gh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dE}),VV=Hn(UV),GV=Wt({},Ku,{propertyName:0,elapsedTime:0,pseudoElement:0}),HV=Hn(GV),zV=Wt({},Hv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),WV=Hn(zV),KV=[9,13,27,32],fE=qs&&"CompositionEvent"in window,ef=null;qs&&"documentMode"in document&&(ef=document.documentMode);var qV=qs&&"TextEvent"in window&&!ef,OL=qs&&(!fE||ef&&8<ef&&11>=ef),z_=" ",W_=!1;function IL(t,e){switch(t){case"keyup":return KV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kL(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var lc=!1;function YV(t,e){switch(t){case"compositionend":return kL(e);case"keypress":return e.which!==32?null:(W_=!0,z_);case"textInput":return t=e.data,t===z_&&W_?null:t;default:return null}}function XV(t,e){if(lc)return t==="compositionend"||!fE&&IL(t,e)?(t=jL(),fp=cE=$a=null,lc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return OL&&e.locale!=="ko"?null:e.data;default:return null}}var QV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!QV[t.type]:e==="textarea"}function RL(t,e,r,n){dL(n),e=Wp(e,"onChange"),0<e.length&&(r=new uE("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var tf=null,jf=null;function ZV(t){zL(t,0)}function zv(t){var e=dc(t);if(iL(e))return t}function JV(t,e){if(t==="change")return e}var LL=!1;if(qs){var V0;if(qs){var G0="oninput"in document;if(!G0){var q_=document.createElement("div");q_.setAttribute("oninput","return;"),G0=typeof q_.oninput=="function"}V0=G0}else V0=!1;LL=V0&&(!document.documentMode||9<document.documentMode)}function Y_(){tf&&(tf.detachEvent("onpropertychange",DL),jf=tf=null)}function DL(t){if(t.propertyName==="value"&&zv(jf)){var e=[];RL(e,jf,t,iE(t)),pL(ZV,e)}}function eG(t,e,r){t==="focusin"?(Y_(),tf=e,jf=r,tf.attachEvent("onpropertychange",DL)):t==="focusout"&&Y_()}function tG(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zv(jf)}function rG(t,e){if(t==="click")return zv(e)}function nG(t,e){if(t==="input"||t==="change")return zv(e)}function iG(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Li=typeof Object.is=="function"?Object.is:iG;function Of(t,e){if(Li(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Sb.call(e,i)||!Li(t[i],e[i]))return!1}return!0}function X_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Q_(t,e){var r=X_(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=X_(r)}}function ML(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ML(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $L(){for(var t=window,e=Fp();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Fp(t.document)}return e}function hE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sG(t){var e=$L(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&ML(r.ownerDocument.documentElement,r)){if(n!==null&&hE(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=Q_(r,s);var a=Q_(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var aG=qs&&"documentMode"in document&&11>=document.documentMode,cc=null,Ub=null,rf=null,Vb=!1;function Z_(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Vb||cc==null||cc!==Fp(n)||(n=cc,"selectionStart"in n&&hE(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),rf&&Of(rf,n)||(rf=n,n=Wp(Ub,"onSelect"),0<n.length&&(e=new uE("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=cc)))}function vm(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var uc={animationend:vm("Animation","AnimationEnd"),animationiteration:vm("Animation","AnimationIteration"),animationstart:vm("Animation","AnimationStart"),transitionend:vm("Transition","TransitionEnd")},H0={},FL={};qs&&(FL=document.createElement("div").style,"AnimationEvent"in window||(delete uc.animationend.animation,delete uc.animationiteration.animation,delete uc.animationstart.animation),"TransitionEvent"in window||delete uc.transitionend.transition);function Wv(t){if(H0[t])return H0[t];if(!uc[t])return t;var e=uc[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in FL)return H0[t]=e[r];return t}var BL=Wv("animationend"),UL=Wv("animationiteration"),VL=Wv("animationstart"),GL=Wv("transitionend"),HL=new Map,J_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mo(t,e){HL.set(t,e),Ml(e,[t])}for(var z0=0;z0<J_.length;z0++){var W0=J_[z0],oG=W0.toLowerCase(),lG=W0[0].toUpperCase()+W0.slice(1);mo(oG,"on"+lG)}mo(BL,"onAnimationEnd");mo(UL,"onAnimationIteration");mo(VL,"onAnimationStart");mo("dblclick","onDoubleClick");mo("focusin","onFocus");mo("focusout","onBlur");mo(GL,"onTransitionEnd");eu("onMouseEnter",["mouseout","mouseover"]);eu("onMouseLeave",["mouseout","mouseover"]);eu("onPointerEnter",["pointerout","pointerover"]);eu("onPointerLeave",["pointerout","pointerover"]);Ml("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ml("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ml("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ml("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ml("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ml("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cG=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wd));function eP(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,oV(n,e,void 0,t),t.currentTarget=null}function zL(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==s&&i.isPropagationStopped())break e;eP(i,o,u),s=c}else for(a=0;a<n.length;a++){if(o=n[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==s&&i.isPropagationStopped())break e;eP(i,o,u),s=c}}}if(Up)throw t=Mb,Up=!1,Mb=null,t}function kt(t,e){var r=e[Kb];r===void 0&&(r=e[Kb]=new Set);var n=t+"__bubble";r.has(n)||(WL(e,t,2,!1),r.add(n))}function K0(t,e,r){var n=0;e&&(n|=4),WL(r,t,n,e)}var ym="_reactListening"+Math.random().toString(36).slice(2);function If(t){if(!t[ym]){t[ym]=!0,JR.forEach(function(r){r!=="selectionchange"&&(cG.has(r)||K0(r,!1,t),K0(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ym]||(e[ym]=!0,K0("selectionchange",!1,e))}}function WL(t,e,r,n){switch(CL(e)){case 1:var i=EV;break;case 4:i=TV;break;default:i=lE}r=i.bind(null,e,r,t),i=void 0,!Db||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function q0(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Fo(o),a===null)return;if(c=a.tag,c===5||c===6){n=s=a;continue e}o=o.parentNode}}n=n.return}pL(function(){var u=s,d=iE(r),f=[];e:{var h=HL.get(t);if(h!==void 0){var m=uE,p=t;switch(t){case"keypress":if(hp(r)===0)break e;case"keydown":case"keyup":m=FV;break;case"focusin":p="focus",m=U0;break;case"focusout":p="blur",m=U0;break;case"beforeblur":case"afterblur":m=U0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=V_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=PV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=VV;break;case BL:case UL:case VL:m=jV;break;case GL:m=HV;break;case"scroll":m=AV;break;case"wheel":m=WV;break;case"copy":case"cut":case"paste":m=IV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=H_}var g=(e&4)!==0,v=!g&&t==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var x=u,b;x!==null;){b=x;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,y!==null&&(S=_f(x,y),S!=null&&g.push(kf(x,S,b)))),v)break;x=x.return}0<g.length&&(h=new m(h,p,null,r,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&r!==Rb&&(p=r.relatedTarget||r.fromElement)&&(Fo(p)||p[Ys]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?Fo(p):null,p!==null&&(v=$l(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(g=V_,S="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(g=H_,S="onPointerLeave",y="onPointerEnter",x="pointer"),v=m==null?h:dc(m),b=p==null?h:dc(p),h=new g(S,x+"leave",m,r,d),h.target=v,h.relatedTarget=b,S=null,Fo(d)===u&&(g=new g(y,x+"enter",p,r,d),g.target=b,g.relatedTarget=v,S=g),v=S,m&&p)t:{for(g=m,y=p,x=0,b=g;b;b=Wl(b))x++;for(b=0,S=y;S;S=Wl(S))b++;for(;0<x-b;)g=Wl(g),x--;for(;0<b-x;)y=Wl(y),b--;for(;x--;){if(g===y||y!==null&&g===y.alternate)break t;g=Wl(g),y=Wl(y)}g=null}else g=null;m!==null&&tP(f,h,m,g,!1),p!==null&&v!==null&&tP(f,v,p,g,!0)}}e:{if(h=u?dc(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var w=JV;else if(K_(h))if(LL)w=nG;else{w=tG;var T=eG}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=rG);if(w&&(w=w(t,u))){RL(f,w,r,d);break e}T&&T(t,h,u),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&Cb(h,"number",h.value)}switch(T=u?dc(u):window,t){case"focusin":(K_(T)||T.contentEditable==="true")&&(cc=T,Ub=u,rf=null);break;case"focusout":rf=Ub=cc=null;break;case"mousedown":Vb=!0;break;case"contextmenu":case"mouseup":case"dragend":Vb=!1,Z_(f,r,d);break;case"selectionchange":if(aG)break;case"keydown":case"keyup":Z_(f,r,d)}var A;if(fE)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else lc?IL(t,r)&&(_="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(OL&&r.locale!=="ko"&&(lc||_!=="onCompositionStart"?_==="onCompositionEnd"&&lc&&(A=jL()):($a=d,cE="value"in $a?$a.value:$a.textContent,lc=!0)),T=Wp(u,_),0<T.length&&(_=new G_(_,t,null,r,d),f.push({event:_,listeners:T}),A?_.data=A:(A=kL(r),A!==null&&(_.data=A)))),(A=qV?YV(t,r):XV(t,r))&&(u=Wp(u,"onBeforeInput"),0<u.length&&(d=new G_("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=A))}zL(f,e)})}function kf(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Wp(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=_f(t,r),s!=null&&n.unshift(kf(t,s,i)),s=_f(t,e),s!=null&&n.push(kf(t,s,i))),t=t.return}return n}function Wl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function tP(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,i?(c=_f(r,s),c!=null&&a.unshift(kf(r,c,o))):i||(c=_f(r,s),c!=null&&a.push(kf(r,c,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var uG=/\r\n?/g,dG=/\u0000|\uFFFD/g;function rP(t){return(typeof t=="string"?t:""+t).replace(uG,`
`).replace(dG,"")}function xm(t,e,r){if(e=rP(e),rP(t)!==e&&r)throw Error(ae(425))}function Kp(){}var Gb=null,Hb=null;function zb(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wb=typeof setTimeout=="function"?setTimeout:void 0,fG=typeof clearTimeout=="function"?clearTimeout:void 0,nP=typeof Promise=="function"?Promise:void 0,hG=typeof queueMicrotask=="function"?queueMicrotask:typeof nP<"u"?function(t){return nP.resolve(null).then(t).catch(mG)}:Wb;function mG(t){setTimeout(function(){throw t})}function Y0(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Cf(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Cf(e)}function Wa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function iP(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var qu=Math.random().toString(36).slice(2),Yi="__reactFiber$"+qu,Rf="__reactProps$"+qu,Ys="__reactContainer$"+qu,Kb="__reactEvents$"+qu,pG="__reactListeners$"+qu,gG="__reactHandles$"+qu;function Fo(t){var e=t[Yi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ys]||r[Yi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=iP(t);t!==null;){if(r=t[Yi])return r;t=iP(t)}return e}t=r,r=t.parentNode}return null}function Hh(t){return t=t[Yi]||t[Ys],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function dc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ae(33))}function Kv(t){return t[Rf]||null}var qb=[],fc=-1;function po(t){return{current:t}}function Dt(t){0>fc||(t.current=qb[fc],qb[fc]=null,fc--)}function Nt(t,e){fc++,qb[fc]=t.current,t.current=e}var no={},Zr=po(no),Tn=po(!1),cl=no;function tu(t,e){var r=t.type.contextTypes;if(!r)return no;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function An(t){return t=t.childContextTypes,t!=null}function qp(){Dt(Tn),Dt(Zr)}function sP(t,e,r){if(Zr.current!==no)throw Error(ae(168));Nt(Zr,e),Nt(Tn,r)}function KL(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(ae(108,eV(t)||"Unknown",i));return Wt({},r,n)}function Yp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||no,cl=Zr.current,Nt(Zr,t),Nt(Tn,Tn.current),!0}function aP(t,e,r){var n=t.stateNode;if(!n)throw Error(ae(169));r?(t=KL(t,e,cl),n.__reactInternalMemoizedMergedChildContext=t,Dt(Tn),Dt(Zr),Nt(Zr,t)):Dt(Tn),Nt(Tn,r)}var js=null,qv=!1,X0=!1;function qL(t){js===null?js=[t]:js.push(t)}function vG(t){qv=!0,qL(t)}function go(){if(!X0&&js!==null){X0=!0;var t=0,e=vt;try{var r=js;for(vt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}js=null,qv=!1}catch(i){throw js!==null&&(js=js.slice(t+1)),xL(sE,go),i}finally{vt=e,X0=!1}}return null}var hc=[],mc=0,Xp=null,Qp=0,ei=[],ti=0,ul=null,Rs=1,Ls="";function Oo(t,e){hc[mc++]=Qp,hc[mc++]=Xp,Xp=t,Qp=e}function YL(t,e,r){ei[ti++]=Rs,ei[ti++]=Ls,ei[ti++]=ul,ul=t;var n=Rs;t=Ls;var i=32-Ii(n)-1;n&=~(1<<i),r+=1;var s=32-Ii(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Rs=1<<32-Ii(e)+i|r<<i|n,Ls=s+t}else Rs=1<<s|r<<i|n,Ls=t}function mE(t){t.return!==null&&(Oo(t,1),YL(t,1,0))}function pE(t){for(;t===Xp;)Xp=hc[--mc],hc[mc]=null,Qp=hc[--mc],hc[mc]=null;for(;t===ul;)ul=ei[--ti],ei[ti]=null,Ls=ei[--ti],ei[ti]=null,Rs=ei[--ti],ei[ti]=null}var Mn=null,Dn=null,$t=!1,Pi=null;function XL(t,e){var r=ni(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function oP(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mn=t,Dn=Wa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mn=t,Dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ul!==null?{id:Rs,overflow:Ls}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ni(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Mn=t,Dn=null,!0):!1;default:return!1}}function Yb(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xb(t){if($t){var e=Dn;if(e){var r=e;if(!oP(t,e)){if(Yb(t))throw Error(ae(418));e=Wa(r.nextSibling);var n=Mn;e&&oP(t,e)?XL(n,r):(t.flags=t.flags&-4097|2,$t=!1,Mn=t)}}else{if(Yb(t))throw Error(ae(418));t.flags=t.flags&-4097|2,$t=!1,Mn=t}}}function lP(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mn=t}function bm(t){if(t!==Mn)return!1;if(!$t)return lP(t),$t=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zb(t.type,t.memoizedProps)),e&&(e=Dn)){if(Yb(t))throw QL(),Error(ae(418));for(;e;)XL(t,e),e=Wa(e.nextSibling)}if(lP(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ae(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Dn=Wa(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Dn=null}}else Dn=Mn?Wa(t.stateNode.nextSibling):null;return!0}function QL(){for(var t=Dn;t;)t=Wa(t.nextSibling)}function ru(){Dn=Mn=null,$t=!1}function gE(t){Pi===null?Pi=[t]:Pi.push(t)}var yG=aa.ReactCurrentBatchConfig;function Ed(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ae(309));var n=r.stateNode}if(!n)throw Error(ae(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(ae(284));if(!r._owner)throw Error(ae(290,t))}return t}function wm(t,e){throw t=Object.prototype.toString.call(e),Error(ae(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function cP(t){var e=t._init;return e(t._payload)}function ZL(t){function e(y,x){if(t){var b=y.deletions;b===null?(y.deletions=[x],y.flags|=16):b.push(x)}}function r(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=Xa(y,x),y.index=0,y.sibling=null,y}function s(y,x,b){return y.index=b,t?(b=y.alternate,b!==null?(b=b.index,b<x?(y.flags|=2,x):b):(y.flags|=2,x)):(y.flags|=1048576,x)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,x,b,S){return x===null||x.tag!==6?(x=nx(b,y.mode,S),x.return=y,x):(x=i(x,b),x.return=y,x)}function c(y,x,b,S){var w=b.type;return w===oc?d(y,x,b.props.children,S,b.key):x!==null&&(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===xa&&cP(w)===x.type)?(S=i(x,b.props),S.ref=Ed(y,x,b),S.return=y,S):(S=bp(b.type,b.key,b.props,null,y.mode,S),S.ref=Ed(y,x,b),S.return=y,S)}function u(y,x,b,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=ix(b,y.mode,S),x.return=y,x):(x=i(x,b.children||[]),x.return=y,x)}function d(y,x,b,S,w){return x===null||x.tag!==7?(x=il(b,y.mode,S,w),x.return=y,x):(x=i(x,b),x.return=y,x)}function f(y,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=nx(""+x,y.mode,b),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case um:return b=bp(x.type,x.key,x.props,null,y.mode,b),b.ref=Ed(y,null,x),b.return=y,b;case ac:return x=ix(x,y.mode,b),x.return=y,x;case xa:var S=x._init;return f(y,S(x._payload),b)}if(Hd(x)||yd(x))return x=il(x,y.mode,b,null),x.return=y,x;wm(y,x)}return null}function h(y,x,b,S){var w=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:o(y,x,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case um:return b.key===w?c(y,x,b,S):null;case ac:return b.key===w?u(y,x,b,S):null;case xa:return w=b._init,h(y,x,w(b._payload),S)}if(Hd(b)||yd(b))return w!==null?null:d(y,x,b,S,null);wm(y,b)}return null}function m(y,x,b,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(b)||null,o(x,y,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case um:return y=y.get(S.key===null?b:S.key)||null,c(x,y,S,w);case ac:return y=y.get(S.key===null?b:S.key)||null,u(x,y,S,w);case xa:var T=S._init;return m(y,x,b,T(S._payload),w)}if(Hd(S)||yd(S))return y=y.get(b)||null,d(x,y,S,w,null);wm(x,S)}return null}function p(y,x,b,S){for(var w=null,T=null,A=x,_=x=0,N=null;A!==null&&_<b.length;_++){A.index>_?(N=A,A=null):N=A.sibling;var C=h(y,A,b[_],S);if(C===null){A===null&&(A=N);break}t&&A&&C.alternate===null&&e(y,A),x=s(C,x,_),T===null?w=C:T.sibling=C,T=C,A=N}if(_===b.length)return r(y,A),$t&&Oo(y,_),w;if(A===null){for(;_<b.length;_++)A=f(y,b[_],S),A!==null&&(x=s(A,x,_),T===null?w=A:T.sibling=A,T=A);return $t&&Oo(y,_),w}for(A=n(y,A);_<b.length;_++)N=m(A,y,_,b[_],S),N!==null&&(t&&N.alternate!==null&&A.delete(N.key===null?_:N.key),x=s(N,x,_),T===null?w=N:T.sibling=N,T=N);return t&&A.forEach(function(j){return e(y,j)}),$t&&Oo(y,_),w}function g(y,x,b,S){var w=yd(b);if(typeof w!="function")throw Error(ae(150));if(b=w.call(b),b==null)throw Error(ae(151));for(var T=w=null,A=x,_=x=0,N=null,C=b.next();A!==null&&!C.done;_++,C=b.next()){A.index>_?(N=A,A=null):N=A.sibling;var j=h(y,A,C.value,S);if(j===null){A===null&&(A=N);break}t&&A&&j.alternate===null&&e(y,A),x=s(j,x,_),T===null?w=j:T.sibling=j,T=j,A=N}if(C.done)return r(y,A),$t&&Oo(y,_),w;if(A===null){for(;!C.done;_++,C=b.next())C=f(y,C.value,S),C!==null&&(x=s(C,x,_),T===null?w=C:T.sibling=C,T=C);return $t&&Oo(y,_),w}for(A=n(y,A);!C.done;_++,C=b.next())C=m(A,y,_,C.value,S),C!==null&&(t&&C.alternate!==null&&A.delete(C.key===null?_:C.key),x=s(C,x,_),T===null?w=C:T.sibling=C,T=C);return t&&A.forEach(function(O){return e(y,O)}),$t&&Oo(y,_),w}function v(y,x,b,S){if(typeof b=="object"&&b!==null&&b.type===oc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case um:e:{for(var w=b.key,T=x;T!==null;){if(T.key===w){if(w=b.type,w===oc){if(T.tag===7){r(y,T.sibling),x=i(T,b.props.children),x.return=y,y=x;break e}}else if(T.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===xa&&cP(w)===T.type){r(y,T.sibling),x=i(T,b.props),x.ref=Ed(y,T,b),x.return=y,y=x;break e}r(y,T);break}else e(y,T);T=T.sibling}b.type===oc?(x=il(b.props.children,y.mode,S,b.key),x.return=y,y=x):(S=bp(b.type,b.key,b.props,null,y.mode,S),S.ref=Ed(y,x,b),S.return=y,y=S)}return a(y);case ac:e:{for(T=b.key;x!==null;){if(x.key===T)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){r(y,x.sibling),x=i(x,b.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else e(y,x);x=x.sibling}x=ix(b,y.mode,S),x.return=y,y=x}return a(y);case xa:return T=b._init,v(y,x,T(b._payload),S)}if(Hd(b))return p(y,x,b,S);if(yd(b))return g(y,x,b,S);wm(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(r(y,x.sibling),x=i(x,b),x.return=y,y=x):(r(y,x),x=nx(b,y.mode,S),x.return=y,y=x),a(y)):r(y,x)}return v}var nu=ZL(!0),JL=ZL(!1),Zp=po(null),Jp=null,pc=null,vE=null;function yE(){vE=pc=Jp=null}function xE(t){var e=Zp.current;Dt(Zp),t._currentValue=e}function Qb(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Cc(t,e){Jp=t,vE=pc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Sn=!0),t.firstContext=null)}function li(t){var e=t._currentValue;if(vE!==t)if(t={context:t,memoizedValue:e,next:null},pc===null){if(Jp===null)throw Error(ae(308));pc=t,Jp.dependencies={lanes:0,firstContext:t}}else pc=pc.next=t;return e}var Bo=null;function bE(t){Bo===null?Bo=[t]:Bo.push(t)}function e2(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,bE(e)):(r.next=i.next,i.next=r),e.interleaved=r,Xs(t,n)}function Xs(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ba=!1;function wE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function t2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ka(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,at&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Xs(t,r)}return i=n.interleaved,i===null?(e.next=e,bE(n)):(e.next=i.next,i.next=e),n.interleaved=e,Xs(t,r)}function mp(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,aE(t,r)}}function uP(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function eg(t,e,r,n){var i=t.updateQueue;ba=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;a=0,d=u=c=null,o=s;do{var h=o.lane,m=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=t,g=o;switch(h=e,m=r,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=Wt({},f,h);break e;case 2:ba=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,a|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);fl|=a,t.lanes=a,t.memoizedState=f}}function dP(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ae(191,i));i.call(n)}}}var zh={},is=po(zh),Lf=po(zh),Df=po(zh);function Uo(t){if(t===zh)throw Error(ae(174));return t}function SE(t,e){switch(Nt(Df,e),Nt(Lf,t),Nt(is,zh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ob(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ob(e,t)}Dt(is),Nt(is,e)}function iu(){Dt(is),Dt(Lf),Dt(Df)}function r2(t){Uo(Df.current);var e=Uo(is.current),r=Ob(e,t.type);e!==r&&(Nt(Lf,t),Nt(is,r))}function EE(t){Lf.current===t&&(Dt(is),Dt(Lf))}var Vt=po(0);function tg(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Q0=[];function TE(){for(var t=0;t<Q0.length;t++)Q0[t]._workInProgressVersionPrimary=null;Q0.length=0}var pp=aa.ReactCurrentDispatcher,Z0=aa.ReactCurrentBatchConfig,dl=0,Ht=null,xr=null,jr=null,rg=!1,nf=!1,Mf=0,xG=0;function Vr(){throw Error(ae(321))}function AE(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Li(t[r],e[r]))return!1;return!0}function _E(t,e,r,n,i,s){if(dl=s,Ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pp.current=t===null||t.memoizedState===null?EG:TG,t=r(n,i),nf){s=0;do{if(nf=!1,Mf=0,25<=s)throw Error(ae(301));s+=1,jr=xr=null,e.updateQueue=null,pp.current=AG,t=r(n,i)}while(nf)}if(pp.current=ng,e=xr!==null&&xr.next!==null,dl=0,jr=xr=Ht=null,rg=!1,e)throw Error(ae(300));return t}function PE(){var t=Mf!==0;return Mf=0,t}function Gi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jr===null?Ht.memoizedState=jr=t:jr=jr.next=t,jr}function ci(){if(xr===null){var t=Ht.alternate;t=t!==null?t.memoizedState:null}else t=xr.next;var e=jr===null?Ht.memoizedState:jr.next;if(e!==null)jr=e,xr=t;else{if(t===null)throw Error(ae(310));xr=t,t={memoizedState:xr.memoizedState,baseState:xr.baseState,baseQueue:xr.baseQueue,queue:xr.queue,next:null},jr===null?Ht.memoizedState=jr=t:jr=jr.next=t}return jr}function $f(t,e){return typeof e=="function"?e(t):e}function J0(t){var e=ci(),r=e.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=t;var n=xr,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,c=null,u=s;do{var d=u.lane;if((dl&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,a=n):c=c.next=f,Ht.lanes|=d,fl|=d}u=u.next}while(u!==null&&u!==s);c===null?a=n:c.next=o,Li(n,e.memoizedState)||(Sn=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Ht.lanes|=s,fl|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function ex(t){var e=ci(),r=e.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Li(s,e.memoizedState)||(Sn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function n2(){}function i2(t,e){var r=Ht,n=ci(),i=e(),s=!Li(n.memoizedState,i);if(s&&(n.memoizedState=i,Sn=!0),n=n.queue,NE(o2.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||jr!==null&&jr.memoizedState.tag&1){if(r.flags|=2048,Ff(9,a2.bind(null,r,n,i,e),void 0,null),Ir===null)throw Error(ae(349));dl&30||s2(r,e,i)}return i}function s2(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ht.updateQueue,e===null?(e={lastEffect:null,stores:null},Ht.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function a2(t,e,r,n){e.value=r,e.getSnapshot=n,l2(e)&&c2(t)}function o2(t,e,r){return r(function(){l2(e)&&c2(t)})}function l2(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Li(t,r)}catch{return!0}}function c2(t){var e=Xs(t,1);e!==null&&ki(e,t,1,-1)}function fP(t){var e=Gi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$f,lastRenderedState:t},e.queue=t,t=t.dispatch=SG.bind(null,Ht,t),[e.memoizedState,t]}function Ff(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ht.updateQueue,e===null?(e={lastEffect:null,stores:null},Ht.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function u2(){return ci().memoizedState}function gp(t,e,r,n){var i=Gi();Ht.flags|=t,i.memoizedState=Ff(1|e,r,void 0,n===void 0?null:n)}function Yv(t,e,r,n){var i=ci();n=n===void 0?null:n;var s=void 0;if(xr!==null){var a=xr.memoizedState;if(s=a.destroy,n!==null&&AE(n,a.deps)){i.memoizedState=Ff(e,r,s,n);return}}Ht.flags|=t,i.memoizedState=Ff(1|e,r,s,n)}function hP(t,e){return gp(8390656,8,t,e)}function NE(t,e){return Yv(2048,8,t,e)}function d2(t,e){return Yv(4,2,t,e)}function f2(t,e){return Yv(4,4,t,e)}function h2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function m2(t,e,r){return r=r!=null?r.concat([t]):null,Yv(4,4,h2.bind(null,e,t),r)}function CE(){}function p2(t,e){var r=ci();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&AE(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function g2(t,e){var r=ci();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&AE(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function v2(t,e,r){return dl&21?(Li(r,e)||(r=SL(),Ht.lanes|=r,fl|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Sn=!0),t.memoizedState=r)}function bG(t,e){var r=vt;vt=r!==0&&4>r?r:4,t(!0);var n=Z0.transition;Z0.transition={};try{t(!1),e()}finally{vt=r,Z0.transition=n}}function y2(){return ci().memoizedState}function wG(t,e,r){var n=Ya(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},x2(t))b2(e,r);else if(r=e2(t,e,r,n),r!==null){var i=un();ki(r,t,n,i),w2(r,e,n)}}function SG(t,e,r){var n=Ya(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(x2(t))b2(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,Li(o,a)){var c=e.interleaved;c===null?(i.next=i,bE(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=e2(t,e,i,n),r!==null&&(i=un(),ki(r,t,n,i),w2(r,e,n))}}function x2(t){var e=t.alternate;return t===Ht||e!==null&&e===Ht}function b2(t,e){nf=rg=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function w2(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,aE(t,r)}}var ng={readContext:li,useCallback:Vr,useContext:Vr,useEffect:Vr,useImperativeHandle:Vr,useInsertionEffect:Vr,useLayoutEffect:Vr,useMemo:Vr,useReducer:Vr,useRef:Vr,useState:Vr,useDebugValue:Vr,useDeferredValue:Vr,useTransition:Vr,useMutableSource:Vr,useSyncExternalStore:Vr,useId:Vr,unstable_isNewReconciler:!1},EG={readContext:li,useCallback:function(t,e){return Gi().memoizedState=[t,e===void 0?null:e],t},useContext:li,useEffect:hP,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,gp(4194308,4,h2.bind(null,e,t),r)},useLayoutEffect:function(t,e){return gp(4194308,4,t,e)},useInsertionEffect:function(t,e){return gp(4,2,t,e)},useMemo:function(t,e){var r=Gi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Gi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=wG.bind(null,Ht,t),[n.memoizedState,t]},useRef:function(t){var e=Gi();return t={current:t},e.memoizedState=t},useState:fP,useDebugValue:CE,useDeferredValue:function(t){return Gi().memoizedState=t},useTransition:function(){var t=fP(!1),e=t[0];return t=bG.bind(null,t[1]),Gi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ht,i=Gi();if($t){if(r===void 0)throw Error(ae(407));r=r()}else{if(r=e(),Ir===null)throw Error(ae(349));dl&30||s2(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,hP(o2.bind(null,n,s,t),[t]),n.flags|=2048,Ff(9,a2.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Gi(),e=Ir.identifierPrefix;if($t){var r=Ls,n=Rs;r=(n&~(1<<32-Ii(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Mf++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=xG++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},TG={readContext:li,useCallback:p2,useContext:li,useEffect:NE,useImperativeHandle:m2,useInsertionEffect:d2,useLayoutEffect:f2,useMemo:g2,useReducer:J0,useRef:u2,useState:function(){return J0($f)},useDebugValue:CE,useDeferredValue:function(t){var e=ci();return v2(e,xr.memoizedState,t)},useTransition:function(){var t=J0($f)[0],e=ci().memoizedState;return[t,e]},useMutableSource:n2,useSyncExternalStore:i2,useId:y2,unstable_isNewReconciler:!1},AG={readContext:li,useCallback:p2,useContext:li,useEffect:NE,useImperativeHandle:m2,useInsertionEffect:d2,useLayoutEffect:f2,useMemo:g2,useReducer:ex,useRef:u2,useState:function(){return ex($f)},useDebugValue:CE,useDeferredValue:function(t){var e=ci();return xr===null?e.memoizedState=t:v2(e,xr.memoizedState,t)},useTransition:function(){var t=ex($f)[0],e=ci().memoizedState;return[t,e]},useMutableSource:n2,useSyncExternalStore:i2,useId:y2,unstable_isNewReconciler:!1};function wi(t,e){if(t&&t.defaultProps){e=Wt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Zb(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Wt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Xv={isMounted:function(t){return(t=t._reactInternals)?$l(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=un(),i=Ya(t),s=Bs(n,i);s.payload=e,r!=null&&(s.callback=r),e=Ka(t,s,i),e!==null&&(ki(e,t,i,n),mp(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=un(),i=Ya(t),s=Bs(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Ka(t,s,i),e!==null&&(ki(e,t,i,n),mp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=un(),n=Ya(t),i=Bs(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ka(t,i,n),e!==null&&(ki(e,t,n,r),mp(e,t,n))}};function mP(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Of(r,n)||!Of(i,s):!0}function S2(t,e,r){var n=!1,i=no,s=e.contextType;return typeof s=="object"&&s!==null?s=li(s):(i=An(e)?cl:Zr.current,n=e.contextTypes,s=(n=n!=null)?tu(t,i):no),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xv,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function pP(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Xv.enqueueReplaceState(e,e.state,null)}function Jb(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},wE(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=li(s):(s=An(e)?cl:Zr.current,i.context=tu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Zb(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Xv.enqueueReplaceState(i,i.state,null),eg(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function su(t,e){try{var r="",n=e;do r+=J8(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function tx(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function ew(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var _G=typeof WeakMap=="function"?WeakMap:Map;function E2(t,e,r){r=Bs(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){sg||(sg=!0,uw=n),ew(t,e)},r}function T2(t,e,r){r=Bs(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){ew(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){ew(t,e),typeof n!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function gP(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new _G;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=BG.bind(null,t,e,r),e.then(t,t))}function vP(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function yP(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Bs(-1,1),e.tag=2,Ka(r,e,1))),r.lanes|=1),t)}var PG=aa.ReactCurrentOwner,Sn=!1;function nn(t,e,r,n){e.child=t===null?JL(e,null,r,n):nu(e,t.child,r,n)}function xP(t,e,r,n,i){r=r.render;var s=e.ref;return Cc(e,i),n=_E(t,e,r,n,s,i),r=PE(),t!==null&&!Sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qs(t,e,i)):($t&&r&&mE(e),e.flags|=1,nn(t,e,n,i),e.child)}function bP(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!ME(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,A2(t,e,s,n,i)):(t=bp(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Of,r(a,n)&&t.ref===e.ref)return Qs(t,e,i)}return e.flags|=1,t=Xa(s,n),t.ref=e.ref,t.return=e,e.child=t}function A2(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Of(s,n)&&t.ref===e.ref)if(Sn=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Sn=!0);else return e.lanes=t.lanes,Qs(t,e,i)}return tw(t,e,r,n,i)}function _2(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nt(vc,Cn),Cn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Nt(vc,Cn),Cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Nt(vc,Cn),Cn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Nt(vc,Cn),Cn|=n;return nn(t,e,i,r),e.child}function P2(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function tw(t,e,r,n,i){var s=An(r)?cl:Zr.current;return s=tu(e,s),Cc(e,i),r=_E(t,e,r,n,s,i),n=PE(),t!==null&&!Sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qs(t,e,i)):($t&&n&&mE(e),e.flags|=1,nn(t,e,r,i),e.child)}function wP(t,e,r,n,i){if(An(r)){var s=!0;Yp(e)}else s=!1;if(Cc(e,i),e.stateNode===null)vp(t,e),S2(e,r,n),Jb(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=li(u):(u=An(r)?cl:Zr.current,u=tu(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||c!==u)&&pP(e,a,n,u),ba=!1;var h=e.memoizedState;a.state=h,eg(e,n,a,i),c=e.memoizedState,o!==n||h!==c||Tn.current||ba?(typeof d=="function"&&(Zb(e,r,d,n),c=e.memoizedState),(o=ba||mP(e,r,o,n,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),a.props=n,a.state=c,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,t2(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:wi(e.type,o),a.props=u,f=e.pendingProps,h=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=li(c):(c=An(r)?cl:Zr.current,c=tu(e,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==c)&&pP(e,a,n,c),ba=!1,h=e.memoizedState,a.state=h,eg(e,n,a,i);var p=e.memoizedState;o!==f||h!==p||Tn.current||ba?(typeof m=="function"&&(Zb(e,r,m,n),p=e.memoizedState),(u=ba||mP(e,r,u,n,h,p,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,p,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,p,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),a.props=n,a.state=p,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return rw(t,e,r,n,s,i)}function rw(t,e,r,n,i,s){P2(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&aP(e,r,!1),Qs(t,e,s);n=e.stateNode,PG.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=nu(e,t.child,null,s),e.child=nu(e,null,o,s)):nn(t,e,o,s),e.memoizedState=n.state,i&&aP(e,r,!0),e.child}function N2(t){var e=t.stateNode;e.pendingContext?sP(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sP(t,e.context,!1),SE(t,e.containerInfo)}function SP(t,e,r,n,i){return ru(),gE(i),e.flags|=256,nn(t,e,r,n),e.child}var nw={dehydrated:null,treeContext:null,retryLane:0};function iw(t){return{baseLanes:t,cachePool:null,transitions:null}}function C2(t,e,r){var n=e.pendingProps,i=Vt.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Nt(Vt,i&1),t===null)return Xb(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Jv(a,n,0,null),t=il(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=iw(r),e.memoizedState=nw,t):jE(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return NG(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Xa(i,c),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Xa(o,s):(s=il(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?iw(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=nw,n}return s=t.child,t=s.sibling,n=Xa(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function jE(t,e){return e=Jv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Sm(t,e,r,n){return n!==null&&gE(n),nu(e,t.child,null,r),t=jE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function NG(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=tx(Error(ae(422))),Sm(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Jv({mode:"visible",children:n.children},i,0,null),s=il(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&nu(e,t.child,null,a),e.child.memoizedState=iw(a),e.memoizedState=nw,s);if(!(e.mode&1))return Sm(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(ae(419)),n=tx(s,n,void 0),Sm(t,e,a,n)}if(o=(a&t.childLanes)!==0,Sn||o){if(n=Ir,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Xs(t,i),ki(n,t,i,-1))}return DE(),n=tx(Error(ae(421))),Sm(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=UG.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Dn=Wa(i.nextSibling),Mn=e,$t=!0,Pi=null,t!==null&&(ei[ti++]=Rs,ei[ti++]=Ls,ei[ti++]=ul,Rs=t.id,Ls=t.overflow,ul=e),e=jE(e,n.children),e.flags|=4096,e)}function EP(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Qb(t.return,e,r)}function rx(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function j2(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(nn(t,e,n.children,r),n=Vt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&EP(t,r,e);else if(t.tag===19)EP(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Nt(Vt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&tg(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),rx(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&tg(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}rx(e,!0,r,null,s);break;case"together":rx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qs(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),fl|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ae(153));if(e.child!==null){for(t=e.child,r=Xa(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Xa(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function CG(t,e,r){switch(e.tag){case 3:N2(e),ru();break;case 5:r2(e);break;case 1:An(e.type)&&Yp(e);break;case 4:SE(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Nt(Zp,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Nt(Vt,Vt.current&1),e.flags|=128,null):r&e.child.childLanes?C2(t,e,r):(Nt(Vt,Vt.current&1),t=Qs(t,e,r),t!==null?t.sibling:null);Nt(Vt,Vt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return j2(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Nt(Vt,Vt.current),n)break;return null;case 22:case 23:return e.lanes=0,_2(t,e,r)}return Qs(t,e,r)}var O2,sw,I2,k2;O2=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};sw=function(){};I2=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Uo(is.current);var s=null;switch(r){case"input":i=Pb(t,i),n=Pb(t,n),s=[];break;case"select":i=Wt({},i,{value:void 0}),n=Wt({},n,{value:void 0}),s=[];break;case"textarea":i=jb(t,i),n=jb(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Kp)}Ib(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Tf.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Tf.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&kt("scroll",t),s||o===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};k2=function(t,e,r,n){r!==n&&(e.flags|=4)};function Td(t,e){if(!$t)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Gr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function jG(t,e,r){var n=e.pendingProps;switch(pE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gr(e),null;case 1:return An(e.type)&&qp(),Gr(e),null;case 3:return n=e.stateNode,iu(),Dt(Tn),Dt(Zr),TE(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(bm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pi!==null&&(hw(Pi),Pi=null))),sw(t,e),Gr(e),null;case 5:EE(e);var i=Uo(Df.current);if(r=e.type,t!==null&&e.stateNode!=null)I2(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ae(166));return Gr(e),null}if(t=Uo(is.current),bm(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Yi]=e,n[Rf]=s,t=(e.mode&1)!==0,r){case"dialog":kt("cancel",n),kt("close",n);break;case"iframe":case"object":case"embed":kt("load",n);break;case"video":case"audio":for(i=0;i<Wd.length;i++)kt(Wd[i],n);break;case"source":kt("error",n);break;case"img":case"image":case"link":kt("error",n),kt("load",n);break;case"details":kt("toggle",n);break;case"input":I_(n,s),kt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},kt("invalid",n);break;case"textarea":R_(n,s),kt("invalid",n)}Ib(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&xm(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&xm(n.textContent,o,t),i=["children",""+o]):Tf.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&kt("scroll",n)}switch(r){case"input":dm(n),k_(n,s,!0);break;case"textarea":dm(n),L_(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Kp)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=oL(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Yi]=e,t[Rf]=n,O2(t,e,!1,!1),e.stateNode=t;e:{switch(a=kb(r,n),r){case"dialog":kt("cancel",t),kt("close",t),i=n;break;case"iframe":case"object":case"embed":kt("load",t),i=n;break;case"video":case"audio":for(i=0;i<Wd.length;i++)kt(Wd[i],t);i=n;break;case"source":kt("error",t),i=n;break;case"img":case"image":case"link":kt("error",t),kt("load",t),i=n;break;case"details":kt("toggle",t),i=n;break;case"input":I_(t,n),i=Pb(t,n),kt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Wt({},n,{value:void 0}),kt("invalid",t);break;case"textarea":R_(t,n),i=jb(t,n),kt("invalid",t);break;default:i=n}Ib(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var c=o[s];s==="style"?uL(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&lL(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Af(t,c):typeof c=="number"&&Af(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Tf.hasOwnProperty(s)?c!=null&&s==="onScroll"&&kt("scroll",t):c!=null&&eE(t,s,c,a))}switch(r){case"input":dm(t),k_(t,n,!1);break;case"textarea":dm(t),L_(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ro(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Ac(t,!!n.multiple,s,!1):n.defaultValue!=null&&Ac(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Kp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gr(e),null;case 6:if(t&&e.stateNode!=null)k2(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ae(166));if(r=Uo(Df.current),Uo(is.current),bm(e)){if(n=e.stateNode,r=e.memoizedProps,n[Yi]=e,(s=n.nodeValue!==r)&&(t=Mn,t!==null))switch(t.tag){case 3:xm(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xm(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Yi]=e,e.stateNode=n}return Gr(e),null;case 13:if(Dt(Vt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($t&&Dn!==null&&e.mode&1&&!(e.flags&128))QL(),ru(),e.flags|=98560,s=!1;else if(s=bm(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(ae(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ae(317));s[Yi]=e}else ru(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gr(e),s=!1}else Pi!==null&&(hw(Pi),Pi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Vt.current&1?Er===0&&(Er=3):DE())),e.updateQueue!==null&&(e.flags|=4),Gr(e),null);case 4:return iu(),sw(t,e),t===null&&If(e.stateNode.containerInfo),Gr(e),null;case 10:return xE(e.type._context),Gr(e),null;case 17:return An(e.type)&&qp(),Gr(e),null;case 19:if(Dt(Vt),s=e.memoizedState,s===null)return Gr(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)Td(s,!1);else{if(Er!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=tg(t),a!==null){for(e.flags|=128,Td(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Nt(Vt,Vt.current&1|2),e.child}t=t.sibling}s.tail!==null&&nr()>au&&(e.flags|=128,n=!0,Td(s,!1),e.lanes=4194304)}else{if(!n)if(t=tg(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Td(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!$t)return Gr(e),null}else 2*nr()-s.renderingStartTime>au&&r!==1073741824&&(e.flags|=128,n=!0,Td(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=nr(),e.sibling=null,r=Vt.current,Nt(Vt,n?r&1|2:r&1),e):(Gr(e),null);case 22:case 23:return LE(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Cn&1073741824&&(Gr(e),e.subtreeFlags&6&&(e.flags|=8192)):Gr(e),null;case 24:return null;case 25:return null}throw Error(ae(156,e.tag))}function OG(t,e){switch(pE(e),e.tag){case 1:return An(e.type)&&qp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return iu(),Dt(Tn),Dt(Zr),TE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return EE(e),null;case 13:if(Dt(Vt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ae(340));ru()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Dt(Vt),null;case 4:return iu(),null;case 10:return xE(e.type._context),null;case 22:case 23:return LE(),null;case 24:return null;default:return null}}var Em=!1,qr=!1,IG=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function gc(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Yt(t,e,n)}else r.current=null}function aw(t,e,r){try{r()}catch(n){Yt(t,e,n)}}var TP=!1;function kG(t,e){if(Gb=Hp,t=$L(),hE(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(o=a+i),f!==s||n!==0&&f.nodeType!==3||(c=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===r&&++u===i&&(o=a),h===s&&++d===n&&(c=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Hb={focusedElem:t,selectionRange:r},Hp=!1,Ae=e;Ae!==null;)if(e=Ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ae=t;else for(;Ae!==null;){e=Ae;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,v=p.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:wi(e.type,g),v);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(S){Yt(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Ae=t;break}Ae=e.return}return p=TP,TP=!1,p}function sf(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&aw(e,r,s)}i=i.next}while(i!==n)}}function Qv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function ow(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function R2(t){var e=t.alternate;e!==null&&(t.alternate=null,R2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Yi],delete e[Rf],delete e[Kb],delete e[pG],delete e[gG])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function L2(t){return t.tag===5||t.tag===3||t.tag===4}function AP(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||L2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lw(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Kp));else if(n!==4&&(t=t.child,t!==null))for(lw(t,e,r),t=t.sibling;t!==null;)lw(t,e,r),t=t.sibling}function cw(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(cw(t,e,r),t=t.sibling;t!==null;)cw(t,e,r),t=t.sibling}var Dr=null,Ai=!1;function da(t,e,r){for(r=r.child;r!==null;)D2(t,e,r),r=r.sibling}function D2(t,e,r){if(ns&&typeof ns.onCommitFiberUnmount=="function")try{ns.onCommitFiberUnmount(Gv,r)}catch{}switch(r.tag){case 5:qr||gc(r,e);case 6:var n=Dr,i=Ai;Dr=null,da(t,e,r),Dr=n,Ai=i,Dr!==null&&(Ai?(t=Dr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Dr.removeChild(r.stateNode));break;case 18:Dr!==null&&(Ai?(t=Dr,r=r.stateNode,t.nodeType===8?Y0(t.parentNode,r):t.nodeType===1&&Y0(t,r),Cf(t)):Y0(Dr,r.stateNode));break;case 4:n=Dr,i=Ai,Dr=r.stateNode.containerInfo,Ai=!0,da(t,e,r),Dr=n,Ai=i;break;case 0:case 11:case 14:case 15:if(!qr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&aw(r,e,a),i=i.next}while(i!==n)}da(t,e,r);break;case 1:if(!qr&&(gc(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Yt(r,e,o)}da(t,e,r);break;case 21:da(t,e,r);break;case 22:r.mode&1?(qr=(n=qr)||r.memoizedState!==null,da(t,e,r),qr=n):da(t,e,r);break;default:da(t,e,r)}}function _P(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new IG),e.forEach(function(n){var i=VG.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function vi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Dr=o.stateNode,Ai=!1;break e;case 3:Dr=o.stateNode.containerInfo,Ai=!0;break e;case 4:Dr=o.stateNode.containerInfo,Ai=!0;break e}o=o.return}if(Dr===null)throw Error(ae(160));D2(s,a,i),Dr=null,Ai=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Yt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)M2(e,t),e=e.sibling}function M2(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vi(e,t),Ui(t),n&4){try{sf(3,t,t.return),Qv(3,t)}catch(g){Yt(t,t.return,g)}try{sf(5,t,t.return)}catch(g){Yt(t,t.return,g)}}break;case 1:vi(e,t),Ui(t),n&512&&r!==null&&gc(r,r.return);break;case 5:if(vi(e,t),Ui(t),n&512&&r!==null&&gc(r,r.return),t.flags&32){var i=t.stateNode;try{Af(i,"")}catch(g){Yt(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&sL(i,s),kb(o,a);var u=kb(o,s);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?uL(i,f):d==="dangerouslySetInnerHTML"?lL(i,f):d==="children"?Af(i,f):eE(i,d,f,u)}switch(o){case"input":Nb(i,s);break;case"textarea":aL(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ac(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ac(i,!!s.multiple,s.defaultValue,!0):Ac(i,!!s.multiple,s.multiple?[]:"",!1))}i[Rf]=s}catch(g){Yt(t,t.return,g)}}break;case 6:if(vi(e,t),Ui(t),n&4){if(t.stateNode===null)throw Error(ae(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){Yt(t,t.return,g)}}break;case 3:if(vi(e,t),Ui(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Cf(e.containerInfo)}catch(g){Yt(t,t.return,g)}break;case 4:vi(e,t),Ui(t);break;case 13:vi(e,t),Ui(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(kE=nr())),n&4&&_P(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(qr=(u=qr)||d,vi(e,t),qr=u):vi(e,t),Ui(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Ae=t,d=t.child;d!==null;){for(f=Ae=d;Ae!==null;){switch(h=Ae,m=h.child,h.tag){case 0:case 11:case 14:case 15:sf(4,h,h.return);break;case 1:gc(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){Yt(n,r,g)}}break;case 5:gc(h,h.return);break;case 22:if(h.memoizedState!==null){NP(f);continue}}m!==null?(m.return=h,Ae=m):NP(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=cL("display",a))}catch(g){Yt(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Yt(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vi(e,t),Ui(t),n&4&&_P(t);break;case 21:break;default:vi(e,t),Ui(t)}}function Ui(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(L2(r)){var n=r;break e}r=r.return}throw Error(ae(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Af(i,""),n.flags&=-33);var s=AP(t);cw(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=AP(t);lw(t,o,a);break;default:throw Error(ae(161))}}catch(c){Yt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function RG(t,e,r){Ae=t,$2(t)}function $2(t,e,r){for(var n=(t.mode&1)!==0;Ae!==null;){var i=Ae,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Em;if(!a){var o=i.alternate,c=o!==null&&o.memoizedState!==null||qr;o=Em;var u=qr;if(Em=a,(qr=c)&&!u)for(Ae=i;Ae!==null;)a=Ae,c=a.child,a.tag===22&&a.memoizedState!==null?CP(i):c!==null?(c.return=a,Ae=c):CP(i);for(;s!==null;)Ae=s,$2(s),s=s.sibling;Ae=i,Em=o,qr=u}PP(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ae=s):PP(t)}}function PP(t){for(;Ae!==null;){var e=Ae;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qr||Qv(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!qr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:wi(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&dP(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}dP(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Cf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}qr||e.flags&512&&ow(e)}catch(h){Yt(e,e.return,h)}}if(e===t){Ae=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ae=r;break}Ae=e.return}}function NP(t){for(;Ae!==null;){var e=Ae;if(e===t){Ae=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ae=r;break}Ae=e.return}}function CP(t){for(;Ae!==null;){var e=Ae;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Qv(4,e)}catch(c){Yt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){Yt(e,i,c)}}var s=e.return;try{ow(e)}catch(c){Yt(e,s,c)}break;case 5:var a=e.return;try{ow(e)}catch(c){Yt(e,a,c)}}}catch(c){Yt(e,e.return,c)}if(e===t){Ae=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Ae=o;break}Ae=e.return}}var LG=Math.ceil,ig=aa.ReactCurrentDispatcher,OE=aa.ReactCurrentOwner,ai=aa.ReactCurrentBatchConfig,at=0,Ir=null,hr=null,Fr=0,Cn=0,vc=po(0),Er=0,Bf=null,fl=0,Zv=0,IE=0,af=null,xn=null,kE=0,au=1/0,_s=null,sg=!1,uw=null,qa=null,Tm=!1,Fa=null,ag=0,of=0,dw=null,yp=-1,xp=0;function un(){return at&6?nr():yp!==-1?yp:yp=nr()}function Ya(t){return t.mode&1?at&2&&Fr!==0?Fr&-Fr:yG.transition!==null?(xp===0&&(xp=SL()),xp):(t=vt,t!==0||(t=window.event,t=t===void 0?16:CL(t.type)),t):1}function ki(t,e,r,n){if(50<of)throw of=0,dw=null,Error(ae(185));Vh(t,r,n),(!(at&2)||t!==Ir)&&(t===Ir&&(!(at&2)&&(Zv|=r),Er===4&&_a(t,Fr)),_n(t,n),r===1&&at===0&&!(e.mode&1)&&(au=nr()+500,qv&&go()))}function _n(t,e){var r=t.callbackNode;yV(t,e);var n=Gp(t,t===Ir?Fr:0);if(n===0)r!==null&&$_(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&$_(r),e===1)t.tag===0?vG(jP.bind(null,t)):qL(jP.bind(null,t)),hG(function(){!(at&6)&&go()}),r=null;else{switch(EL(n)){case 1:r=sE;break;case 4:r=bL;break;case 16:r=Vp;break;case 536870912:r=wL;break;default:r=Vp}r=W2(r,F2.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function F2(t,e){if(yp=-1,xp=0,at&6)throw Error(ae(327));var r=t.callbackNode;if(jc()&&t.callbackNode!==r)return null;var n=Gp(t,t===Ir?Fr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=og(t,n);else{e=n;var i=at;at|=2;var s=U2();(Ir!==t||Fr!==e)&&(_s=null,au=nr()+500,nl(t,e));do try{$G();break}catch(o){B2(t,o)}while(!0);yE(),ig.current=s,at=i,hr!==null?e=0:(Ir=null,Fr=0,e=Er)}if(e!==0){if(e===2&&(i=$b(t),i!==0&&(n=i,e=fw(t,i))),e===1)throw r=Bf,nl(t,0),_a(t,n),_n(t,nr()),r;if(e===6)_a(t,n);else{if(i=t.current.alternate,!(n&30)&&!DG(i)&&(e=og(t,n),e===2&&(s=$b(t),s!==0&&(n=s,e=fw(t,s))),e===1))throw r=Bf,nl(t,0),_a(t,n),_n(t,nr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(ae(345));case 2:Io(t,xn,_s);break;case 3:if(_a(t,n),(n&130023424)===n&&(e=kE+500-nr(),10<e)){if(Gp(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){un(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Wb(Io.bind(null,t,xn,_s),e);break}Io(t,xn,_s);break;case 4:if(_a(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-Ii(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=nr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*LG(n/1960))-n,10<n){t.timeoutHandle=Wb(Io.bind(null,t,xn,_s),n);break}Io(t,xn,_s);break;case 5:Io(t,xn,_s);break;default:throw Error(ae(329))}}}return _n(t,nr()),t.callbackNode===r?F2.bind(null,t):null}function fw(t,e){var r=af;return t.current.memoizedState.isDehydrated&&(nl(t,e).flags|=256),t=og(t,e),t!==2&&(e=xn,xn=r,e!==null&&hw(e)),t}function hw(t){xn===null?xn=t:xn.push.apply(xn,t)}function DG(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Li(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _a(t,e){for(e&=~IE,e&=~Zv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ii(e),n=1<<r;t[r]=-1,e&=~n}}function jP(t){if(at&6)throw Error(ae(327));jc();var e=Gp(t,0);if(!(e&1))return _n(t,nr()),null;var r=og(t,e);if(t.tag!==0&&r===2){var n=$b(t);n!==0&&(e=n,r=fw(t,n))}if(r===1)throw r=Bf,nl(t,0),_a(t,e),_n(t,nr()),r;if(r===6)throw Error(ae(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Io(t,xn,_s),_n(t,nr()),null}function RE(t,e){var r=at;at|=1;try{return t(e)}finally{at=r,at===0&&(au=nr()+500,qv&&go())}}function hl(t){Fa!==null&&Fa.tag===0&&!(at&6)&&jc();var e=at;at|=1;var r=ai.transition,n=vt;try{if(ai.transition=null,vt=1,t)return t()}finally{vt=n,ai.transition=r,at=e,!(at&6)&&go()}}function LE(){Cn=vc.current,Dt(vc)}function nl(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,fG(r)),hr!==null)for(r=hr.return;r!==null;){var n=r;switch(pE(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&qp();break;case 3:iu(),Dt(Tn),Dt(Zr),TE();break;case 5:EE(n);break;case 4:iu();break;case 13:Dt(Vt);break;case 19:Dt(Vt);break;case 10:xE(n.type._context);break;case 22:case 23:LE()}r=r.return}if(Ir=t,hr=t=Xa(t.current,null),Fr=Cn=e,Er=0,Bf=null,IE=Zv=fl=0,xn=af=null,Bo!==null){for(e=0;e<Bo.length;e++)if(r=Bo[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Bo=null}return t}function B2(t,e){do{var r=hr;try{if(yE(),pp.current=ng,rg){for(var n=Ht.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}rg=!1}if(dl=0,jr=xr=Ht=null,nf=!1,Mf=0,OE.current=null,r===null||r.return===null){Er=1,Bf=e,hr=null;break}e:{var s=t,a=r.return,o=r,c=e;if(e=Fr,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=vP(a);if(m!==null){m.flags&=-257,yP(m,a,o,s,e),m.mode&1&&gP(s,u,e),e=m,c=u;var p=e.updateQueue;if(p===null){var g=new Set;g.add(c),e.updateQueue=g}else p.add(c);break e}else{if(!(e&1)){gP(s,u,e),DE();break e}c=Error(ae(426))}}else if($t&&o.mode&1){var v=vP(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),yP(v,a,o,s,e),gE(su(c,o));break e}}s=c=su(c,o),Er!==4&&(Er=2),af===null?af=[s]:af.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=E2(s,c,e);uP(s,y);break e;case 1:o=c;var x=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(qa===null||!qa.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=T2(s,o,e);uP(s,S);break e}}s=s.return}while(s!==null)}G2(r)}catch(w){e=w,hr===r&&r!==null&&(hr=r=r.return);continue}break}while(!0)}function U2(){var t=ig.current;return ig.current=ng,t===null?ng:t}function DE(){(Er===0||Er===3||Er===2)&&(Er=4),Ir===null||!(fl&268435455)&&!(Zv&268435455)||_a(Ir,Fr)}function og(t,e){var r=at;at|=2;var n=U2();(Ir!==t||Fr!==e)&&(_s=null,nl(t,e));do try{MG();break}catch(i){B2(t,i)}while(!0);if(yE(),at=r,ig.current=n,hr!==null)throw Error(ae(261));return Ir=null,Fr=0,Er}function MG(){for(;hr!==null;)V2(hr)}function $G(){for(;hr!==null&&!cV();)V2(hr)}function V2(t){var e=z2(t.alternate,t,Cn);t.memoizedProps=t.pendingProps,e===null?G2(t):hr=e,OE.current=null}function G2(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=OG(r,e),r!==null){r.flags&=32767,hr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Er=6,hr=null;return}}else if(r=jG(r,e,Cn),r!==null){hr=r;return}if(e=e.sibling,e!==null){hr=e;return}hr=e=t}while(e!==null);Er===0&&(Er=5)}function Io(t,e,r){var n=vt,i=ai.transition;try{ai.transition=null,vt=1,FG(t,e,r,n)}finally{ai.transition=i,vt=n}return null}function FG(t,e,r,n){do jc();while(Fa!==null);if(at&6)throw Error(ae(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ae(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(xV(t,s),t===Ir&&(hr=Ir=null,Fr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Tm||(Tm=!0,W2(Vp,function(){return jc(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=ai.transition,ai.transition=null;var a=vt;vt=1;var o=at;at|=4,OE.current=null,kG(t,r),M2(r,t),sG(Hb),Hp=!!Gb,Hb=Gb=null,t.current=r,RG(r),uV(),at=o,vt=a,ai.transition=s}else t.current=r;if(Tm&&(Tm=!1,Fa=t,ag=i),s=t.pendingLanes,s===0&&(qa=null),hV(r.stateNode),_n(t,nr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(sg)throw sg=!1,t=uw,uw=null,t;return ag&1&&t.tag!==0&&jc(),s=t.pendingLanes,s&1?t===dw?of++:(of=0,dw=t):of=0,go(),null}function jc(){if(Fa!==null){var t=EL(ag),e=ai.transition,r=vt;try{if(ai.transition=null,vt=16>t?16:t,Fa===null)var n=!1;else{if(t=Fa,Fa=null,ag=0,at&6)throw Error(ae(331));var i=at;for(at|=4,Ae=t.current;Ae!==null;){var s=Ae,a=s.child;if(Ae.flags&16){var o=s.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(Ae=u;Ae!==null;){var d=Ae;switch(d.tag){case 0:case 11:case 15:sf(8,d,s)}var f=d.child;if(f!==null)f.return=d,Ae=f;else for(;Ae!==null;){d=Ae;var h=d.sibling,m=d.return;if(R2(d),d===u){Ae=null;break}if(h!==null){h.return=m,Ae=h;break}Ae=m}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}Ae=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Ae=a;else e:for(;Ae!==null;){if(s=Ae,s.flags&2048)switch(s.tag){case 0:case 11:case 15:sf(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Ae=y;break e}Ae=s.return}}var x=t.current;for(Ae=x;Ae!==null;){a=Ae;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,Ae=b;else e:for(a=x;Ae!==null;){if(o=Ae,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Qv(9,o)}}catch(w){Yt(o,o.return,w)}if(o===a){Ae=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,Ae=S;break e}Ae=o.return}}if(at=i,go(),ns&&typeof ns.onPostCommitFiberRoot=="function")try{ns.onPostCommitFiberRoot(Gv,t)}catch{}n=!0}return n}finally{vt=r,ai.transition=e}}return!1}function OP(t,e,r){e=su(r,e),e=E2(t,e,1),t=Ka(t,e,1),e=un(),t!==null&&(Vh(t,1,e),_n(t,e))}function Yt(t,e,r){if(t.tag===3)OP(t,t,r);else for(;e!==null;){if(e.tag===3){OP(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(qa===null||!qa.has(n))){t=su(r,t),t=T2(e,t,1),e=Ka(e,t,1),t=un(),e!==null&&(Vh(e,1,t),_n(e,t));break}}e=e.return}}function BG(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=un(),t.pingedLanes|=t.suspendedLanes&r,Ir===t&&(Fr&r)===r&&(Er===4||Er===3&&(Fr&130023424)===Fr&&500>nr()-kE?nl(t,0):IE|=r),_n(t,e)}function H2(t,e){e===0&&(t.mode&1?(e=mm,mm<<=1,!(mm&130023424)&&(mm=4194304)):e=1);var r=un();t=Xs(t,e),t!==null&&(Vh(t,e,r),_n(t,r))}function UG(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),H2(t,r)}function VG(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ae(314))}n!==null&&n.delete(e),H2(t,r)}var z2;z2=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Tn.current)Sn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Sn=!1,CG(t,e,r);Sn=!!(t.flags&131072)}else Sn=!1,$t&&e.flags&1048576&&YL(e,Qp,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;vp(t,e),t=e.pendingProps;var i=tu(e,Zr.current);Cc(e,r),i=_E(null,e,n,t,i,r);var s=PE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,An(n)?(s=!0,Yp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wE(e),i.updater=Xv,e.stateNode=i,i._reactInternals=e,Jb(e,n,t,r),e=rw(null,e,n,!0,s,r)):(e.tag=0,$t&&s&&mE(e),nn(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(vp(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=HG(n),t=wi(n,t),i){case 0:e=tw(null,e,n,t,r);break e;case 1:e=wP(null,e,n,t,r);break e;case 11:e=xP(null,e,n,t,r);break e;case 14:e=bP(null,e,n,wi(n.type,t),r);break e}throw Error(ae(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:wi(n,i),tw(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:wi(n,i),wP(t,e,n,i,r);case 3:e:{if(N2(e),t===null)throw Error(ae(387));n=e.pendingProps,s=e.memoizedState,i=s.element,t2(t,e),eg(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=su(Error(ae(423)),e),e=SP(t,e,n,r,i);break e}else if(n!==i){i=su(Error(ae(424)),e),e=SP(t,e,n,r,i);break e}else for(Dn=Wa(e.stateNode.containerInfo.firstChild),Mn=e,$t=!0,Pi=null,r=JL(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ru(),n===i){e=Qs(t,e,r);break e}nn(t,e,n,r)}e=e.child}return e;case 5:return r2(e),t===null&&Xb(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,zb(n,i)?a=null:s!==null&&zb(n,s)&&(e.flags|=32),P2(t,e),nn(t,e,a,r),e.child;case 6:return t===null&&Xb(e),null;case 13:return C2(t,e,r);case 4:return SE(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=nu(e,null,n,r):nn(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:wi(n,i),xP(t,e,n,i,r);case 7:return nn(t,e,e.pendingProps,r),e.child;case 8:return nn(t,e,e.pendingProps.children,r),e.child;case 12:return nn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Nt(Zp,n._currentValue),n._currentValue=a,s!==null)if(Li(s.value,a)){if(s.children===i.children&&!Tn.current){e=Qs(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Bs(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),Qb(s.return,r,e),o.lanes|=r;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(ae(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Qb(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}nn(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Cc(e,r),i=li(i),n=n(i),e.flags|=1,nn(t,e,n,r),e.child;case 14:return n=e.type,i=wi(n,e.pendingProps),i=wi(n.type,i),bP(t,e,n,i,r);case 15:return A2(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:wi(n,i),vp(t,e),e.tag=1,An(n)?(t=!0,Yp(e)):t=!1,Cc(e,r),S2(e,n,i),Jb(e,n,i,r),rw(null,e,n,!0,t,r);case 19:return j2(t,e,r);case 22:return _2(t,e,r)}throw Error(ae(156,e.tag))};function W2(t,e){return xL(t,e)}function GG(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(t,e,r,n){return new GG(t,e,r,n)}function ME(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HG(t){if(typeof t=="function")return ME(t)?1:0;if(t!=null){if(t=t.$$typeof,t===rE)return 11;if(t===nE)return 14}return 2}function Xa(t,e){var r=t.alternate;return r===null?(r=ni(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function bp(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")ME(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case oc:return il(r.children,i,s,e);case tE:a=8,i|=8;break;case Eb:return t=ni(12,r,e,i|2),t.elementType=Eb,t.lanes=s,t;case Tb:return t=ni(13,r,e,i),t.elementType=Tb,t.lanes=s,t;case Ab:return t=ni(19,r,e,i),t.elementType=Ab,t.lanes=s,t;case rL:return Jv(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eL:a=10;break e;case tL:a=9;break e;case rE:a=11;break e;case nE:a=14;break e;case xa:a=16,n=null;break e}throw Error(ae(130,t==null?t:typeof t,""))}return e=ni(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function il(t,e,r,n){return t=ni(7,t,n,e),t.lanes=r,t}function Jv(t,e,r,n){return t=ni(22,t,n,e),t.elementType=rL,t.lanes=r,t.stateNode={isHidden:!1},t}function nx(t,e,r){return t=ni(6,t,null,e),t.lanes=r,t}function ix(t,e,r){return e=ni(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zG(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$0(0),this.expirationTimes=$0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$0(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $E(t,e,r,n,i,s,a,o,c){return t=new zG(t,e,r,o,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ni(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},wE(s),t}function WG(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ac,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function K2(t){if(!t)return no;t=t._reactInternals;e:{if($l(t)!==t||t.tag!==1)throw Error(ae(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(An(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ae(171))}if(t.tag===1){var r=t.type;if(An(r))return KL(t,r,e)}return e}function q2(t,e,r,n,i,s,a,o,c){return t=$E(r,n,!0,t,i,s,a,o,c),t.context=K2(null),r=t.current,n=un(),i=Ya(r),s=Bs(n,i),s.callback=e??null,Ka(r,s,i),t.current.lanes=i,Vh(t,i,n),_n(t,n),t}function ey(t,e,r,n){var i=e.current,s=un(),a=Ya(i);return r=K2(r),e.context===null?e.context=r:e.pendingContext=r,e=Bs(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ka(i,e,a),t!==null&&(ki(t,i,a,s),mp(t,i,a)),a}function lg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function IP(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function FE(t,e){IP(t,e),(t=t.alternate)&&IP(t,e)}function KG(){return null}var Y2=typeof reportError=="function"?reportError:function(t){console.error(t)};function BE(t){this._internalRoot=t}ty.prototype.render=BE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ae(409));ey(t,e,null,null)};ty.prototype.unmount=BE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hl(function(){ey(null,t,null,null)}),e[Ys]=null}};function ty(t){this._internalRoot=t}ty.prototype.unstable_scheduleHydration=function(t){if(t){var e=_L();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Aa.length&&e!==0&&e<Aa[r].priority;r++);Aa.splice(r,0,t),r===0&&NL(t)}};function UE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ry(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kP(){}function qG(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=lg(a);s.call(u)}}var a=q2(e,n,t,0,null,!1,!1,"",kP);return t._reactRootContainer=a,t[Ys]=a.current,If(t.nodeType===8?t.parentNode:t),hl(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=lg(c);o.call(u)}}var c=$E(t,0,!1,null,null,!1,!1,"",kP);return t._reactRootContainer=c,t[Ys]=c.current,If(t.nodeType===8?t.parentNode:t),hl(function(){ey(e,c,r,n)}),c}function ny(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var c=lg(a);o.call(c)}}ey(e,a,t,i)}else a=qG(r,e,t,i,n);return lg(a)}TL=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=zd(e.pendingLanes);r!==0&&(aE(e,r|1),_n(e,nr()),!(at&6)&&(au=nr()+500,go()))}break;case 13:hl(function(){var n=Xs(t,1);if(n!==null){var i=un();ki(n,t,1,i)}}),FE(t,1)}};oE=function(t){if(t.tag===13){var e=Xs(t,134217728);if(e!==null){var r=un();ki(e,t,134217728,r)}FE(t,134217728)}};AL=function(t){if(t.tag===13){var e=Ya(t),r=Xs(t,e);if(r!==null){var n=un();ki(r,t,e,n)}FE(t,e)}};_L=function(){return vt};PL=function(t,e){var r=vt;try{return vt=t,e()}finally{vt=r}};Lb=function(t,e,r){switch(e){case"input":if(Nb(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Kv(n);if(!i)throw Error(ae(90));iL(n),Nb(n,i)}}}break;case"textarea":aL(t,r);break;case"select":e=r.value,e!=null&&Ac(t,!!r.multiple,e,!1)}};hL=RE;mL=hl;var YG={usingClientEntryPoint:!1,Events:[Hh,dc,Kv,dL,fL,RE]},Ad={findFiberByHostInstance:Fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XG={bundleType:Ad.bundleType,version:Ad.version,rendererPackageName:Ad.rendererPackageName,rendererConfig:Ad.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:aa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vL(t),t===null?null:t.stateNode},findFiberByHostInstance:Ad.findFiberByHostInstance||KG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Am=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Am.isDisabled&&Am.supportsFiber)try{Gv=Am.inject(XG),ns=Am}catch{}}Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YG;Gn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!UE(e))throw Error(ae(200));return WG(t,e,null,r)};Gn.createRoot=function(t,e){if(!UE(t))throw Error(ae(299));var r=!1,n="",i=Y2;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=$E(t,1,!1,null,null,r,!1,n,i),t[Ys]=e.current,If(t.nodeType===8?t.parentNode:t),new BE(e)};Gn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ae(188)):(t=Object.keys(t).join(","),Error(ae(268,t)));return t=vL(e),t=t===null?null:t.stateNode,t};Gn.flushSync=function(t){return hl(t)};Gn.hydrate=function(t,e,r){if(!ry(e))throw Error(ae(200));return ny(null,t,e,!0,r)};Gn.hydrateRoot=function(t,e,r){if(!UE(t))throw Error(ae(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=Y2;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=q2(e,null,t,1,r??null,i,!1,s,a),t[Ys]=e.current,If(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new ty(e)};Gn.render=function(t,e,r){if(!ry(e))throw Error(ae(200));return ny(null,t,e,!1,r)};Gn.unmountComponentAtNode=function(t){if(!ry(t))throw Error(ae(40));return t._reactRootContainer?(hl(function(){ny(null,null,t,!1,function(){t._reactRootContainer=null,t[Ys]=null})}),!0):!1};Gn.unstable_batchedUpdates=RE;Gn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!ry(r))throw Error(ae(200));if(t==null||t._reactInternals===void 0)throw Error(ae(38));return ny(t,e,r,!1,n)};Gn.version="18.3.1-next-f1338f8080-20240426";function X2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(X2)}catch(t){console.error(t)}}X2(),XR.exports=Gn;var Fl=XR.exports;const QG=pt(Fl);var Q2,RP=Fl;Q2=RP.createRoot,RP.hydrateRoot;function ZG(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,i,s,a=[],o="",c=t.split("/");for(c[0]||c.shift();i=c.shift();)r=i[0],r==="*"?(a.push(r),o+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=i.indexOf("?",1),s=i.indexOf(".",1),a.push(i.substring(1,~n?n:~s?s:i.length)),o+=~n&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(o+=(~n?"?":"")+"\\"+i.substring(s))):o+="/"+i;return{keys:a,pattern:new RegExp("^"+o+(e?"(?=$|/)":"/?$"),"i")}}var Z2={exports:{}},J2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ou=E;function JG(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var eH=typeof Object.is=="function"?Object.is:JG,tH=ou.useState,rH=ou.useEffect,nH=ou.useLayoutEffect,iH=ou.useDebugValue;function sH(t,e){var r=e(),n=tH({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return nH(function(){i.value=r,i.getSnapshot=e,sx(i)&&s({inst:i})},[t,r,e]),rH(function(){return sx(i)&&s({inst:i}),t(function(){sx(i)&&s({inst:i})})},[t]),iH(r),r}function sx(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!eH(t,r)}catch{return!0}}function aH(t,e){return e()}var oH=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?aH:sH;J2.useSyncExternalStore=ou.useSyncExternalStore!==void 0?ou.useSyncExternalStore:oH;Z2.exports=J2;var eD=Z2.exports;const lH=Q1.useInsertionEffect,cH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uH=cH?E.useLayoutEffect:E.useEffect,dH=lH||uH,tD=t=>{const e=E.useRef([t,(...r)=>e[0](...r)]).current;return dH(()=>{e[0]=t}),e[1]},fH="popstate",VE="pushState",GE="replaceState",hH="hashchange",LP=[fH,VE,GE,hH],mH=t=>{for(const e of LP)addEventListener(e,t);return()=>{for(const e of LP)removeEventListener(e,t)}},rD=(t,e)=>eD.useSyncExternalStore(mH,t,e),pH=()=>location.search,gH=({ssrSearch:t=""}={})=>rD(pH,()=>t),DP=()=>location.pathname,vH=({ssrPath:t}={})=>rD(DP,t?()=>t:DP),yH=(t,{replace:e=!1,state:r=null}={})=>history[e?GE:VE](r,"",t),xH=(t={})=>[vH(t),yH],MP=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[MP]>"u"){for(const t of[VE,GE]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,MP,{value:!0})}const bH=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",nD=(t="")=>t==="/"?"":t,wH=(t,e)=>t[0]==="~"?t.slice(1):nD(e)+t,SH=(t="",e)=>bH($P(nD(t)),$P(e)),$P=t=>{try{return decodeURI(t)}catch{return t}},iD={hook:xH,searchHook:gH,parser:ZG,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},sD=E.createContext(iD),Yu=()=>E.useContext(sD),aD={},oD=E.createContext(aD),EH=()=>E.useContext(oD),iy=t=>{const[e,r]=t.hook(t);return[SH(t.base,e),tD((n,i)=>r(wH(n,t.base),i))]},Wh=()=>iy(Yu()),HE=(t,e,r,n)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),a=i.exec(r)||[],[o,...c]=a;return o!==void 0?[!0,(()=>{const u=s!==!1?Object.fromEntries(s.map((f,h)=>[f,c[h]])):a.groups;let d={...c};return u&&Object.assign(d,u),d})(),...n?[o]:[]]:[!1,null]},TH=t=>HE(Yu().parser,t,Wh()[0]),AH=({children:t,...e})=>{var d,f;const r=Yu(),n=e.hook?iD:r;let i=n;const[s,a]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];a&&(e.ssrSearch=a,e.ssrPath=s),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let o=E.useRef({}),c=o.current,u=c;for(let h in n){const m=h==="base"?n[h]+(e[h]||""):e[h]||n[h];c===u&&m!==u[h]&&(o.current=u={...u}),u[h]=m,(m!==n[h]||m!==i[h])&&(i=u)}return E.createElement(sD.Provider,{value:i,children:t})},FP=({children:t,component:e},r)=>e?E.createElement(e,{params:r}):typeof t=="function"?t(r):t,_H=t=>{let e=E.useRef(aD);const r=e.current;return e.current=Object.keys(t).length!==Object.keys(r).length||Object.entries(t).some(([n,i])=>i!==r[n])?t:r},Rr=({path:t,nest:e,match:r,...n})=>{const i=Yu(),[s]=iy(i),[a,o,c]=r??HE(i.parser,t,s,e),u=_H({...EH(),...o});if(!a)return null;const d=c?E.createElement(AH,{base:c},FP(n,u)):FP(n,u);return E.createElement(oD.Provider,{value:u,children:d})},Gt=E.forwardRef((t,e)=>{const r=Yu(),[n,i]=iy(r),{to:s="",href:a=s,onClick:o,asChild:c,children:u,className:d,replace:f,state:h,...m}=t,p=tD(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(o==null||o(v),v.defaultPrevented||(v.preventDefault(),i(a,t)))}),g=r.hrefs(a[0]==="~"?a.slice(1):r.base+a,r);return c&&E.isValidElement(u)?E.cloneElement(u,{onClick:p,href:g}):E.createElement("a",{...m,onClick:p,href:g,className:d!=null&&d.call?d(n===a):d,children:u,ref:e})}),lD=t=>Array.isArray(t)?t.flatMap(e=>lD(e&&e.type===E.Fragment?e.props.children:e)):[t],BP=({children:t,location:e})=>{const r=Yu(),[n]=iy(r);for(const i of lD(t)){let s=0;if(E.isValidElement(i)&&(s=HE(r.parser,i.props.path,e||n,i.props.nest))[0])return E.cloneElement(i,{match:s})}return null};var Xu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ml=typeof window>"u"||"Deno"in globalThis;function sn(){}function PH(t,e){return typeof t=="function"?t(e):t}function mw(t){return typeof t=="number"&&t>=0&&t!==1/0}function cD(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Qa(t,e){return typeof t=="function"?t(e):t}function Jn(t,e){return typeof t=="function"?t(e):t}function UP(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(n){if(e.queryHash!==zE(a,e.options))return!1}else if(!Uf(e.queryKey,a))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function VP(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(pl(e.options.mutationKey)!==pl(s))return!1}else if(!Uf(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function zE(t,e){return((e==null?void 0:e.queryKeyHashFn)||pl)(t)}function pl(t){return JSON.stringify(t,(e,r)=>pw(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Uf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Uf(t[r],e[r])):!1}function uD(t,e){if(t===e)return t;const r=GP(t)&&GP(e);if(r||pw(t)&&pw(e)){const n=r?t:Object.keys(t),i=n.length,s=r?e:Object.keys(e),a=s.length,o=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<a;d++){const f=r?d:s[d];(!r&&c.has(f)||r)&&t[f]===void 0&&e[f]===void 0?(o[f]=void 0,u++):(o[f]=uD(t[f],e[f]),o[f]===t[f]&&t[f]!==void 0&&u++)}return i===a&&u===i?t:o}return e}function cg(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function GP(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function pw(t){if(!HP(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!HP(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function HP(t){return Object.prototype.toString.call(t)==="[object Object]"}function NH(t){return new Promise(e=>{setTimeout(e,t)})}function gw(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?uD(t,e):e}function CH(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function jH(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var WE=Symbol();function dD(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===WE?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function fD(t,e){return typeof t=="function"?t(...e):!!t}var qo,Na,Vc,CR,OH=(CR=class extends Xu{constructor(){super();Me(this,qo);Me(this,Na);Me(this,Vc);xe(this,Vc,e=>{if(!ml&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){B(this,Na)||this.setEventListener(B(this,Vc))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,Na))==null||e.call(this),xe(this,Na,void 0))}setEventListener(e){var r;xe(this,Vc,e),(r=B(this,Na))==null||r.call(this),xe(this,Na,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){B(this,qo)!==e&&(xe(this,qo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof B(this,qo)=="boolean"?B(this,qo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},qo=new WeakMap,Na=new WeakMap,Vc=new WeakMap,CR),KE=new OH,Gc,Ca,Hc,jR,IH=(jR=class extends Xu{constructor(){super();Me(this,Gc,!0);Me(this,Ca);Me(this,Hc);xe(this,Hc,e=>{if(!ml&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){B(this,Ca)||this.setEventListener(B(this,Hc))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,Ca))==null||e.call(this),xe(this,Ca,void 0))}setEventListener(e){var r;xe(this,Hc,e),(r=B(this,Ca))==null||r.call(this),xe(this,Ca,e(this.setOnline.bind(this)))}setOnline(e){B(this,Gc)!==e&&(xe(this,Gc,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return B(this,Gc)}},Gc=new WeakMap,Ca=new WeakMap,Hc=new WeakMap,jR),ug=new IH;function vw(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function kH(t){return Math.min(1e3*2**t,3e4)}function hD(t){return(t??"online")==="online"?ug.isOnline():!0}var mD=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ax(t){return t instanceof mD}function pD(t){let e=!1,r=0,n=!1,i;const s=vw(),a=g=>{var v;n||(h(new mD(g)),(v=t.abort)==null||v.call(t))},o=()=>{e=!0},c=()=>{e=!1},u=()=>KE.isFocused()&&(t.networkMode==="always"||ug.isOnline())&&t.canRun(),d=()=>hD(t.networkMode)&&t.canRun(),f=g=>{var v;n||(n=!0,(v=t.onSuccess)==null||v.call(t,g),i==null||i(),s.resolve(g))},h=g=>{var v;n||(n=!0,(v=t.onError)==null||v.call(t,g),i==null||i(),s.reject(g))},m=()=>new Promise(g=>{var v;i=y=>{(n||u())&&g(y)},(v=t.onPause)==null||v.call(t)}).then(()=>{var g;i=void 0,n||(g=t.onContinue)==null||g.call(t)}),p=()=>{if(n)return;let g;const v=r===0?t.initialPromise:void 0;try{g=v??t.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(f).catch(y=>{var T;if(n)return;const x=t.retry??(ml?0:3),b=t.retryDelay??kH,S=typeof b=="function"?b(r,y):b,w=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,y);if(e||!w){h(y);return}r++,(T=t.onFail)==null||T.call(t,r,y),NH(S).then(()=>u()?void 0:m()).then(()=>{e?h(y):p()})})};return{promise:s,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:o,continueRetry:c,canStart:d,start:()=>(d()?p():m().then(p),s)}}var RH=t=>setTimeout(t,0);function LH(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=RH;const s=o=>{e?t.push(o):i(()=>{r(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;e++;try{c=o()}finally{e--,e||a()}return c},batchCalls:o=>(...c)=>{s(()=>{o(...c)})},schedule:s,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var wr=LH(),Yo,OR,gD=(OR=class{constructor(){Me(this,Yo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),mw(this.gcTime)&&xe(this,Yo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ml?1/0:5*60*1e3))}clearGcTimeout(){B(this,Yo)&&(clearTimeout(B(this,Yo)),xe(this,Yo,void 0))}},Yo=new WeakMap,OR),zc,Xo,Qn,Qo,Hr,Mh,Zo,Ei,As,IR,DH=(IR=class extends gD{constructor(e){super();Me(this,Ei);Me(this,zc);Me(this,Xo);Me(this,Qn);Me(this,Qo);Me(this,Hr);Me(this,Mh);Me(this,Zo);xe(this,Zo,!1),xe(this,Mh,e.defaultOptions),this.setOptions(e.options),this.observers=[],xe(this,Qo,e.client),xe(this,Qn,B(this,Qo).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,xe(this,zc,MH(this.options)),this.state=e.state??B(this,zc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=B(this,Hr))==null?void 0:e.promise}setOptions(e){this.options={...B(this,Mh),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,Qn).remove(this)}setData(e,r){const n=gw(this.state.data,e,this.options);return Ze(this,Ei,As).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Ze(this,Ei,As).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=B(this,Hr))==null?void 0:n.promise;return(i=B(this,Hr))==null||i.cancel(e),r?r.then(sn).catch(sn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,zc))}isActive(){return this.observers.some(e=>Jn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===WE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Qa(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!cD(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=B(this,Hr))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=B(this,Hr))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),B(this,Qn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(B(this,Hr)&&(B(this,Zo)?B(this,Hr).cancel({revert:!0}):B(this,Hr).cancelRetry()),this.scheduleGc()),B(this,Qn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ze(this,Ei,As).call(this,{type:"invalidate"})}fetch(e,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(B(this,Hr))return B(this,Hr).continueRetry(),B(this,Hr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(xe(this,Zo,!0),n.signal)})},s=()=>{const h=dD(this.options,r),p=(()=>{const g={client:B(this,Qo),queryKey:this.queryKey,meta:this.meta};return i(g),g})();return xe(this,Zo,!1),this.options.persister?this.options.persister(h,p,this):h(p)},o=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:B(this,Qo),state:this.state,fetchFn:s};return i(h),h})();(u=this.options.behavior)==null||u.onFetch(o,this),xe(this,Xo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Ze(this,Ei,As).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta});const c=h=>{var m,p,g,v;ax(h)&&h.silent||Ze(this,Ei,As).call(this,{type:"error",error:h}),ax(h)||((p=(m=B(this,Qn).config).onError)==null||p.call(m,h,this),(v=(g=B(this,Qn).config).onSettled)==null||v.call(g,this.state.data,h,this)),this.scheduleGc()};return xe(this,Hr,pD({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var m,p,g,v;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){c(y);return}(p=(m=B(this,Qn).config).onSuccess)==null||p.call(m,h,this),(v=(g=B(this,Qn).config).onSettled)==null||v.call(g,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,m)=>{Ze(this,Ei,As).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Ze(this,Ei,As).call(this,{type:"pause"})},onContinue:()=>{Ze(this,Ei,As).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),B(this,Hr).start()}},zc=new WeakMap,Xo=new WeakMap,Qn=new WeakMap,Qo=new WeakMap,Hr=new WeakMap,Mh=new WeakMap,Zo=new WeakMap,Ei=new WeakSet,As=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...vD(n.data,this.options),fetchMeta:e.meta??null};case"success":return xe(this,Xo,void 0),{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return ax(i)&&i.revert&&B(this,Xo)?{...B(this,Xo),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),wr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),B(this,Qn).notify({query:this,type:"updated",action:e})})},IR);function vD(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:hD(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function MH(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var zi,kR,$H=(kR=class extends Xu{constructor(e={}){super();Me(this,zi);this.config=e,xe(this,zi,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??zE(i,r);let a=this.get(s);return a||(a=new DH({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){B(this,zi).has(e.queryHash)||(B(this,zi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=B(this,zi).get(e.queryHash);r&&(e.destroy(),r===e&&B(this,zi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){wr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return B(this,zi).get(e)}getAll(){return[...B(this,zi).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>UP(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>UP(e,n)):r}notify(e){wr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){wr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){wr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},zi=new WeakMap,kR),Wi,tn,Jo,Ki,ga,RR,FH=(RR=class extends gD{constructor(e){super();Me(this,Ki);Me(this,Wi);Me(this,tn);Me(this,Jo);this.mutationId=e.mutationId,xe(this,tn,e.mutationCache),xe(this,Wi,[]),this.state=e.state||yD(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){B(this,Wi).includes(e)||(B(this,Wi).push(e),this.clearGcTimeout(),B(this,tn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){xe(this,Wi,B(this,Wi).filter(r=>r!==e)),this.scheduleGc(),B(this,tn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){B(this,Wi).length||(this.state.status==="pending"?this.scheduleGc():B(this,tn).remove(this))}continue(){var e;return((e=B(this,Jo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,a,o,c,u,d,f,h,m,p,g,v,y,x,b,S,w,T,A,_;const r=()=>{Ze(this,Ki,ga).call(this,{type:"continue"})};xe(this,Jo,pD({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(N,C)=>{Ze(this,Ki,ga).call(this,{type:"failed",failureCount:N,error:C})},onPause:()=>{Ze(this,Ki,ga).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,tn).canRun(this)}));const n=this.state.status==="pending",i=!B(this,Jo).canStart();try{if(n)r();else{Ze(this,Ki,ga).call(this,{type:"pending",variables:e,isPaused:i}),await((a=(s=B(this,tn).config).onMutate)==null?void 0:a.call(s,e,this));const C=await((c=(o=this.options).onMutate)==null?void 0:c.call(o,e));C!==this.state.context&&Ze(this,Ki,ga).call(this,{type:"pending",context:C,variables:e,isPaused:i})}const N=await B(this,Jo).start();return await((d=(u=B(this,tn).config).onSuccess)==null?void 0:d.call(u,N,e,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,N,e,this.state.context)),await((p=(m=B(this,tn).config).onSettled)==null?void 0:p.call(m,N,null,this.state.variables,this.state.context,this)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,N,null,e,this.state.context)),Ze(this,Ki,ga).call(this,{type:"success",data:N}),N}catch(N){try{throw await((x=(y=B(this,tn).config).onError)==null?void 0:x.call(y,N,e,this.state.context,this)),await((S=(b=this.options).onError)==null?void 0:S.call(b,N,e,this.state.context)),await((T=(w=B(this,tn).config).onSettled)==null?void 0:T.call(w,void 0,N,this.state.variables,this.state.context,this)),await((_=(A=this.options).onSettled)==null?void 0:_.call(A,void 0,N,e,this.state.context)),N}finally{Ze(this,Ki,ga).call(this,{type:"error",error:N})}}finally{B(this,tn).runNext(this)}}},Wi=new WeakMap,tn=new WeakMap,Jo=new WeakMap,Ki=new WeakSet,ga=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),wr.batch(()=>{B(this,Wi).forEach(n=>{n.onMutationUpdate(e)}),B(this,tn).notify({mutation:this,type:"updated",action:e})})},RR);function yD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Os,Ti,$h,LR,BH=(LR=class extends Xu{constructor(e={}){super();Me(this,Os);Me(this,Ti);Me(this,$h);this.config=e,xe(this,Os,new Set),xe(this,Ti,new Map),xe(this,$h,0)}build(e,r,n){const i=new FH({mutationCache:this,mutationId:++om(this,$h)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){B(this,Os).add(e);const r=_m(e);if(typeof r=="string"){const n=B(this,Ti).get(r);n?n.push(e):B(this,Ti).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(B(this,Os).delete(e)){const r=_m(e);if(typeof r=="string"){const n=B(this,Ti).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&B(this,Ti).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=_m(e);if(typeof r=="string"){const n=B(this,Ti).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=_m(e);if(typeof r=="string"){const i=(n=B(this,Ti).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){wr.batch(()=>{B(this,Os).forEach(e=>{this.notify({type:"removed",mutation:e})}),B(this,Os).clear(),B(this,Ti).clear()})}getAll(){return Array.from(B(this,Os))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>VP(r,n))}findAll(e={}){return this.getAll().filter(r=>VP(e,r))}notify(e){wr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return wr.batch(()=>Promise.all(e.map(r=>r.continue().catch(sn))))}},Os=new WeakMap,Ti=new WeakMap,$h=new WeakMap,LR);function _m(t){var e;return(e=t.options.scope)==null?void 0:e.id}function zP(t){return{onFetch:(e,r)=>{var d,f,h,m,p;const n=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((m=e.state.data)==null?void 0:m.pages)||[],a=((p=e.state.data)==null?void 0:p.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const v=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},y=dD(e.options,e.fetchOptions),x=async(b,S,w)=>{if(g)return Promise.reject();if(S==null&&b.pages.length)return Promise.resolve(b);const A=(()=>{const j={client:e.client,queryKey:e.queryKey,pageParam:S,direction:w?"backward":"forward",meta:e.options.meta};return v(j),j})(),_=await y(A),{maxPages:N}=e.options,C=w?jH:CH;return{pages:C(b.pages,_,N),pageParams:C(b.pageParams,S,N)}};if(i&&s.length){const b=i==="backward",S=b?UH:WP,w={pages:s,pageParams:a},T=S(n,w);o=await x(w,T,b)}else{const b=t??s.length;do{const S=c===0?a[0]??n.initialPageParam:WP(n,o);if(c>0&&S==null)break;o=await x(o,S),c++}while(c<b)}return o};e.options.persister?e.fetchFn=()=>{var g,v;return(v=(g=e.options).persister)==null?void 0:v.call(g,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function WP(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function UH(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var qt,ja,Oa,Wc,Kc,Ia,qc,Yc,DR,VH=(DR=class{constructor(t={}){Me(this,qt);Me(this,ja);Me(this,Oa);Me(this,Wc);Me(this,Kc);Me(this,Ia);Me(this,qc);Me(this,Yc);xe(this,qt,t.queryCache||new $H),xe(this,ja,t.mutationCache||new BH),xe(this,Oa,t.defaultOptions||{}),xe(this,Wc,new Map),xe(this,Kc,new Map),xe(this,Ia,0)}mount(){om(this,Ia)._++,B(this,Ia)===1&&(xe(this,qc,KE.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,qt).onFocus())})),xe(this,Yc,ug.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,qt).onOnline())})))}unmount(){var t,e;om(this,Ia)._--,B(this,Ia)===0&&((t=B(this,qc))==null||t.call(this),xe(this,qc,void 0),(e=B(this,Yc))==null||e.call(this),xe(this,Yc,void 0))}isFetching(t){return B(this,qt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return B(this,ja).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=B(this,qt).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=B(this,qt).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Qa(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return B(this,qt).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=B(this,qt).get(n.queryHash),s=i==null?void 0:i.state.data,a=PH(e,s);if(a!==void 0)return B(this,qt).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return wr.batch(()=>B(this,qt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=B(this,qt).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=B(this,qt);wr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=B(this,qt);return wr.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=wr.batch(()=>B(this,qt).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(sn).catch(sn)}invalidateQueries(t,e={}){return wr.batch(()=>(B(this,qt).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=wr.batch(()=>B(this,qt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(sn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(sn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=B(this,qt).build(this,e);return r.isStaleByTime(Qa(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(sn).catch(sn)}fetchInfiniteQuery(t){return t.behavior=zP(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(sn).catch(sn)}ensureInfiniteQueryData(t){return t.behavior=zP(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ug.isOnline()?B(this,ja).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,qt)}getMutationCache(){return B(this,ja)}getDefaultOptions(){return B(this,Oa)}setDefaultOptions(t){xe(this,Oa,t)}setQueryDefaults(t,e){B(this,Wc).set(pl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...B(this,Wc).values()],r={};return e.forEach(n=>{Uf(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){B(this,Kc).set(pl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...B(this,Kc).values()],r={};return e.forEach(n=>{Uf(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...B(this,Oa).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=zE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===WE&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...B(this,Oa).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){B(this,qt).clear(),B(this,ja).clear()}},qt=new WeakMap,ja=new WeakMap,Oa=new WeakMap,Wc=new WeakMap,Kc=new WeakMap,Ia=new WeakMap,qc=new WeakMap,Yc=new WeakMap,DR),pn,nt,Fh,rn,el,Xc,ka,Ra,Bh,Qc,Zc,tl,rl,La,Jc,mt,Kd,yw,xw,bw,ww,Sw,Ew,Tw,xD,MR,GH=(MR=class extends Xu{constructor(e,r){super();Me(this,mt);Me(this,pn);Me(this,nt);Me(this,Fh);Me(this,rn);Me(this,el);Me(this,Xc);Me(this,ka);Me(this,Ra);Me(this,Bh);Me(this,Qc);Me(this,Zc);Me(this,tl);Me(this,rl);Me(this,La);Me(this,Jc,new Set);this.options=r,xe(this,pn,e),xe(this,Ra,null),xe(this,ka,vw()),this.options.experimental_prefetchInRender||B(this,ka).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(B(this,nt).addObserver(this),KP(B(this,nt),this.options)?Ze(this,mt,Kd).call(this):this.updateResult(),Ze(this,mt,ww).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Aw(B(this,nt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Aw(B(this,nt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ze(this,mt,Sw).call(this),Ze(this,mt,Ew).call(this),B(this,nt).removeObserver(this)}setOptions(e){const r=this.options,n=B(this,nt);if(this.options=B(this,pn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Jn(this.options.enabled,B(this,nt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ze(this,mt,Tw).call(this),B(this,nt).setOptions(this.options),r._defaulted&&!cg(this.options,r)&&B(this,pn).getQueryCache().notify({type:"observerOptionsUpdated",query:B(this,nt),observer:this});const i=this.hasListeners();i&&qP(B(this,nt),n,this.options,r)&&Ze(this,mt,Kd).call(this),this.updateResult(),i&&(B(this,nt)!==n||Jn(this.options.enabled,B(this,nt))!==Jn(r.enabled,B(this,nt))||Qa(this.options.staleTime,B(this,nt))!==Qa(r.staleTime,B(this,nt)))&&Ze(this,mt,yw).call(this);const s=Ze(this,mt,xw).call(this);i&&(B(this,nt)!==n||Jn(this.options.enabled,B(this,nt))!==Jn(r.enabled,B(this,nt))||s!==B(this,La))&&Ze(this,mt,bw).call(this,s)}getOptimisticResult(e){const r=B(this,pn).getQueryCache().build(B(this,pn),e),n=this.createResult(r,e);return zH(this,n)&&(xe(this,rn,n),xe(this,Xc,this.options),xe(this,el,B(this,nt).state)),n}getCurrentResult(){return B(this,rn)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),Reflect.get(n,i))})}trackProp(e){B(this,Jc).add(e)}getCurrentQuery(){return B(this,nt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=B(this,pn).defaultQueryOptions(e),n=B(this,pn).getQueryCache().build(B(this,pn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Ze(this,mt,Kd).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),B(this,rn)))}createResult(e,r){var N;const n=B(this,nt),i=this.options,s=B(this,rn),a=B(this,el),o=B(this,Xc),u=e!==n?e.state:B(this,Fh),{state:d}=e;let f={...d},h=!1,m;if(r._optimisticResults){const C=this.hasListeners(),j=!C&&KP(e,r),O=C&&qP(e,n,r,i);(j||O)&&(f={...f,...vD(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:v}=f;m=f.data;let y=!1;if(r.placeholderData!==void 0&&m===void 0&&v==="pending"){let C;s!=null&&s.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(C=s.data,y=!0):C=typeof r.placeholderData=="function"?r.placeholderData((N=B(this,Zc))==null?void 0:N.state.data,B(this,Zc)):r.placeholderData,C!==void 0&&(v="success",m=gw(s==null?void 0:s.data,C,r),h=!0)}if(r.select&&m!==void 0&&!y)if(s&&m===(a==null?void 0:a.data)&&r.select===B(this,Bh))m=B(this,Qc);else try{xe(this,Bh,r.select),m=r.select(m),m=gw(s==null?void 0:s.data,m,r),xe(this,Qc,m),xe(this,Ra,null)}catch(C){xe(this,Ra,C)}B(this,Ra)&&(p=B(this,Ra),m=B(this,Qc),g=Date.now(),v="error");const x=f.fetchStatus==="fetching",b=v==="pending",S=v==="error",w=b&&x,T=m!==void 0,_={status:v,fetchStatus:f.fetchStatus,isPending:b,isSuccess:v==="success",isError:S,isInitialLoading:w,isLoading:w,data:m,dataUpdatedAt:f.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!b,isLoadingError:S&&!T,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:S&&T,isStale:qE(e,r),refetch:this.refetch,promise:B(this,ka),isEnabled:Jn(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const C=R=>{_.status==="error"?R.reject(_.error):_.data!==void 0&&R.resolve(_.data)},j=()=>{const R=xe(this,ka,_.promise=vw());C(R)},O=B(this,ka);switch(O.status){case"pending":e.queryHash===n.queryHash&&C(O);break;case"fulfilled":(_.status==="error"||_.data!==O.value)&&j();break;case"rejected":(_.status!=="error"||_.error!==O.reason)&&j();break}}return _}updateResult(){const e=B(this,rn),r=this.createResult(B(this,nt),this.options);if(xe(this,el,B(this,nt).state),xe(this,Xc,this.options),B(this,el).data!==void 0&&xe(this,Zc,B(this,nt)),cg(r,e))return;xe(this,rn,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!B(this,Jc).size)return!0;const a=new Set(s??B(this,Jc));return this.options.throwOnError&&a.add("error"),Object.keys(B(this,rn)).some(o=>{const c=o;return B(this,rn)[c]!==e[c]&&a.has(c)})};Ze(this,mt,xD).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ze(this,mt,ww).call(this)}},pn=new WeakMap,nt=new WeakMap,Fh=new WeakMap,rn=new WeakMap,el=new WeakMap,Xc=new WeakMap,ka=new WeakMap,Ra=new WeakMap,Bh=new WeakMap,Qc=new WeakMap,Zc=new WeakMap,tl=new WeakMap,rl=new WeakMap,La=new WeakMap,Jc=new WeakMap,mt=new WeakSet,Kd=function(e){Ze(this,mt,Tw).call(this);let r=B(this,nt).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(sn)),r},yw=function(){Ze(this,mt,Sw).call(this);const e=Qa(this.options.staleTime,B(this,nt));if(ml||B(this,rn).isStale||!mw(e))return;const n=cD(B(this,rn).dataUpdatedAt,e)+1;xe(this,tl,setTimeout(()=>{B(this,rn).isStale||this.updateResult()},n))},xw=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(B(this,nt)):this.options.refetchInterval)??!1},bw=function(e){Ze(this,mt,Ew).call(this),xe(this,La,e),!(ml||Jn(this.options.enabled,B(this,nt))===!1||!mw(B(this,La))||B(this,La)===0)&&xe(this,rl,setInterval(()=>{(this.options.refetchIntervalInBackground||KE.isFocused())&&Ze(this,mt,Kd).call(this)},B(this,La)))},ww=function(){Ze(this,mt,yw).call(this),Ze(this,mt,bw).call(this,Ze(this,mt,xw).call(this))},Sw=function(){B(this,tl)&&(clearTimeout(B(this,tl)),xe(this,tl,void 0))},Ew=function(){B(this,rl)&&(clearInterval(B(this,rl)),xe(this,rl,void 0))},Tw=function(){const e=B(this,pn).getQueryCache().build(B(this,pn),this.options);if(e===B(this,nt))return;const r=B(this,nt);xe(this,nt,e),xe(this,Fh,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},xD=function(e){wr.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(B(this,rn))}),B(this,pn).getQueryCache().notify({query:B(this,nt),type:"observerResultsUpdated"})})},MR);function HH(t,e){return Jn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function KP(t,e){return HH(t,e)||t.state.data!==void 0&&Aw(t,e,e.refetchOnMount)}function Aw(t,e,r){if(Jn(e.enabled,t)!==!1&&Qa(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&qE(t,e)}return!1}function qP(t,e,r,n){return(t!==e||Jn(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&qE(t,r)}function qE(t,e){return Jn(e.enabled,t)!==!1&&t.isStaleByTime(Qa(e.staleTime,t))}function zH(t,e){return!cg(t.getCurrentResult(),e)}var Da,Ma,gn,Is,Ks,wp,_w,$R,WH=($R=class extends Xu{constructor(r,n){super();Me(this,Ks);Me(this,Da);Me(this,Ma);Me(this,gn);Me(this,Is);xe(this,Da,r),this.setOptions(n),this.bindMethods(),Ze(this,Ks,wp).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=B(this,Da).defaultMutationOptions(r),cg(this.options,n)||B(this,Da).getMutationCache().notify({type:"observerOptionsUpdated",mutation:B(this,gn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&pl(n.mutationKey)!==pl(this.options.mutationKey)?this.reset():((i=B(this,gn))==null?void 0:i.state.status)==="pending"&&B(this,gn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=B(this,gn))==null||r.removeObserver(this)}onMutationUpdate(r){Ze(this,Ks,wp).call(this),Ze(this,Ks,_w).call(this,r)}getCurrentResult(){return B(this,Ma)}reset(){var r;(r=B(this,gn))==null||r.removeObserver(this),xe(this,gn,void 0),Ze(this,Ks,wp).call(this),Ze(this,Ks,_w).call(this)}mutate(r,n){var i;return xe(this,Is,n),(i=B(this,gn))==null||i.removeObserver(this),xe(this,gn,B(this,Da).getMutationCache().build(B(this,Da),this.options)),B(this,gn).addObserver(this),B(this,gn).execute(r)}},Da=new WeakMap,Ma=new WeakMap,gn=new WeakMap,Is=new WeakMap,Ks=new WeakSet,wp=function(){var n;const r=((n=B(this,gn))==null?void 0:n.state)??yD();xe(this,Ma,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},_w=function(r){wr.batch(()=>{var n,i,s,a,o,c,u,d;if(B(this,Is)&&this.hasListeners()){const f=B(this,Ma).variables,h=B(this,Ma).context;(r==null?void 0:r.type)==="success"?((i=(n=B(this,Is)).onSuccess)==null||i.call(n,r.data,f,h),(a=(s=B(this,Is)).onSettled)==null||a.call(s,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(o=B(this,Is)).onError)==null||c.call(o,r.error,f,h),(d=(u=B(this,Is)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(B(this,Ma))})})},$R),bD=E.createContext(void 0),Bl=t=>{const e=E.useContext(bD);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},KH=({client:t,children:e})=>(E.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(bD.Provider,{value:t,children:e})),wD=E.createContext(!1),qH=()=>E.useContext(wD);wD.Provider;function YH(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var XH=E.createContext(YH()),QH=()=>E.useContext(XH),ZH=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},JH=t=>{E.useEffect(()=>{t.clearReset()},[t])},e9=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||fD(r,[t.error,n])),t9=t=>{if(t.suspense){const e=n=>n==="static"?n:Math.max(n??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...n)=>e(r(...n)):e(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},r9=(t,e)=>t.isLoading&&t.isFetching&&!e,n9=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,YP=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function i9(t,e,r){var f,h,m,p,g;const n=qH(),i=QH(),s=Bl(),a=s.defaultQueryOptions(t);(h=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,a),a._optimisticResults=n?"isRestoring":"optimistic",t9(a),ZH(a,i),JH(i);const o=!s.getQueryCache().get(a.queryHash),[c]=E.useState(()=>new e(s,a)),u=c.getOptimisticResult(a),d=!n&&t.subscribed!==!1;if(E.useSyncExternalStore(E.useCallback(v=>{const y=d?c.subscribe(wr.batchCalls(v)):sn;return c.updateResult(),y},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),E.useEffect(()=>{c.setOptions(a)},[a,c]),n9(a,u))throw YP(a,c,i);if(e9({result:u,errorResetBoundary:i,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((p=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||p.call(m,a,u),a.experimental_prefetchInRender&&!ml&&r9(u,n)){const v=o?YP(a,c,i):(g=s.getQueryCache().get(a.queryHash))==null?void 0:g.promise;v==null||v.catch(sn).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function it(t,e){return i9(t,GH)}function Ar(t,e){const r=Bl(),[n]=E.useState(()=>new WH(r,t));E.useEffect(()=>{n.setOptions(t)},[n,t]);const i=E.useSyncExternalStore(E.useCallback(a=>n.subscribe(wr.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=E.useCallback((a,o)=>{n.mutate(a,o).catch(sn)},[n]);if(i.error&&fD(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}async function SD(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function zt(t,e,r){const n=await fetch(e,{method:t,headers:r?{"Content-Type":"application/json"}:{},body:r?JSON.stringify(r):void 0,credentials:"include"});return await SD(n),n}const s9=({on401:t})=>async({queryKey:e})=>{const r=await fetch(e.join("/"),{credentials:"include"});return await SD(r),await r.json()},us=new VH({defaultOptions:{queries:{queryFn:s9({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),a9=1,o9=1e6;let ox=0;function l9(){return ox=(ox+1)%Number.MAX_SAFE_INTEGER,ox.toString()}const lx=new Map,XP=t=>{if(lx.has(t))return;const e=setTimeout(()=>{lx.delete(t),lf({type:"REMOVE_TOAST",toastId:t})},o9);lx.set(t,e)},c9=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,a9)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?XP(r):t.toasts.forEach(n=>{XP(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Sp=[];let Ep={toasts:[]};function lf(t){Ep=c9(Ep,t),Sp.forEach(e=>{e(Ep)})}function u9({...t}){const e=l9(),r=i=>lf({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>lf({type:"DISMISS_TOAST",toastId:e});return lf({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function Jr(){const[t,e]=E.useState(Ep);return E.useEffect(()=>(Sp.push(e),()=>{const r=Sp.indexOf(e);r>-1&&Sp.splice(r,1)}),[t]),{...t,toast:u9,dismiss:r=>lf({type:"DISMISS_TOAST",toastId:r})}}function we(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function QP(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ED(...t){return e=>{let r=!1;const n=t.map(i=>{const s=QP(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():QP(t[i],null)}}}}function Ye(...t){return E.useCallback(ED(...t),t)}function d9(t,e){const r=E.createContext(e),n=s=>{const{children:a,...o}=s,c=E.useMemo(()=>o,Object.values(o));return l.jsx(r.Provider,{value:c,children:a})};n.displayName=t+"Provider";function i(s){const a=E.useContext(r);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,i]}function zn(t,e=[]){let r=[];function n(s,a){const o=E.createContext(a),c=r.length;r=[...r,a];const u=f=>{var y;const{scope:h,children:m,...p}=f,g=((y=h==null?void 0:h[t])==null?void 0:y[c])||o,v=E.useMemo(()=>p,Object.values(p));return l.jsx(g.Provider,{value:v,children:m})};u.displayName=s+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[t])==null?void 0:g[c])||o,p=E.useContext(m);if(p)return p;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=r.map(a=>E.createContext(a));return function(o){const c=(o==null?void 0:o[t])||s;return E.useMemo(()=>({[`__scope${t}`]:{...o,[t]:c}}),[o,c])}};return i.scopeName=t,[n,f9(i,...e)]}function f9(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=n.reduce((o,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...o,...f}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}function gl(t){const e=h9(t),r=E.forwardRef((n,i)=>{const{children:s,...a}=n,o=E.Children.toArray(s),c=o.find(p9);if(c){const u=c.props.children,d=o.map(f=>f===c?E.Children.count(u)>1?E.Children.only(null):E.isValidElement(u)?u.props.children:null:f);return l.jsx(e,{...a,ref:i,children:E.isValidElement(u)?E.cloneElement(u,void 0,d):null})}return l.jsx(e,{...a,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}var TD=gl("Slot");function h9(t){const e=E.forwardRef((r,n)=>{const{children:i,...s}=r;if(E.isValidElement(i)){const a=v9(i),o=g9(s,i.props);return i.type!==E.Fragment&&(o.ref=n?ED(n,a):a),E.cloneElement(i,o)}return E.Children.count(i)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var AD=Symbol("radix.slottable");function m9(t){const e=({children:r})=>l.jsx(l.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=AD,e}function p9(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===AD}function g9(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...o)=>{const c=s(...o);return i(...o),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function v9(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function sy(t){const e=t+"CollectionProvider",[r,n]=zn(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:v,children:y}=g,x=L.useRef(null),b=L.useRef(new Map).current;return l.jsx(i,{scope:v,itemMap:b,collectionRef:x,children:y})};a.displayName=e;const o=t+"CollectionSlot",c=gl(o),u=L.forwardRef((g,v)=>{const{scope:y,children:x}=g,b=s(o,y),S=Ye(v,b.collectionRef);return l.jsx(c,{ref:S,children:x})});u.displayName=o;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=gl(d),m=L.forwardRef((g,v)=>{const{scope:y,children:x,...b}=g,S=L.useRef(null),w=Ye(v,S),T=s(d,y);return L.useEffect(()=>(T.itemMap.set(S,{ref:S,...b}),()=>void T.itemMap.delete(S))),l.jsx(h,{[f]:"",ref:w,children:x})});m.displayName=d;function p(g){const v=s(t+"CollectionConsumer",g);return L.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((T,A)=>b.indexOf(T.ref.current)-b.indexOf(A.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:a,Slot:u,ItemSlot:m},p,n]}var y9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Re=y9.reduce((t,e)=>{const r=gl(`Primitive.${e}`),n=E.forwardRef((i,s)=>{const{asChild:a,...o}=i,c=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function _D(t,e){t&&Fl.flushSync(()=>t.dispatchEvent(e))}function mr(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function x9(t,e=globalThis==null?void 0:globalThis.document){const r=mr(t);E.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var b9="DismissableLayer",Pw="dismissableLayer.update",w9="dismissableLayer.pointerDownOutside",S9="dismissableLayer.focusOutside",ZP,PD=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Qu=E.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...c}=t,u=E.useContext(PD),[d,f]=E.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=E.useState({}),p=Ye(e,A=>f(A)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(v),x=d?g.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,S=x>=y,w=T9(A=>{const _=A.target,N=[...u.branches].some(C=>C.contains(_));!S||N||(i==null||i(A),a==null||a(A),A.defaultPrevented||o==null||o())},h),T=A9(A=>{const _=A.target;[...u.branches].some(C=>C.contains(_))||(s==null||s(A),a==null||a(A),A.defaultPrevented||o==null||o())},h);return x9(A=>{x===u.layers.size-1&&(n==null||n(A),!A.defaultPrevented&&o&&(A.preventDefault(),o()))},h),E.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(ZP=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),JP(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=ZP)}},[d,h,r,u]),E.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),JP())},[d,u]),E.useEffect(()=>{const A=()=>m({});return document.addEventListener(Pw,A),()=>document.removeEventListener(Pw,A)},[]),l.jsx(Re.div,{...c,ref:p,style:{pointerEvents:b?S?"auto":"none":void 0,...t.style},onFocusCapture:we(t.onFocusCapture,T.onFocusCapture),onBlurCapture:we(t.onBlurCapture,T.onBlurCapture),onPointerDownCapture:we(t.onPointerDownCapture,w.onPointerDownCapture)})});Qu.displayName=b9;var E9="DismissableLayerBranch",ND=E.forwardRef((t,e)=>{const r=E.useContext(PD),n=E.useRef(null),i=Ye(e,n);return E.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),l.jsx(Re.div,{...t,ref:i})});ND.displayName=E9;function T9(t,e=globalThis==null?void 0:globalThis.document){const r=mr(t),n=E.useRef(!1),i=E.useRef(()=>{});return E.useEffect(()=>{const s=o=>{if(o.target&&!n.current){let c=function(){CD(w9,r,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function A9(t,e=globalThis==null?void 0:globalThis.document){const r=mr(t),n=E.useRef(!1);return E.useEffect(()=>{const i=s=>{s.target&&!n.current&&CD(S9,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function JP(){const t=new CustomEvent(Pw);document.dispatchEvent(t)}function CD(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?_D(i,s):i.dispatchEvent(s)}var _9=Qu,P9=ND,ar=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},N9="Portal",Kh=E.forwardRef((t,e)=>{var o;const{container:r,...n}=t,[i,s]=E.useState(!1);ar(()=>s(!0),[]);const a=r||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?QG.createPortal(l.jsx(Re.div,{...n,ref:e}),a):null});Kh.displayName=N9;function C9(t,e){return E.useReducer((r,n)=>e[r][n]??r,t)}var Wn=t=>{const{present:e,children:r}=t,n=j9(e),i=typeof r=="function"?r({present:n.isPresent}):E.Children.only(r),s=Ye(n.ref,O9(i));return typeof r=="function"||n.isPresent?E.cloneElement(i,{ref:s}):null};Wn.displayName="Presence";function j9(t){const[e,r]=E.useState(),n=E.useRef(null),i=E.useRef(t),s=E.useRef("none"),a=t?"mounted":"unmounted",[o,c]=C9(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const u=Pm(n.current);s.current=o==="mounted"?u:"none"},[o]),ar(()=>{const u=n.current,d=i.current;if(d!==t){const h=s.current,m=Pm(u);t?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),ar(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=m=>{const g=Pm(n.current).includes(m.animationName);if(m.target===e&&g&&(c("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},h=m=>{m.target===e&&(s.current=Pm(n.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:E.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Pm(t){return(t==null?void 0:t.animationName)||"none"}function O9(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var I9=Q1[" useInsertionEffect ".trim().toString()]||ar;function Zs({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,s,a]=k9({defaultProp:e,onChange:r}),o=t!==void 0,c=o?t:i;{const d=E.useRef(t!==void 0);E.useEffect(()=>{const f=d.current;f!==o&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,n])}const u=E.useCallback(d=>{var f;if(o){const h=R9(d)?d(t):d;h!==t&&((f=a.current)==null||f.call(a,h))}else s(d)},[o,t,s,a]);return[c,u]}function k9({defaultProp:t,onChange:e}){const[r,n]=E.useState(t),i=E.useRef(r),s=E.useRef(e);return I9(()=>{s.current=e},[e]),E.useEffect(()=>{var a;i.current!==r&&((a=s.current)==null||a.call(s,r),i.current=r)},[r,i]),[r,n,s]}function R9(t){return typeof t=="function"}var jD=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),L9="VisuallyHidden",ay=E.forwardRef((t,e)=>l.jsx(Re.span,{...t,ref:e,style:{...jD,...t.style}}));ay.displayName=L9;var D9=ay,YE="ToastProvider",[XE,M9,$9]=sy("Toast"),[OD,Nje]=zn("Toast",[$9]),[F9,oy]=OD(YE),ID=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=t,[o,c]=E.useState(null),[u,d]=E.useState(0),f=E.useRef(!1),h=E.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${YE}\`. Expected non-empty \`string\`.`),l.jsx(XE.Provider,{scope:e,children:l.jsx(F9,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:o,onViewportChange:c,onToastAdd:E.useCallback(()=>d(m=>m+1),[]),onToastRemove:E.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:a})})};ID.displayName=YE;var kD="ToastViewport",B9=["F8"],Nw="toast.viewportPause",Cw="toast.viewportResume",RD=E.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=B9,label:i="Notifications ({hotkey})",...s}=t,a=oy(kD,r),o=M9(r),c=E.useRef(null),u=E.useRef(null),d=E.useRef(null),f=E.useRef(null),h=Ye(e,f,a.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=a.toastCount>0;E.useEffect(()=>{const v=y=>{var b;n.length!==0&&n.every(S=>y[S]||y.code===S)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),E.useEffect(()=>{const v=c.current,y=f.current;if(p&&v&&y){const x=()=>{if(!a.isClosePausedRef.current){const T=new CustomEvent(Nw);y.dispatchEvent(T),a.isClosePausedRef.current=!0}},b=()=>{if(a.isClosePausedRef.current){const T=new CustomEvent(Cw);y.dispatchEvent(T),a.isClosePausedRef.current=!1}},S=T=>{!v.contains(T.relatedTarget)&&b()},w=()=>{v.contains(document.activeElement)||b()};return v.addEventListener("focusin",x),v.addEventListener("focusout",S),v.addEventListener("pointermove",x),v.addEventListener("pointerleave",w),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{v.removeEventListener("focusin",x),v.removeEventListener("focusout",S),v.removeEventListener("pointermove",x),v.removeEventListener("pointerleave",w),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[p,a.isClosePausedRef]);const g=E.useCallback(({tabbingDirection:v})=>{const x=o().map(b=>{const S=b.ref.current,w=[S,...J9(S)];return v==="forwards"?w:w.reverse()});return(v==="forwards"?x.reverse():x).flat()},[o]);return E.useEffect(()=>{const v=f.current;if(v){const y=x=>{var w,T,A;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const _=document.activeElement,N=x.shiftKey;if(x.target===v&&N){(w=u.current)==null||w.focus();return}const O=g({tabbingDirection:N?"backwards":"forwards"}),R=O.findIndex(k=>k===_);cx(O.slice(R+1))?x.preventDefault():N?(T=u.current)==null||T.focus():(A=d.current)==null||A.focus()}};return v.addEventListener("keydown",y),()=>v.removeEventListener("keydown",y)}},[o,g]),l.jsxs(P9,{ref:c,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&l.jsx(jw,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});cx(v)}}),l.jsx(XE.Slot,{scope:r,children:l.jsx(Re.ol,{tabIndex:-1,...s,ref:h})}),p&&l.jsx(jw,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});cx(v)}})]})});RD.displayName=kD;var LD="ToastFocusProxy",jw=E.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,s=oy(LD,r);return l.jsx(ay,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{var u;const o=a.relatedTarget;!((u=s.viewport)!=null&&u.contains(o))&&n()}})});jw.displayName=LD;var qh="Toast",U9="toast.swipeStart",V9="toast.swipeMove",G9="toast.swipeCancel",H9="toast.swipeEnd",DD=E.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:s,...a}=t,[o,c]=Zs({prop:n,defaultProp:i??!0,onChange:s,caller:qh});return l.jsx(Wn,{present:r||o,children:l.jsx(K9,{open:o,...a,ref:e,onClose:()=>c(!1),onPause:mr(t.onPause),onResume:mr(t.onResume),onSwipeStart:we(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:we(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:we(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:we(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});DD.displayName=qh;var[z9,W9]=OD(qh,{onClose(){}}),K9=E.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:o,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...p}=t,g=oy(qh,r),[v,y]=E.useState(null),x=Ye(e,k=>y(k)),b=E.useRef(null),S=E.useRef(null),w=i||g.duration,T=E.useRef(0),A=E.useRef(w),_=E.useRef(0),{onToastAdd:N,onToastRemove:C}=g,j=mr(()=>{var M;(v==null?void 0:v.contains(document.activeElement))&&((M=g.viewport)==null||M.focus()),a()}),O=E.useCallback(k=>{!k||k===1/0||(window.clearTimeout(_.current),T.current=new Date().getTime(),_.current=window.setTimeout(j,k))},[j]);E.useEffect(()=>{const k=g.viewport;if(k){const M=()=>{O(A.current),u==null||u()},D=()=>{const U=new Date().getTime()-T.current;A.current=A.current-U,window.clearTimeout(_.current),c==null||c()};return k.addEventListener(Nw,D),k.addEventListener(Cw,M),()=>{k.removeEventListener(Nw,D),k.removeEventListener(Cw,M)}}},[g.viewport,w,c,u,O]),E.useEffect(()=>{s&&!g.isClosePausedRef.current&&O(w)},[s,w,g.isClosePausedRef,O]),E.useEffect(()=>(N(),()=>C()),[N,C]);const R=E.useMemo(()=>v?GD(v):null,[v]);return g.viewport?l.jsxs(l.Fragment,{children:[R&&l.jsx(q9,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),l.jsx(z9,{scope:r,onClose:j,children:Fl.createPortal(l.jsx(XE.ItemSlot,{scope:r,children:l.jsx(_9,{asChild:!0,onEscapeKeyDown:we(o,()=>{g.isFocusedToastEscapeKeyDownRef.current||j(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(Re.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...p,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:we(t.onKeyDown,k=>{k.key==="Escape"&&(o==null||o(k.nativeEvent),k.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,j()))}),onPointerDown:we(t.onPointerDown,k=>{k.button===0&&(b.current={x:k.clientX,y:k.clientY})}),onPointerMove:we(t.onPointerMove,k=>{if(!b.current)return;const M=k.clientX-b.current.x,D=k.clientY-b.current.y,U=!!S.current,I=["left","right"].includes(g.swipeDirection),F=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,H=I?F(0,M):0,G=I?0:F(0,D),V=k.pointerType==="touch"?10:2,ne={x:H,y:G},ce={originalEvent:k,delta:ne};U?(S.current=ne,Nm(V9,f,ce,{discrete:!1})):eN(ne,g.swipeDirection,V)?(S.current=ne,Nm(U9,d,ce,{discrete:!1}),k.target.setPointerCapture(k.pointerId)):(Math.abs(M)>V||Math.abs(D)>V)&&(b.current=null)}),onPointerUp:we(t.onPointerUp,k=>{const M=S.current,D=k.target;if(D.hasPointerCapture(k.pointerId)&&D.releasePointerCapture(k.pointerId),S.current=null,b.current=null,M){const U=k.currentTarget,I={originalEvent:k,delta:M};eN(M,g.swipeDirection,g.swipeThreshold)?Nm(H9,m,I,{discrete:!0}):Nm(G9,h,I,{discrete:!0}),U.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),q9=t=>{const{__scopeToast:e,children:r,...n}=t,i=oy(qh,e),[s,a]=E.useState(!1),[o,c]=E.useState(!1);return Q9(()=>a(!0)),E.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:l.jsx(Kh,{asChild:!0,children:l.jsx(ay,{...n,children:s&&l.jsxs(l.Fragment,{children:[i.label," ",r]})})})},Y9="ToastTitle",MD=E.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return l.jsx(Re.div,{...n,ref:e})});MD.displayName=Y9;var X9="ToastDescription",$D=E.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return l.jsx(Re.div,{...n,ref:e})});$D.displayName=X9;var FD="ToastAction",BD=E.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?l.jsx(VD,{altText:r,asChild:!0,children:l.jsx(QE,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${FD}\`. Expected non-empty \`string\`.`),null)});BD.displayName=FD;var UD="ToastClose",QE=E.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=W9(UD,r);return l.jsx(VD,{asChild:!0,children:l.jsx(Re.button,{type:"button",...n,ref:e,onClick:we(t.onClick,i.onClose)})})});QE.displayName=UD;var VD=E.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return l.jsx(Re.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function GD(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),Z9(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=n.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...GD(n))}}),e}function Nm(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?_D(i,s):i.dispatchEvent(s)}var eN=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),s=n>i;return e==="left"||e==="right"?s&&n>r:!s&&i>r};function Q9(t=()=>{}){const e=mr(t);ar(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function Z9(t){return t.nodeType===t.ELEMENT_NODE}function J9(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function cx(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var ez=ID,HD=RD,zD=DD,WD=MD,KD=$D,qD=BD,YD=QE;function XD(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=XD(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ke(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=XD(t))&&(n&&(n+=" "),n+=e);return n}const tN=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,rN=Ke,ly=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return rN(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(u=>{const d=r==null?void 0:r[u],f=s==null?void 0:s[u];if(d===null)return null;const h=tN(d)||tN(f);return i[u][h]}),o=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(p=>{let[g,v]=p;return Array.isArray(v)?v.includes({...s,...o}[g]):{...s,...o}[g]===v})?[...u,f,h]:u},[]);return rN(t,a,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QD=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...o},c)=>E.createElement("svg",{ref:c,...rz,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:QD("lucide",i),...o},[...a.map(([u,d])=>E.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(t,e)=>{const r=E.forwardRef(({className:n,...i},s)=>E.createElement(nz,{ref:s,iconNode:e,className:QD(`lucide-${tz(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=fe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=fe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=fe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=fe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=fe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=fe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=fe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=fe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=fe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=fe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=fe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=fe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=fe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=fe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=fe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=fe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=fe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=fe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=fe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=fe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=fe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=fe("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=fe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=fe("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=fe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=fe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=fe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=fe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=fe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=fe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=fe("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=fe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=fe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=fe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=fe("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=fe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=fe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=fe("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=fe("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=fe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=fe("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=fe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=fe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=fe("Presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=fe("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=fe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=fe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=fe("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=fe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=fe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=fe("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=fe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=fe("Signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=fe("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=fe("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=fe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=fe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=fe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=fe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=fe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=fe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=fe("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=fe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=fe("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=fe("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=fe("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=fe("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=fe("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),sT="-",Oz=t=>{const e=kz(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const o=a.split(sT);return o[0]===""&&o.length!==1&&o.shift(),mM(o,e)||Iz(a)},getConflictingClassGroupIds:(a,o)=>{const c=r[a]||[];return o&&n[a]?[...c,...n[a]]:c}}},mM=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?mM(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(sT);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},iN=/^\[(.+)\]$/,Iz=t=>{if(iN.test(t)){const e=iN.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},kz=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Lz(Object.entries(t.classGroups),r).forEach(([s,a])=>{Rw(a,n,s,e)}),n},Rw=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:sN(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(Rz(i)){Rw(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,a])=>{Rw(a,sN(e,s),r,n)})})},sN=(t,e)=>{let r=t;return e.split(sT).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Rz=t=>t.isThemeGetter,Lz=(t,e)=>e?t.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[e+a,o])):s);return[r,i]}):t,Dz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,a)=>{r.set(s,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let a=r.get(s);if(a!==void 0)return a;if((a=n.get(s))!==void 0)return i(s,a),a},set(s,a){r.has(s)?r.set(s,a):i(s,a)}}},pM="!",Mz=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],s=e.length,a=o=>{const c=[];let u=0,d=0,f;for(let v=0;v<o.length;v++){let y=o[v];if(u===0){if(y===i&&(n||o.slice(v,v+s)===e)){c.push(o.slice(d,v)),d=v+s;continue}if(y==="/"){f=v;continue}}y==="["?u++:y==="]"&&u--}const h=c.length===0?o:o.substring(d),m=h.startsWith(pM),p=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:g}};return r?o=>r({className:o,parseClassName:a}):a},$z=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},Fz=t=>({cache:Dz(t.cacheSize),parseClassName:Mz(t),...Oz(t)}),Bz=/\s+/,Uz=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(Bz);let o="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let p=!!m,g=n(p?h.substring(0,m):h);if(!g){if(!p){o=u+(o.length>0?" "+o:o);continue}if(g=n(h),!g){o=u+(o.length>0?" "+o:o);continue}p=!1}const v=$z(d).join(":"),y=f?v+pM:v,x=y+g;if(s.includes(x))continue;s.push(x);const b=i(g,p);for(let S=0;S<b.length;++S){const w=b[S];s.push(y+w)}o=u+(o.length>0?" "+o:o)}return o};function Vz(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=gM(e))&&(n&&(n+=" "),n+=r);return n}const gM=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=gM(t[n]))&&(r&&(r+=" "),r+=e);return r};function Gz(t,...e){let r,n,i,s=a;function a(c){const u=e.reduce((d,f)=>f(d),t());return r=Fz(u),n=r.cache.get,i=r.cache.set,s=o,o(c)}function o(c){const u=n(c);if(u)return u;const d=Uz(c,r);return i(c,d),d}return function(){return s(Vz.apply(null,arguments))}}const It=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},vM=/^\[(?:([a-z-]+):)?(.+)\]$/i,Hz=/^\d+\/\d+$/,zz=new Set(["px","full","screen"]),Wz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Kz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Yz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Xz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bs=t=>Ic(t)||zz.has(t)||Hz.test(t),fa=t=>Zu(t,"length",iW),Ic=t=>!!t&&!Number.isNaN(Number(t)),fx=t=>Zu(t,"number",Ic),_d=t=>!!t&&Number.isInteger(Number(t)),Qz=t=>t.endsWith("%")&&Ic(t.slice(0,-1)),Xe=t=>vM.test(t),ha=t=>Wz.test(t),Zz=new Set(["length","size","percentage"]),Jz=t=>Zu(t,Zz,yM),eW=t=>Zu(t,"position",yM),tW=new Set(["image","url"]),rW=t=>Zu(t,tW,aW),nW=t=>Zu(t,"",sW),Pd=()=>!0,Zu=(t,e,r)=>{const n=vM.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},iW=t=>Kz.test(t)&&!qz.test(t),yM=()=>!1,sW=t=>Yz.test(t),aW=t=>Xz.test(t),oW=()=>{const t=It("colors"),e=It("spacing"),r=It("blur"),n=It("brightness"),i=It("borderColor"),s=It("borderRadius"),a=It("borderSpacing"),o=It("borderWidth"),c=It("contrast"),u=It("grayscale"),d=It("hueRotate"),f=It("invert"),h=It("gap"),m=It("gradientColorStops"),p=It("gradientColorStopPositions"),g=It("inset"),v=It("margin"),y=It("opacity"),x=It("padding"),b=It("saturate"),S=It("scale"),w=It("sepia"),T=It("skew"),A=It("space"),_=It("translate"),N=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",Xe,e],O=()=>[Xe,e],R=()=>["",bs,fa],k=()=>["auto",Ic,Xe],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",Xe],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[Ic,Xe];return{cacheSize:500,separator:":",theme:{colors:[Pd],spacing:[bs,fa],blur:["none","",ha,Xe],brightness:G(),borderColor:[t],borderRadius:["none","","full",ha,Xe],borderSpacing:O(),borderWidth:R(),contrast:G(),grayscale:F(),hueRotate:G(),invert:F(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[Qz,fa],inset:j(),margin:j(),opacity:G(),padding:O(),saturate:G(),scale:G(),sepia:F(),skew:G(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Xe]}],container:["container"],columns:[{columns:[ha]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),Xe]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_d,Xe]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Xe]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",_d,Xe]}],"grid-cols":[{"grid-cols":[Pd]}],"col-start-end":[{col:["auto",{span:["full",_d,Xe]},Xe]}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":[Pd]}],"row-start-end":[{row:["auto",{span:[_d,Xe]},Xe]}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Xe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Xe,e]}],"min-w":[{"min-w":[Xe,e,"min","max","fit"]}],"max-w":[{"max-w":[Xe,e,"none","full","min","max","fit","prose",{screen:[ha]},ha]}],h:[{h:[Xe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Xe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Xe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Xe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ha,fa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",fx]}],"font-family":[{font:[Pd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Xe]}],"line-clamp":[{"line-clamp":["none",Ic,fx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",bs,Xe]}],"list-image":[{"list-image":["none",Xe]}],"list-style-type":[{list:["none","disc","decimal",Xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",bs,fa]}],"underline-offset":[{"underline-offset":["auto",bs,Xe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),eW]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Jz]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},rW]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...D(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:D()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...D()]}],"outline-offset":[{"outline-offset":[bs,Xe]}],"outline-w":[{outline:[bs,fa]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[bs,fa]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ha,nW]}],"shadow-color":[{shadow:[Pd]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ha,Xe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Xe]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",Xe]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",Xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[_d,Xe]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Xe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Xe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Xe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[bs,fa,fx]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},lW=Gz(oW);function Fe(...t){return lW(Ke(t))}const cW=ez,xM=E.forwardRef(({className:t,...e},r)=>l.jsx(HD,{ref:r,className:Fe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));xM.displayName=HD.displayName;const uW=ly("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),bM=E.forwardRef(({className:t,variant:e,...r},n)=>l.jsx(zD,{ref:n,className:Fe(uW({variant:e}),t),...r}));bM.displayName=zD.displayName;const dW=E.forwardRef(({className:t,...e},r)=>l.jsx(qD,{ref:r,className:Fe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));dW.displayName=qD.displayName;const wM=E.forwardRef(({className:t,...e},r)=>l.jsx(YD,{ref:r,className:Fe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:l.jsx(uy,{className:"h-4 w-4"})}));wM.displayName=YD.displayName;const SM=E.forwardRef(({className:t,...e},r)=>l.jsx(WD,{ref:r,className:Fe("text-sm font-semibold",t),...e}));SM.displayName=WD.displayName;const EM=E.forwardRef(({className:t,...e},r)=>l.jsx(KD,{ref:r,className:Fe("text-sm opacity-90",t),...e}));EM.displayName=KD.displayName;function fW(){const{toasts:t}=Jr();return l.jsxs(cW,{children:[t.map(function({id:e,title:r,description:n,action:i,...s}){return l.jsxs(bM,{...s,children:[l.jsxs("div",{className:"grid gap-1",children:[r&&l.jsx(SM,{children:r}),n&&l.jsx(EM,{children:n})]}),i,l.jsx(wM,{})]},e)}),l.jsx(xM,{})]})}var hW=Q1[" useId ".trim().toString()]||(()=>{}),mW=0;function Gs(t){const[e,r]=E.useState(hW());return ar(()=>{r(n=>n??String(mW++))},[t]),e?`radix-${e}`:""}const pW=["top","right","bottom","left"],ao=Math.min,In=Math.max,hg=Math.round,jm=Math.floor,as=t=>({x:t,y:t}),gW={left:"right",right:"left",bottom:"top",top:"bottom"},vW={start:"end",end:"start"};function Lw(t,e,r){return In(t,ao(e,r))}function Js(t,e){return typeof t=="function"?t(e):t}function ea(t){return t.split("-")[0]}function Ju(t){return t.split("-")[1]}function aT(t){return t==="x"?"y":"x"}function oT(t){return t==="y"?"height":"width"}const yW=new Set(["top","bottom"]);function Qi(t){return yW.has(ea(t))?"y":"x"}function lT(t){return aT(Qi(t))}function xW(t,e,r){r===void 0&&(r=!1);const n=Ju(t),i=lT(t),s=oT(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=mg(a)),[a,mg(a)]}function bW(t){const e=mg(t);return[Dw(t),e,Dw(e)]}function Dw(t){return t.replace(/start|end/g,e=>vW[e])}const aN=["left","right"],oN=["right","left"],wW=["top","bottom"],SW=["bottom","top"];function EW(t,e,r){switch(t){case"top":case"bottom":return r?e?oN:aN:e?aN:oN;case"left":case"right":return e?wW:SW;default:return[]}}function TW(t,e,r,n){const i=Ju(t);let s=EW(ea(t),r==="start",n);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(Dw)))),s}function mg(t){return t.replace(/left|right|bottom|top/g,e=>gW[e])}function AW(t){return{top:0,right:0,bottom:0,left:0,...t}}function TM(t){return typeof t!="number"?AW(t):{top:t,right:t,bottom:t,left:t}}function pg(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function lN(t,e,r){let{reference:n,floating:i}=t;const s=Qi(e),a=lT(e),o=oT(a),c=ea(e),u=s==="y",d=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,h=n[o]/2-i[o]/2;let m;switch(c){case"top":m={x:d,y:n.y-i.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-i.width,y:f};break;default:m={x:n.x,y:n.y}}switch(Ju(e)){case"start":m[a]-=h*(r&&u?-1:1);break;case"end":m[a]+=h*(r&&u?-1:1);break}return m}const _W=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:a}=r,o=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=lN(u,n,c),h=n,m={},p=0;for(let g=0;g<o.length;g++){const{name:v,fn:y}=o[g],{x,y:b,data:S,reset:w}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:i,middlewareData:m,rects:u,platform:a,elements:{reference:t,floating:e}});d=x??d,f=b??f,m={...m,[v]:{...m[v],...S}},w&&p<=50&&(p++,typeof w=="object"&&(w.placement&&(h=w.placement),w.rects&&(u=w.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):w.rects),{x:d,y:f}=lN(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:m}};async function Gf(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:a,elements:o,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Js(e,t),p=TM(m),v=o[h?f==="floating"?"reference":"floating":f],y=pg(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(v)))==null||r?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),S=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},w=pg(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:b,strategy:c}):x);return{top:(y.top-w.top+p.top)/S.y,bottom:(w.bottom-y.bottom+p.bottom)/S.y,left:(y.left-w.left+p.left)/S.x,right:(w.right-y.right+p.right)/S.x}}const PW=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:s,platform:a,elements:o,middlewareData:c}=e,{element:u,padding:d=0}=Js(t,e)||{};if(u==null)return{};const f=TM(d),h={x:r,y:n},m=lT(i),p=oT(m),g=await a.getDimensions(u),v=m==="y",y=v?"top":"left",x=v?"bottom":"right",b=v?"clientHeight":"clientWidth",S=s.reference[p]+s.reference[m]-h[m]-s.floating[p],w=h[m]-s.reference[m],T=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let A=T?T[b]:0;(!A||!await(a.isElement==null?void 0:a.isElement(T)))&&(A=o.floating[b]||s.floating[p]);const _=S/2-w/2,N=A/2-g[p]/2-1,C=ao(f[y],N),j=ao(f[x],N),O=C,R=A-g[p]-j,k=A/2-g[p]/2+_,M=Lw(O,k,R),D=!c.arrow&&Ju(i)!=null&&k!==M&&s.reference[p]/2-(k<O?C:j)-g[p]/2<0,U=D?k<O?k-O:k-R:0;return{[m]:h[m]+U,data:{[m]:M,centerOffset:k-M-U,...D&&{alignmentOffset:U}},reset:D}}}),NW=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...v}=Js(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const y=ea(i),x=Qi(o),b=ea(o)===o,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),w=h||(b||!g?[mg(o)]:bW(o)),T=p!=="none";!h&&T&&w.push(...TW(o,g,p,S));const A=[o,...w],_=await Gf(e,v),N=[];let C=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&N.push(_[y]),f){const k=xW(i,a,S);N.push(_[k[0]],_[k[1]])}if(C=[...C,{placement:i,overflows:N}],!N.every(k=>k<=0)){var j,O;const k=(((j=s.flip)==null?void 0:j.index)||0)+1,M=A[k];if(M&&(!(f==="alignment"?x!==Qi(M):!1)||C.every(I=>I.overflows[0]>0&&Qi(I.placement)===x)))return{data:{index:k,overflows:C},reset:{placement:M}};let D=(O=C.filter(U=>U.overflows[0]<=0).sort((U,I)=>U.overflows[1]-I.overflows[1])[0])==null?void 0:O.placement;if(!D)switch(m){case"bestFit":{var R;const U=(R=C.filter(I=>{if(T){const F=Qi(I.placement);return F===x||F==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(F=>F>0).reduce((F,H)=>F+H,0)]).sort((I,F)=>I[1]-F[1])[0])==null?void 0:R[0];U&&(D=U);break}case"initialPlacement":D=o;break}if(i!==D)return{reset:{placement:D}}}return{}}}};function cN(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function uN(t){return pW.some(e=>t[e]>=0)}const CW=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=Js(t,e);switch(n){case"referenceHidden":{const s=await Gf(e,{...i,elementContext:"reference"}),a=cN(s,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:uN(a)}}}case"escaped":{const s=await Gf(e,{...i,altBoundary:!0}),a=cN(s,r.floating);return{data:{escapedOffsets:a,escaped:uN(a)}}}default:return{}}}}},AM=new Set(["left","top"]);async function jW(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=ea(r),o=Ju(r),c=Qi(r)==="y",u=AM.has(a)?-1:1,d=s&&c?-1:1,f=Js(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof p=="number"&&(m=o==="end"?p*-1:p),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const OW=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:a,middlewareData:o}=e,c=await jW(e,t);return a===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:a}}}}},IW=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:v=>{let{x:y,y:x}=v;return{x:y,y:x}}},...c}=Js(t,e),u={x:r,y:n},d=await Gf(e,c),f=Qi(ea(i)),h=aT(f);let m=u[h],p=u[f];if(s){const v=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=m+d[v],b=m-d[y];m=Lw(x,m,b)}if(a){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=p+d[v],b=p-d[y];p=Lw(x,p,b)}const g=o.fn({...e,[h]:m,[f]:p});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:s,[f]:a}}}}}},kW=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=Js(t,e),d={x:r,y:n},f=Qi(i),h=aT(f);let m=d[h],p=d[f];const g=Js(o,e),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=h==="y"?"height":"width",S=s.reference[h]-s.floating[b]+v.mainAxis,w=s.reference[h]+s.reference[b]-v.mainAxis;m<S?m=S:m>w&&(m=w)}if(u){var y,x;const b=h==="y"?"width":"height",S=AM.has(ea(i)),w=s.reference[f]-s.floating[b]+(S&&((y=a.offset)==null?void 0:y[f])||0)+(S?0:v.crossAxis),T=s.reference[f]+s.reference[b]+(S?0:((x=a.offset)==null?void 0:x[f])||0)-(S?v.crossAxis:0);p<w?p=w:p>T&&(p=T)}return{[h]:m,[f]:p}}}},RW=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:c=()=>{},...u}=Js(t,e),d=await Gf(e,u),f=ea(i),h=Ju(i),m=Qi(i)==="y",{width:p,height:g}=s.floating;let v,y;f==="top"||f==="bottom"?(v=f,y=h===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(y=f,v=h==="end"?"top":"bottom");const x=g-d.top-d.bottom,b=p-d.left-d.right,S=ao(g-d[v],x),w=ao(p-d[y],b),T=!e.middlewareData.shift;let A=S,_=w;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(_=b),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(A=x),T&&!h){const C=In(d.left,0),j=In(d.right,0),O=In(d.top,0),R=In(d.bottom,0);m?_=p-2*(C!==0||j!==0?C+j:In(d.left,d.right)):A=g-2*(O!==0||R!==0?O+R:In(d.top,d.bottom))}await c({...e,availableWidth:_,availableHeight:A});const N=await a.getDimensions(o.floating);return p!==N.width||g!==N.height?{reset:{rects:!0}}:{}}}};function dy(){return typeof window<"u"}function ed(t){return _M(t)?(t.nodeName||"").toLowerCase():"#document"}function $n(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ps(t){var e;return(e=(_M(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function _M(t){return dy()?t instanceof Node||t instanceof $n(t).Node:!1}function Di(t){return dy()?t instanceof Element||t instanceof $n(t).Element:!1}function ds(t){return dy()?t instanceof HTMLElement||t instanceof $n(t).HTMLElement:!1}function dN(t){return!dy()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof $n(t).ShadowRoot}const LW=new Set(["inline","contents"]);function Yh(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Mi(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!LW.has(i)}const DW=new Set(["table","td","th"]);function MW(t){return DW.has(ed(t))}const $W=[":popover-open",":modal"];function fy(t){return $W.some(e=>{try{return t.matches(e)}catch{return!1}})}const FW=["transform","translate","scale","rotate","perspective"],BW=["transform","translate","scale","rotate","perspective","filter"],UW=["paint","layout","strict","content"];function cT(t){const e=uT(),r=Di(t)?Mi(t):t;return FW.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||BW.some(n=>(r.willChange||"").includes(n))||UW.some(n=>(r.contain||"").includes(n))}function VW(t){let e=oo(t);for(;ds(e)&&!cu(e);){if(cT(e))return e;if(fy(e))return null;e=oo(e)}return null}function uT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const GW=new Set(["html","body","#document"]);function cu(t){return GW.has(ed(t))}function Mi(t){return $n(t).getComputedStyle(t)}function hy(t){return Di(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function oo(t){if(ed(t)==="html")return t;const e=t.assignedSlot||t.parentNode||dN(t)&&t.host||ps(t);return dN(e)?e.host:e}function PM(t){const e=oo(t);return cu(e)?t.ownerDocument?t.ownerDocument.body:t.body:ds(e)&&Yh(e)?e:PM(e)}function Hf(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=PM(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),a=$n(i);if(s){const o=Mw(a);return e.concat(a,a.visualViewport||[],Yh(i)?i:[],o&&r?Hf(o):[])}return e.concat(i,Hf(i,[],r))}function Mw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function NM(t){const e=Mi(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=ds(t),s=i?t.offsetWidth:r,a=i?t.offsetHeight:n,o=hg(r)!==s||hg(n)!==a;return o&&(r=s,n=a),{width:r,height:n,$:o}}function dT(t){return Di(t)?t:t.contextElement}function kc(t){const e=dT(t);if(!ds(e))return as(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=NM(e);let a=(s?hg(r.width):r.width)/n,o=(s?hg(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const HW=as(0);function CM(t){const e=$n(t);return!uT()||!e.visualViewport?HW:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function zW(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==$n(t)?!1:e}function bl(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=dT(t);let a=as(1);e&&(n?Di(n)&&(a=kc(n)):a=kc(t));const o=zW(s,r,n)?CM(s):as(0);let c=(i.left+o.x)/a.x,u=(i.top+o.y)/a.y,d=i.width/a.x,f=i.height/a.y;if(s){const h=$n(s),m=n&&Di(n)?$n(n):n;let p=h,g=Mw(p);for(;g&&n&&m!==p;){const v=kc(g),y=g.getBoundingClientRect(),x=Mi(g),b=y.left+(g.clientLeft+parseFloat(x.paddingLeft))*v.x,S=y.top+(g.clientTop+parseFloat(x.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=b,u+=S,p=$n(g),g=Mw(p)}}return pg({width:d,height:f,x:c,y:u})}function fT(t,e){const r=hy(t).scrollLeft;return e?e.left+r:bl(ps(t)).left+r}function jM(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:fT(t,n)),s=n.top+e.scrollTop;return{x:i,y:s}}function WW(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",a=ps(n),o=e?fy(e.floating):!1;if(n===a||o&&s)return r;let c={scrollLeft:0,scrollTop:0},u=as(1);const d=as(0),f=ds(n);if((f||!f&&!s)&&((ed(n)!=="body"||Yh(a))&&(c=hy(n)),ds(n))){const m=bl(n);u=kc(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=a&&!f&&!s?jM(a,c,!0):as(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function KW(t){return Array.from(t.getClientRects())}function qW(t){const e=ps(t),r=hy(t),n=t.ownerDocument.body,i=In(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=In(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+fT(t);const o=-r.scrollTop;return Mi(n).direction==="rtl"&&(a+=In(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:a,y:o}}function YW(t,e){const r=$n(t),n=ps(t),i=r.visualViewport;let s=n.clientWidth,a=n.clientHeight,o=0,c=0;if(i){s=i.width,a=i.height;const u=uT();(!u||u&&e==="fixed")&&(o=i.offsetLeft,c=i.offsetTop)}return{width:s,height:a,x:o,y:c}}const XW=new Set(["absolute","fixed"]);function QW(t,e){const r=bl(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=ds(t)?kc(t):as(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,c=i*s.x,u=n*s.y;return{width:a,height:o,x:c,y:u}}function fN(t,e,r){let n;if(e==="viewport")n=YW(t,r);else if(e==="document")n=qW(ps(t));else if(Di(e))n=QW(e,r);else{const i=CM(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return pg(n)}function OM(t,e){const r=oo(t);return r===e||!Di(r)||cu(r)?!1:Mi(r).position==="fixed"||OM(r,e)}function ZW(t,e){const r=e.get(t);if(r)return r;let n=Hf(t,[],!1).filter(o=>Di(o)&&ed(o)!=="body"),i=null;const s=Mi(t).position==="fixed";let a=s?oo(t):t;for(;Di(a)&&!cu(a);){const o=Mi(a),c=cT(a);!c&&o.position==="fixed"&&(i=null),(s?!c&&!i:!c&&o.position==="static"&&!!i&&XW.has(i.position)||Yh(a)&&!c&&OM(t,a))?n=n.filter(d=>d!==a):i=o,a=oo(a)}return e.set(t,n),n}function JW(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const a=[...r==="clippingAncestors"?fy(e)?[]:ZW(e,this._c):[].concat(r),n],o=a[0],c=a.reduce((u,d)=>{const f=fN(e,d,i);return u.top=In(f.top,u.top),u.right=ao(f.right,u.right),u.bottom=ao(f.bottom,u.bottom),u.left=In(f.left,u.left),u},fN(e,o,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function eK(t){const{width:e,height:r}=NM(t);return{width:e,height:r}}function tK(t,e,r){const n=ds(e),i=ps(e),s=r==="fixed",a=bl(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const c=as(0);function u(){c.x=fT(i)}if(n||!n&&!s)if((ed(e)!=="body"||Yh(i))&&(o=hy(e)),n){const m=bl(e,!0,s,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else i&&u();s&&!n&&i&&u();const d=i&&!n&&!s?jM(i,o):as(0),f=a.left+o.scrollLeft-c.x-d.x,h=a.top+o.scrollTop-c.y-d.y;return{x:f,y:h,width:a.width,height:a.height}}function hx(t){return Mi(t).position==="static"}function hN(t,e){if(!ds(t)||Mi(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return ps(t)===r&&(r=r.ownerDocument.body),r}function IM(t,e){const r=$n(t);if(fy(t))return r;if(!ds(t)){let i=oo(t);for(;i&&!cu(i);){if(Di(i)&&!hx(i))return i;i=oo(i)}return r}let n=hN(t,e);for(;n&&MW(n)&&hx(n);)n=hN(n,e);return n&&cu(n)&&hx(n)&&!cT(n)?r:n||VW(t)||r}const rK=async function(t){const e=this.getOffsetParent||IM,r=this.getDimensions,n=await r(t.floating);return{reference:tK(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function nK(t){return Mi(t).direction==="rtl"}const iK={convertOffsetParentRelativeRectToViewportRelativeRect:WW,getDocumentElement:ps,getClippingRect:JW,getOffsetParent:IM,getElementRects:rK,getClientRects:KW,getDimensions:eK,getScale:kc,isElement:Di,isRTL:nK};function kM(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function sK(t,e){let r=null,n;const i=ps(t);function s(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function a(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(o||e(),!h||!m)return;const p=jm(f),g=jm(i.clientWidth-(d+h)),v=jm(i.clientHeight-(f+m)),y=jm(d),b={rootMargin:-p+"px "+-g+"px "+-v+"px "+-y+"px",threshold:In(0,ao(1,c))||1};let S=!0;function w(T){const A=T[0].intersectionRatio;if(A!==c){if(!S)return a();A?a(!1,A):n=setTimeout(()=>{a(!1,1e-7)},1e3)}A===1&&!kM(u,t.getBoundingClientRect())&&a(),S=!1}try{r=new IntersectionObserver(w,{...b,root:i.ownerDocument})}catch{r=new IntersectionObserver(w,b)}r.observe(t)}return a(!0),s}function aK(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=dT(t),d=i||s?[...u?Hf(u):[],...Hf(e)]:[];d.forEach(y=>{i&&y.addEventListener("scroll",r,{passive:!0}),s&&y.addEventListener("resize",r)});const f=u&&o?sK(u,r):null;let h=-1,m=null;a&&(m=new ResizeObserver(y=>{let[x]=y;x&&x.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(e)})),r()}),u&&!c&&m.observe(u),m.observe(e));let p,g=c?bl(t):null;c&&v();function v(){const y=bl(t);g&&!kM(g,y)&&r(),g=y,p=requestAnimationFrame(v)}return r(),()=>{var y;d.forEach(x=>{i&&x.removeEventListener("scroll",r),s&&x.removeEventListener("resize",r)}),f==null||f(),(y=m)==null||y.disconnect(),m=null,c&&cancelAnimationFrame(p)}}const oK=OW,lK=IW,cK=NW,uK=RW,dK=CW,mN=PW,fK=kW,hK=(t,e,r)=>{const n=new Map,i={platform:iK,...r},s={...i.platform,_c:n};return _W(t,e,{...i,platform:s})};var mK=typeof document<"u",pK=function(){},Ap=mK?E.useLayoutEffect:pK;function gg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!gg(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!gg(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function RM(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function pN(t,e){const r=RM(t);return Math.round(e*r)/r}function mx(t){const e=E.useRef(t);return Ap(()=>{e.current=t}),e}function gK(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:c,open:u}=t,[d,f]=E.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=E.useState(n);gg(h,n)||m(n);const[p,g]=E.useState(null),[v,y]=E.useState(null),x=E.useCallback(I=>{I!==T.current&&(T.current=I,g(I))},[]),b=E.useCallback(I=>{I!==A.current&&(A.current=I,y(I))},[]),S=s||p,w=a||v,T=E.useRef(null),A=E.useRef(null),_=E.useRef(d),N=c!=null,C=mx(c),j=mx(i),O=mx(u),R=E.useCallback(()=>{if(!T.current||!A.current)return;const I={placement:e,strategy:r,middleware:h};j.current&&(I.platform=j.current),hK(T.current,A.current,I).then(F=>{const H={...F,isPositioned:O.current!==!1};k.current&&!gg(_.current,H)&&(_.current=H,Fl.flushSync(()=>{f(H)}))})},[h,e,r,j,O]);Ap(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,f(I=>({...I,isPositioned:!1})))},[u]);const k=E.useRef(!1);Ap(()=>(k.current=!0,()=>{k.current=!1}),[]),Ap(()=>{if(S&&(T.current=S),w&&(A.current=w),S&&w){if(C.current)return C.current(S,w,R);R()}},[S,w,R,C,N]);const M=E.useMemo(()=>({reference:T,floating:A,setReference:x,setFloating:b}),[x,b]),D=E.useMemo(()=>({reference:S,floating:w}),[S,w]),U=E.useMemo(()=>{const I={position:r,left:0,top:0};if(!D.floating)return I;const F=pN(D.floating,d.x),H=pN(D.floating,d.y);return o?{...I,transform:"translate("+F+"px, "+H+"px)",...RM(D.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:F,top:H}},[r,o,D.floating,d.x,d.y]);return E.useMemo(()=>({...d,update:R,refs:M,elements:D,floatingStyles:U}),[d,R,M,D,U])}const vK=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?mN({element:n.current,padding:i}).fn(r):{}:n?mN({element:n,padding:i}).fn(r):{}}}},yK=(t,e)=>({...oK(t),options:[t,e]}),xK=(t,e)=>({...lK(t),options:[t,e]}),bK=(t,e)=>({...fK(t),options:[t,e]}),wK=(t,e)=>({...cK(t),options:[t,e]}),SK=(t,e)=>({...uK(t),options:[t,e]}),EK=(t,e)=>({...dK(t),options:[t,e]}),TK=(t,e)=>({...vK(t),options:[t,e]});var AK="Arrow",LM=E.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return l.jsx(Re.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});LM.displayName=AK;var _K=LM;function hT(t){const[e,r]=E.useState(void 0);return ar(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,o=u.blockSize}else a=t.offsetWidth,o=t.offsetHeight;r({width:a,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var mT="Popper",[DM,td]=zn(mT),[PK,MM]=DM(mT),$M=t=>{const{__scopePopper:e,children:r}=t,[n,i]=E.useState(null);return l.jsx(PK,{scope:e,anchor:n,onAnchorChange:i,children:r})};$M.displayName=mT;var FM="PopperAnchor",BM=E.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=MM(FM,r),a=E.useRef(null),o=Ye(e,a);return E.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:l.jsx(Re.div,{...i,ref:o})});BM.displayName=FM;var pT="PopperContent",[NK,CK]=DM(pT),UM=E.forwardRef((t,e)=>{var re,Ee,te,oe,he,X;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:p,...g}=t,v=MM(pT,r),[y,x]=E.useState(null),b=Ye(e,Ve=>x(Ve)),[S,w]=E.useState(null),T=hT(S),A=(T==null?void 0:T.width)??0,_=(T==null?void 0:T.height)??0,N=n+(s!=="center"?"-"+s:""),C=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},j=Array.isArray(u)?u:[u],O=j.length>0,R={padding:C,boundary:j.filter(OK),altBoundary:O},{refs:k,floatingStyles:M,placement:D,isPositioned:U,middlewareData:I}=gK({strategy:"fixed",placement:N,whileElementsMounted:(...Ve)=>aK(...Ve,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[yK({mainAxis:i+_,alignmentAxis:a}),c&&xK({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?bK():void 0,...R}),c&&wK({...R}),SK({...R,apply:({elements:Ve,rects:Le,availableWidth:lt,availableHeight:Te})=>{const{width:We,height:bt}=Le.reference,Kt=Ve.floating.style;Kt.setProperty("--radix-popper-available-width",`${lt}px`),Kt.setProperty("--radix-popper-available-height",`${Te}px`),Kt.setProperty("--radix-popper-anchor-width",`${We}px`),Kt.setProperty("--radix-popper-anchor-height",`${bt}px`)}}),S&&TK({element:S,padding:o}),IK({arrowWidth:A,arrowHeight:_}),h&&EK({strategy:"referenceHidden",...R})]}),[F,H]=HM(D),G=mr(p);ar(()=>{U&&(G==null||G())},[U,G]);const V=(re=I.arrow)==null?void 0:re.x,ne=(Ee=I.arrow)==null?void 0:Ee.y,ce=((te=I.arrow)==null?void 0:te.centerOffset)!==0,[Se,J]=E.useState();return ar(()=>{y&&J(window.getComputedStyle(y).zIndex)},[y]),l.jsx("div",{ref:k.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:U?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[(oe=I.transformOrigin)==null?void 0:oe.x,(he=I.transformOrigin)==null?void 0:he.y].join(" "),...((X=I.hide)==null?void 0:X.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(NK,{scope:r,placedSide:F,onArrowChange:w,arrowX:V,arrowY:ne,shouldHideArrow:ce,children:l.jsx(Re.div,{"data-side":F,"data-align":H,...g,ref:b,style:{...g.style,animation:U?void 0:"none"}})})})});UM.displayName=pT;var VM="PopperArrow",jK={top:"bottom",right:"left",bottom:"top",left:"right"},GM=E.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=CK(VM,n),a=jK[s.placedSide];return l.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:l.jsx(_K,{...i,ref:r,style:{...i.style,display:"block"}})})});GM.displayName=VM;function OK(t){return t!==null}var IK=t=>({name:"transformOrigin",options:t,fn(e){var v,y,x;const{placement:r,rects:n,middlewareData:i}=e,a=((v=i.arrow)==null?void 0:v.centerOffset)!==0,o=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,d]=HM(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=i.arrow)==null?void 0:y.x)??0)+o/2,m=(((x=i.arrow)==null?void 0:x.y)??0)+c/2;let p="",g="";return u==="bottom"?(p=a?f:`${h}px`,g=`${-c}px`):u==="top"?(p=a?f:`${h}px`,g=`${n.floating.height+c}px`):u==="right"?(p=`${-c}px`,g=a?f:`${m}px`):u==="left"&&(p=`${n.floating.width+c}px`,g=a?f:`${m}px`),{data:{x:p,y:g}}}});function HM(t){const[e,r="center"]=t.split("-");return[e,r]}var zM=$M,my=BM,gT=UM,vT=GM,[py,Cje]=zn("Tooltip",[td]),yT=td(),WM="TooltipProvider",kK=700,gN="tooltip.open",[RK,KM]=py(WM),qM=t=>{const{__scopeTooltip:e,delayDuration:r=kK,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=t,a=E.useRef(!0),o=E.useRef(!1),c=E.useRef(0);return E.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(RK,{scope:e,isOpenDelayedRef:a,delayDuration:r,onOpen:E.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:E.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:E.useCallback(u=>{o.current=u},[]),disableHoverableContent:i,children:s})};qM.displayName=WM;var YM="Tooltip",[jje,gy]=py(YM),$w="TooltipTrigger",LK=E.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=gy($w,r),s=KM($w,r),a=yT(r),o=E.useRef(null),c=Ye(e,o,i.onTriggerChange),u=E.useRef(!1),d=E.useRef(!1),f=E.useCallback(()=>u.current=!1,[]);return E.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(my,{asChild:!0,...a,children:l.jsx(Re.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:we(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:we(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:we(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:we(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:we(t.onBlur,i.onClose),onClick:we(t.onClick,i.onClose)})})});LK.displayName=$w;var DK="TooltipPortal",[Oje,MK]=py(DK,{forceMount:void 0}),uu="TooltipContent",XM=E.forwardRef((t,e)=>{const r=MK(uu,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=t,a=gy(uu,t.__scopeTooltip);return l.jsx(Wn,{present:n||a.open,children:a.disableHoverableContent?l.jsx(QM,{side:i,...s,ref:e}):l.jsx($K,{side:i,...s,ref:e})})}),$K=E.forwardRef((t,e)=>{const r=gy(uu,t.__scopeTooltip),n=KM(uu,t.__scopeTooltip),i=E.useRef(null),s=Ye(e,i),[a,o]=E.useState(null),{trigger:c,onClose:u}=r,d=i.current,{onPointerInTransitChange:f}=n,h=E.useCallback(()=>{o(null),f(!1)},[f]),m=E.useCallback((p,g)=>{const v=p.currentTarget,y={x:p.clientX,y:p.clientY},x=GK(y,v.getBoundingClientRect()),b=HK(y,x),S=zK(g.getBoundingClientRect()),w=KK([...b,...S]);o(w),f(!0)},[f]);return E.useEffect(()=>()=>h(),[h]),E.useEffect(()=>{if(c&&d){const p=v=>m(v,d),g=v=>m(v,c);return c.addEventListener("pointerleave",p),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",p),d.removeEventListener("pointerleave",g)}}},[c,d,m,h]),E.useEffect(()=>{if(a){const p=g=>{const v=g.target,y={x:g.clientX,y:g.clientY},x=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),b=!WK(y,a);x?h():b&&(h(),u())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[c,d,a,u,h]),l.jsx(QM,{...t,ref:s})}),[FK,BK]=py(YM,{isInside:!1}),UK=m9("TooltipContent"),QM=E.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=t,c=gy(uu,r),u=yT(r),{onClose:d}=c;return E.useEffect(()=>(document.addEventListener(gN,d),()=>document.removeEventListener(gN,d)),[d]),E.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(Qu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(gT,{"data-state":c.stateAttribute,...u,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(UK,{children:n}),l.jsx(FK,{scope:r,isInside:!0,children:l.jsx(D9,{id:c.contentId,role:"tooltip",children:i||n})})]})})});XM.displayName=uu;var ZM="TooltipArrow",VK=E.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=yT(r);return BK(ZM,r).isInside?null:l.jsx(vT,{...i,...n,ref:e})});VK.displayName=ZM;function GK(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function HK(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function zK(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function WK(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],c=e[a],u=o.x,d=o.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(i=!i)}return i}function KK(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),qK(e)}function qK(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const s=r[r.length-1],a=r[r.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var YK=qM,JM=XM;const XK=YK,QK=E.forwardRef(({className:t,sideOffset:e=4,...r},n)=>l.jsx(JM,{ref:n,sideOffset:e,className:Fe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...r}));QK.displayName=JM.displayName;const e$=E.createContext(null);function ZK({children:t}){const{toast:e}=Jr(),{data:r,error:n,isLoading:i}=it({queryKey:["/api/user"],queryFn:async()=>{try{const o=await fetch("/api/user");if(o.status===401)return null;if(!o.ok)throw new Error("Failed to fetch user");return o.json()}catch{return null}}}),s=Ar({mutationFn:async o=>await(await zt("POST","/api/login",o)).json(),onSuccess:o=>{us.setQueryData(["/api/user"],o.user),e({title:"Login successful",description:"Welcome to the admin panel!"})},onError:o=>{e({title:"Login failed",description:o.message,variant:"destructive"})}}),a=Ar({mutationFn:async()=>{await zt("POST","/api/logout")},onSuccess:()=>{us.setQueryData(["/api/user"],null),e({title:"Logout successful",description:"You have been logged out."})},onError:o=>{e({title:"Logout failed",description:o.message,variant:"destructive"})}});return l.jsx(e$.Provider,{value:{user:r??null,isLoading:i,error:n,loginMutation:s,logoutMutation:a},children:t})}function xT(){const t=E.useContext(e$);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}const JK={theme:"system",setTheme:()=>null},t$=E.createContext(JK);function e7({children:t,defaultTheme:e="system",storageKey:r="vite-ui-theme",...n}){const[i,s]=E.useState(()=>localStorage.getItem(r)||e);E.useEffect(()=>{const o=window.document.documentElement;if(o.classList.remove("light","dark"),i==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";o.classList.add(c);return}o.classList.add(i)},[i]);const a={theme:i,setTheme:o=>{localStorage.setItem(r,o),s(o)}};return l.jsx(t$.Provider,{...n,value:a,children:t})}const t7=()=>{const t=E.useContext(t$);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},r7=ly("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Q=E.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},s)=>{const a=n?TD:"button";return l.jsx(a,{className:Fe(r7({variant:e,size:r,className:t})),ref:s,...i})});Q.displayName="Button";var px="focusScope.autoFocusOnMount",gx="focusScope.autoFocusOnUnmount",vN={bubbles:!1,cancelable:!0},n7="FocusScope",vy=E.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[o,c]=E.useState(null),u=mr(i),d=mr(s),f=E.useRef(null),h=Ye(e,g=>c(g)),m=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(n){let g=function(b){if(m.paused||!o)return;const S=b.target;o.contains(S)?f.current=S:va(f.current,{select:!0})},v=function(b){if(m.paused||!o)return;const S=b.relatedTarget;S!==null&&(o.contains(S)||va(f.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const w of b)w.removedNodes.length>0&&va(o)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const x=new MutationObserver(y);return o&&x.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),x.disconnect()}}},[n,o,m.paused]),E.useEffect(()=>{if(o){xN.add(m);const g=document.activeElement;if(!o.contains(g)){const y=new CustomEvent(px,vN);o.addEventListener(px,u),o.dispatchEvent(y),y.defaultPrevented||(i7(c7(r$(o)),{select:!0}),document.activeElement===g&&va(o))}return()=>{o.removeEventListener(px,u),setTimeout(()=>{const y=new CustomEvent(gx,vN);o.addEventListener(gx,d),o.dispatchEvent(y),y.defaultPrevented||va(g??document.body,{select:!0}),o.removeEventListener(gx,d),xN.remove(m)},0)}}},[o,u,d,m]);const p=E.useCallback(g=>{if(!r&&!n||m.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(v&&y){const x=g.currentTarget,[b,S]=s7(x);b&&S?!g.shiftKey&&y===S?(g.preventDefault(),r&&va(b,{select:!0})):g.shiftKey&&y===b&&(g.preventDefault(),r&&va(S,{select:!0})):y===x&&g.preventDefault()}},[r,n,m.paused]);return l.jsx(Re.div,{tabIndex:-1,...a,ref:h,onKeyDown:p})});vy.displayName=n7;function i7(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(va(n,{select:e}),document.activeElement!==r)return}function s7(t){const e=r$(t),r=yN(e,t),n=yN(e.reverse(),t);return[r,n]}function r$(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function yN(t,e){for(const r of t)if(!a7(r,{upTo:e}))return r}function a7(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function o7(t){return t instanceof HTMLInputElement&&"select"in t}function va(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&o7(t)&&e&&t.select()}}var xN=l7();function l7(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=bN(t,e),t.unshift(e)},remove(e){var r;t=bN(t,e),(r=t[0])==null||r.resume()}}}function bN(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function c7(t){return t.filter(e=>e.tagName!=="A")}var vx=0;function bT(){E.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??wN()),document.body.insertAdjacentElement("beforeend",t[1]??wN()),vx++,()=>{vx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),vx--}},[])}function wN(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Xi=function(){return Xi=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Xi.apply(this,arguments)};function n$(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function u7(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var _p="right-scroll-bar-position",Pp="width-before-scroll-bar",d7="with-scroll-bars-hidden",f7="--removed-body-scroll-bar-size";function yx(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function h7(t,e){var r=E.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var m7=typeof window<"u"?E.useLayoutEffect:E.useEffect,SN=new WeakMap;function p7(t,e){var r=h7(null,function(n){return t.forEach(function(i){return yx(i,n)})});return m7(function(){var n=SN.get(r);if(n){var i=new Set(n),s=new Set(t),a=r.current;i.forEach(function(o){s.has(o)||yx(o,null)}),s.forEach(function(o){i.has(o)||yx(o,a)})}SN.set(r,t)},[t]),r}function g7(t){return t}function v7(t,e){e===void 0&&(e=g7);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var a=e(s,n);return r.push(a),function(){r=r.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(n=!0;r.length;){var a=r;r=[],a.forEach(s)}r={push:function(o){return s(o)},filter:function(){return r}}},assignMedium:function(s){n=!0;var a=[];if(r.length){var o=r;r=[],o.forEach(s),a=r}var c=function(){var d=a;a=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),r}}}};return i}function y7(t){t===void 0&&(t={});var e=v7(null);return e.options=Xi({async:!0,ssr:!1},t),e}var i$=function(t){var e=t.sideCar,r=n$(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return E.createElement(n,Xi({},r))};i$.isSideCarExport=!0;function x7(t,e){return t.useMedium(e),i$}var s$=y7(),xx=function(){},yy=E.forwardRef(function(t,e){var r=E.useRef(null),n=E.useState({onScrollCapture:xx,onWheelCapture:xx,onTouchMoveCapture:xx}),i=n[0],s=n[1],a=t.forwardProps,o=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,m=t.noRelative,p=t.noIsolation,g=t.inert,v=t.allowPinchZoom,y=t.as,x=y===void 0?"div":y,b=t.gapMode,S=n$(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=h,T=p7([r,e]),A=Xi(Xi({},S),i);return E.createElement(E.Fragment,null,d&&E.createElement(w,{sideCar:s$,removeScrollBar:u,shards:f,noRelative:m,noIsolation:p,inert:g,setCallbacks:s,allowPinchZoom:!!v,lockRef:r,gapMode:b}),a?E.cloneElement(E.Children.only(o),Xi(Xi({},A),{ref:T})):E.createElement(x,Xi({},A,{className:c,ref:T}),o))});yy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};yy.classNames={fullWidth:Pp,zeroRight:_p};var b7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function w7(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=b7();return e&&t.setAttribute("nonce",e),t}function S7(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function E7(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var T7=function(){var t=0,e=null;return{add:function(r){t==0&&(e=w7())&&(S7(e,r),E7(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},A7=function(){var t=T7();return function(e,r){E.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},a$=function(){var t=A7(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},_7={left:0,top:0,right:0,gap:0},bx=function(t){return parseInt(t||"",10)||0},P7=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[bx(r),bx(n),bx(i)]},N7=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return _7;var e=P7(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},C7=a$(),Rc="data-scroll-locked",j7=function(t,e,r,n){var i=t.left,s=t.top,a=t.right,o=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(d7,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(Rc,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_p,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(Pp,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(_p," .").concat(_p,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Pp," .").concat(Pp,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Rc,`] {
    `).concat(f7,": ").concat(o,`px;
  }
`)},EN=function(){var t=parseInt(document.body.getAttribute(Rc)||"0",10);return isFinite(t)?t:0},O7=function(){E.useEffect(function(){return document.body.setAttribute(Rc,(EN()+1).toString()),function(){var t=EN()-1;t<=0?document.body.removeAttribute(Rc):document.body.setAttribute(Rc,t.toString())}},[])},I7=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;O7();var s=E.useMemo(function(){return N7(i)},[i]);return E.createElement(C7,{styles:j7(s,!e,i,r?"":"!important")})},Fw=!1;if(typeof window<"u")try{var Om=Object.defineProperty({},"passive",{get:function(){return Fw=!0,!0}});window.addEventListener("test",Om,Om),window.removeEventListener("test",Om,Om)}catch{Fw=!1}var Kl=Fw?{passive:!1}:!1,k7=function(t){return t.tagName==="TEXTAREA"},o$=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!k7(t)&&r[e]==="visible")},R7=function(t){return o$(t,"overflowY")},L7=function(t){return o$(t,"overflowX")},TN=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=l$(t,n);if(i){var s=c$(t,n),a=s[1],o=s[2];if(a>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},D7=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},M7=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},l$=function(t,e){return t==="v"?R7(e):L7(e)},c$=function(t,e){return t==="v"?D7(e):M7(e)},$7=function(t,e){return t==="h"&&e==="rtl"?-1:1},F7=function(t,e,r,n,i){var s=$7(t,window.getComputedStyle(e).direction),a=s*n,o=r.target,c=e.contains(o),u=!1,d=a>0,f=0,h=0;do{if(!o)break;var m=c$(t,o),p=m[0],g=m[1],v=m[2],y=g-v-s*p;(p||y)&&l$(t,o)&&(f+=y,h+=p);var x=o.parentNode;o=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&o!==document.body||c&&(e.contains(o)||e===o));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Im=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},AN=function(t){return[t.deltaX,t.deltaY]},_N=function(t){return t&&"current"in t?t.current:t},B7=function(t,e){return t[0]===e[0]&&t[1]===e[1]},U7=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},V7=0,ql=[];function G7(t){var e=E.useRef([]),r=E.useRef([0,0]),n=E.useRef(),i=E.useState(V7++)[0],s=E.useState(a$)[0],a=E.useRef(t);E.useEffect(function(){a.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=u7([t.lockRef.current],(t.shards||[]).map(_N),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=E.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var y=Im(g),x=r.current,b="deltaX"in g?g.deltaX:x[0]-y[0],S="deltaY"in g?g.deltaY:x[1]-y[1],w,T=g.target,A=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in g&&A==="h"&&T.type==="range")return!1;var _=TN(A,T);if(!_)return!0;if(_?w=A:(w=A==="v"?"h":"v",_=TN(A,T)),!_)return!1;if(!n.current&&"changedTouches"in g&&(b||S)&&(n.current=w),!w)return!0;var N=n.current||w;return F7(N,v,g,N==="h"?b:S)},[]),c=E.useCallback(function(g){var v=g;if(!(!ql.length||ql[ql.length-1]!==s)){var y="deltaY"in v?AN(v):Im(v),x=e.current.filter(function(w){return w.name===v.type&&(w.target===v.target||v.target===w.shadowParent)&&B7(w.delta,y)})[0];if(x&&x.should){v.cancelable&&v.preventDefault();return}if(!x){var b=(a.current.shards||[]).map(_N).filter(Boolean).filter(function(w){return w.contains(v.target)}),S=b.length>0?o(v,b[0]):!a.current.noIsolation;S&&v.cancelable&&v.preventDefault()}}},[]),u=E.useCallback(function(g,v,y,x){var b={name:g,delta:v,target:y,should:x,shadowParent:H7(y)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(S){return S!==b})},1)},[]),d=E.useCallback(function(g){r.current=Im(g),n.current=void 0},[]),f=E.useCallback(function(g){u(g.type,AN(g),g.target,o(g,t.lockRef.current))},[]),h=E.useCallback(function(g){u(g.type,Im(g),g.target,o(g,t.lockRef.current))},[]);E.useEffect(function(){return ql.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Kl),document.addEventListener("touchmove",c,Kl),document.addEventListener("touchstart",d,Kl),function(){ql=ql.filter(function(g){return g!==s}),document.removeEventListener("wheel",c,Kl),document.removeEventListener("touchmove",c,Kl),document.removeEventListener("touchstart",d,Kl)}},[]);var m=t.removeScrollBar,p=t.inert;return E.createElement(E.Fragment,null,p?E.createElement(s,{styles:U7(i)}):null,m?E.createElement(I7,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function H7(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const z7=x7(s$,G7);var xy=E.forwardRef(function(t,e){return E.createElement(yy,Xi({},t,{ref:e,sideCar:z7}))});xy.classNames=yy.classNames;var W7=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Yl=new WeakMap,km=new WeakMap,Rm={},wx=0,u$=function(t){return t&&(t.host||u$(t.parentNode))},K7=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=u$(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},q7=function(t,e,r,n){var i=K7(e,Array.isArray(t)?t:[t]);Rm[r]||(Rm[r]=new WeakMap);var s=Rm[r],a=[],o=new Set,c=new Set(i),u=function(f){!f||o.has(f)||(o.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))d(h);else try{var m=h.getAttribute(n),p=m!==null&&m!=="false",g=(Yl.get(h)||0)+1,v=(s.get(h)||0)+1;Yl.set(h,g),s.set(h,v),a.push(h),g===1&&p&&km.set(h,!0),v===1&&h.setAttribute(r,"true"),p||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(e),o.clear(),wx++,function(){a.forEach(function(f){var h=Yl.get(f)-1,m=s.get(f)-1;Yl.set(f,h),s.set(f,m),h||(km.has(f)||f.removeAttribute(n),km.delete(f)),m||f.removeAttribute(r)}),wx--,wx||(Yl=new WeakMap,Yl=new WeakMap,km=new WeakMap,Rm={})}},wT=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=W7(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),q7(n,i,r,"aria-hidden")):function(){return null}},by="Dialog",[d$,Ije]=zn(by),[Y7,$i]=d$(by),f$=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,o=E.useRef(null),c=E.useRef(null),[u,d]=Zs({prop:n,defaultProp:i??!1,onChange:s,caller:by});return l.jsx(Y7,{scope:e,triggerRef:o,contentRef:c,contentId:Gs(),titleId:Gs(),descriptionId:Gs(),open:u,onOpenChange:d,onOpenToggle:E.useCallback(()=>d(f=>!f),[d]),modal:a,children:r})};f$.displayName=by;var h$="DialogTrigger",m$=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=$i(h$,r),s=Ye(e,i.triggerRef);return l.jsx(Re.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":TT(i.open),...n,ref:s,onClick:we(t.onClick,i.onOpenToggle)})});m$.displayName=h$;var ST="DialogPortal",[X7,p$]=d$(ST,{forceMount:void 0}),g$=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,s=$i(ST,e);return l.jsx(X7,{scope:e,forceMount:r,children:E.Children.map(n,a=>l.jsx(Wn,{present:r||s.open,children:l.jsx(Kh,{asChild:!0,container:i,children:a})}))})};g$.displayName=ST;var vg="DialogOverlay",v$=E.forwardRef((t,e)=>{const r=p$(vg,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=$i(vg,t.__scopeDialog);return s.modal?l.jsx(Wn,{present:n||s.open,children:l.jsx(Z7,{...i,ref:e})}):null});v$.displayName=vg;var Q7=gl("DialogOverlay.RemoveScroll"),Z7=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=$i(vg,r);return l.jsx(xy,{as:Q7,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(Re.div,{"data-state":TT(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),wl="DialogContent",y$=E.forwardRef((t,e)=>{const r=p$(wl,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=$i(wl,t.__scopeDialog);return l.jsx(Wn,{present:n||s.open,children:s.modal?l.jsx(J7,{...i,ref:e}):l.jsx(eq,{...i,ref:e})})});y$.displayName=wl;var J7=E.forwardRef((t,e)=>{const r=$i(wl,t.__scopeDialog),n=E.useRef(null),i=Ye(e,r.contentRef,n);return E.useEffect(()=>{const s=n.current;if(s)return wT(s)},[]),l.jsx(x$,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:we(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:we(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:we(t.onFocusOutside,s=>s.preventDefault())})}),eq=E.forwardRef((t,e)=>{const r=$i(wl,t.__scopeDialog),n=E.useRef(!1),i=E.useRef(!1);return l.jsx(x$,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),x$=E.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,o=$i(wl,r),c=E.useRef(null),u=Ye(e,c);return bT(),l.jsxs(l.Fragment,{children:[l.jsx(vy,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:l.jsx(Qu,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":TT(o.open),...a,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(tq,{titleId:o.titleId}),l.jsx(nq,{contentRef:c,descriptionId:o.descriptionId})]})]})}),ET="DialogTitle",b$=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=$i(ET,r);return l.jsx(Re.h2,{id:i.titleId,...n,ref:e})});b$.displayName=ET;var w$="DialogDescription",S$=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=$i(w$,r);return l.jsx(Re.p,{id:i.descriptionId,...n,ref:e})});S$.displayName=w$;var E$="DialogClose",T$=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=$i(E$,r);return l.jsx(Re.button,{type:"button",...n,ref:e,onClick:we(t.onClick,()=>i.onOpenChange(!1))})});T$.displayName=E$;function TT(t){return t?"open":"closed"}var A$="DialogTitleWarning",[kje,_$]=d9(A$,{contentName:wl,titleName:ET,docsSlug:"dialog"}),tq=({titleId:t})=>{const e=_$(A$),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return E.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},rq="DialogDescriptionWarning",nq=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_$(rq).contentName}}.`;return E.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},iq=f$,sq=m$,aq=g$,P$=v$,N$=y$,C$=b$,j$=S$,oq=T$;const Sl=iq,AT=sq,lq=aq,O$=E.forwardRef(({className:t,...e},r)=>l.jsx(P$,{ref:r,className:Fe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));O$.displayName=P$.displayName;const lo=E.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(lq,{children:[l.jsx(O$,{}),l.jsxs(N$,{ref:n,className:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,l.jsxs(oq,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(uy,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));lo.displayName=N$.displayName;const El=({className:t,...e})=>l.jsx("div",{className:Fe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});El.displayName="DialogHeader";const Tl=E.forwardRef(({className:t,...e},r)=>l.jsx(C$,{ref:r,className:Fe("text-lg font-semibold leading-none tracking-tight",t),...e}));Tl.displayName=C$.displayName;const _T=E.forwardRef(({className:t,...e},r)=>l.jsx(j$,{ref:r,className:Fe("text-sm text-muted-foreground",t),...e}));_T.displayName=j$.displayName;const I$=Sl,k$=AT,PT=E.forwardRef(({className:t,side:e="right",...r},n)=>l.jsx(lo,{ref:n,className:Fe("fixed z-50 gap-4 bg-background p-6 shadow-lg transition-all duration-300",e==="right"&&"right-0 top-0 h-full max-w-sm border-l",e==="left"&&"left-0 top-0 h-full max-w-sm border-r",e==="top"&&"top-0 left-0 right-0 max-h-96 border-b",e==="bottom"&&"bottom-0 left-0 right-0 max-h-96 border-t",t),...r}));PT.displayName="SheetContent";const cq=E.forwardRef(({className:t,...e},r)=>l.jsx("h3",{ref:r,className:Fe("text-lg font-semibold text-foreground",t),...e}));cq.displayName="SheetTitle";const uq=E.forwardRef(({className:t,...e},r)=>l.jsx("p",{ref:r,className:Fe("text-sm text-muted-foreground",t),...e}));uq.displayName="SheetDescription";const PN="/oromatv-logo.png",NN=[{name:"Home",href:"/"},{name:"Newsroom",href:"/newsroom"},{name:"About",href:"/about"},{name:"Events",href:"/events"},{name:"Programs",href:"/programs"},{name:"Contact",href:"/contact"}];function dq(){const[t]=Wh(),[e,r]=E.useState(!1),[n,i]=E.useState(!1);return E.useEffect(()=>{const s=()=>{r(window.scrollY>50)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]),l.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${e?"bg-white/95 backdrop-blur-md shadow-lg":"bg-white shadow-sm"}`,children:l.jsx("div",{className:"fluid-container",children:l.jsxs("div",{className:"flex items-center justify-between h-16 md:h-20",children:[l.jsx(Gt,{href:"/",className:"flex items-center space-x-2 hover:opacity-90 transition-opacity",children:l.jsx("img",{src:PN,alt:"Oroma TV Logo",className:"h-12 w-auto sm:h-16 md:h-20 lg:h-20 max-w-[200px] md:max-w-[280px] object-contain"})}),l.jsxs("div",{className:"hidden lg:flex items-center space-x-4 xl:space-x-8",children:[NN.map(s=>l.jsx(Gt,{href:s.href,className:`font-medium text-sm lg:text-base transition-colors hover:text-red-600 ${t===s.href?"text-red-600":"text-gray-900"}`,children:s.name},s.name)),l.jsx(Gt,{href:"/contact",children:l.jsx(Q,{size:"sm",className:"btn-oroma-primary ml-2 xl:ml-4 text-xs lg:text-sm",children:"Contact Us"})})]}),l.jsxs(I$,{open:n,onOpenChange:i,children:[l.jsx(k$,{asChild:!0,className:"lg:hidden",children:l.jsx(Q,{variant:"ghost",size:"icon",children:l.jsx(aM,{className:"h-6 w-6"})})}),l.jsxs(PT,{side:"right",className:"w-80",children:[l.jsx("div",{className:"flex items-center justify-center mb-8 pt-4",children:l.jsx(Gt,{href:"/",className:"flex items-center",onClick:()=>i(!1),children:l.jsx("img",{src:PN,alt:"Oroma TV Logo",className:"h-16 w-auto max-w-[180px] object-contain"})})}),l.jsxs("nav",{className:"flex flex-col space-y-4",children:[NN.map(s=>l.jsx(Gt,{href:s.href,onClick:()=>i(!1),className:`text-lg font-medium transition-colors hover:text-red-600 ${t===s.href?"text-red-600":"text-gray-900"}`,children:s.name},s.name)),l.jsx("div",{className:"pt-4 border-t border-gray-200",children:l.jsx(Gt,{href:"/contact",onClick:()=>i(!1),children:l.jsx(Q,{className:"w-full btn-oroma-primary",children:"Contact Us"})})})]})]})]})]})})})}const ke=E.forwardRef(({className:t,type:e,...r},n)=>l.jsx("input",{type:e,className:Fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));ke.displayName="Input";const fq="/oromatv-logo.png";function hq(){const[t,e]=E.useState(""),{toast:r}=Jr(),n=Ar({mutationFn:async s=>(await zt("POST","/api/subscribe",{email:s})).json(),onSuccess:()=>{r({title:"Success!",description:"Thank you for subscribing to our newsletter!"}),e("")},onError:()=>{r({title:"Error",description:"Failed to subscribe. Please try again.",variant:"destructive"})}}),i=s=>{s.preventDefault(),t&&n.mutate(t)};return l.jsx("footer",{className:"bg-gray-900 text-white py-8 md:py-12",children:l.jsxs("div",{className:"container mx-auto px-3 md:px-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("img",{src:fq,alt:"Oroma TV Logo",className:"h-16 md:h-24 w-auto mb-2"}),l.jsx("p",{className:"text-gray-300 text-xs md:text-sm font-medium",children:'"Dwon tumalo me Uganda"'})]}),l.jsx("p",{className:"text-gray-300 mb-4 text-sm",children:"Connecting communities through quality programming and meaningful storytelling."}),l.jsxs("div",{className:"flex space-x-2 md:space-x-3",children:[l.jsx("a",{href:"https://www.facebook.com/943qfmlira/",target:"_blank",rel:"noopener noreferrer",className:"social-icon",children:l.jsx("i",{className:"fab fa-facebook-f"})}),l.jsx("a",{href:"https://x.com/943qfmlira/",target:"_blank",rel:"noopener noreferrer",className:"social-icon",children:l.jsx("i",{className:"fab fa-twitter"})}),l.jsx("a",{href:"https://www.tiktok.com/@oromatvuganda",target:"_blank",rel:"noopener noreferrer",className:"social-icon",children:l.jsx("i",{className:"fab fa-tiktok"})}),l.jsx("a",{href:"https://www.youtube.com/@oromatvuganda",target:"_blank",rel:"noopener noreferrer",className:"social-icon",children:l.jsx("i",{className:"fab fa-youtube"})}),l.jsx("a",{href:"#",className:"social-icon",children:l.jsx("i",{className:"fab fa-whatsapp"})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-yellow-400 mb-4",children:"Quick Links"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{children:l.jsx(Gt,{href:"/",className:"text-gray-300 hover:text-white transition-colors",children:"Home"})}),l.jsx("li",{children:l.jsx(Gt,{href:"/watch-live",className:"text-gray-300 hover:text-white transition-colors",children:"Watch Live"})}),l.jsx("li",{children:l.jsx(Gt,{href:"/programs",className:"text-gray-300 hover:text-white transition-colors",children:"Programs"})}),l.jsx("li",{children:l.jsx(Gt,{href:"/newsroom",className:"text-gray-300 hover:text-white transition-colors",children:"Newsroom"})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-yellow-400 mb-4",children:"Services"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{children:l.jsx(Gt,{href:"/about",className:"text-gray-300 hover:text-white transition-colors",children:"About Us"})}),l.jsx("li",{children:l.jsx(Gt,{href:"/events",className:"text-gray-300 hover:text-white transition-colors",children:"Events"})}),l.jsx("li",{children:l.jsx(Gt,{href:"/media",className:"text-gray-300 hover:text-white transition-colors",children:"Media"})}),l.jsx("li",{children:l.jsx(Gt,{href:"/contact",className:"text-gray-300 hover:text-white transition-colors",children:"Contact"})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-yellow-400 mb-4",children:"Contact Info"}),l.jsxs("div",{className:"space-y-2 text-gray-300 mb-6",children:[l.jsxs("p",{children:[l.jsx("i",{className:"fas fa-map-marker-alt mr-2"}),"Plot 000 Semsem Building Won Nyaci Road, Lira City"]}),l.jsxs("p",{children:[l.jsx("i",{className:"fas fa-phone mr-2"}),"+256 772 123 456"]}),l.jsxs("p",{children:[l.jsx("i",{className:"fas fa-envelope mr-2"}),"info@oromatv.com"]})]}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold mb-2",children:"Newsletter"}),l.jsxs("form",{onSubmit:i,className:"flex space-x-2",children:[l.jsx(ke,{type:"email",placeholder:"Enter your email",value:t,onChange:s=>e(s.target.value),className:"bg-gray-800 border-gray-700 text-white",required:!0}),l.jsx(Q,{type:"submit",className:"bg-red-600 hover:bg-red-700",disabled:n.isPending,children:n.isPending?"...":"Subscribe"})]})]})]})]}),l.jsx("hr",{className:"border-gray-700 my-8"}),l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"text-gray-300",children:["© ",new Date().getFullYear()," Oroma TV. All rights reserved."]}),l.jsxs("p",{className:"text-gray-400 text-xs mt-1",children:["Website developed by ",l.jsx("a",{href:"https://www.kakebe.tech",className:"text-red-400 hover:text-red-300",children:"Kakebe Technologies Limited"})]})]}),l.jsxs("div",{className:"flex space-x-4 mt-4 md:mt-0",children:[l.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Privacy Policy"}),l.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Terms of Service"}),l.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Sitemap"})]})]})]})})}function mq(){const r=`https://wa.me/${"+256777676206".replace(/\+/g,"")}?text=${encodeURIComponent("Hello! I'd like to get in touch with Oroma TV.")}`;return l.jsx("div",{className:"whatsapp-widget",children:l.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"whatsapp-btn","aria-label":"Contact us on WhatsApp",children:l.jsx("i",{className:"fab fa-whatsapp"})})})}function pq({children:t}){return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(dq,{}),l.jsx("main",{children:t}),l.jsx(hq,{}),l.jsx(mq,{})]})}const Y=E.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:Fe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Y.displayName="Card";const me=E.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:Fe("flex flex-col space-y-1.5 p-6",t),...e}));me.displayName="CardHeader";const pe=E.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:Fe("text-2xl font-semibold leading-none tracking-tight",t),...e}));pe.displayName="CardTitle";const Mr=E.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:Fe("text-sm text-muted-foreground",t),...e}));Mr.displayName="CardDescription";const ie=E.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:Fe("p-6 pt-0",t),...e}));ie.displayName="CardContent";const gq=E.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:Fe("flex items-center p-6 pt-0",t),...e}));gq.displayName="CardFooter";var vq=E.createContext(void 0);function Xh(t){const e=E.useContext(vq);return t||e||"ltr"}var Sx="rovingFocusGroup.onEntryFocus",yq={bubbles:!1,cancelable:!0},Qh="RovingFocusGroup",[Bw,R$,xq]=sy(Qh),[bq,L$]=zn(Qh,[xq]),[wq,Sq]=bq(Qh),D$=E.forwardRef((t,e)=>l.jsx(Bw.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(Bw.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(Eq,{...t,ref:e})})}));D$.displayName=Qh;var Eq=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,h=E.useRef(null),m=Ye(e,h),p=Xh(s),[g,v]=Zs({prop:a,defaultProp:o??null,onChange:c,caller:Qh}),[y,x]=E.useState(!1),b=mr(u),S=R$(r),w=E.useRef(!1),[T,A]=E.useState(0);return E.useEffect(()=>{const _=h.current;if(_)return _.addEventListener(Sx,b),()=>_.removeEventListener(Sx,b)},[b]),l.jsx(wq,{scope:r,orientation:n,dir:p,loop:i,currentTabStopId:g,onItemFocus:E.useCallback(_=>v(_),[v]),onItemShiftTab:E.useCallback(()=>x(!0),[]),onFocusableItemAdd:E.useCallback(()=>A(_=>_+1),[]),onFocusableItemRemove:E.useCallback(()=>A(_=>_-1),[]),children:l.jsx(Re.div,{tabIndex:y||T===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:we(t.onMouseDown,()=>{w.current=!0}),onFocus:we(t.onFocus,_=>{const N=!w.current;if(_.target===_.currentTarget&&N&&!y){const C=new CustomEvent(Sx,yq);if(_.currentTarget.dispatchEvent(C),!C.defaultPrevented){const j=S().filter(D=>D.focusable),O=j.find(D=>D.active),R=j.find(D=>D.id===g),M=[O,R,...j].filter(Boolean).map(D=>D.ref.current);F$(M,d)}}w.current=!1}),onBlur:we(t.onBlur,()=>x(!1))})})}),M$="RovingFocusGroupItem",$$=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:a,...o}=t,c=Gs(),u=s||c,d=Sq(M$,r),f=d.currentTabStopId===u,h=R$(r),{onFocusableItemAdd:m,onFocusableItemRemove:p,currentTabStopId:g}=d;return E.useEffect(()=>{if(n)return m(),()=>p()},[n,m,p]),l.jsx(Bw.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:l.jsx(Re.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:we(t.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:we(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:we(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=_q(v,d.orientation,d.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=h().filter(S=>S.focusable).map(S=>S.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const S=b.indexOf(v.currentTarget);b=d.loop?Pq(b,S+1):b.slice(S+1)}setTimeout(()=>F$(b))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:g!=null}):a})})});$$.displayName=M$;var Tq={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Aq(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function _q(t,e,r){const n=Aq(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Tq[n]}function F$(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function Pq(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Nq=D$,Cq=$$,wy="Tabs",[jq,Rje]=zn(wy,[L$]),B$=L$(),[Oq,NT]=jq(wy),U$=E.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:c="automatic",...u}=t,d=Xh(o),[f,h]=Zs({prop:n,onChange:i,defaultProp:s??"",caller:wy});return l.jsx(Oq,{scope:r,baseId:Gs(),value:f,onValueChange:h,orientation:a,dir:d,activationMode:c,children:l.jsx(Re.div,{dir:d,"data-orientation":a,...u,ref:e})})});U$.displayName=wy;var V$="TabsList",G$=E.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,s=NT(V$,r),a=B$(r);return l.jsx(Nq,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:n,children:l.jsx(Re.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});G$.displayName=V$;var H$="TabsTrigger",z$=E.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=t,a=NT(H$,r),o=B$(r),c=q$(a.baseId,n),u=Y$(a.baseId,n),d=n===a.value;return l.jsx(Cq,{asChild:!0,...o,focusable:!i,active:d,children:l.jsx(Re.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:we(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?a.onValueChange(n):f.preventDefault()}),onKeyDown:we(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(n)}),onFocus:we(t.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!i&&f&&a.onValueChange(n)})})})});z$.displayName=H$;var W$="TabsContent",K$=E.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...a}=t,o=NT(W$,r),c=q$(o.baseId,n),u=Y$(o.baseId,n),d=n===o.value,f=E.useRef(d);return E.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),l.jsx(Wn,{present:i||d,children:({present:h})=>l.jsx(Re.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});K$.displayName=W$;function q$(t,e){return`${t}-trigger-${e}`}function Y$(t,e){return`${t}-content-${e}`}var Iq=U$,X$=G$,Q$=z$,Z$=K$;const vo=Iq,oa=E.forwardRef(({className:t,...e},r)=>l.jsx(X$,{ref:r,className:Fe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));oa.displayName=X$.displayName;const Ct=E.forwardRef(({className:t,...e},r)=>l.jsx(Q$,{ref:r,className:Fe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Ct.displayName=Q$.displayName;const jt=E.forwardRef(({className:t,...e},r)=>l.jsx(Z$,{ref:r,className:Fe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));jt.displayName=Z$.displayName;function zf(t,[e,r]){return Math.min(r,Math.max(e,t))}function CT(t){const e=E.useRef({value:t,previous:t});return E.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var J$=["PageUp","PageDown"],eF=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],tF={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},rd="Slider",[Uw,kq,Rq]=sy(rd),[rF,Lje]=zn(rd,[Rq]),[Lq,Sy]=rF(rd),nF=E.forwardRef((t,e)=>{const{name:r,min:n=0,max:i=100,step:s=1,orientation:a="horizontal",disabled:o=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:p,...g}=t,v=E.useRef(new Set),y=E.useRef(0),b=a==="horizontal"?Dq:Mq,[S=[],w]=Zs({prop:d,defaultProp:u,onChange:j=>{var R;(R=[...v.current][y.current])==null||R.focus(),f(j)}}),T=E.useRef(S);function A(j){const O=Vq(S,j);C(j,O)}function _(j){C(j,y.current)}function N(){const j=T.current[y.current];S[y.current]!==j&&h(S)}function C(j,O,{commit:R}={commit:!1}){const k=Wq(s),M=Kq(Math.round((j-n)/s)*s+n,k),D=zf(M,[n,i]);w((U=[])=>{const I=Bq(U,D,O);if(zq(I,c*s)){y.current=I.indexOf(D);const F=String(I)!==String(U);return F&&R&&h(I),F?I:U}else return U})}return l.jsx(Lq,{scope:t.__scopeSlider,name:r,disabled:o,min:n,max:i,valueIndexToChangeRef:y,thumbs:v.current,values:S,orientation:a,form:p,children:l.jsx(Uw.Provider,{scope:t.__scopeSlider,children:l.jsx(Uw.Slot,{scope:t.__scopeSlider,children:l.jsx(b,{"aria-disabled":o,"data-disabled":o?"":void 0,...g,ref:e,onPointerDown:we(g.onPointerDown,()=>{o||(T.current=S)}),min:n,max:i,inverted:m,onSlideStart:o?void 0:A,onSlideMove:o?void 0:_,onSlideEnd:o?void 0:N,onHomeKeyDown:()=>!o&&C(n,0,{commit:!0}),onEndKeyDown:()=>!o&&C(i,S.length-1,{commit:!0}),onStepKeyDown:({event:j,direction:O})=>{if(!o){const M=J$.includes(j.key)||j.shiftKey&&eF.includes(j.key)?10:1,D=y.current,U=S[D],I=s*M*O;C(U+I,D,{commit:!0})}}})})})})});nF.displayName=rd;var[iF,sF]=rF(rd,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Dq=E.forwardRef((t,e)=>{const{min:r,max:n,dir:i,inverted:s,onSlideStart:a,onSlideMove:o,onSlideEnd:c,onStepKeyDown:u,...d}=t,[f,h]=E.useState(null),m=Ye(e,b=>h(b)),p=E.useRef(void 0),g=Xh(i),v=g==="ltr",y=v&&!s||!v&&s;function x(b){const S=p.current||f.getBoundingClientRect(),w=[0,S.width],A=jT(w,y?[r,n]:[n,r]);return p.current=S,A(b-S.left)}return l.jsx(iF,{scope:t.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:l.jsx(aF,{dir:g,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const S=x(b.clientX);a==null||a(S)},onSlideMove:b=>{const S=x(b.clientX);o==null||o(S)},onSlideEnd:()=>{p.current=void 0,c==null||c()},onStepKeyDown:b=>{const w=tF[y?"from-left":"from-right"].includes(b.key);u==null||u({event:b,direction:w?-1:1})}})})}),Mq=E.forwardRef((t,e)=>{const{min:r,max:n,inverted:i,onSlideStart:s,onSlideMove:a,onSlideEnd:o,onStepKeyDown:c,...u}=t,d=E.useRef(null),f=Ye(e,d),h=E.useRef(void 0),m=!i;function p(g){const v=h.current||d.current.getBoundingClientRect(),y=[0,v.height],b=jT(y,m?[n,r]:[r,n]);return h.current=v,b(g-v.top)}return l.jsx(iF,{scope:t.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:l.jsx(aF,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const v=p(g.clientY);s==null||s(v)},onSlideMove:g=>{const v=p(g.clientY);a==null||a(v)},onSlideEnd:()=>{h.current=void 0,o==null||o()},onStepKeyDown:g=>{const y=tF[m?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:y?-1:1})}})})}),aF=E.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:a,onEndKeyDown:o,onStepKeyDown:c,...u}=t,d=Sy(rd,r);return l.jsx(Re.span,{...u,ref:e,onKeyDown:we(t.onKeyDown,f=>{f.key==="Home"?(a(f),f.preventDefault()):f.key==="End"?(o(f),f.preventDefault()):J$.concat(eF).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:we(t.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():n(f)}),onPointerMove:we(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:we(t.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),s(f))})})}),oF="SliderTrack",lF=E.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=Sy(oF,r);return l.jsx(Re.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:e})});lF.displayName=oF;var Vw="SliderRange",cF=E.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=Sy(Vw,r),s=sF(Vw,r),a=E.useRef(null),o=Ye(e,a),c=i.values.length,u=i.values.map(h=>fF(h,i.min,i.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return l.jsx(Re.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:o,style:{...t.style,[s.startEdge]:d+"%",[s.endEdge]:f+"%"}})});cF.displayName=Vw;var Gw="SliderThumb",uF=E.forwardRef((t,e)=>{const r=kq(t.__scopeSlider),[n,i]=E.useState(null),s=Ye(e,o=>i(o)),a=E.useMemo(()=>n?r().findIndex(o=>o.ref.current===n):-1,[r,n]);return l.jsx($q,{...t,ref:s,index:a})}),$q=E.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:i,...s}=t,a=Sy(Gw,r),o=sF(Gw,r),[c,u]=E.useState(null),d=Ye(e,x=>u(x)),f=c?a.form||!!c.closest("form"):!0,h=hT(c),m=a.values[n],p=m===void 0?0:fF(m,a.min,a.max),g=Uq(n,a.values.length),v=h==null?void 0:h[o.size],y=v?Gq(v,p,o.direction):0;return E.useEffect(()=>{if(c)return a.thumbs.add(c),()=>{a.thumbs.delete(c)}},[c,a.thumbs]),l.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${p}% + ${y}px)`},children:[l.jsx(Uw.ItemSlot,{scope:t.__scopeSlider,children:l.jsx(Re.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":a.min,"aria-valuenow":m,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...s,ref:d,style:m===void 0?{display:"none"}:t.style,onFocus:we(t.onFocus,()=>{a.valueIndexToChangeRef.current=n})})}),f&&l.jsx(dF,{name:i??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:m},n)]})});uF.displayName=Gw;var Fq="RadioBubbleInput",dF=E.forwardRef(({__scopeSlider:t,value:e,...r},n)=>{const i=E.useRef(null),s=Ye(i,n),a=CT(e);return E.useEffect(()=>{const o=i.current;if(!o)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&d){const f=new Event("input",{bubbles:!0});d.call(o,e),o.dispatchEvent(f)}},[a,e]),l.jsx(Re.input,{style:{display:"none"},...r,ref:s,defaultValue:e})});dF.displayName=Fq;function Bq(t=[],e,r){const n=[...t];return n[r]=e,n.sort((i,s)=>i-s)}function fF(t,e,r){const s=100/(r-e)*(t-e);return zf(s,[0,100])}function Uq(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function Vq(t,e){if(t.length===1)return 0;const r=t.map(i=>Math.abs(i-e)),n=Math.min(...r);return r.indexOf(n)}function Gq(t,e,r){const n=t/2,s=jT([0,50],[0,n]);return(n-s(e)*r)*r}function Hq(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function zq(t,e){if(e>0){const r=Hq(t);return Math.min(...r)>=e}return!0}function jT(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function Wq(t){return(String(t).split(".")[1]||"").length}function Kq(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var hF=nF,qq=lF,Yq=cF,Xq=uF;const yg=E.forwardRef(({className:t,...e},r)=>l.jsxs(hF,{ref:r,className:Fe("relative flex w-full touch-none select-none items-center",t),...e,children:[l.jsx(qq,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:l.jsx(Yq,{className:"absolute h-full bg-primary"})}),l.jsx(Xq,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));yg.displayName=hF.displayName;const ye=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)},Qq=Number.isSafeInteger||function(t){return typeof t=="number"&&Math.abs(t)<=Zq},Zq=Number.MAX_SAFE_INTEGER||9007199254740991;let Ie=function(t){return t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t}({}),K=function(t){return t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",t.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR="keySystemDestroyMediaKeysError",t.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR="keySystemDestroyCloseSessionError",t.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR="keySystemDestroyRemoveSessionError",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_PARSING_ERROR="levelParsingError",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.FRAG_GAP="fragGap",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.ASSET_LIST_LOAD_ERROR="assetListLoadError",t.ASSET_LIST_LOAD_TIMEOUT="assetListLoadTimeout",t.ASSET_LIST_PARSING_ERROR="assetListParsingError",t.INTERSTITIAL_ASSET_ITEM_ERROR="interstitialAssetItemError",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.ATTACH_MEDIA_ERROR="attachMediaError",t.UNKNOWN="unknown",t}({}),P=function(t){return t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.MEDIA_ENDED="hlsMediaEnded",t.STALL_RESOLVED="hlsStallResolved",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFERED_TO_END="hlsBufferedToEnd",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.AUDIO_TRACK_UPDATED="hlsAudioTrackUpdated",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_TRACK_UPDATED="hlsSubtitleTrackUpdated",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached",t.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",t.ASSET_LIST_LOADING="hlsAssetListLoading",t.ASSET_LIST_LOADED="hlsAssetListLoaded",t.INTERSTITIALS_UPDATED="hlsInterstitialsUpdated",t.INTERSTITIALS_BUFFERED_TO_BOUNDARY="hlsInterstitialsBufferedToBoundary",t.INTERSTITIAL_ASSET_PLAYER_CREATED="hlsInterstitialAssetPlayerCreated",t.INTERSTITIAL_STARTED="hlsInterstitialStarted",t.INTERSTITIAL_ASSET_STARTED="hlsInterstitialAssetStarted",t.INTERSTITIAL_ASSET_ENDED="hlsInterstitialAssetEnded",t.INTERSTITIAL_ASSET_ERROR="hlsInterstitialAssetError",t.INTERSTITIAL_ENDED="hlsInterstitialEnded",t.INTERSTITIALS_PRIMARY_RESUMED="hlsInterstitialsPrimaryResumed",t.PLAYOUT_LIMIT_REACHED="hlsPlayoutLimitReached",t.EVENT_CUE_ENTER="hlsEventCueEnter",t}({});var et={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},Pe={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};class Xl{constructor(e,r=0,n=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=r,this.totalWeight_=n}sample(e,r){const n=Math.pow(this.alpha_,e);this.estimate_=r*(1-n)+n*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class Jq{constructor(e,r,n,i=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Xl(e),this.fast_=new Xl(r),this.defaultTTFB_=i,this.ttfb_=new Xl(e)}update(e,r){const{slow_:n,fast_:i,ttfb_:s}=this;n.halfLife!==e&&(this.slow_=new Xl(e,n.getEstimate(),n.getTotalWeight())),i.halfLife!==r&&(this.fast_=new Xl(r,i.getEstimate(),i.getTotalWeight())),s.halfLife!==e&&(this.ttfb_=new Xl(e,s.getEstimate(),s.getTotalWeight()))}sample(e,r){e=Math.max(e,this.minDelayMs_);const n=8*r,i=e/1e3,s=n/i;this.fast_.sample(i,s),this.slow_.sample(i,s)}sampleTTFB(e){const r=e/1e3,n=Math.sqrt(2)*Math.exp(-Math.pow(r,2)/2);this.ttfb_.sample(n,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}get defaultEstimate(){return this.defaultEstimate_}destroy(){}}function eY(t,e,r){return(e=rY(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yt(){return yt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yt.apply(null,arguments)}function CN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function St(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CN(Object(r),!0).forEach(function(n){eY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tY(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rY(t){var e=tY(t,"string");return typeof e=="symbol"?e:e+""}class Fi{constructor(e,r){this.trace=void 0,this.debug=void 0,this.log=void 0,this.warn=void 0,this.info=void 0,this.error=void 0;const n=`[${e}]:`;this.trace=wa,this.debug=r.debug.bind(null,n),this.log=r.log.bind(null,n),this.warn=r.warn.bind(null,n),this.info=r.info.bind(null,n),this.error=r.error.bind(null,n)}}const wa=function(){},nY={trace:wa,debug:wa,log:wa,warn:wa,info:wa,error:wa};function Hw(){return yt({},nY)}function iY(t,e){const r=self.console[t];return r?r.bind(self.console,`${e?"["+e+"] ":""}[${t}] >`):wa}function jN(t,e,r){return e[t]?e[t].bind(e):iY(t,r)}const zw=Hw();function sY(t,e,r){const n=Hw();if(typeof console=="object"&&t===!0||typeof t=="object"){const i=["debug","log","info","warn","error"];i.forEach(s=>{n[s]=jN(s,t,r)});try{n.log(`Debug logs enabled for "${e}" in hls.js version 1.6.7`)}catch{return Hw()}i.forEach(s=>{zw[s]=jN(s,t)})}else yt(zw,n);return n}const dt=zw;function co(t=!0){return typeof self>"u"?void 0:(t||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function aY(t){return typeof self<"u"&&t===self.ManagedMediaSource}function mF(t,e){const r=Object.keys(t),n=Object.keys(e),i=r.length,s=n.length;return!i||!s||i===s&&!r.some(a=>n.indexOf(a)===-1)}function Fn(t,e=!1){if(typeof TextDecoder<"u"){const u=new TextDecoder("utf-8").decode(t);if(e){const d=u.indexOf("\0");return d!==-1?u.substring(0,d):u}return u.replace(/\0/g,"")}const r=t.length;let n,i,s,a="",o=0;for(;o<r;){if(n=t[o++],n===0&&e)return a;if(n===0||n===3)continue;switch(n>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(n);break;case 12:case 13:i=t[o++],a+=String.fromCharCode((n&31)<<6|i&63);break;case 14:i=t[o++],s=t[o++],a+=String.fromCharCode((n&15)<<12|(i&63)<<6|(s&63)<<0);break}}return a}const Mo={hexDump:function(t){let e="";for(let r=0;r<t.length;r++){let n=t[r].toString(16);n.length<2&&(n="0"+n),e+=n}return e}};function pF(t){return Uint8Array.from(t.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}function oY(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ex={exports:{}},ON;function lY(){return ON||(ON=1,function(t,e){(function(r){var n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(c,u,d){if(d=d||{},c=c.trim(),u=u.trim(),!u){if(!d.alwaysNormalize)return c;var f=o.parseURL(c);if(!f)throw new Error("Error trying to parse base URL.");return f.path=o.normalizePath(f.path),o.buildURLFromParts(f)}var h=o.parseURL(u);if(!h)throw new Error("Error trying to parse relative URL.");if(h.scheme)return d.alwaysNormalize?(h.path=o.normalizePath(h.path),o.buildURLFromParts(h)):u;var m=o.parseURL(c);if(!m)throw new Error("Error trying to parse base URL.");if(!m.netLoc&&m.path&&m.path[0]!=="/"){var p=i.exec(m.path);m.netLoc=p[1],m.path=p[2]}m.netLoc&&!m.path&&(m.path="/");var g={scheme:m.scheme,netLoc:h.netLoc,path:null,params:h.params,query:h.query,fragment:h.fragment};if(!h.netLoc&&(g.netLoc=m.netLoc,h.path[0]!=="/"))if(!h.path)g.path=m.path,h.params||(g.params=m.params,h.query||(g.query=m.query));else{var v=m.path,y=v.substring(0,v.lastIndexOf("/")+1)+h.path;g.path=o.normalizePath(y)}return g.path===null&&(g.path=d.alwaysNormalize?o.normalizePath(h.path):h.path),o.buildURLFromParts(g)},parseURL:function(c){var u=n.exec(c);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(c){for(c=c.split("").reverse().join("").replace(s,"");c.length!==(c=c.replace(a,"")).length;);return c.split("").reverse().join("")},buildURLFromParts:function(c){return c.scheme+c.netLoc+c.path+c.params+c.query+c.fragment}};t.exports=o})()}(Ex)),Ex.exports}var OT=lY();class IT{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var Tt={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class gF{constructor(e){this._byteRange=null,this._url=null,this._stats=null,this._streams=null,this.base=void 0,this.relurl=void 0,typeof e=="string"&&(e={url:e}),this.base=e,uY(this,"stats")}setByteRange(e,r){const n=e.split("@",2);let i;n.length===1?i=(r==null?void 0:r.byteRangeEndOffset)||0:i=parseInt(n[1]),this._byteRange=[i,parseInt(n[0])+i]}get baseurl(){return this.base.url}get byteRange(){return this._byteRange===null?[]:this._byteRange}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get elementaryStreams(){return this._streams===null&&(this._streams={[Tt.AUDIO]:null,[Tt.VIDEO]:null,[Tt.AUDIOVIDEO]:null}),this._streams}set elementaryStreams(e){this._streams=e}get hasStats(){return this._stats!==null}get hasStreams(){return this._streams!==null}get stats(){return this._stats===null&&(this._stats=new IT),this._stats}set stats(e){this._stats=e}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=OT.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[Tt.AUDIO]=null,e[Tt.VIDEO]=null,e[Tt.AUDIOVIDEO]=null}}function fr(t){return t.sn!=="initSegment"}class Tx extends gF{constructor(e,r){super(r),this._decryptdata=null,this._programDateTime=null,this._ref=null,this._bitrate=void 0,this.rawProgramDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.playlistOffset=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get byteLength(){if(this.hasStats){const e=this.stats.total;if(e)return e}if(this.byteRange){const e=this.byteRange[0],r=this.byteRange[1];if(ye(e)&&ye(r))return r-e}return null}get bitrate(){return this.byteLength?this.byteLength*8/this.duration:this._bitrate?this._bitrate:null}set bitrate(e){this._bitrate=e}get decryptdata(){const{levelkeys:e}=this;if(!e&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const r=this.levelkeys.identity;if(r)this._decryptdata=r.getDecryptData(this.sn);else{const n=Object.keys(this.levelkeys);if(n.length===1)return this._decryptdata=this.levelkeys[n[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null)return null;const e=ye(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){const r=Object.keys(this.levelkeys),n=r.length;if(n>1||n===1&&this.levelkeys[r[0]].encrypted)return!0}return!1}get programDateTime(){return this._programDateTime===null&&this.rawProgramDateTime&&(this.programDateTime=Date.parse(this.rawProgramDateTime)),this._programDateTime}set programDateTime(e){if(!ye(e)){this._programDateTime=this.rawProgramDateTime=null;return}this._programDateTime=e}get ref(){return fr(this)?(this._ref||(this._ref={base:this.base,start:this.start,duration:this.duration,sn:this.sn,programDateTime:this.programDateTime}),this._ref):null}addStart(e){this.setStart(this.start+e)}setStart(e){this.start=e,this._ref&&(this._ref.start=e)}setDuration(e){this.duration=e,this._ref&&(this._ref.duration=e)}setKeyFormat(e){if(this.levelkeys){const r=this.levelkeys[e];r&&!this._decryptdata&&(this._decryptdata=r.getDecryptData(this.sn))}}abortRequests(){var e,r;(e=this.loader)==null||e.abort(),(r=this.keyLoader)==null||r.abort()}setElementaryStreamInfo(e,r,n,i,s,a=!1){const{elementaryStreams:o}=this,c=o[e];if(!c){o[e]={startPTS:r,endPTS:n,startDTS:i,endDTS:s,partial:a};return}c.startPTS=Math.min(c.startPTS,r),c.endPTS=Math.max(c.endPTS,n),c.startDTS=Math.min(c.startDTS,i),c.endDTS=Math.max(c.endDTS,s)}}class cY extends gF{constructor(e,r,n,i,s){super(n),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=r,this.index=i;const a=e.enumeratedString("BYTERANGE");a&&this.setByteRange(a,s),s&&(this.fragOffset=s.fragOffset+s.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}}function vF(t,e){const r=Object.getPrototypeOf(t);if(r){const n=Object.getOwnPropertyDescriptor(r,e);return n||vF(r,e)}}function uY(t,e){const r=vF(t,e);r&&(r.enumerable=!0,Object.defineProperty(t,e,r))}const IN=Math.pow(2,32)-1,dY=[].push,yF={video:1,audio:2,id3:3,text:4};function Nr(t){return String.fromCharCode.apply(null,t)}function xF(t,e){const r=t[e]<<8|t[e+1];return r<0?65536+r:r}function Ue(t,e){const r=bF(t,e);return r<0?4294967296+r:r}function kN(t,e){let r=Ue(t,e);return r*=Math.pow(2,32),r+=Ue(t,e+4),r}function bF(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function fY(t){const e=t.byteLength;for(let r=0;r<e;){const n=Ue(t,r);if(n>8&&t[r+4]===109&&t[r+5]===111&&t[r+6]===111&&t[r+7]===102)return!0;r=n>1?r+n:e}return!1}function Je(t,e){const r=[];if(!e.length)return r;const n=t.byteLength;for(let i=0;i<n;){const s=Ue(t,i),a=Nr(t.subarray(i+4,i+8)),o=s>1?i+s:n;if(a===e[0])if(e.length===1)r.push(t.subarray(i+8,o));else{const c=Je(t.subarray(i+8,o),e.slice(1));c.length&&dY.apply(r,c)}i=o}return r}function hY(t){const e=[],r=t[0];let n=8;const i=Ue(t,n);n+=4;let s=0,a=0;r===0?(s=Ue(t,n),a=Ue(t,n+4),n+=8):(s=kN(t,n),a=kN(t,n+8),n+=16),n+=2;let o=t.length+a;const c=xF(t,n);n+=2;for(let u=0;u<c;u++){let d=n;const f=Ue(t,d);d+=4;const h=f&2147483647;if((f&2147483648)>>>31===1)return dt.warn("SIDX has hierarchical references (not supported)"),null;const p=Ue(t,d);d+=4,e.push({referenceSize:h,subsegmentDuration:p,info:{duration:p/i,start:o,end:o+h-1}}),o+=h,d+=4,n=d}return{earliestPresentationTime:s,timescale:i,version:r,referencesCount:c,references:e}}function wF(t){const e=[],r=Je(t,["moov","trak"]);for(let i=0;i<r.length;i++){const s=r[i],a=Je(s,["tkhd"])[0];if(a){let o=a[0];const c=Ue(a,o===0?12:20),u=Je(s,["mdia","mdhd"])[0];if(u){o=u[0];const d=Ue(u,o===0?12:20),f=Je(s,["mdia","hdlr"])[0];if(f){const h=Nr(f.subarray(8,12)),m={soun:Tt.AUDIO,vide:Tt.VIDEO}[h],p=Je(s,["mdia","minf","stbl","stsd"])[0],g=mY(p);m?(e[c]={timescale:d,type:m,stsd:g},e[m]=St({timescale:d,id:c},g)):e[c]={timescale:d,type:h,stsd:g}}}}}return Je(t,["moov","mvex","trex"]).forEach(i=>{const s=Ue(i,4),a=e[s];a&&(a.default={duration:Ue(i,12),flags:Ue(i,20)})}),e}function mY(t){const e=t.subarray(8),r=e.subarray(86),n=Nr(e.subarray(4,8));let i=n,s;const a=n==="enca"||n==="encv";if(a){const u=Je(e,[n])[0].subarray(n==="enca"?28:78);Je(u,["sinf"]).forEach(f=>{const h=Je(f,["schm"])[0];if(h){const m=Nr(h.subarray(4,8));if(m==="cbcs"||m==="cenc"){const p=Je(f,["frma"])[0];p&&(i=Nr(p))}}})}const o=i;switch(i){case"avc1":case"avc2":case"avc3":case"avc4":{const c=Je(r,["avcC"])[0];c&&c.length>3&&(i+="."+Dm(c[1])+Dm(c[2])+Dm(c[3]),s=Lm(o==="avc1"?"dva1":"dvav",r));break}case"mp4a":{const c=Je(e,[n])[0],u=Je(c.subarray(28),["esds"])[0];if(u&&u.length>7){let d=4;if(u[d++]!==3)break;d=Ax(u,d),d+=2;const f=u[d++];if(f&128&&(d+=2),f&64&&(d+=u[d++]),u[d++]!==4)break;d=Ax(u,d);const h=u[d++];if(h===64)i+="."+Dm(h);else break;if(d+=12,u[d++]!==5)break;d=Ax(u,d);const m=u[d++];let p=(m&248)>>3;p===31&&(p+=1+((m&7)<<3)+((u[d]&224)>>5)),i+="."+p}break}case"hvc1":case"hev1":{const c=Je(r,["hvcC"])[0];if(c&&c.length>12){const u=c[1],d=["","A","B","C"][u>>6],f=u&31,h=Ue(c,2),m=(u&32)>>5?"H":"L",p=c[12],g=c.subarray(6,12);i+="."+d+f,i+="."+pY(h).toString(16).toUpperCase(),i+="."+m+p;let v="";for(let y=g.length;y--;){const x=g[y];(x||v)&&(v="."+x.toString(16).toUpperCase()+v)}i+=v}s=Lm(o=="hev1"?"dvhe":"dvh1",r);break}case"dvh1":case"dvhe":case"dvav":case"dva1":case"dav1":{i=Lm(i,r)||i;break}case"vp09":{const c=Je(r,["vpcC"])[0];if(c&&c.length>6){const u=c[4],d=c[5],f=c[6]>>4&15;i+="."+Hi(u)+"."+Hi(d)+"."+Hi(f)}break}case"av01":{const c=Je(r,["av1C"])[0];if(c&&c.length>2){const u=c[1]>>>5,d=c[1]&31,f=c[2]>>>7?"H":"M",h=(c[2]&64)>>6,m=(c[2]&32)>>5,p=u===2&&h?m?12:10:h?10:8,g=(c[2]&16)>>4,v=(c[2]&8)>>3,y=(c[2]&4)>>2,x=c[2]&3;i+="."+u+"."+Hi(d)+f+"."+Hi(p)+"."+g+"."+v+y+x+"."+Hi(1)+"."+Hi(1)+"."+Hi(1)+"."+0,s=Lm("dav1",r)}break}}return{codec:i,encrypted:a,supplemental:s}}function Lm(t,e){const r=Je(e,["dvvC"]),n=r.length?r[0]:Je(e,["dvcC"])[0];if(n){const i=n[2]>>1&127,s=n[2]<<5&32|n[3]>>3&31;return t+"."+Hi(i)+"."+Hi(s)}}function pY(t){let e=0;for(let r=0;r<32;r++)e|=(t>>r&1)<<31-r;return e>>>0}function Ax(t,e){const r=e+5;for(;t[e++]&128&&e<r;);return e}function Dm(t){return("0"+t.toString(16).toUpperCase()).slice(-2)}function Hi(t){return(t<10?"0":"")+t}function gY(t,e){if(!t||!e)return t;const r=e.keyId;return r&&e.isCommonEncryption&&Je(t,["moov","trak"]).forEach(i=>{const a=Je(i,["mdia","minf","stbl","stsd"])[0].subarray(8);let o=Je(a,["enca"]);const c=o.length>0;c||(o=Je(a,["encv"])),o.forEach(u=>{const d=c?u.subarray(28):u.subarray(78);Je(d,["sinf"]).forEach(h=>{const m=vY(h);if(m){const p=m.subarray(8,24);p.some(g=>g!==0)||(dt.log(`[eme] Patching keyId in 'enc${c?"a":"v"}>sinf>>tenc' box: ${Mo.hexDump(p)} -> ${Mo.hexDump(r)}`),m.set(r,8))}})})}),t}function vY(t){const e=Je(t,["schm"])[0];if(e){const r=Nr(e.subarray(4,8));if(r==="cbcs"||r==="cenc")return Je(t,["schi","tenc"])[0]}return null}function yY(t,e,r){const n={},i=Je(t,["moof","traf"]);for(let s=0;s<i.length;s++){const a=i[s],o=Je(a,["tfhd"])[0],c=Ue(o,4),u=e[c];if(!u)continue;const d=n[c]||(n[c]={start:NaN,duration:0,sampleCount:0,timescale:u.timescale,type:u.type}),f=Je(a,["tfdt"])[0];if(f){const b=f[0];let S=Ue(f,4);b===1&&(S===IN?r.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"):(S*=IN+1,S+=Ue(f,8))),ye(S)&&(!ye(d.start)||S<d.start)&&(d.start=S)}const h=u.default,m=Ue(o,0)|(h==null?void 0:h.flags);let p=(h==null?void 0:h.duration)||0;m&8&&(m&2?p=Ue(o,12):p=Ue(o,8));const g=Je(a,["trun"]);let v=d.start||0,y=0,x=p;for(let b=0;b<g.length;b++){const S=g[b],w=Ue(S,4),T=d.sampleCount;d.sampleCount+=w;const A=S[3]&1,_=S[3]&4,N=S[2]&1,C=S[2]&2,j=S[2]&4,O=S[2]&8;let R=8,k=w;for(A&&(R+=4),_&&w&&(!(S[R+1]&1)&&d.keyFrameIndex===void 0&&(d.keyFrameIndex=T),R+=4,N?(x=Ue(S,R),R+=4):x=p,C&&(R+=4),O&&(R+=4),v+=x,y+=x,k--);k--;)N?(x=Ue(S,R),R+=4):x=p,C&&(R+=4),j&&(S[R+1]&1||d.keyFrameIndex===void 0&&(d.keyFrameIndex=d.sampleCount-(k+1),d.keyFrameStart=v),R+=4),O&&(R+=4),v+=x,y+=x;!y&&p&&(y+=p*w)}d.duration+=y}if(!Object.keys(n).some(s=>n[s].duration)){let s=1/0,a=0;const o=Je(t,["sidx"]);for(let c=0;c<o.length;c++){const u=hY(o[c]);if(u!=null&&u.references){s=Math.min(s,u.earliestPresentationTime/u.timescale);const d=u.references.reduce((f,h)=>f+h.info.duration||0,0);a=Math.max(a,d+u.earliestPresentationTime/u.timescale)}}a&&ye(a)&&Object.keys(n).forEach(c=>{n[c].duration||(n[c].duration=a*n[c].timescale-n[c].start)})}return n}function xY(t){const e={valid:null,remainder:null},r=Je(t,["moof"]);if(r.length<2)return e.remainder=t,e;const n=r[r.length-1];return e.valid=t.slice(0,n.byteOffset-8),e.remainder=t.slice(n.byteOffset-8),e}function di(t,e){const r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),r}function RN(t,e){const r=[],n=e.samples,i=e.timescale,s=e.id;let a=!1;return Je(n,["moof"]).map(c=>{const u=c.byteOffset-8;Je(c,["traf"]).map(f=>{const h=Je(f,["tfdt"]).map(m=>{const p=m[0];let g=Ue(m,4);return p===1&&(g*=Math.pow(2,32),g+=Ue(m,8)),g/i})[0];return h!==void 0&&(t=h),Je(f,["tfhd"]).map(m=>{const p=Ue(m,4),g=Ue(m,0)&16777215,v=(g&1)!==0,y=(g&2)!==0,x=(g&8)!==0;let b=0;const S=(g&16)!==0;let w=0;const T=(g&32)!==0;let A=8;p===s&&(v&&(A+=8),y&&(A+=4),x&&(b=Ue(m,A),A+=4),S&&(w=Ue(m,A),A+=4),T&&(A+=4),e.type==="video"&&(a=Ey(e.codec)),Je(f,["trun"]).map(_=>{const N=_[0],C=Ue(_,0)&16777215,j=(C&1)!==0;let O=0;const R=(C&4)!==0,k=(C&256)!==0;let M=0;const D=(C&512)!==0;let U=0;const I=(C&1024)!==0,F=(C&2048)!==0;let H=0;const G=Ue(_,4);let V=8;j&&(O=Ue(_,V),V+=4),R&&(V+=4);let ne=O+u;for(let ce=0;ce<G;ce++){if(k?(M=Ue(_,V),V+=4):M=b,D?(U=Ue(_,V),V+=4):U=w,I&&(V+=4),F&&(N===0?H=Ue(_,V):H=bF(_,V),V+=4),e.type===Tt.VIDEO){let Se=0;for(;Se<U;){const J=Ue(n,ne);if(ne+=4,bY(a,n[ne])){const re=n.subarray(ne,ne+J);kT(re,a?2:1,t+H/i,r)}ne+=J,Se+=J+4}}t+=M/i}}))})})}),r}function Ey(t){if(!t)return!1;const e=t.substring(0,4);return e==="hvc1"||e==="hev1"||e==="dvh1"||e==="dvhe"}function bY(t,e){if(t){const r=e>>1&63;return r===39||r===40}else return(e&31)===6}function kT(t,e,r,n){const i=SF(t);let s=0;s+=e;let a=0,o=0,c=0;for(;s<i.length;){a=0;do{if(s>=i.length)break;c=i[s++],a+=c}while(c===255);o=0;do{if(s>=i.length)break;c=i[s++],o+=c}while(c===255);const u=i.length-s;let d=s;if(o<u)s+=o;else if(o>u){dt.error(`Malformed SEI payload. ${o} is too small, only ${u} bytes left to parse.`);break}if(a===4){if(i[d++]===181){const h=xF(i,d);if(d+=2,h===49){const m=Ue(i,d);if(d+=4,m===1195456820){const p=i[d++];if(p===3){const g=i[d++],v=31&g,y=64&g,x=y?2+v*3:0,b=new Uint8Array(x);if(y){b[0]=g;for(let S=1;S<x;S++)b[S]=i[d++]}n.push({type:p,payloadType:a,pts:r,bytes:b})}}}}}else if(a===5&&o>16){const f=[];for(let p=0;p<16;p++){const g=i[d++].toString(16);f.push(g.length==1?"0"+g:g),(p===3||p===5||p===7||p===9)&&f.push("-")}const h=o-16,m=new Uint8Array(h);for(let p=0;p<h;p++)m[p]=i[d++];n.push({payloadType:a,pts:r,uuid:f.join(""),userData:Fn(m),userDataBytes:m})}}}function SF(t){const e=t.byteLength,r=[];let n=1;for(;n<e-2;)t[n]===0&&t[n+1]===0&&t[n+2]===3?(r.push(n+2),n+=2):n++;if(r.length===0)return t;const i=e-r.length,s=new Uint8Array(i);let a=0;for(n=0;n<i;a++,n++)a===r[0]&&(a++,r.shift()),s[n]=t[a];return s}function wY(t){const e=t[0];let r="",n="",i=0,s=0,a=0,o=0,c=0,u=0;if(e===0){for(;Nr(t.subarray(u,u+1))!=="\0";)r+=Nr(t.subarray(u,u+1)),u+=1;for(r+=Nr(t.subarray(u,u+1)),u+=1;Nr(t.subarray(u,u+1))!=="\0";)n+=Nr(t.subarray(u,u+1)),u+=1;n+=Nr(t.subarray(u,u+1)),u+=1,i=Ue(t,12),s=Ue(t,16),o=Ue(t,20),c=Ue(t,24),u=28}else if(e===1){u+=4,i=Ue(t,u),u+=4;const f=Ue(t,u);u+=4;const h=Ue(t,u);for(u+=4,a=2**32*f+h,Qq(a)||(a=Number.MAX_SAFE_INTEGER,dt.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),o=Ue(t,u),u+=4,c=Ue(t,u),u+=4;Nr(t.subarray(u,u+1))!=="\0";)r+=Nr(t.subarray(u,u+1)),u+=1;for(r+=Nr(t.subarray(u,u+1)),u+=1;Nr(t.subarray(u,u+1))!=="\0";)n+=Nr(t.subarray(u,u+1)),u+=1;n+=Nr(t.subarray(u,u+1)),u+=1}const d=t.subarray(u,t.byteLength);return{schemeIdUri:r,value:n,timeScale:i,presentationTime:a,presentationTimeDelta:s,eventDuration:o,id:c,payload:d}}function SY(t,...e){const r=e.length;let n=8,i=r;for(;i--;)n+=e[i].byteLength;const s=new Uint8Array(n);for(s[0]=n>>24&255,s[1]=n>>16&255,s[2]=n>>8&255,s[3]=n&255,s.set(t,4),i=0,n=8;i<r;i++)s.set(e[i],n),n+=e[i].byteLength;return s}function EY(t,e,r){if(t.byteLength!==16)throw new RangeError("Invalid system id");let n,i;n=0,i=new Uint8Array;let s;n>0?(s=new Uint8Array(4),e.length>0&&new DataView(s.buffer).setUint32(0,e.length,!1)):s=new Uint8Array;const a=new Uint8Array(4);return r&&r.byteLength>0&&new DataView(a.buffer).setUint32(0,r.byteLength,!1),SY([112,115,115,104],new Uint8Array([n,0,0,0]),t,s,i,a,r||new Uint8Array)}const EF=()=>/\(Windows.+Firefox\//i.test(navigator.userAgent),du={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,dav1:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function RT(t,e){const r=du[e];return!!r&&!!r[t.slice(0,4)]}function Ww(t,e,r=!0){return!t.split(",").some(n=>!LT(n,e,r))}function LT(t,e,r=!0){var n;const i=co(r);return(n=i==null?void 0:i.isTypeSupported(Wf(t,e)))!=null?n:!1}function Wf(t,e){return`${e}/mp4;codecs=${t}`}function LN(t){if(t){const e=t.substring(0,4);return du.video[e]}return 2}function xg(t){const e=EF();return t.split(",").reduce((r,n)=>{const s=e&&Ey(n)?9:du.video[n];return s?(s*2+r)/(r?3:2):(du.audio[n]+r)/(r?2:1)},0)}const _x={};function TY(t,e=!0){if(_x[t])return _x[t];const r={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"],"mp4a.40.34":["mp3"]}[t];for(let i=0;i<r.length;i++){var n;if(LT(r[i],"audio",e))return _x[t]=r[i],r[i];if(r[i]==="mp3"&&(n=co(e))!=null&&n.isTypeSupported("audio/mpeg"))return""}return t}const AY=/flac|opus|mp4a\.40\.34/i;function bg(t,e=!0){return t.replace(AY,r=>TY(r.toLowerCase(),e))}function _Y(t,e){const r=[];if(t){const n=t.split(",");for(let i=0;i<n.length;i++)RT(n[i],"video")||r.push(n[i])}return e&&r.push(e),r.join(",")}function Np(t,e){if(t&&(t.length>4||["ac-3","ec-3","alac","fLaC","Opus"].indexOf(t)!==-1)&&(DN(t,"audio")||DN(t,"video")))return t;if(e){const r=e.split(",");if(r.length>1){if(t){for(let n=r.length;n--;)if(r[n].substring(0,4)===t.substring(0,4))return r[n]}return r[0]}}return e||t}function DN(t,e){return RT(t,e)&&LT(t,e)}function PY(t){const e=t.split(",");for(let r=0;r<e.length;r++){const n=e[r].split(".");n.length>2&&n[0]==="avc1"&&(e[r]=`avc1.${parseInt(n[1]).toString(16)}${("000"+parseInt(n[2]).toString(16)).slice(-4)}`)}return e.join(",")}function NY(t){if(t.startsWith("av01.")){const e=t.split("."),r=["0","111","01","01","01","0"];for(let n=e.length;n>4&&n<10;n++)e[n]=r[n-4];return e.join(".")}return t}function MN(t){const e=co(t)||{isTypeSupported:()=>!1};return{mpeg:e.isTypeSupported("audio/mpeg"),mp3:e.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:e.isTypeSupported('audio/mp4; codecs="ac-3"')}}function Kw(t){return t.replace(/^.+codecs=["']?([^"']+).*$/,"$1")}const TF={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]};function AF(t,e){return{supported:!1,configurations:e,decodingInfoResults:[{supported:!1,smooth:!1,powerEfficient:!1}],error:t}}function CY(t,e,r,n,i,s){const a=t.videoCodec,o=t.audioCodec?t.audioGroups:null,c=s==null?void 0:s.audioCodec,u=s==null?void 0:s.channels,d=u?parseInt(u):c?1/0:2;let f=null;if(o!=null&&o.length)try{o.length===1&&o[0]?f=e.groups[o[0]].channels:f=o.reduce((h,m)=>{if(m){const p=e.groups[m];if(!p)throw new Error(`Audio track group ${m} not found`);Object.keys(p.channels).forEach(g=>{h[g]=(h[g]||0)+p.channels[g]})}return h},{2:0})}catch{return!0}return a!==void 0&&(a.split(",").some(h=>Ey(h))||t.width>1920&&t.height>1088||t.height>1920&&t.width>1088||t.frameRate>Math.max(n,30)||t.videoRange!=="SDR"&&t.videoRange!==r||t.bitrate>Math.max(i,8e6))||!!f&&ye(d)&&Object.keys(f).some(h=>parseInt(h)>d)}function _F(t,e,r,n={}){const i=t.videoCodec;if(!i&&!t.audioCodec||!r)return Promise.resolve(TF);const s=[],a=jY(t),o=a.length,c=OY(t,e,o>0),u=c.length;for(let d=o||1*u||1;d--;){const f={type:"media-source"};if(o&&(f.video=a[d%o]),u){f.audio=c[d%u];const h=f.audio.bitrate;f.video&&h&&(f.video.bitrate-=h)}s.push(f)}if(i){const d=navigator.userAgent;if(i.split(",").some(f=>Ey(f))&&EF())return Promise.resolve(AF(new Error(`Overriding Windows Firefox HEVC MediaCapabilities result based on user-agent string: (${d})`),s))}return Promise.all(s.map(d=>{const f=kY(d);return n[f]||(n[f]=r.decodingInfo(d))})).then(d=>({supported:!d.some(f=>!f.supported),configurations:s,decodingInfoResults:d})).catch(d=>({supported:!1,configurations:s,decodingInfoResults:[],error:d}))}function jY(t){var e;const r=(e=t.videoCodec)==null?void 0:e.split(","),n=PF(t),i=t.width||640,s=t.height||480,a=t.frameRate||30,o=t.videoRange.toLowerCase();return r?r.map(c=>{const u={contentType:Wf(NY(c),"video"),width:i,height:s,bitrate:n,framerate:a};return o!=="sdr"&&(u.transferFunction=o),u}):[]}function OY(t,e,r){var n;const i=(n=t.audioCodec)==null?void 0:n.split(","),s=PF(t);return i&&t.audioGroups?t.audioGroups.reduce((a,o)=>{var c;const u=o?(c=e.groups[o])==null?void 0:c.tracks:null;return u?u.reduce((d,f)=>{if(f.groupId===o){const h=parseFloat(f.channels||"");i.forEach(m=>{const p={contentType:Wf(m,"audio"),bitrate:r?IY(m,s):s};h&&(p.channels=""+h),d.push(p)})}return d},a):a},[]):[]}function IY(t,e){if(e<=1)return 1;let r=128e3;return t==="ec-3"?r=768e3:t==="ac-3"&&(r=64e4),Math.min(e/2,r)}function PF(t){return Math.ceil(Math.max(t.bitrate*.9,t.averageBitrate)/1e3)*1e3||1}function kY(t){let e="";const{audio:r,video:n}=t;if(n){const i=Kw(n.contentType);e+=`${i}_r${n.height}x${n.width}f${Math.ceil(n.framerate)}${n.transferFunction||"sd"}_${Math.ceil(n.bitrate/1e5)}`}if(r){const i=Kw(r.contentType);e+=`${n?"_":""}${i}_c${r.channels}`}return e}const qw=["NONE","TYPE-0","TYPE-1",null];function RY(t){return qw.indexOf(t)>-1}const wg=["SDR","PQ","HLG"];function LY(t){return!!t&&wg.indexOf(t)>-1}var Cp={No:"",Yes:"YES",v2:"v2"};function $N(t){const{canSkipUntil:e,canSkipDateRanges:r,age:n}=t,i=n<e/2;return e&&i?r?Cp.v2:Cp.Yes:Cp.No}class FN{constructor(e,r,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=r,this.skip=n}addDirectives(e){const r=new self.URL(e);return this.msn!==void 0&&r.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&r.searchParams.set("_HLS_part",this.part.toString()),this.skip&&r.searchParams.set("_HLS_skip",this.skip),r.href}}class Kf{constructor(e){if(this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.supplemental=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter(n=>!!n).map(n=>n.substring(0,4)).join(","),"supplemental"in e){var r;this.supplemental=e.supplemental;const n=(r=e.supplemental)==null?void 0:r.videoCodec;n&&n!==e.videoCodec&&(this.codecSet+=`,${n.substring(0,4)}`)}this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return BN(this._audioGroups,e)}hasSubtitleGroup(e){return BN(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,r){if(r){if(e==="audio"){let n=this._audioGroups;n||(n=this._audioGroups=[]),n.indexOf(r)===-1&&n.push(r)}else if(e==="text"){let n=this._subtitleGroups;n||(n=this._subtitleGroups=[]),n.indexOf(r)===-1&&n.push(r)}}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return(e=this.audioGroups)==null?void 0:e[0]}get textGroupId(){var e;return(e=this.subtitleGroups)==null?void 0:e[0]}addFallback(){}}function BN(t,e){return!e||!t?!1:t.indexOf(e)!==-1}function DY(){if(typeof matchMedia=="function"){const t=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(t.media!==e.media)return t.matches===!0}return!1}function MY(t,e){let r=!1,n=[];if(t&&(r=t!=="SDR",n=[t]),e){n=e.allowedVideoRanges||wg.slice(0);const i=n.join("")!=="SDR"&&!e.videoCodec;r=e.preferHDR!==void 0?e.preferHDR:i&&DY(),r||(n=["SDR"])}return{preferHDR:r,allowedVideoRanges:n}}const $Y=t=>{const e=new WeakSet;return(r,n)=>{if(t&&(n=t(r,n)),typeof n=="object"&&n!==null){if(e.has(n))return;e.add(n)}return n}},Mt=(t,e)=>JSON.stringify(t,$Y(e));function FY(t,e,r,n,i){const s=Object.keys(t),a=n==null?void 0:n.channels,o=n==null?void 0:n.audioCodec,c=i==null?void 0:i.videoCodec,u=a&&parseInt(a)===2;let d=!1,f=!1,h=1/0,m=1/0,p=1/0,g=1/0,v=0,y=[];const{preferHDR:x,allowedVideoRanges:b}=MY(e,i);for(let _=s.length;_--;){const N=t[s[_]];d||(d=N.channels[2]>0),h=Math.min(h,N.minHeight),m=Math.min(m,N.minFramerate),p=Math.min(p,N.minBitrate),b.filter(j=>N.videoRanges[j]>0).length>0&&(f=!0)}h=ye(h)?h:0,m=ye(m)?m:0;const S=Math.max(1080,h),w=Math.max(30,m);p=ye(p)?p:r,r=Math.max(p,r),f||(e=void 0);const T=s.length>1;return{codecSet:s.reduce((_,N)=>{const C=t[N];if(N===_)return _;if(y=f?b.filter(j=>C.videoRanges[j]>0):[],T){if(C.minBitrate>r)return Vi(N,`min bitrate of ${C.minBitrate} > current estimate of ${r}`),_;if(!C.hasDefaultAudio)return Vi(N,"no renditions with default or auto-select sound found"),_;if(o&&N.indexOf(o.substring(0,4))%5!==0)return Vi(N,`audio codec preference "${o}" not found`),_;if(a&&!u){if(!C.channels[a])return Vi(N,`no renditions with ${a} channel sound found (channels options: ${Object.keys(C.channels)})`),_}else if((!o||u)&&d&&C.channels[2]===0)return Vi(N,"no renditions with stereo sound found"),_;if(C.minHeight>S)return Vi(N,`min resolution of ${C.minHeight} > maximum of ${S}`),_;if(C.minFramerate>w)return Vi(N,`min framerate of ${C.minFramerate} > maximum of ${w}`),_;if(!y.some(j=>C.videoRanges[j]>0))return Vi(N,`no variants with VIDEO-RANGE of ${Mt(y)} found`),_;if(c&&N.indexOf(c.substring(0,4))%5!==0)return Vi(N,`video codec preference "${c}" not found`),_;if(C.maxScore<v)return Vi(N,`max score of ${C.maxScore} < selected max of ${v}`),_}return _&&(xg(N)>=xg(_)||C.fragmentError>t[_].fragmentError)?_:(g=C.minIndex,v=C.maxScore,N)},void 0),videoRanges:y,preferHDR:x,minFramerate:m,minBitrate:p,minIndex:g}}function Vi(t,e){dt.log(`[abr] start candidates with "${t}" ignored because ${e}`)}function NF(t){return t.reduce((e,r)=>{let n=e.groups[r.groupId];n||(n=e.groups[r.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),n.tracks.push(r);const i=r.channels||"2";return n.channels[i]=(n.channels[i]||0)+1,n.hasDefault=n.hasDefault||r.default,n.hasAutoSelect=n.hasAutoSelect||r.autoselect,n.hasDefault&&(e.hasDefaultAudio=!0),n.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function BY(t,e,r,n){return t.slice(r,n+1).reduce((i,s,a)=>{if(!s.codecSet)return i;const o=s.audioGroups;let c=i[s.codecSet];c||(i[s.codecSet]=c={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,minIndex:a,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!o,fragmentError:0}),c.minBitrate=Math.min(c.minBitrate,s.bitrate);const u=Math.min(s.height,s.width);return c.minHeight=Math.min(c.minHeight,u),c.minFramerate=Math.min(c.minFramerate,s.frameRate),c.minIndex=Math.min(c.minIndex,a),c.maxScore=Math.max(c.maxScore,s.score),c.fragmentError+=s.fragmentError,c.videoRanges[s.videoRange]=(c.videoRanges[s.videoRange]||0)+1,o&&o.forEach(d=>{if(!d)return;const f=e.groups[d];f&&(c.hasDefaultAudio=c.hasDefaultAudio||e.hasDefaultAudio?f.hasDefault:f.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(f.channels).forEach(h=>{c.channels[h]=(c.channels[h]||0)+f.channels[h]}))}),i},{})}function UN(t){if(!t)return t;const{lang:e,assocLang:r,characteristics:n,channels:i,audioCodec:s}=t;return{lang:e,assocLang:r,characteristics:n,channels:i,audioCodec:s}}function Zi(t,e,r){if("attrs"in t){const n=e.indexOf(t);if(n!==-1)return n}for(let n=0;n<e.length;n++){const i=e[n];if(sl(t,i,r))return n}return-1}function sl(t,e,r){const{groupId:n,name:i,lang:s,assocLang:a,default:o}=t,c=t.forced;return(n===void 0||e.groupId===n)&&(i===void 0||e.name===i)&&(s===void 0||UY(s,e.lang))&&(s===void 0||e.assocLang===a)&&(o===void 0||e.default===o)&&(c===void 0||e.forced===c)&&(!("characteristics"in t)||VY(t.characteristics||"",e.characteristics))&&(r===void 0||r(t,e))}function UY(t,e="--"){return t.length===e.length?t===e:t.startsWith(e)||e.startsWith(t)}function VY(t,e=""){const r=t.split(","),n=e.split(",");return r.length===n.length&&!r.some(i=>n.indexOf(i)===-1)}function ko(t,e){const{audioCodec:r,channels:n}=t;return(r===void 0||(e.audioCodec||"").substring(0,4)===r.substring(0,4))&&(n===void 0||n===(e.channels||"2"))}function GY(t,e,r,n,i){const s=e[n],o=e.reduce((h,m,p)=>{const g=m.uri;return(h[g]||(h[g]=[])).push(p),h},{})[s.uri];o.length>1&&(n=Math.max.apply(Math,o));const c=s.videoRange,u=s.frameRate,d=s.codecSet.substring(0,4),f=VN(e,n,h=>{if(h.videoRange!==c||h.frameRate!==u||h.codecSet.substring(0,4)!==d)return!1;const m=h.audioGroups,p=r.filter(g=>!m||m.indexOf(g.groupId)!==-1);return Zi(t,p,i)>-1});return f>-1?f:VN(e,n,h=>{const m=h.audioGroups,p=r.filter(g=>!m||m.indexOf(g.groupId)!==-1);return Zi(t,p,i)>-1})}function VN(t,e,r){for(let n=e;n>-1;n--)if(r(t[n]))return n;for(let n=e+1;n<t.length;n++)if(r(t[n]))return n;return-1}function Sg(t,e){var r;return!!t&&t!==((r=e.loadLevelObj)==null?void 0:r.uri)}class HY extends Fi{constructor(e){super("abr",e.logger),this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.rebufferNotice=-1,this.supportedCache={},this.bwEstimator=void 0,this._abandonRulesCheck=r=>{var n;const{fragCurrent:i,partCurrent:s,hls:a}=this,{autoLevelEnabled:o,media:c}=a;if(!i||!c)return;const u=performance.now(),d=s?s.stats:i.stats,f=s?s.duration:i.duration,h=u-d.loading.start,m=a.minAutoLevel,p=i.level,g=this._nextAutoLevel;if(d.aborted||d.loaded&&d.loaded===d.total||p<=m){this.clearTimer(),this._nextAutoLevel=-1;return}if(!o)return;const v=g>-1&&g!==p,y=!!r||v;if(!y&&(c.paused||!c.playbackRate||!c.readyState))return;const x=a.mainForwardBufferInfo;if(!y&&x===null)return;const b=this.bwEstimator.getEstimateTTFB(),S=Math.abs(c.playbackRate);if(h<=Math.max(b,1e3*(f/(S*2))))return;const w=x?x.len/S:0,T=d.loading.first?d.loading.first-d.loading.start:-1,A=d.loaded&&T>-1,_=this.getBwEstimate(),N=a.levels,C=N[p],j=Math.max(d.loaded,Math.round(f*(i.bitrate||C.averageBitrate)/8));let O=A?h-T:h;O<1&&A&&(O=Math.min(h,d.loaded*8/_));const R=A?d.loaded*1e3/O:0,k=b/1e3,M=R?(j-d.loaded)/R:j*8/_+k;if(M<=w)return;const D=R?R*8:_,U=((n=(r==null?void 0:r.details)||this.hls.latestLevelDetails)==null?void 0:n.live)===!0,I=this.hls.config.abrBandWidthUpFactor;let F=Number.POSITIVE_INFINITY,H;for(H=p-1;H>m;H--){const ce=N[H].maxBitrate,Se=!N[H].details||U;if(F=this.getTimeToLoadFrag(k,D,f*ce,Se),F<Math.min(w,f+k))break}if(F>=M||F>f*10)return;A?this.bwEstimator.sample(h-Math.min(b,T),d.loaded):this.bwEstimator.sampleTTFB(h);const G=N[H].maxBitrate;this.getBwEstimate()*I>G&&this.resetEstimator(G);const V=this.findBestLevel(G,m,H,0,w,1,1);V>-1&&(H=V),this.warn(`Fragment ${i.sn}${s?" part "+s.index:""} of level ${p} is loading too slowly;
      Fragment duration: ${i.duration.toFixed(3)}
      Time to underbuffer: ${w.toFixed(3)} s
      Estimated load time for current fragment: ${M.toFixed(3)} s
      Estimated load time for down switch fragment: ${F.toFixed(3)} s
      TTFB estimate: ${T|0} ms
      Current BW estimate: ${ye(_)?_|0:"Unknown"} bps
      New BW estimate: ${this.getBwEstimate()|0} bps
      Switching to level ${H} @ ${G|0} bps`),a.nextLoadLevel=a.nextAutoLevel=H,this.clearTimer();const ne=()=>{if(this.clearTimer(),this.fragCurrent===i&&this.hls.loadLevel===H&&H>0){const ce=this.getStarvationDelay();if(this.warn(`Aborting inflight request ${H>0?"and switching down":""}
      Fragment duration: ${i.duration.toFixed(3)} s
      Time to underbuffer: ${ce.toFixed(3)} s`),i.abortRequests(),this.fragCurrent=this.partCurrent=null,H>m){let Se=this.findBestLevel(this.hls.levels[m].bitrate,m,H,0,ce,1,1);Se===-1&&(Se=m),this.hls.nextLoadLevel=this.hls.nextAutoLevel=Se,this.resetEstimator(this.hls.levels[Se].bitrate)}}};v||M>F*2?ne():this.timer=self.setInterval(ne,F*1e3),a.trigger(P.FRAG_LOAD_EMERGENCY_ABORTED,{frag:i,part:s,stats:d})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&(this.log(`setting initial bwe to ${e}`),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const e=this.hls.config;return new Jq(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:e}=this;e.on(P.MANIFEST_LOADING,this.onManifestLoading,this),e.on(P.FRAG_LOADING,this.onFragLoading,this),e.on(P.FRAG_LOADED,this.onFragLoaded,this),e.on(P.FRAG_BUFFERED,this.onFragBuffered,this),e.on(P.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(P.LEVEL_LOADED,this.onLevelLoaded,this),e.on(P.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(P.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(P.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e&&(e.off(P.MANIFEST_LOADING,this.onManifestLoading,this),e.off(P.FRAG_LOADING,this.onFragLoading,this),e.off(P.FRAG_LOADED,this.onFragLoaded,this),e.off(P.FRAG_BUFFERED,this.onFragBuffered,this),e.off(P.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(P.LEVEL_LOADED,this.onLevelLoaded,this),e.off(P.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(P.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(P.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=this.supportedCache=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,r){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.supportedCache={},this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,r){const n=r.frag;if(!this.ignoreFragment(n)){if(!n.bitrateTest){var i;this.fragCurrent=n,this.partCurrent=(i=r.part)!=null?i:null}this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,r){this.clearTimer()}onError(e,r){if(!r.fatal)switch(r.details){case K.BUFFER_ADD_CODEC_ERROR:case K.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case K.FRAG_LOAD_TIMEOUT:{const n=r.frag,{fragCurrent:i,partCurrent:s}=this;if(n&&i&&n.sn===i.sn&&n.level===i.level){const a=performance.now(),o=s?s.stats:n.stats,c=a-o.loading.start,u=o.loading.first?o.loading.first-o.loading.start:-1;if(o.loaded&&u>-1){const f=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(c-Math.min(f,u),o.loaded)}else this.bwEstimator.sampleTTFB(c)}break}}}getTimeToLoadFrag(e,r,n,i){const s=e+n/r,a=i?e+this.lastLevelLoadSec:0;return s+a}onLevelLoaded(e,r){const n=this.hls.config,{loading:i}=r.stats,s=i.end-i.first;ye(s)&&(this.lastLevelLoadSec=s/1e3),r.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD),this.timer>-1&&this._abandonRulesCheck(r.levelInfo)}onFragLoaded(e,{frag:r,part:n}){const i=n?n.stats:r.stats;if(r.type===Pe.MAIN&&this.bwEstimator.sampleTTFB(i.loading.first-i.loading.start),!this.ignoreFragment(r)){if(this.clearTimer(),r.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const s=n?n.duration:r.duration,a=this.hls.levels[r.level],o=(a.loaded?a.loaded.bytes:0)+i.loaded,c=(a.loaded?a.loaded.duration:0)+s;a.loaded={bytes:o,duration:c},a.realBitrate=Math.round(8*o/c)}if(r.bitrateTest){const s={stats:i,frag:r,part:n,id:r.type};this.onFragBuffered(P.FRAG_BUFFERED,s),r.bitrateTest=!1}else this.lastLoadedFragLevel=r.level}}onFragBuffered(e,r){const{frag:n,part:i}=r,s=i!=null&&i.stats.loaded?i.stats:n.stats;if(s.aborted||this.ignoreFragment(n))return;const a=s.parsing.end-s.loading.start-Math.min(s.loading.first-s.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(a,s.loaded),s.bwEstimate=this.getBwEstimate(),n.bitrateTest?this.bitrateTestDelay=a/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==Pe.MAIN||e.sn==="initSegment"}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:e,minAutoLevel:r}=this.hls,n=this.getBwEstimate(),i=this.hls.config.maxStarvationDelay,s=this.findBestLevel(n,r,e,0,i,1,1);if(s>-1)return s;const a=this.hls.firstLevel,o=Math.min(Math.max(a,r),e);return this.warn(`Could not find best starting auto level. Defaulting to first in playlist ${a} clamped to ${o}`),o}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const e=this.forcedAutoLevel,n=this.bwEstimator.canEstimate(),i=this.lastLoadedFragLevel>-1;if(e!==-1&&(!n||!i||this.nextAutoLevelKey===this.getAutoLevelKey()))return e;const s=n&&i?this.getNextABRAutoLevel():this.firstAutoLevel;if(e!==-1){const a=this.hls.levels;if(a.length>Math.max(e,s)&&a[e].loadError<=a[s].loadError)return e}return this._nextAutoLevel=s,this.nextAutoLevelKey=this.getAutoLevelKey(),s}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:r,hls:n}=this;if(n.levels.length<=1)return n.loadLevel;const{maxAutoLevel:i,config:s,minAutoLevel:a}=n,o=r?r.duration:e?e.duration:0,c=this.getBwEstimate(),u=this.getStarvationDelay();let d=s.abrBandWidthFactor,f=s.abrBandWidthUpFactor;if(u){const v=this.findBestLevel(c,a,i,u,0,d,f);if(v>=0)return this.rebufferNotice=-1,v}let h=o?Math.min(o,s.maxStarvationDelay):s.maxStarvationDelay;if(!u){const v=this.bitrateTestDelay;v&&(h=(o?Math.min(o,s.maxLoadingDelay):s.maxLoadingDelay)-v,this.info(`bitrate test took ${Math.round(1e3*v)}ms, set first fragment max fetchDuration to ${Math.round(1e3*h)} ms`),d=f=1)}const m=this.findBestLevel(c,a,i,u,h,d,f);if(this.rebufferNotice!==m&&(this.rebufferNotice=m,this.info(`${u?"rebuffering expected":"buffer is empty"}, optimal quality level ${m}`)),m>-1)return m;const p=n.levels[a],g=n.loadLevelObj;return g&&(p==null?void 0:p.bitrate)<g.bitrate?a:n.loadLevel}getStarvationDelay(){const e=this.hls,r=e.media;if(!r)return 1/0;const n=r&&r.playbackRate!==0?Math.abs(r.playbackRate):1,i=e.mainForwardBufferInfo;return(i?i.len:0)/n}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,r,n,i,s,a,o){var c;const u=i+s,d=this.lastLoadedFragLevel,f=d===-1?this.hls.firstLevel:d,{fragCurrent:h,partCurrent:m}=this,{levels:p,allAudioTracks:g,loadLevel:v,config:y}=this.hls;if(p.length===1)return 0;const x=p[f],b=!!((c=this.hls.latestLevelDetails)!=null&&c.live),S=v===-1||d===-1;let w,T="SDR",A=(x==null?void 0:x.frameRate)||0;const{audioPreference:_,videoPreference:N}=y,C=this.audioTracksByGroup||(this.audioTracksByGroup=NF(g));let j=-1;if(S){if(this.firstSelection!==-1)return this.firstSelection;const U=this.codecTiers||(this.codecTiers=BY(p,C,r,n)),I=FY(U,T,e,_,N),{codecSet:F,videoRanges:H,minFramerate:G,minBitrate:V,minIndex:ne,preferHDR:ce}=I;j=ne,w=F,T=ce?H[H.length-1]:H[0],A=G,e=Math.max(e,V),this.log(`picked start tier ${Mt(I)}`)}else w=x==null?void 0:x.codecSet,T=x==null?void 0:x.videoRange;const O=m?m.duration:h?h.duration:0,R=this.bwEstimator.getEstimateTTFB()/1e3,k=[];for(let U=n;U>=r;U--){var M,D;const I=p[U],F=U>f;if(!I)continue;if(y.useMediaCapabilities&&!I.supportedResult&&!I.supportedPromise){const J=navigator.mediaCapabilities;typeof(J==null?void 0:J.decodingInfo)=="function"&&CY(I,C,T,A,e,_)?(I.supportedPromise=_F(I,C,J,this.supportedCache),I.supportedPromise.then(re=>{if(!this.hls)return;I.supportedResult=re;const Ee=this.hls.levels,te=Ee.indexOf(I);re.error?this.warn(`MediaCapabilities decodingInfo error: "${re.error}" for level ${te} ${Mt(re)}`):re.supported?re.decodingInfoResults.some(oe=>oe.smooth===!1||oe.powerEfficient===!1)&&this.log(`MediaCapabilities decodingInfo for level ${te} not smooth or powerEfficient: ${Mt(re)}`):(this.warn(`Unsupported MediaCapabilities decodingInfo result for level ${te} ${Mt(re)}`),te>-1&&Ee.length>1&&(this.log(`Removing unsupported level ${te}`),this.hls.removeLevel(te),this.hls.loadLevel===-1&&(this.hls.nextLoadLevel=0)))})):I.supportedResult=TF}if((w&&I.codecSet!==w||T&&I.videoRange!==T||F&&A>I.frameRate||!F&&A>0&&A<I.frameRate||(M=I.supportedResult)!=null&&(D=M.decodingInfoResults)!=null&&D.some(J=>J.smooth===!1))&&(!S||U!==j)){k.push(U);continue}const H=I.details,G=(m?H==null?void 0:H.partTarget:H==null?void 0:H.averagetargetduration)||O;let V;F?V=o*e:V=a*e;const ne=O&&i>=O*2&&s===0?I.averageBitrate:I.maxBitrate,ce=this.getTimeToLoadFrag(R,V,ne*G,H===void 0);if(V>=ne&&(U===d||I.loadError===0&&I.fragmentError===0)&&(ce<=R||!ye(ce)||b&&!this.bitrateTestDelay||ce<u)){const J=this.forcedAutoLevel;return U!==v&&(J===-1||J!==v)&&(k.length&&this.trace(`Skipped level(s) ${k.join(",")} of ${n} max with CODECS and VIDEO-RANGE:"${p[k[0]].codecs}" ${p[k[0]].videoRange}; not compatible with "${w}" ${T}`),this.info(`switch candidate:${f}->${U} adjustedbw(${Math.round(V)})-bitrate=${Math.round(V-ne)} ttfb:${R.toFixed(1)} avgDuration:${G.toFixed(1)} maxFetchDuration:${u.toFixed(1)} fetchDuration:${ce.toFixed(1)} firstSelection:${S} codecSet:${I.codecSet} videoRange:${I.videoRange} hls.loadLevel:${v}`)),S&&(this.firstSelection=U),U}}return-1}set nextAutoLevel(e){const r=this.deriveNextAutoLevel(e);this._nextAutoLevel!==r&&(this.nextAutoLevelKey="",this._nextAutoLevel=r)}deriveNextAutoLevel(e){const{maxAutoLevel:r,minAutoLevel:n}=this.hls;return Math.min(Math.max(e,n),r)}}const CF={search:function(t,e){let r=0,n=t.length-1,i=null,s=null;for(;r<=n;){i=(r+n)/2|0,s=t[i];const a=e(s);if(a>0)r=i+1;else if(a<0)n=i-1;else return s}return null}};function zY(t,e,r){if(e===null||!Array.isArray(t)||!t.length||!ye(e))return null;const n=t[0].programDateTime;if(e<(n||0))return null;const i=t[t.length-1].endProgramDateTime;if(e>=(i||0))return null;for(let s=0;s<t.length;++s){const a=t[s];if(KY(e,r,a))return a}return null}function Al(t,e,r=0,n=0,i=.005){let s=null;if(t){s=e[1+t.sn-e[0].sn]||null;const o=t.endDTS-r;o>0&&o<15e-7&&(r+=15e-7),s&&t.level!==s.level&&s.end<=t.end&&(s=e[2+t.sn-e[0].sn]||null)}else r===0&&e[0].start===0&&(s=e[0]);if(s&&((!t||t.level===s.level)&&GN(r,n,s)===0||WY(s,t,Math.min(i,n))))return s;const a=CF.search(e,GN.bind(null,r,n));return a&&(a!==t||!s)?a:s}function WY(t,e,r){if(e&&e.start===0&&e.level<t.level&&(e.endPTS||0)>0){const n=e.tagList.reduce((i,s)=>(s[0]==="INF"&&(i+=parseFloat(s[1])),i),r);return t.start<=n}return!1}function GN(t=0,e=0,r){if(r.start<=t&&r.start+r.duration>t)return 0;const n=Math.min(e,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.start+r.duration-n<=t?1:r.start-n>t&&r.start?-1:0}function KY(t,e,r){const n=Math.min(e,r.duration+(r.deltaPTS?r.deltaPTS:0))*1e3;return(r.endProgramDateTime||0)-n>t}function jF(t,e,r){if(t&&t.startCC<=e&&t.endCC>=e){let n=t.fragments;const{fragmentHint:i}=t;i&&(n=n.concat(i));let s;return CF.search(n,a=>a.cc<e?1:a.cc>e?-1:(s=a,a.end<=r?1:a.start>r?-1:0)),s||null}return null}function Eg(t){switch(t.details){case K.FRAG_LOAD_TIMEOUT:case K.KEY_LOAD_TIMEOUT:case K.LEVEL_LOAD_TIMEOUT:case K.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function HN(t,e){const r=Eg(e);return t.default[`${r?"timeout":"error"}Retry`]}function DT(t,e){const r=t.backoff==="linear"?1:Math.pow(2,e);return Math.min(r*t.retryDelayMs,t.maxRetryDelayMs)}function zN(t){return St(St({},t),{errorRetry:null,timeoutRetry:null})}function Tg(t,e,r,n){if(!t)return!1;const i=n==null?void 0:n.code,s=e<t.maxNumRetry&&(qY(i)||!!r);return t.shouldRetry?t.shouldRetry(t,e,r,n,s):s}function qY(t){return t===0&&navigator.onLine===!1||!!t&&(t<400||t>499)}var Wr={DoNothing:0,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,RetryRequest:5},Si={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2};class YY extends Fi{constructor(e){super("error-controller",e.logger),this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(P.ERROR,this.onError,this),e.on(P.MANIFEST_LOADING,this.onManifestLoading,this),e.on(P.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(P.ERROR,this.onError,this),e.off(P.ERROR,this.onErrorOut,this),e.off(P.MANIFEST_LOADING,this.onManifestLoading,this),e.off(P.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return(e==null?void 0:e.type)===Pe.MAIN?e.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(e,r){var n;if(r.fatal)return;const i=this.hls,s=r.context;switch(r.details){case K.FRAG_LOAD_ERROR:case K.FRAG_LOAD_TIMEOUT:case K.KEY_LOAD_ERROR:case K.KEY_LOAD_TIMEOUT:r.errorAction=this.getFragRetryOrSwitchAction(r);return;case K.FRAG_PARSING_ERROR:if((n=r.frag)!=null&&n.gap){r.errorAction=qf();return}case K.FRAG_GAP:case K.FRAG_DECRYPT_ERROR:{r.errorAction=this.getFragRetryOrSwitchAction(r),r.errorAction.action=Wr.SendAlternateToPenaltyBox;return}case K.LEVEL_EMPTY_ERROR:case K.LEVEL_PARSING_ERROR:{var a,o;const u=r.parent===Pe.MAIN?r.level:i.loadLevel;r.details===K.LEVEL_EMPTY_ERROR&&((a=r.context)!=null&&(o=a.levelDetails)!=null&&o.live)?r.errorAction=this.getPlaylistRetryOrSwitchAction(r,u):(r.levelRetry=!1,r.errorAction=this.getLevelSwitchAction(r,u))}return;case K.LEVEL_LOAD_ERROR:case K.LEVEL_LOAD_TIMEOUT:typeof(s==null?void 0:s.level)=="number"&&(r.errorAction=this.getPlaylistRetryOrSwitchAction(r,s.level));return;case K.AUDIO_TRACK_LOAD_ERROR:case K.AUDIO_TRACK_LOAD_TIMEOUT:case K.SUBTITLE_LOAD_ERROR:case K.SUBTITLE_TRACK_LOAD_TIMEOUT:if(s){const u=i.loadLevelObj;if(u&&(s.type===et.AUDIO_TRACK&&u.hasAudioGroup(s.groupId)||s.type===et.SUBTITLE_TRACK&&u.hasSubtitleGroup(s.groupId))){r.errorAction=this.getPlaylistRetryOrSwitchAction(r,i.loadLevel),r.errorAction.action=Wr.SendAlternateToPenaltyBox,r.errorAction.flags=Si.MoveAllAlternatesMatchingHost;return}}return;case K.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const u=i.loadLevelObj,d=u==null?void 0:u.attrs["HDCP-LEVEL"];d?r.errorAction={action:Wr.SendAlternateToPenaltyBox,flags:Si.MoveAllAlternatesMatchingHDCP,hdcpLevel:d}:this.keySystemError(r)}return;case K.BUFFER_ADD_CODEC_ERROR:case K.REMUX_ALLOC_ERROR:case K.BUFFER_APPEND_ERROR:if(!r.errorAction){var c;r.errorAction=this.getLevelSwitchAction(r,(c=r.level)!=null?c:i.loadLevel)}return;case K.INTERNAL_EXCEPTION:case K.BUFFER_APPENDING_ERROR:case K.BUFFER_FULL_ERROR:case K.LEVEL_SWITCH_ERROR:case K.BUFFER_STALLED_ERROR:case K.BUFFER_SEEK_OVER_HOLE:case K.BUFFER_NUDGE_ON_STALL:r.errorAction=qf();return}r.type===Ie.KEY_SYSTEM_ERROR&&this.keySystemError(r)}keySystemError(e){const r=this.getVariantLevelIndex(e.frag);e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,r)}getPlaylistRetryOrSwitchAction(e,r){const n=this.hls,i=HN(n.config.playlistLoadPolicy,e),s=this.playlistError++;if(Tg(i,s,Eg(e),e.response))return{action:Wr.RetryRequest,flags:Si.None,retryConfig:i,retryCount:s};const o=this.getLevelSwitchAction(e,r);return i&&(o.retryConfig=i,o.retryCount=s),o}getFragRetryOrSwitchAction(e){const r=this.hls,n=this.getVariantLevelIndex(e.frag),i=r.levels[n],{fragLoadPolicy:s,keyLoadPolicy:a}=r.config,o=HN(e.details.startsWith("key")?a:s,e),c=r.levels.reduce((d,f)=>d+f.fragmentError,0);if(i&&(e.details!==K.FRAG_GAP&&i.fragmentError++,Tg(o,c,Eg(e),e.response)))return{action:Wr.RetryRequest,flags:Si.None,retryConfig:o,retryCount:c};const u=this.getLevelSwitchAction(e,n);return o&&(u.retryConfig=o,u.retryCount=c),u}getLevelSwitchAction(e,r){const n=this.hls;r==null&&(r=n.loadLevel);const i=this.hls.levels[r];if(i){var s,a;const u=e.details;i.loadError++,u===K.BUFFER_APPEND_ERROR&&i.fragmentError++;let d=-1;const{levels:f,loadLevel:h,minAutoLevel:m,maxAutoLevel:p}=n;!n.autoLevelEnabled&&!n.config.preserveManualLevelOnError&&(n.loadLevel=-1);const g=(s=e.frag)==null?void 0:s.type,y=(g===Pe.AUDIO&&u===K.FRAG_PARSING_ERROR||e.sourceBufferName==="audio"&&(u===K.BUFFER_ADD_CODEC_ERROR||u===K.BUFFER_APPEND_ERROR))&&f.some(({audioCodec:T})=>i.audioCodec!==T),b=e.sourceBufferName==="video"&&(u===K.BUFFER_ADD_CODEC_ERROR||u===K.BUFFER_APPEND_ERROR)&&f.some(({codecSet:T,audioCodec:A})=>i.codecSet!==T&&i.audioCodec===A),{type:S,groupId:w}=(a=e.context)!=null?a:{};for(let T=f.length;T--;){const A=(T+h)%f.length;if(A!==h&&A>=m&&A<=p&&f[A].loadError===0){var o,c;const _=f[A];if(u===K.FRAG_GAP&&g===Pe.MAIN&&e.frag){const N=f[A].details;if(N){const C=Al(e.frag,N.fragments,e.frag.start);if(C!=null&&C.gap)continue}}else{if(S===et.AUDIO_TRACK&&_.hasAudioGroup(w)||S===et.SUBTITLE_TRACK&&_.hasSubtitleGroup(w))continue;if(g===Pe.AUDIO&&(o=i.audioGroups)!=null&&o.some(N=>_.hasAudioGroup(N))||g===Pe.SUBTITLE&&(c=i.subtitleGroups)!=null&&c.some(N=>_.hasSubtitleGroup(N))||y&&i.audioCodec===_.audioCodec||!y&&i.audioCodec!==_.audioCodec||b&&i.codecSet===_.codecSet)continue}d=A;break}}if(d>-1&&n.loadLevel!==d)return e.levelRetry=!0,this.playlistError=0,{action:Wr.SendAlternateToPenaltyBox,flags:Si.None,nextAutoLevel:d}}return{action:Wr.SendAlternateToPenaltyBox,flags:Si.MoveAllAlternatesMatchingHost}}onErrorOut(e,r){var n;switch((n=r.errorAction)==null?void 0:n.action){case Wr.DoNothing:break;case Wr.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(r),!r.errorAction.resolved&&r.details!==K.FRAG_GAP?r.fatal=!0:/MediaSource readyState: ended/.test(r.error.message)&&(this.warn(`MediaSource ended after "${r.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError());break}if(r.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(e){const r=this.hls,n=e.errorAction;if(!n)return;const{flags:i,hdcpLevel:s,nextAutoLevel:a}=n;switch(i){case Si.None:this.switchLevel(e,a);break;case Si.MoveAllAlternatesMatchingHDCP:s&&(r.maxHdcpLevel=qw[qw.indexOf(s)-1],n.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${r.maxHdcpLevel}" or lower`);break}n.resolved||this.switchLevel(e,a)}switchLevel(e,r){if(r!==void 0&&e.errorAction&&(this.warn(`switching to level ${r} after ${e.details}`),this.hls.nextAutoLevel=r,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel,e.details===K.BUFFER_ADD_CODEC_ERROR&&e.mimeType&&e.sourceBufferName!=="audiovideo")){const n=Kw(e.mimeType),i=this.hls.levels;for(let s=i.length;s--;)i[s][`${e.sourceBufferName}Codec`]===n&&this.hls.removeLevel(s)}}}function qf(t){const e={action:Wr.DoNothing,flags:Si.None};return t&&(e.resolved=!0),e}var br={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class XY{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(P.MANIFEST_LOADING,this.onManifestLoading,this),e.on(P.BUFFER_APPENDED,this.onBufferAppended,this),e.on(P.FRAG_BUFFERED,this.onFragBuffered,this),e.on(P.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:e}=this;e.off(P.MANIFEST_LOADING,this.onManifestLoading,this),e.off(P.BUFFER_APPENDED,this.onBufferAppended,this),e.off(P.FRAG_BUFFERED,this.onFragBuffered,this),e.off(P.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,r){const n=this.activePartLists[r];if(n)for(let i=n.length;i--;){const s=n[i];if(!s)break;const a=s.end;if(s.start<=e&&a!==null&&e<=a)return s}return this.getBufferedFrag(e,r)}getBufferedFrag(e,r){return this.getFragAtPos(e,r,!0)}getFragAtPos(e,r,n){const{fragments:i}=this,s=Object.keys(i);for(let a=s.length;a--;){const o=i[s[a]];if((o==null?void 0:o.body.type)===r&&(!n||o.buffered)){const c=o.body;if(c.start<=e&&e<=c.end)return c}}return null}detectEvictedFragments(e,r,n,i,s){this.timeRanges&&(this.timeRanges[e]=r);const a=(i==null?void 0:i.fragment.sn)||-1;Object.keys(this.fragments).forEach(o=>{const c=this.fragments[o];if(!c||a>=c.body.sn)return;if(!c.buffered&&(!c.loaded||s)){c.body.type===n&&this.removeFragment(c.body);return}const u=c.range[e];if(u){if(u.time.length===0){this.removeFragment(c.body);return}u.time.some(d=>{const f=!this.isTimeBuffered(d.startPTS,d.endPTS,r);return f&&this.removeFragment(c.body),f})}})}detectPartialFragments(e){const r=this.timeRanges;if(!r||e.frag.sn==="initSegment")return;const n=e.frag,i=Ql(n),s=this.fragments[i];if(!s||s.buffered&&n.gap)return;const a=!n.relurl;Object.keys(r).forEach(o=>{const c=n.elementaryStreams[o];if(!c)return;const u=r[o],d=a||c.partial===!0;s.range[o]=this.getBufferedTimes(n,e.part,d,u)}),s.loaded=null,Object.keys(s.range).length?(s.buffered=!0,(s.body.endList=n.endList||s.body.endList)&&(this.endListFragments[s.body.type]=s),Mm(s)||this.removeParts(n.sn-1,n.type)):this.removeFragment(s.body)}removeParts(e,r){const n=this.activePartLists[r];n&&(this.activePartLists[r]=WN(n,i=>i.fragment.sn>=e))}fragBuffered(e,r){const n=Ql(e);let i=this.fragments[n];!i&&r&&(i=this.fragments[n]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),i&&(i.loaded=null,i.buffered=!0)}getBufferedTimes(e,r,n,i){const s={time:[],partial:n},a=e.start,o=e.end,c=e.minEndPTS||o,u=e.maxStartPTS||a;for(let d=0;d<i.length;d++){const f=i.start(d)-this.bufferPadding,h=i.end(d)+this.bufferPadding;if(u>=f&&c<=h){s.time.push({startPTS:Math.max(a,i.start(d)),endPTS:Math.min(o,i.end(d))});break}else if(a<h&&o>f){const m=Math.max(a,i.start(d)),p=Math.min(o,i.end(d));p>m&&(s.partial=!0,s.time.push({startPTS:m,endPTS:p}))}else if(o<=f)break}return s}getPartialFragment(e){let r=null,n,i,s,a=0;const{bufferPadding:o,fragments:c}=this;return Object.keys(c).forEach(u=>{const d=c[u];d&&Mm(d)&&(i=d.body.start-o,s=d.body.end+o,e>=i&&e<=s&&(n=Math.min(e-i,s-e),a<=n&&(r=d.body,a=n)))}),r}isEndListAppended(e){const r=this.endListFragments[e];return r!==void 0&&(r.buffered||Mm(r))}getState(e){const r=Ql(e),n=this.fragments[r];return n?n.buffered?Mm(n)?br.PARTIAL:br.OK:br.APPENDING:br.NOT_LOADED}isTimeBuffered(e,r,n){let i,s;for(let a=0;a<n.length;a++){if(i=n.start(a)-this.bufferPadding,s=n.end(a)+this.bufferPadding,e>=i&&r<=s)return!0;if(r<=i)return!1}return!1}onManifestLoading(){this.removeAllFragments()}onFragLoaded(e,r){if(r.frag.sn==="initSegment"||r.frag.bitrateTest)return;const n=r.frag,i=r.part?null:r,s=Ql(n);this.fragments[s]={body:n,appendedPTS:null,loaded:i,buffered:!1,range:Object.create(null)}}onBufferAppended(e,r){const{frag:n,part:i,timeRanges:s,type:a}=r;if(n.sn==="initSegment")return;const o=n.type;if(i){let u=this.activePartLists[o];u||(this.activePartLists[o]=u=[]),u.push(i)}this.timeRanges=s;const c=s[a];this.detectEvictedFragments(a,c,o,i)}onFragBuffered(e,r){this.detectPartialFragments(r)}hasFragment(e){const r=Ql(e);return!!this.fragments[r]}hasFragments(e){const{fragments:r}=this,n=Object.keys(r);if(!e)return n.length>0;for(let i=n.length;i--;){const s=r[n[i]];if((s==null?void 0:s.body.type)===e)return!0}return!1}hasParts(e){var r;return!!((r=this.activePartLists[e])!=null&&r.length)}removeFragmentsInRange(e,r,n,i,s){i&&!this.hasGaps||Object.keys(this.fragments).forEach(a=>{const o=this.fragments[a];if(!o)return;const c=o.body;c.type!==n||i&&!c.gap||c.start<r&&c.end>e&&(o.buffered||s)&&this.removeFragment(c)})}removeFragment(e){const r=Ql(e);e.clearElementaryStreamInfo();const n=this.activePartLists[e.type];if(n){const i=e.sn;this.activePartLists[e.type]=WN(n,s=>s.fragment.sn!==i)}delete this.fragments[r],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){var e,r;this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1;const n=(e=this.hls)==null||(r=e.latestLevelDetails)==null?void 0:r.partList;n&&n.forEach(i=>i.clearElementaryStreamInfo())}}function Mm(t){var e,r,n;return t.buffered&&(t.body.gap||((e=t.range.video)==null?void 0:e.partial)||((r=t.range.audio)==null?void 0:r.partial)||((n=t.range.audiovideo)==null?void 0:n.partial))}function Ql(t){return`${t.type}_${t.level}_${t.sn}`}function WN(t,e){return t.filter(r=>{const n=e(r);return n||r.clearElementaryStreamInfo(),n})}var uo={cbc:0,ctr:1};class QY{constructor(e,r,n){this.subtle=void 0,this.aesIV=void 0,this.aesMode=void 0,this.subtle=e,this.aesIV=r,this.aesMode=n}decrypt(e,r){switch(this.aesMode){case uo.cbc:return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},r,e);case uo.ctr:return this.subtle.decrypt({name:"AES-CTR",counter:this.aesIV,length:64},r,e);default:throw new Error(`[AESCrypto] invalid aes mode ${this.aesMode}`)}}}function ZY(t){const e=t.byteLength,r=e&&new DataView(t.buffer).getUint8(e-1);return r?t.slice(0,e-r):t}class JY{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const r=new DataView(e),n=new Uint32Array(4);for(let i=0;i<4;i++)n[i]=r.getUint32(i*4);return n}initTable(){const e=this.sBox,r=this.invSBox,n=this.subMix,i=n[0],s=n[1],a=n[2],o=n[3],c=this.invSubMix,u=c[0],d=c[1],f=c[2],h=c[3],m=new Uint32Array(256);let p=0,g=0,v=0;for(v=0;v<256;v++)v<128?m[v]=v<<1:m[v]=v<<1^283;for(v=0;v<256;v++){let y=g^g<<1^g<<2^g<<3^g<<4;y=y>>>8^y&255^99,e[p]=y,r[y]=p;const x=m[p],b=m[x],S=m[b];let w=m[y]*257^y*16843008;i[p]=w<<24|w>>>8,s[p]=w<<16|w>>>16,a[p]=w<<8|w>>>24,o[p]=w,w=S*16843009^b*65537^x*257^p*16843008,u[y]=w<<24|w>>>8,d[y]=w<<16|w>>>16,f[y]=w<<8|w>>>24,h[y]=w,p?(p=x^m[m[m[S^x]]],g^=m[m[g]]):p=g=1}}expandKey(e){const r=this.uint8ArrayToUint32Array_(e);let n=!0,i=0;for(;i<r.length&&n;)n=r[i]===this.key[i],i++;if(n)return;this.key=r;const s=this.keySize=r.length;if(s!==4&&s!==6&&s!==8)throw new Error("Invalid aes key size="+s);const a=this.ksRows=(s+6+1)*4;let o,c;const u=this.keySchedule=new Uint32Array(a),d=this.invKeySchedule=new Uint32Array(a),f=this.sBox,h=this.rcon,m=this.invSubMix,p=m[0],g=m[1],v=m[2],y=m[3];let x,b;for(o=0;o<a;o++){if(o<s){x=u[o]=r[o];continue}b=x,o%s===0?(b=b<<8|b>>>24,b=f[b>>>24]<<24|f[b>>>16&255]<<16|f[b>>>8&255]<<8|f[b&255],b^=h[o/s|0]<<24):s>6&&o%s===4&&(b=f[b>>>24]<<24|f[b>>>16&255]<<16|f[b>>>8&255]<<8|f[b&255]),u[o]=x=(u[o-s]^b)>>>0}for(c=0;c<a;c++)o=a-c,c&3?b=u[o]:b=u[o-4],c<4||o<=4?d[c]=b:d[c]=p[f[b>>>24]]^g[f[b>>>16&255]]^v[f[b>>>8&255]]^y[f[b&255]],d[c]=d[c]>>>0}networkToHostOrderSwap(e){return e<<24|(e&65280)<<8|(e&16711680)>>8|e>>>24}decrypt(e,r,n){const i=this.keySize+6,s=this.invKeySchedule,a=this.invSBox,o=this.invSubMix,c=o[0],u=o[1],d=o[2],f=o[3],h=this.uint8ArrayToUint32Array_(n);let m=h[0],p=h[1],g=h[2],v=h[3];const y=new Int32Array(e),x=new Int32Array(y.length);let b,S,w,T,A,_,N,C,j,O,R,k,M,D;const U=this.networkToHostOrderSwap;for(;r<y.length;){for(j=U(y[r]),O=U(y[r+1]),R=U(y[r+2]),k=U(y[r+3]),A=j^s[0],_=k^s[1],N=R^s[2],C=O^s[3],M=4,D=1;D<i;D++)b=c[A>>>24]^u[_>>16&255]^d[N>>8&255]^f[C&255]^s[M],S=c[_>>>24]^u[N>>16&255]^d[C>>8&255]^f[A&255]^s[M+1],w=c[N>>>24]^u[C>>16&255]^d[A>>8&255]^f[_&255]^s[M+2],T=c[C>>>24]^u[A>>16&255]^d[_>>8&255]^f[N&255]^s[M+3],A=b,_=S,N=w,C=T,M=M+4;b=a[A>>>24]<<24^a[_>>16&255]<<16^a[N>>8&255]<<8^a[C&255]^s[M],S=a[_>>>24]<<24^a[N>>16&255]<<16^a[C>>8&255]<<8^a[A&255]^s[M+1],w=a[N>>>24]<<24^a[C>>16&255]<<16^a[A>>8&255]<<8^a[_&255]^s[M+2],T=a[C>>>24]<<24^a[A>>16&255]<<16^a[_>>8&255]<<8^a[N&255]^s[M+3],x[r]=U(b^m),x[r+1]=U(T^p),x[r+2]=U(w^g),x[r+3]=U(S^v),m=j,p=O,g=R,v=k,r=r+4}return x.buffer}}class eX{constructor(e,r,n){this.subtle=void 0,this.key=void 0,this.aesMode=void 0,this.subtle=e,this.key=r,this.aesMode=n}expandKey(){const e=tX(this.aesMode);return this.subtle.importKey("raw",this.key,{name:e},!1,["encrypt","decrypt"])}}function tX(t){switch(t){case uo.cbc:return"AES-CBC";case uo.ctr:return"AES-CTR";default:throw new Error(`[FastAESKey] invalid aes mode ${t}`)}}const rX=16;class MT{constructor(e,{removePKCS7Padding:r=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.enableSoftwareAES=void 0,this.enableSoftwareAES=e.enableSoftwareAES,this.removePKCS7Padding=r,r)try{const n=self.crypto;n&&(this.subtle=n.subtle||n.webkitSubtle)}catch{}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:r}=this;if(!e||r)return this.reset(),null;const n=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?ZY(n):n}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,r,n,i){return this.useSoftware?new Promise((s,a)=>{const o=ArrayBuffer.isView(e)?e:new Uint8Array(e);this.softwareDecrypt(o,r,n,i);const c=this.flush();c?s(c.buffer):a(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(e),r,n,i)}softwareDecrypt(e,r,n,i){const{currentIV:s,currentResult:a,remainderData:o}=this;if(i!==uo.cbc||r.byteLength!==16)return dt.warn("SoftwareDecrypt: can only handle AES-128-CBC"),null;this.logOnce("JS AES decrypt"),o&&(e=di(o,e),this.remainderData=null);const c=this.getValidChunk(e);if(!c.length)return null;s&&(n=s);let u=this.softwareDecrypter;u||(u=this.softwareDecrypter=new JY),u.expandKey(r);const d=a;return this.currentResult=u.decrypt(c.buffer,0,n),this.currentIV=c.slice(-16).buffer,d||null}webCryptoDecrypt(e,r,n,i){if(this.key!==r||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(e,r,n,i));this.key=r,this.fastAesKey=new eX(this.subtle,r,i)}return this.fastAesKey.expandKey().then(s=>this.subtle?(this.logOnce("WebCrypto AES decrypt"),new QY(this.subtle,new Uint8Array(n),i).decrypt(e.buffer,s)):Promise.reject(new Error("web crypto not initialized"))).catch(s=>(dt.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${s.name}: ${s.message}`),this.onWebCryptoError(e,r,n,i)))}onWebCryptoError(e,r,n,i){const s=this.enableSoftwareAES;if(s){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,r,n,i);const a=this.flush();if(a)return a.buffer}throw new Error("WebCrypto"+(s?" and softwareDecrypt":"")+": failed to decrypt data")}getValidChunk(e){let r=e;const n=e.length-e.length%rX;return n!==e.length&&(r=e.slice(0,n),this.remainderData=e.slice(n)),r}logOnce(e){this.logEnabled&&(dt.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const KN=Math.pow(2,17);class nX{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,r){const n=e.url;if(!n)return Promise.reject(new Ps({type:Ie.NETWORK_ERROR,details:K.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error(`Fragment does not have a ${n?"part list":"url"}`),networkDetails:null}));this.abort();const i=this.config,s=i.fLoader,a=i.loader;return new Promise((o,c)=>{if(this.loader&&this.loader.destroy(),e.gap)if(e.tagList.some(p=>p[0]==="GAP")){c(YN(e));return}else e.gap=!1;const u=this.loader=s?new s(i):new a(i),d=qN(e);e.loader=u;const f=zN(i.fragLoadPolicy.default),h={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e.sn==="initSegment"?1/0:KN};e.stats=u.stats;const m={onSuccess:(p,g,v,y)=>{this.resetLoader(e,u);let x=p.data;v.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(x.slice(0,16)),x=x.slice(16)),o({frag:e,part:null,payload:x,networkDetails:y})},onError:(p,g,v,y)=>{this.resetLoader(e,u),c(new Ps({type:Ie.NETWORK_ERROR,details:K.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:St({url:n,data:void 0},p),error:new Error(`HTTP Error ${p.code} ${p.text}`),networkDetails:v,stats:y}))},onAbort:(p,g,v)=>{this.resetLoader(e,u),c(new Ps({type:Ie.NETWORK_ERROR,details:K.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:v,stats:p}))},onTimeout:(p,g,v)=>{this.resetLoader(e,u),c(new Ps({type:Ie.NETWORK_ERROR,details:K.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${h.timeout}ms`),networkDetails:v,stats:p}))}};r&&(m.onProgress=(p,g,v,y)=>r({frag:e,part:null,payload:v,networkDetails:y})),u.load(d,h,m)})}loadPart(e,r,n){this.abort();const i=this.config,s=i.fLoader,a=i.loader;return new Promise((o,c)=>{if(this.loader&&this.loader.destroy(),e.gap||r.gap){c(YN(e,r));return}const u=this.loader=s?new s(i):new a(i),d=qN(e,r);e.loader=u;const f=zN(i.fragLoadPolicy.default),h={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:KN};r.stats=u.stats,u.load(d,h,{onSuccess:(m,p,g,v)=>{this.resetLoader(e,u),this.updateStatsFromPart(e,r);const y={frag:e,part:r,payload:m.data,networkDetails:v};n(y),o(y)},onError:(m,p,g,v)=>{this.resetLoader(e,u),c(new Ps({type:Ie.NETWORK_ERROR,details:K.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:r,response:St({url:d.url,data:void 0},m),error:new Error(`HTTP Error ${m.code} ${m.text}`),networkDetails:g,stats:v}))},onAbort:(m,p,g)=>{e.stats.aborted=r.stats.aborted,this.resetLoader(e,u),c(new Ps({type:Ie.NETWORK_ERROR,details:K.INTERNAL_ABORTED,fatal:!1,frag:e,part:r,error:new Error("Aborted"),networkDetails:g,stats:m}))},onTimeout:(m,p,g)=>{this.resetLoader(e,u),c(new Ps({type:Ie.NETWORK_ERROR,details:K.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:r,error:new Error(`Timeout after ${h.timeout}ms`),networkDetails:g,stats:m}))}})})}updateStatsFromPart(e,r){const n=e.stats,i=r.stats,s=i.total;if(n.loaded+=i.loaded,s){const c=Math.round(e.duration/r.duration),u=Math.min(Math.round(n.loaded/s),c),f=(c-u)*Math.round(n.loaded/u);n.total=n.loaded+f}else n.total=Math.max(n.loaded,n.total);const a=n.loading,o=i.loading;a.start?a.first+=o.first-o.start:(a.start=o.start,a.first=o.first),a.end=o.end}resetLoader(e,r){e.loader=null,this.loader===r&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),r.destroy()}}function qN(t,e=null){const r=e||t,n={frag:t,part:e,responseType:"arraybuffer",url:r.url,headers:{},rangeStart:0,rangeEnd:0},i=r.byteRangeStartOffset,s=r.byteRangeEndOffset;if(ye(i)&&ye(s)){var a;let o=i,c=s;if(t.sn==="initSegment"&&iX((a=t.decryptdata)==null?void 0:a.method)){const u=s-i;u%16&&(c=s+(16-u%16)),i!==0&&(n.resetIV=!0,o=i-16)}n.rangeStart=o,n.rangeEnd=c}return n}function YN(t,e){const r=new Error(`GAP ${t.gap?"tag":"attribute"} found`),n={type:Ie.MEDIA_ERROR,details:K.FRAG_GAP,fatal:!1,frag:t,error:r,networkDetails:null};return e&&(n.part=e),(e||t).stats.aborted=!0,new Ps(n)}function iX(t){return t==="AES-128"||t==="AES-256"}class Ps extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class OF extends Fi{constructor(e,r){super(e,r),this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}class $T{constructor(e,r,n,i=0,s=-1,a=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=$m(),this.buffering={audio:$m(),video:$m(),audiovideo:$m()},this.level=e,this.sn=r,this.id=n,this.size=i,this.part=s,this.partial=a}}function $m(){return{start:0,executeStart:0,executeEnd:0,end:0}}const XN={length:0,start:()=>0,end:()=>0};class Ge{static isBuffered(e,r){if(e){const n=Ge.getBuffered(e);for(let i=n.length;i--;)if(r>=n.start(i)&&r<=n.end(i))return!0}return!1}static bufferedRanges(e){if(e){const r=Ge.getBuffered(e);return Ge.timeRangesToArray(r)}return[]}static timeRangesToArray(e){const r=[];for(let n=0;n<e.length;n++)r.push({start:e.start(n),end:e.end(n)});return r}static bufferInfo(e,r,n){if(e){const i=Ge.bufferedRanges(e);if(i.length)return Ge.bufferedInfo(i,r,n)}return{len:0,start:r,end:r,bufferedIndex:-1}}static bufferedInfo(e,r,n){r=Math.max(0,r),e.length>1&&e.sort((d,f)=>d.start-f.start||f.end-d.end);let i=-1,s=[];if(n)for(let d=0;d<e.length;d++){r>=e[d].start&&r<=e[d].end&&(i=d);const f=s.length;if(f){const h=s[f-1].end;e[d].start-h<n?e[d].end>h&&(s[f-1].end=e[d].end):s.push(e[d])}else s.push(e[d])}else s=e;let a=0,o,c=r,u=r;for(let d=0;d<s.length;d++){const f=s[d].start,h=s[d].end;if(i===-1&&r>=f&&r<=h&&(i=d),r+n>=f&&r<h)c=f,u=h,a=u-r;else if(r+n<f){o=f;break}}return{len:a,start:c||0,end:u||0,nextStart:o,buffered:e,bufferedIndex:i}}static getBuffered(e){try{return e.buffered||XN}catch(r){return dt.log("failed to get media.buffered",r),XN}}}const IF=/\{\$([a-zA-Z0-9-_]+)\}/g;function QN(t){return IF.test(t)}function Yw(t,e){if(t.variableList!==null||t.hasVariableRefs){const r=t.variableList;return e.replace(IF,n=>{const i=n.substring(2,n.length-1),s=r==null?void 0:r[i];return s===void 0?(t.playlistParsingError||(t.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${i}"`)),n):s})}return e}function ZN(t,e,r){let n=t.variableList;n||(t.variableList=n={});let i,s;if("QUERYPARAM"in e){i=e.QUERYPARAM;try{const a=new self.URL(r).searchParams;if(a.has(i))s=a.get(i);else throw new Error(`"${i}" does not match any query parameter in URI: "${r}"`)}catch(a){t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${a.message}`))}}else i=e.NAME,s=e.VALUE;i in n?t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${i}"`)):n[i]=s||""}function sX(t,e,r){const n=e.IMPORT;if(r&&n in r){let i=t.variableList;i||(t.variableList=i={}),i[n]=r[n]}else t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${n}"`))}const aX=/^(\d+)x(\d+)$/,JN=/(.+?)=(".*?"|.*?)(?:,|$)/g;class Ut{constructor(e,r){typeof e=="string"&&(e=Ut.parseAttrList(e,r)),yt(this,e)}get clientAttrs(){return Object.keys(this).filter(e=>e.substring(0,2)==="X-")}decimalInteger(e){const r=parseInt(this[e],10);return r>Number.MAX_SAFE_INTEGER?1/0:r}hexadecimalInteger(e){if(this[e]){let r=(this[e]||"0x").slice(2);r=(r.length&1?"0":"")+r;const n=new Uint8Array(r.length/2);for(let i=0;i<r.length/2;i++)n[i]=parseInt(r.slice(i*2,i*2+2),16);return n}return null}hexadecimalIntegerAsNumber(e){const r=parseInt(this[e],16);return r>Number.MAX_SAFE_INTEGER?1/0:r}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,r){const n=this[e];return n?parseFloat(n):r}enumeratedString(e){return this[e]}enumeratedStringList(e,r){const n=this[e];return(n?n.split(/[ ,]+/):[]).reduce((i,s)=>(i[s.toLowerCase()]=!0,i),r)}bool(e){return this[e]==="YES"}decimalResolution(e){const r=aX.exec(this[e]);if(r!==null)return{width:parseInt(r[1],10),height:parseInt(r[2],10)}}static parseAttrList(e,r){let n;const i={},s='"';for(JN.lastIndex=0;(n=JN.exec(e))!==null;){const a=n[1].trim();let o=n[2];const c=o.indexOf(s)===0&&o.lastIndexOf(s)===o.length-1;let u=!1;if(c)o=o.slice(1,-1);else switch(a){case"IV":case"SCTE35-CMD":case"SCTE35-IN":case"SCTE35-OUT":u=!0}if(r&&(c||u))o=Yw(r,o);else if(!u&&!c)switch(a){case"CLOSED-CAPTIONS":if(o==="NONE")break;case"ALLOWED-CPC":case"CLASS":case"ASSOC-LANGUAGE":case"AUDIO":case"BYTERANGE":case"CHANNELS":case"CHARACTERISTICS":case"CODECS":case"DATA-ID":case"END-DATE":case"GROUP-ID":case"ID":case"IMPORT":case"INSTREAM-ID":case"KEYFORMAT":case"KEYFORMATVERSIONS":case"LANGUAGE":case"NAME":case"PATHWAY-ID":case"QUERYPARAM":case"RECENTLY-REMOVED-DATERANGES":case"SERVER-URI":case"STABLE-RENDITION-ID":case"STABLE-VARIANT-ID":case"START-DATE":case"SUBTITLES":case"SUPPLEMENTAL-CODECS":case"URI":case"VALUE":case"VIDEO":case"X-ASSET-LIST":case"X-ASSET-URI":dt.warn(`${e}: attribute ${a} is missing quotes`)}i[a]=o}return i}}const oX="com.apple.hls.interstitial";function lX(t){return t!=="ID"&&t!=="CLASS"&&t!=="CUE"&&t!=="START-DATE"&&t!=="DURATION"&&t!=="END-DATE"&&t!=="END-ON-NEXT"}function cX(t){return t==="SCTE35-OUT"||t==="SCTE35-IN"||t==="SCTE35-CMD"}class kF{constructor(e,r,n=0){var i;if(this.attr=void 0,this.tagAnchor=void 0,this.tagOrder=void 0,this._startDate=void 0,this._endDate=void 0,this._dateAtEnd=void 0,this._cue=void 0,this._badValueForSameId=void 0,this.tagAnchor=(r==null?void 0:r.tagAnchor)||null,this.tagOrder=(i=r==null?void 0:r.tagOrder)!=null?i:n,r){const s=r.attr;for(const a in s)if(Object.prototype.hasOwnProperty.call(e,a)&&e[a]!==s[a]){dt.warn(`DATERANGE tag attribute: "${a}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=a;break}e=yt(new Ut({}),s,e)}if(this.attr=e,r?(this._startDate=r._startDate,this._cue=r._cue,this._endDate=r._endDate,this._dateAtEnd=r._dateAtEnd):this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const s=(r==null?void 0:r.endDate)||new Date(this.attr["END-DATE"]);ye(s.getTime())&&(this._endDate=s)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get cue(){const e=this._cue;return e===void 0?this._cue=this.attr.enumeratedStringList(this.attr.CUE?"CUE":"X-CUE",{pre:!1,post:!1,once:!1}):e}get startTime(){const{tagAnchor:e}=this;return e===null||e.programDateTime===null?(dt.warn(`Expected tagAnchor Fragment with PDT set for DateRange "${this.id}": ${e}`),NaN):e.start+(this.startDate.getTime()-e.programDateTime)/1e3}get startDate(){return this._startDate}get endDate(){const e=this._endDate||this._dateAtEnd;if(e)return e;const r=this.duration;return r!==null?this._dateAtEnd=new Date(this._startDate.getTime()+r*1e3):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(ye(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isInterstitial(){return this.class===oX}get isValid(){return!!this.id&&!this._badValueForSameId&&ye(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)&&(!this.attr.CUE||!this.cue.pre&&!this.cue.post||this.cue.pre!==this.cue.post)&&(!this.isInterstitial||"X-ASSET-URI"in this.attr||"X-ASSET-LIST"in this.attr)}}const uX=10;class dX{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.dateRangeTagCount=0,this.live=!0,this.requestScheduled=-1,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.appliedTimelineOffset=void 0,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.updated=!0;return}const r=this.lastPartSn-e.lastPartSn,n=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!n||!!r||!this.live,this.advanced=this.endSN>e.endSN||r>0||r===0&&n>0,this.updated||this.advanced?this.misses=Math.floor(e.misses*.6):this.misses=e.misses+1}get hasProgramDateTime(){return this.fragments.length?ye(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||uX}get drift(){const e=this.driftEndTime-this.driftStartTime;return e>0?(this.driftEnd-this.driftStart)*1e3/e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var e;return(e=this.fragments)!=null&&e.length?this.fragments[this.fragments.length-1].end:0}get fragmentStart(){var e;return(e=this.fragments)!=null&&e.length?this.fragments[0].start:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].index:-1}get maxPartIndex(){const e=this.partList;if(e){const r=this.lastPartIndex;if(r!==-1){for(let n=e.length;n--;)if(e[n].index>r)return e[n].index;return r}}return 0}get lastPartSn(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}get expired(){if(this.live&&this.age&&this.misses<3){const e=this.partEnd-this.fragmentStart;return this.age>Math.max(e,this.totalduration)+this.levelTargetDuration}return!1}}function Lc(t){return t==="AES-128"||t==="AES-256"||t==="AES-256-CTR"}function FT(t){switch(t){case"AES-128":case"AES-256":return uo.cbc;case"AES-256-CTR":return uo.ctr;default:throw new Error(`invalid full segment method ${t}`)}}function RF(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}function Xw(t){return Uint8Array.from(unescape(encodeURIComponent(t)),e=>e.charCodeAt(0))}function fX(t){const e=Xw(t).subarray(0,16),r=new Uint8Array(16);return r.set(e,16-e.length),r}function hX(t){const e=function(n,i,s){const a=n[i];n[i]=n[s],n[s]=a};e(t,0,3),e(t,1,2),e(t,4,5),e(t,6,7)}function mX(t){const e=t.split(":");let r=null;if(e[0]==="data"&&e.length===2){const n=e[1].split(";"),i=n[n.length-1].split(",");if(i.length===2){const s=i[0]==="base64",a=i[1];s?(n.splice(-1,1),r=RF(a)):r=fX(a)}}return r}const Ag=typeof self<"u"?self:void 0;var ir={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},bn={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function Qw(t){switch(t){case bn.FAIRPLAY:return ir.FAIRPLAY;case bn.PLAYREADY:return ir.PLAYREADY;case bn.WIDEVINE:return ir.WIDEVINE;case bn.CLEARKEY:return ir.CLEARKEY}}function eC(t){switch(t){case ir.FAIRPLAY:return bn.FAIRPLAY;case ir.PLAYREADY:return bn.PLAYREADY;case ir.WIDEVINE:return bn.WIDEVINE;case ir.CLEARKEY:return bn.CLEARKEY}}function jp(t){const{drmSystems:e,widevineLicenseUrl:r}=t,n=e?[ir.FAIRPLAY,ir.WIDEVINE,ir.PLAYREADY,ir.CLEARKEY].filter(i=>!!e[i]):[];return!n[ir.WIDEVINE]&&r&&n.push(ir.WIDEVINE),n}const LF=function(t){return Ag!=null&&(t=Ag.navigator)!=null&&t.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function pX(t,e,r,n){let i;switch(t){case ir.FAIRPLAY:i=["cenc","sinf"];break;case ir.WIDEVINE:case ir.PLAYREADY:i=["cenc"];break;case ir.CLEARKEY:i=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${t}`)}return gX(i,e,r,n)}function gX(t,e,r,n){return[{initDataTypes:t,persistentState:n.persistentState||"optional",distinctiveIdentifier:n.distinctiveIdentifier||"optional",sessionTypes:n.sessionTypes||[n.sessionType||"temporary"],audioCapabilities:e.map(s=>({contentType:`audio/mp4; codecs=${s}`,robustness:n.audioRobustness||"",encryptionScheme:n.audioEncryptionScheme||null})),videoCapabilities:r.map(s=>({contentType:`video/mp4; codecs=${s}`,robustness:n.videoRobustness||"",encryptionScheme:n.videoEncryptionScheme||null}))}]}function vX(t){var e;return t.sessionType==="persistent-license"||!!((e=t.sessionTypes)!=null&&e.some(r=>r==="persistent-license"))}function yX(t){const e=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2),r=String.fromCharCode.apply(null,Array.from(e)),n=r.substring(r.indexOf("<"),r.length),a=new DOMParser().parseFromString(n,"text/xml").getElementsByTagName("KID")[0];if(a){const o=a.childNodes[0]?a.childNodes[0].nodeValue:a.getAttribute("VALUE");if(o){const c=RF(o).subarray(0,16);return hX(c),c}}return null}let Fm={};class Ty{static clearKeyUriToKeyIdMap(){Fm={}}constructor(e,r,n,i=[1],s=null,a){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=r,this.keyFormat=n,this.keyFormatVersions=i,this.iv=s,this.encrypted=e?e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&!Lc(e),a!=null&&a.startsWith("0x")&&(this.keyId=new Uint8Array(pF(a)))}matches(e){var r,n;return e.uri===this.uri&&e.method===this.method&&e.encrypted===this.encrypted&&e.keyFormat===this.keyFormat&&e.keyFormatVersions.join(",")===this.keyFormatVersions.join(",")&&((r=e.iv)==null?void 0:r.join(","))===((n=this.iv)==null?void 0:n.join(","))}isSupported(){if(this.method){if(Lc(this.method)||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case bn.FAIRPLAY:case bn.WIDEVINE:case bn.PLAYREADY:case bn.CLEARKEY:return["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(e){if(!this.encrypted||!this.uri)return null;if(Lc(this.method)&&this.uri&&!this.iv){typeof e!="number"&&(dt.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0);const n=xX(e);return new Ty(this.method,this.uri,"identity",this.keyFormatVersions,n)}if(this.pssh&&this.keyId)return this;const r=mX(this.uri);if(r)switch(this.keyFormat){case bn.WIDEVINE:if(this.pssh=r,!this.keyId&&r.length>=22){const n=r.length-22;this.keyId=r.subarray(n,n+16)}break;case bn.PLAYREADY:{const n=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=EY(n,null,r),this.keyId=yX(r);break}default:{let n=r.subarray(0,16);if(n.length!==16){const i=new Uint8Array(16);i.set(n,16-n.length),n=i}this.keyId=n;break}}if(!this.keyId||this.keyId.byteLength!==16){let n=Fm[this.uri];if(!n){const i=Object.keys(Fm).length%Number.MAX_SAFE_INTEGER;n=new Uint8Array(16),new DataView(n.buffer,12,4).setUint32(0,i),Fm[this.uri]=n}this.keyId=n}return this}}function xX(t){const e=new Uint8Array(16);for(let r=12;r<16;r++)e[r]=t>>8*(15-r)&255;return e}const tC=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,rC=/#EXT-X-MEDIA:(.*)/g,bX=/^#EXT(?:INF|-X-TARGETDURATION):/m,Px=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#.*/.source].join("|"),"g"),wX=new RegExp([/#EXT-X-(PROGRAM-DATE-TIME|BYTERANGE|DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class Ji{static findGroup(e,r){for(let n=0;n<e.length;n++){const i=e[n];if(i.id===r)return i}}static resolve(e,r){return OT.buildAbsoluteURL(r,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return bX.test(e)}static parseMasterPlaylist(e,r){const n=QN(e),i={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:n},s=[];tC.lastIndex=0;let a;for(;(a=tC.exec(e))!=null;)if(a[1]){var o;const u=new Ut(a[1],i),d=Yw(i,a[2]),f={attrs:u,bitrate:u.decimalInteger("BANDWIDTH")||u.decimalInteger("AVERAGE-BANDWIDTH"),name:u.NAME,url:Ji.resolve(d,r)},h=u.decimalResolution("RESOLUTION");h&&(f.width=h.width,f.height=h.height),sC(u.CODECS,f);const m=u["SUPPLEMENTAL-CODECS"];m&&(f.supplemental={},sC(m,f.supplemental)),(o=f.unknownCodecs)!=null&&o.length||s.push(f),i.levels.push(f)}else if(a[3]){const u=a[3],d=a[4];switch(u){case"SESSION-DATA":{const f=new Ut(d,i),h=f["DATA-ID"];h&&(i.sessionData===null&&(i.sessionData={}),i.sessionData[h]=f);break}case"SESSION-KEY":{const f=nC(d,r,i);f.encrypted&&f.isSupported()?(i.sessionKeys===null&&(i.sessionKeys=[]),i.sessionKeys.push(f)):dt.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${d}"`);break}case"DEFINE":{{const f=new Ut(d,i);ZN(i,f,r)}break}case"CONTENT-STEERING":{const f=new Ut(d,i);i.contentSteering={uri:Ji.resolve(f["SERVER-URI"],r),pathwayId:f["PATHWAY-ID"]||"."};break}case"START":{i.startTimeOffset=iC(d);break}}}const c=s.length>0&&s.length<i.levels.length;return i.levels=c?s:i.levels,i.levels.length===0&&(i.playlistParsingError=new Error("no levels found in manifest")),i}static parseMasterPlaylistMedia(e,r,n){let i;const s={},a=n.levels,o={AUDIO:a.map(u=>({id:u.attrs.AUDIO,audioCodec:u.audioCodec})),SUBTITLES:a.map(u=>({id:u.attrs.SUBTITLES,textCodec:u.textCodec})),"CLOSED-CAPTIONS":[]};let c=0;for(rC.lastIndex=0;(i=rC.exec(e))!==null;){const u=new Ut(i[1],n),d=u.TYPE;if(d){const f=o[d],h=s[d]||[];s[d]=h;const m=u.LANGUAGE,p=u["ASSOC-LANGUAGE"],g=u.CHANNELS,v=u.CHARACTERISTICS,y=u["INSTREAM-ID"],x={attrs:u,bitrate:0,id:c++,groupId:u["GROUP-ID"]||"",name:u.NAME||m||"",type:d,default:u.bool("DEFAULT"),autoselect:u.bool("AUTOSELECT"),forced:u.bool("FORCED"),lang:m,url:u.URI?Ji.resolve(u.URI,r):""};if(p&&(x.assocLang=p),g&&(x.channels=g),v&&(x.characteristics=v),y&&(x.instreamId=y),f!=null&&f.length){const b=Ji.findGroup(f,x.groupId)||f[0];aC(x,b,"audioCodec"),aC(x,b,"textCodec")}h.push(x)}}return s}static parseLevelPlaylist(e,r,n,i,s,a){var o;const c={url:r},u=new dX(r),d=u.fragments,f=[];let h=null,m=0,p=0,g=0,v=0,y=0,x=null,b=new Tx(i,c),S,w,T,A=-1,_=!1,N=null,C;if(Px.lastIndex=0,u.m3u8=e,u.hasVariableRefs=QN(e),((o=Px.exec(e))==null?void 0:o[0])!=="#EXTM3U")return u.playlistParsingError=new Error("Missing format identifier #EXTM3U"),u;for(;(S=Px.exec(e))!==null;){_&&(_=!1,b=new Tx(i,c),b.playlistOffset=g,b.start=g,b.sn=m,b.cc=v,y&&(b.bitrate=y),b.level=n,h&&(b.initSegment=h,h.rawProgramDateTime&&(b.rawProgramDateTime=h.rawProgramDateTime,h.rawProgramDateTime=null),N&&(b.setByteRange(N),N=null)));const k=S[1];if(k){b.duration=parseFloat(k);const M=(" "+S[2]).slice(1);b.title=M||null,b.tagList.push(M?["INF",k,M]:["INF",k])}else if(S[3]){if(ye(b.duration)){b.playlistOffset=g,b.start=g,T&&lC(b,T,u),b.sn=m,b.level=n,b.cc=v,d.push(b);const M=(" "+S[3]).slice(1);b.relurl=Yw(u,M),Zw(b,x,f),x=b,g+=b.duration,m++,p=0,_=!0}}else{if(S=S[0].match(wX),!S){dt.warn("No matches on slow regex match for level playlist!");continue}for(w=1;w<S.length&&S[w]===void 0;w++);const M=(" "+S[w]).slice(1),D=(" "+S[w+1]).slice(1),U=S[w+2]?(" "+S[w+2]).slice(1):null;switch(M){case"BYTERANGE":x?b.setByteRange(D,x):b.setByteRange(D);break;case"PROGRAM-DATE-TIME":b.rawProgramDateTime=D,b.tagList.push(["PROGRAM-DATE-TIME",D]),A===-1&&(A=d.length);break;case"PLAYLIST-TYPE":u.type&&ws(u,M,S),u.type=D.toUpperCase();break;case"MEDIA-SEQUENCE":u.startSN!==0?ws(u,M,S):d.length>0&&cC(u,M,S),m=u.startSN=parseInt(D);break;case"SKIP":{u.skippedSegments&&ws(u,M,S);const I=new Ut(D,u),F=I.decimalInteger("SKIPPED-SEGMENTS");if(ye(F)){u.skippedSegments+=F;for(let G=F;G--;)d.push(null);m+=F}const H=I.enumeratedString("RECENTLY-REMOVED-DATERANGES");H&&(u.recentlyRemovedDateranges=(u.recentlyRemovedDateranges||[]).concat(H.split("	")));break}case"TARGETDURATION":u.targetduration!==0&&ws(u,M,S),u.targetduration=Math.max(parseInt(D),1);break;case"VERSION":u.version!==null&&ws(u,M,S),u.version=parseInt(D);break;case"INDEPENDENT-SEGMENTS":break;case"ENDLIST":u.live||ws(u,M,S),u.live=!1;break;case"#":(D||U)&&b.tagList.push(U?[D,U]:[D]);break;case"DISCONTINUITY":v++,b.tagList.push(["DIS"]);break;case"GAP":b.gap=!0,b.tagList.push([M]);break;case"BITRATE":b.tagList.push([M,D]),y=parseInt(D)*1e3,ye(y)?b.bitrate=y:y=0;break;case"DATERANGE":{const I=new Ut(D,u),F=new kF(I,u.dateRanges[I.ID],u.dateRangeTagCount);u.dateRangeTagCount++,F.isValid||u.skippedSegments?u.dateRanges[F.id]=F:dt.warn(`Ignoring invalid DATERANGE tag: "${D}"`),b.tagList.push(["EXT-X-DATERANGE",D]);break}case"DEFINE":{{const I=new Ut(D,u);"IMPORT"in I?sX(u,I,a):ZN(u,I,r)}break}case"DISCONTINUITY-SEQUENCE":u.startCC!==0?ws(u,M,S):d.length>0&&cC(u,M,S),u.startCC=v=parseInt(D);break;case"KEY":{const I=nC(D,r,u);if(I.isSupported()){if(I.method==="NONE"){T=void 0;break}T||(T={});const F=T[I.keyFormat];F!=null&&F.matches(I)||(F&&(T=yt({},T)),T[I.keyFormat]=I)}else dt.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${D}"`);break}case"START":u.startTimeOffset=iC(D);break;case"MAP":{const I=new Ut(D,u);if(b.duration){const F=new Tx(i,c);oC(F,I,n,T),h=F,b.initSegment=h,h.rawProgramDateTime&&!b.rawProgramDateTime&&(b.rawProgramDateTime=h.rawProgramDateTime)}else{const F=b.byteRangeEndOffset;if(F){const H=b.byteRangeStartOffset;N=`${F-H}@${H}`}else N=null;oC(b,I,n,T),h=b,_=!0}h.cc=v;break}case"SERVER-CONTROL":{C&&ws(u,M,S),C=new Ut(D),u.canBlockReload=C.bool("CAN-BLOCK-RELOAD"),u.canSkipUntil=C.optionalFloat("CAN-SKIP-UNTIL",0),u.canSkipDateRanges=u.canSkipUntil>0&&C.bool("CAN-SKIP-DATERANGES"),u.partHoldBack=C.optionalFloat("PART-HOLD-BACK",0),u.holdBack=C.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{u.partTarget&&ws(u,M,S);const I=new Ut(D);u.partTarget=I.decimalFloatingPoint("PART-TARGET");break}case"PART":{let I=u.partList;I||(I=u.partList=[]);const F=p>0?I[I.length-1]:void 0,H=p++,G=new Ut(D,u),V=new cY(G,b,c,H,F);I.push(V),b.duration+=V.duration;break}case"PRELOAD-HINT":{const I=new Ut(D,u);u.preloadHint=I;break}case"RENDITION-REPORT":{const I=new Ut(D,u);u.renditionReports=u.renditionReports||[],u.renditionReports.push(I);break}default:dt.warn(`line parsed but not handled: ${S}`);break}}}x&&!x.relurl?(d.pop(),g-=x.duration,u.partList&&(u.fragmentHint=x)):u.partList&&(Zw(b,x,f),b.cc=v,u.fragmentHint=b,T&&lC(b,T,u)),u.targetduration||(u.playlistParsingError=new Error("#EXT-X-TARGETDURATION is required"));const j=d.length,O=d[0],R=d[j-1];if(g+=u.skippedSegments*u.targetduration,g>0&&j&&R){u.averagetargetduration=g/j;const k=R.sn;u.endSN=k!=="initSegment"?k:0,u.live||(R.endList=!0),O&&u.startCC===void 0&&(u.startCC=O.cc),A>0&&(EX(d,A),O&&f.unshift(O))}else u.endSN=0,u.startCC=0;return u.fragmentHint&&(g+=u.fragmentHint.duration),u.totalduration=g,f.length&&u.dateRangeTagCount&&O&&DF(f,u),u.endCC=v,u}}function DF(t,e){const r=t.length;if(!r)return;const n=t[r-1],i=e.live?1/0:e.totalduration,s=Object.keys(e.dateRanges);for(let a=s.length;a--;){const o=e.dateRanges[s[a]],c=o.startDate.getTime();o.tagAnchor=n.ref;for(let u=r;u--;){const d=SX(e,c,t,u,i);if(d!==-1){o.tagAnchor=e.fragments[d].ref;break}}}}function SX(t,e,r,n,i){const s=r[n];if(s){const o=s.programDateTime;if(e>=o||n===0){var a;const c=(((a=r[n+1])==null?void 0:a.start)||i)-s.start;if(e<=o+c*1e3){const u=r[n].sn-t.startSN,d=t.fragments;if(d.length>r.length){const h=(r[n+1]||d[d.length-1]).sn-t.startSN;for(let m=h;m>u;m--){const p=d[m].programDateTime;if(e>=p&&e<p+d[m].duration*1e3)return m}}return u}}}return-1}function nC(t,e,r){var n,i;const s=new Ut(t,r),a=(n=s.METHOD)!=null?n:"",o=s.URI,c=s.hexadecimalInteger("IV"),u=s.KEYFORMATVERSIONS,d=(i=s.KEYFORMAT)!=null?i:"identity";o&&s.IV&&!c&&dt.error(`Invalid IV: ${s.IV}`);const f=o?Ji.resolve(o,e):"",h=(u||"1").split("/").map(Number).filter(Number.isFinite);return new Ty(a,f,d,h,c,s.KEYID)}function iC(t){const r=new Ut(t).decimalFloatingPoint("TIME-OFFSET");return ye(r)?r:null}function sC(t,e){let r=(t||"").split(/[ ,]+/).filter(n=>n);["video","audio","text"].forEach(n=>{const i=r.filter(s=>RT(s,n));i.length&&(e[`${n}Codec`]=i.map(s=>s.split("/")[0]).join(","),r=r.filter(s=>i.indexOf(s)===-1))}),e.unknownCodecs=r}function aC(t,e,r){const n=e[r];n&&(t[r]=n)}function EX(t,e){let r=t[e];for(let n=e;n--;){const i=t[n];if(!i)return;i.programDateTime=r.programDateTime-i.duration*1e3,r=i}}function Zw(t,e,r){t.rawProgramDateTime?r.push(t):e!=null&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime)}function oC(t,e,r,n){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=r,t.sn="initSegment",n&&(t.levelkeys=n),t.initSegment=null}function lC(t,e,r){t.levelkeys=e;const{encryptedFragments:n}=r;(!n.length||n[n.length-1].levelkeys!==e)&&Object.keys(e).some(i=>e[i].isCommonEncryption)&&n.push(t)}function ws(t,e,r){t.playlistParsingError=new Error(`#EXT-X-${e} must not appear more than once (${r[0]})`)}function cC(t,e,r){t.playlistParsingError=new Error(`#EXT-X-${e} must appear before the first Media Segment (${r[0]})`)}function Nx(t,e){const r=e.startPTS;if(ye(r)){let n=0,i;e.sn>t.sn?(n=r-t.start,i=t):(n=t.start-r,i=e),i.duration!==n&&i.setDuration(n)}else e.sn>t.sn?t.cc===e.cc&&t.minEndPTS?e.setStart(t.start+(t.minEndPTS-t.start)):e.setStart(t.start+t.duration):e.setStart(Math.max(t.start-e.duration,0))}function MF(t,e,r,n,i,s){n-r<=0&&(dt.warn("Fragment should have a positive duration",e),n=r+e.duration,s=i+e.duration);let o=r,c=n;const u=e.startPTS,d=e.endPTS;if(ye(u)){const v=Math.abs(u-r);ye(e.deltaPTS)?e.deltaPTS=Math.max(v,e.deltaPTS):e.deltaPTS=v,o=Math.max(r,u),r=Math.min(r,u),i=Math.min(i,e.startDTS),c=Math.min(n,d),n=Math.max(n,d),s=Math.max(s,e.endDTS)}const f=r-e.start;e.start!==0&&e.setStart(r),e.setDuration(n-e.start),e.startPTS=r,e.maxStartPTS=o,e.startDTS=i,e.endPTS=n,e.minEndPTS=c,e.endDTS=s;const h=e.sn;if(!t||h<t.startSN||h>t.endSN)return 0;let m;const p=h-t.startSN,g=t.fragments;for(g[p]=e,m=p;m>0;m--)Nx(g[m],g[m-1]);for(m=p;m<g.length-1;m++)Nx(g[m],g[m+1]);return t.fragmentHint&&Nx(g[g.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,f}function TX(t,e){if(t===e)return;let r=null;const n=t.fragments;for(let u=n.length-1;u>=0;u--){const d=n[u].initSegment;if(d){r=d;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;let i;PX(t,e,(u,d,f,h)=>{if((!e.startCC||e.skippedSegments)&&d.cc!==u.cc){const m=u.cc-d.cc;for(let p=f;p<h.length;p++)h[p].cc+=m;e.endCC=h[h.length-1].cc}ye(u.startPTS)&&ye(u.endPTS)&&(d.setStart(d.startPTS=u.startPTS),d.startDTS=u.startDTS,d.maxStartPTS=u.maxStartPTS,d.endPTS=u.endPTS,d.endDTS=u.endDTS,d.minEndPTS=u.minEndPTS,d.setDuration(u.endPTS-u.startPTS),d.duration&&(i=d),e.PTSKnown=e.alignedSliding=!0),u.hasStreams&&(d.elementaryStreams=u.elementaryStreams),d.loader=u.loader,u.hasStats&&(d.stats=u.stats),u.initSegment&&(d.initSegment=u.initSegment,r=u.initSegment)});const s=e.fragments,a=e.fragmentHint?s.concat(e.fragmentHint):s;if(r&&a.forEach(u=>{var d;u&&(!u.initSegment||u.initSegment.relurl===((d=r)==null?void 0:d.relurl))&&(u.initSegment=r)}),e.skippedSegments){if(e.deltaUpdateFailed=s.some(u=>!u),e.deltaUpdateFailed){dt.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let u=e.skippedSegments;u--;)s.shift();e.startSN=s[0].sn}else{e.canSkipDateRanges&&(e.dateRanges=AX(t.dateRanges,e));const u=t.fragments.filter(d=>d.rawProgramDateTime);if(t.hasProgramDateTime&&!e.hasProgramDateTime)for(let d=1;d<a.length;d++)a[d].programDateTime===null&&Zw(a[d],a[d-1],u);DF(u,e)}e.endCC=s[s.length-1].cc}if(!e.startCC){var o;const u=BF(t,e.startSN-1);e.startCC=(o=u==null?void 0:u.cc)!=null?o:s[0].cc}_X(t.partList,e.partList,(u,d)=>{d.elementaryStreams=u.elementaryStreams,d.stats=u.stats}),i?MF(e,i,i.startPTS,i.endPTS,i.startDTS,i.endDTS):$F(t,e),s.length&&(e.totalduration=e.edge-s[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;const c=e.advancedDateTime;if(e.advanced&&c){const u=e.edge;e.driftStart||(e.driftStartTime=c,e.driftStart=u),e.driftEndTime=c,e.driftEnd=u}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime;e.requestScheduled===-1&&(e.requestScheduled=t.requestScheduled)}function AX(t,e){const{dateRanges:r,recentlyRemovedDateranges:n}=e,i=yt({},t);n&&n.forEach(o=>{delete i[o]});const a=Object.keys(i).length;return a&&Object.keys(r).forEach(o=>{const c=i[o],u=new kF(r[o].attr,c);u.isValid?(i[o]=u,c||(u.tagOrder+=a)):dt.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${Mt(r[o].attr)}"`)}),i}function _X(t,e,r){if(t&&e){let n=0;for(let i=0,s=t.length;i<=s;i++){const a=t[i],o=e[i+n];a&&o&&a.index===o.index&&a.fragment.sn===o.fragment.sn?r(a,o):n--}}}function PX(t,e,r){const n=e.skippedSegments,i=Math.max(t.startSN,e.startSN)-e.startSN,s=(t.fragmentHint?1:0)+(n?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,a=e.startSN-t.startSN,o=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,c=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments;for(let u=i;u<=s;u++){const d=c[a+u];let f=o[u];if(n&&!f&&d&&(f=e.fragments[u]=d),d&&f){if(r(d,f,u,o),d.url&&d.url!==f.url){e.playlistParsingError=uC(`media sequence mismatch ${f.sn}:`,t,e,d,f);return}else if(d.cc!==f.cc){e.playlistParsingError=uC(`discontinuity sequence mismatch (${d.cc}!=${f.cc})`,t,e,d,f);return}}}}function uC(t,e,r,n,i){return new Error(`${t} ${i.url}
Playlist starting @${e.startSN}
${e.m3u8}

Playlist starting @${r.startSN}
${r.m3u8}`)}function $F(t,e,r=!0){const n=e.startSN+e.skippedSegments-t.startSN,i=t.fragments,s=n>=0;let a=0;if(s&&n<i.length)a=i[n].start;else if(s&&e.startSN===t.endSN+1)a=t.fragmentEnd;else if(s&&r)a=t.fragmentStart+n*e.levelTargetDuration;else if(!e.skippedSegments&&e.fragmentStart===0)a=t.fragmentStart;else return;Jw(e,a)}function Jw(t,e){if(e){const r=t.fragments;for(let n=t.skippedSegments;n<r.length;n++)r[n].addStart(e);t.fragmentHint&&t.fragmentHint.addStart(e)}}function FF(t,e=1/0){let r=1e3*t.targetduration;if(t.updated){const n=t.fragments;if(n.length&&r*4>e){const s=n[n.length-1].duration*1e3;s<r&&(r=s)}}else r/=2;return Math.round(r)}function BF(t,e,r){if(!t)return null;let n=t.fragments[e-t.startSN];return n||(n=t.fragmentHint,n&&n.sn===e)?n:e<t.startSN&&r&&r.sn===e?r:null}function dC(t,e,r){return t?UF(t.partList,e,r):null}function UF(t,e,r){if(t)for(let n=t.length;n--;){const i=t[n];if(i.index===r&&i.fragment.sn===e)return i}return null}function VF(t){t.forEach((e,r)=>{var n;(n=e.details)==null||n.fragments.forEach(i=>{i.level=r,i.initSegment&&(i.initSegment.level=r)})})}function ff(t,e){for(let n=0,i=t.length;n<i;n++){var r;if(((r=t[n])==null?void 0:r.cc)===e)return t[n]}return null}function NX(t,e){return!!(t&&e.startCC<t.endCC&&e.endCC>t.startCC)}function fC(t,e){if(t){const r=t.start+e;t.start=t.startPTS=r,t.endPTS=r+t.duration}}function GF(t,e){const r=e.fragments;for(let n=0,i=r.length;n<i;n++)fC(r[n],t);e.fragmentHint&&fC(e.fragmentHint,t),e.alignedSliding=!0}function CX(t,e){t&&(HF(e,t),!e.alignedSliding&&t&&_g(e,t),!e.alignedSliding&&t&&!e.skippedSegments&&$F(t,e,!1))}function HF(t,e){if(!NX(e,t))return;const r=Math.min(e.endCC,t.endCC),n=ff(e.fragments,r),i=ff(t.fragments,r);if(!n||!i)return;dt.log(`Aligning playlist at start of dicontinuity sequence ${r}`);const s=n.start-i.start;GF(s,t)}function _g(t,e){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;const r=t.fragments,n=e.fragments;if(!r.length||!n.length)return;let i,s;const a=Math.min(e.endCC,t.endCC);e.startCC<a&&t.startCC<a&&(i=ff(n,a),s=ff(r,a)),(!i||!s)&&(i=n[Math.floor(n.length/2)],s=ff(r,i.cc)||r[Math.floor(r.length/2)]);const o=i.programDateTime,c=s.programDateTime;if(!o||!c)return;const u=(c-o)/1e3-(s.start-i.start);GF(u,t)}const jX={toString:function(t){let e="";const r=t.length;for(let n=0;n<r;n++)e+=`[${t.start(n).toFixed(3)}-${t.end(n).toFixed(3)}]`;return e}},ee={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class BT extends OF{constructor(e,r,n,i,s){super(i,e.logger),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=ee.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.buffering=!0,this.loadingParts=!1,this.loopSn=void 0,this.onMediaSeeking=()=>{const{config:a,fragCurrent:o,media:c,mediaBuffer:u,state:d}=this,f=c?c.currentTime:0,h=Ge.bufferInfo(u||c,f,a.maxBufferHole),m=!h.len;if(this.log(`Media seeking to ${ye(f)?f.toFixed(3):f}, state: ${d}, ${m?"out of":"in"} buffer`),this.state===ee.ENDED)this.resetLoadingState();else if(o){const p=a.maxFragLookUpTolerance,g=o.start-p,v=o.start+o.duration+p;if(m||v<h.start||g>h.end){const y=f>v;(f<g||y)&&(y&&o.loader&&(this.log(`Cancelling fragment load for seek (sn: ${o.sn})`),o.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}if(c){this.fragmentTracker.removeFragmentsInRange(f,1/0,this.playlistType,!0);const p=this.lastCurrentTime;if(f>p&&(this.lastCurrentTime=f),!this.loadingParts){const g=Math.max(h.end,f),v=this.shouldLoadParts(this.getLevelDetails(),g);v&&(this.log(`LL-Part loading ON after seeking to ${f.toFixed(2)} with buffer @${g.toFixed(2)}`),this.loadingParts=v)}}this.hls.hasEnoughToStart||(this.log(`Setting ${m?"startPosition":"nextLoadPosition"} to ${f} for seek without enough to start`),this.nextLoadPosition=f,m&&(this.startPosition=f)),this.tickImmediate()},this.onMediaEnded=()=>{this.log("setting startPosition to 0 because media ended"),this.startPosition=this.lastCurrentTime=0},this.playlistType=s,this.hls=e,this.fragmentLoader=new nX(e.config),this.keyLoader=n,this.fragmentTracker=r,this.config=e.config,this.decrypter=new MT(e.config)}registerListeners(){const{hls:e}=this;e.on(P.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(P.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(P.MANIFEST_LOADING,this.onManifestLoading,this),e.on(P.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(P.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(P.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(P.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(P.MANIFEST_LOADING,this.onManifestLoading,this),e.off(P.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(P.ERROR,this.onError,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){if(this.state===ee.STOPPED)return;this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;e!=null&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=ee.STOPPED}get startPositionValue(){const{nextLoadPosition:e,startPosition:r}=this;return r===-1&&e?e:r}get bufferingEnabled(){return this.buffering}pauseBuffering(){this.buffering=!1}resumeBuffering(){this.buffering=!0}get inFlightFrag(){return{frag:this.fragCurrent,state:this.state}}_streamEnded(e,r){if(r.live||!this.media)return!1;const n=e.end||0,i=this.config.timelineOffset||0;if(n<=i)return!1;const s=e.buffered;this.config.maxBufferHole&&s&&s.length>1&&(e=Ge.bufferedInfo(s,e.start,0));const a=e.nextStart;if(a&&a>i&&a<r.edge||this.media.currentTime<e.start)return!1;const c=r.partList;if(c!=null&&c.length){const d=c[c.length-1];return Ge.isBuffered(this.media,d.start+d.duration/2)}const u=r.fragments[r.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(u)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null){var e;return(e=this.levelLastLoaded)==null?void 0:e.details}}get timelineOffset(){const e=this.config.timelineOffset;if(e){var r;return((r=this.getLevelDetails())==null?void 0:r.appliedTimelineOffset)||e}return 0}onMediaAttached(e,r){const n=this.media=this.mediaBuffer=r.media;n.removeEventListener("seeking",this.onMediaSeeking),n.removeEventListener("ended",this.onMediaEnded),n.addEventListener("seeking",this.onMediaSeeking),n.addEventListener("ended",this.onMediaEnded);const i=this.config;this.levels&&i.autoStartLoad&&this.state===ee.STOPPED&&this.startLoad(i.startPosition)}onMediaDetaching(e,r){const n=!!r.transferMedia,i=this.media;if(i!==null){if(i.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),i.removeEventListener("seeking",this.onMediaSeeking),i.removeEventListener("ended",this.onMediaEnded),this.keyLoader&&!n&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loopSn=void 0,n){this.resetLoadingState(),this.resetTransmuxer();return}this.loadingParts=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}}onManifestLoading(){this.initPTS=[],this.levels=this.levelLastLoaded=this.fragCurrent=null,this.lastCurrentTime=this.startPosition=0,this.startFragRequested=!1}onError(e,r){}onManifestLoaded(e,r){this.startTimeOffset=r.startTimeOffset}onHandlerDestroying(){this.stopLoad(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),super.onHandlerDestroying(),this.hls=this.onMediaSeeking=this.onMediaEnded=null}onHandlerDestroyed(){this.state=ee.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,r,n){this.startFragRequested=!0,this._loadFragForPlayback(e,r,n)}_loadFragForPlayback(e,r,n){const i=s=>{const a=s.frag;if(this.fragContextChanged(a)){this.warn(`${a.type} sn: ${a.sn}${s.part?" part: "+s.part.index:""} of ${this.fragInfo(a,!1,s.part)}) was dropped during download.`),this.fragmentTracker.removeFragment(a);return}a.stats.chunkCount++,this._handleFragmentLoadProgress(s)};this._doFragLoad(e,r,n,i).then(s=>{if(!s)return;const a=this.state,o=s.frag;if(this.fragContextChanged(o)){(a===ee.FRAG_LOADING||!this.fragCurrent&&a===ee.PARSING)&&(this.fragmentTracker.removeFragment(o),this.state=ee.IDLE);return}"payload"in s&&(this.log(`Loaded ${o.type} sn: ${o.sn} of ${this.playlistLabel()} ${o.level}`),this.hls.trigger(P.FRAG_LOADED,s)),this._handleFragmentLoadComplete(s)}).catch(s=>{this.state===ee.STOPPED||this.state===ee.ERROR||(this.warn(`Frag error: ${(s==null?void 0:s.message)||s}`),this.resetFragmentLoading(e))})}clearTrackerIfNeeded(e){var r;const{fragmentTracker:n}=this;if(n.getState(e)===br.APPENDING){const s=e.type,a=this.getFwdBufferInfo(this.mediaBuffer,s),o=Math.max(e.duration,a?a.len:this.config.maxBufferLength),c=this.backtrackFragment;((c?e.sn-c.sn:0)===1||this.reduceMaxBufferLength(o,e.duration))&&n.removeFragment(e)}else((r=this.mediaBuffer)==null?void 0:r.buffered.length)===0?n.removeAllFragments():n.hasParts(e.type)&&(n.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),n.getState(e)===br.PARTIAL&&n.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const r=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:r,part:null,stats:r.stats,id:r.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}waitForLive(e){const r=e.details;return(r==null?void 0:r.live)&&r.type!=="EVENT"&&(this.levelLastLoaded!==e||r.expired)}flushMainBuffer(e,r,n=null){if(!(e-r))return;const i={startOffset:e,endOffset:r,type:n};this.hls.trigger(P.BUFFER_FLUSHING,i)}_loadInitSegment(e,r){this._doFragLoad(e,r).then(n=>{const i=n==null?void 0:n.frag;if(!i||this.fragContextChanged(i)||!this.levels)throw new Error("init load aborted");return n}).then(n=>{const{hls:i}=this,{frag:s,payload:a}=n,o=s.decryptdata;if(a&&a.byteLength>0&&o!=null&&o.key&&o.iv&&Lc(o.method)){const c=self.performance.now();return this.decrypter.decrypt(new Uint8Array(a),o.key.buffer,o.iv.buffer,FT(o.method)).catch(u=>{throw i.trigger(P.ERROR,{type:Ie.MEDIA_ERROR,details:K.FRAG_DECRYPT_ERROR,fatal:!1,error:u,reason:u.message,frag:s}),u}).then(u=>{const d=self.performance.now();return i.trigger(P.FRAG_DECRYPTED,{frag:s,payload:u,stats:{tstart:c,tdecrypt:d}}),n.payload=u,this.completeInitSegmentLoad(n)})}return this.completeInitSegmentLoad(n)}).catch(n=>{this.state===ee.STOPPED||this.state===ee.ERROR||(this.warn(n),this.resetFragmentLoading(e))})}completeInitSegmentLoad(e){const{levels:r}=this;if(!r)throw new Error("init load aborted, missing levels");const n=e.frag.stats;this.state!==ee.STOPPED&&(this.state=ee.IDLE),e.frag.data=new Uint8Array(e.payload),n.parsing.start=n.buffering.start=self.performance.now(),n.parsing.end=n.buffering.end=self.performance.now(),this.tick()}fragContextChanged(e){const{fragCurrent:r}=this;return!e||!r||e.sn!==r.sn||e.level!==r.level}fragBufferedComplete(e,r){const n=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${e.type} sn: ${e.sn}${r?" part: "+r.index:""} of ${this.fragInfo(e,!1,r)} > buffer:${n?jX.toString(Ge.getBuffered(n)):"(detached)"})`),fr(e)){var i;if(e.type!==Pe.SUBTITLE){const a=e.elementaryStreams;if(!Object.keys(a).some(o=>!!a[o])){this.state=ee.IDLE;return}}const s=(i=this.levels)==null?void 0:i[e.level];s!=null&&s.fragmentError&&(this.log(`Resetting level fragment error count of ${s.fragmentError} on frag buffered`),s.fragmentError=0)}this.state=ee.IDLE}_handleFragmentLoadComplete(e){const{transmuxer:r}=this;if(!r)return;const{frag:n,part:i,partsLoaded:s}=e,a=!s||s.length===0||s.some(c=>!c),o=new $T(n.level,n.sn,n.stats.chunkCount+1,0,i?i.index:-1,!a);r.flush(o)}_handleFragmentLoadProgress(e){}_doFragLoad(e,r,n=null,i){var s;this.fragCurrent=e;const a=r==null?void 0:r.details;if(!this.levels||!a)throw new Error(`frag load aborted, missing level${a?"":" detail"}s`);let o=null;e.encrypted&&!((s=e.decryptdata)!=null&&s.key)?(this.log(`Loading key for ${e.sn} of [${a.startSN}-${a.endSN}], ${this.playlistLabel()} ${e.level}`),this.state=ee.KEY_LOADING,this.fragCurrent=e,o=this.keyLoader.load(e).then(f=>{if(!this.fragContextChanged(f.frag))return this.hls.trigger(P.KEY_LOADED,f),this.state===ee.KEY_LOADING&&(this.state=ee.IDLE),f}),this.hls.trigger(P.KEY_LOADING,{frag:e}),this.fragCurrent===null&&(o=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))):e.encrypted||(o=this.keyLoader.loadClear(e,a.encryptedFragments,this.startFragRequested),o&&this.log("[eme] blocking frag load until media-keys acquired"));const c=this.fragPrevious;if(fr(e)&&(!c||e.sn!==c.sn)){const f=this.shouldLoadParts(r.details,e.end);f!==this.loadingParts&&(this.log(`LL-Part loading ${f?"ON":"OFF"} loading sn ${c==null?void 0:c.sn}->${e.sn}`),this.loadingParts=f)}if(n=Math.max(e.start,n||0),this.loadingParts&&fr(e)){const f=a.partList;if(f&&i){n>e.end&&a.fragmentHint&&(e=a.fragmentHint);const h=this.getNextPart(f,e,n);if(h>-1){const m=f[h];e=this.fragCurrent=m.fragment,this.log(`Loading ${e.type} sn: ${e.sn} part: ${m.index} (${h}/${f.length-1}) of ${this.fragInfo(e,!1,m)}) cc: ${e.cc} [${a.startSN}-${a.endSN}], target: ${parseFloat(n.toFixed(3))}`),this.nextLoadPosition=m.start+m.duration,this.state=ee.FRAG_LOADING;let p;return o?p=o.then(g=>!g||this.fragContextChanged(g.frag)?null:this.doFragPartsLoad(e,m,r,i)).catch(g=>this.handleFragLoadError(g)):p=this.doFragPartsLoad(e,m,r,i).catch(g=>this.handleFragLoadError(g)),this.hls.trigger(P.FRAG_LOADING,{frag:e,part:m,targetBufferTime:n}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):p}else if(!e.url||this.loadedEndOfParts(f,n))return Promise.resolve(null)}}if(fr(e)&&this.loadingParts)this.log(`LL-Part loading OFF after next part miss @${n.toFixed(2)}`),this.loadingParts=!1;else if(!e.url)return Promise.resolve(null);this.log(`Loading ${e.type} sn: ${e.sn} of ${this.fragInfo(e,!1)}) cc: ${e.cc} ${a?"["+a.startSN+"-"+a.endSN+"]":""}, target: ${parseFloat(n.toFixed(3))}`),ye(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=ee.FRAG_LOADING;const u=this.config.progressive;let d;return u&&o?d=o.then(f=>!f||this.fragContextChanged(f==null?void 0:f.frag)?null:this.fragmentLoader.load(e,i)).catch(f=>this.handleFragLoadError(f)):d=Promise.all([this.fragmentLoader.load(e,u?i:void 0),o]).then(([f])=>(!u&&f&&i&&i(f),f)).catch(f=>this.handleFragLoadError(f)),this.hls.trigger(P.FRAG_LOADING,{frag:e,targetBufferTime:n}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):d}doFragPartsLoad(e,r,n,i){return new Promise((s,a)=>{var o;const c=[],u=(o=n.details)==null?void 0:o.partList,d=f=>{this.fragmentLoader.loadPart(e,f,i).then(h=>{c[f.index]=h;const m=h.part;this.hls.trigger(P.FRAG_LOADED,h);const p=dC(n.details,e.sn,f.index+1)||UF(u,e.sn,f.index+1);if(p)d(p);else return s({frag:e,part:m,partsLoaded:c})}).catch(a)};d(r)})}handleFragLoadError(e){if("data"in e){const r=e.data;e.data&&r.details===K.INTERNAL_ABORTED?this.handleFragLoadAborted(r.frag,r.part):this.hls.trigger(P.ERROR,r)}else this.hls.trigger(P.ERROR,{type:Ie.OTHER_ERROR,details:K.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const r=this.getCurrentContext(e);if(!r||this.state!==ee.PARSING){!this.fragCurrent&&this.state!==ee.STOPPED&&this.state!==ee.ERROR&&(this.state=ee.IDLE);return}const{frag:n,part:i,level:s}=r,a=self.performance.now();n.stats.parsing.end=a,i&&(i.stats.parsing.end=a);const o=this.getLevelDetails(),u=o&&n.sn>o.endSN||this.shouldLoadParts(o,n.end);u!==this.loadingParts&&(this.log(`LL-Part loading ${u?"ON":"OFF"} after parsing segment ending @${n.end.toFixed(2)}`),this.loadingParts=u),this.updateLevelTiming(n,i,s,e.partial)}shouldLoadParts(e,r){if(this.config.lowLatencyMode){if(!e)return this.loadingParts;if(e!=null&&e.partList){var n;const s=e.partList[0],a=s.end+(((n=e.fragmentHint)==null?void 0:n.duration)||0);if(r>=a){var i;if((this.hls.hasEnoughToStart?((i=this.media)==null?void 0:i.currentTime)||this.lastCurrentTime:this.getLoadPosition())>s.start-s.fragment.duration)return!0}}}return!1}getCurrentContext(e){const{levels:r,fragCurrent:n}=this,{level:i,sn:s,part:a}=e;if(!(r!=null&&r[i]))return this.warn(`Levels object was unset while buffering fragment ${s} of ${this.playlistLabel()} ${i}. The current chunk will not be buffered.`),null;const o=r[i],c=o.details,u=a>-1?dC(c,s,a):null,d=u?u.fragment:BF(c,s,n);return d?(n&&n!==d&&(d.stats=n.stats),{frag:d,part:u,level:o}):null}bufferFragmentData(e,r,n,i,s){var a;if(!e||this.state!==ee.PARSING)return;const{data1:o,data2:c}=e;let u=o;if(o&&c&&(u=di(o,c)),!((a=u)!=null&&a.length))return;const d=this.initPTS[r.cc],f=d?-d.baseTime/d.timescale:void 0,h={type:e.type,frag:r,part:n,chunkMeta:i,offset:f,parent:r.type,data:u};if(this.hls.trigger(P.BUFFER_APPENDING,h),e.dropped&&e.independent&&!n){if(s)return;this.flushBufferGap(r)}}flushBufferGap(e){const r=this.media;if(!r)return;if(!Ge.isBuffered(r,r.currentTime)){this.flushMainBuffer(0,e.start);return}const n=r.currentTime,i=Ge.bufferInfo(r,n,0),s=e.duration,a=Math.min(this.config.maxFragLookUpTolerance*2,s*.25),o=Math.max(Math.min(e.start-a,i.end-a),n+a);e.start-o>a&&this.flushMainBuffer(o,e.start)}getFwdBufferInfo(e,r){var n;const i=this.getLoadPosition();if(!ye(i))return null;const a=this.lastCurrentTime>i||(n=this.media)!=null&&n.paused?0:this.config.maxBufferHole;return this.getFwdBufferInfoAtPos(e,i,r,a)}getFwdBufferInfoAtPos(e,r,n,i){const s=Ge.bufferInfo(e,r,i);if(s.len===0&&s.nextStart!==void 0){const a=this.fragmentTracker.getBufferedFrag(r,n);if(a&&(s.nextStart<=a.end||a.gap)){const o=Math.max(Math.min(s.nextStart,a.end)-r,i);return Ge.bufferInfo(e,r,o)}}return s}getMaxBufferLength(e){const{config:r}=this;let n;return e?n=Math.max(8*r.maxBufferSize/e,r.maxBufferLength):n=r.maxBufferLength,Math.min(n,r.maxMaxBufferLength)}reduceMaxBufferLength(e,r){const n=this.config,i=Math.max(Math.min(e-r,n.maxBufferLength),r),s=Math.max(e-r*3,n.maxMaxBufferLength/2,i);return s>=i?(n.maxMaxBufferLength=s,this.warn(`Reduce max buffer length to ${s}s`),!0):!1}getAppendedFrag(e,r=Pe.MAIN){var n;const i=(n=this.fragmentTracker)==null?void 0:n.getAppendedFrag(e,r);return i&&"fragment"in i?i.fragment:i}getNextFragment(e,r){const n=r.fragments,i=n.length;if(!i)return null;const{config:s}=this,a=n[0].start,o=s.lowLatencyMode&&!!r.partList;let c=null;if(r.live){const f=s.initialLiveManifestSize;if(i<f)return this.warn(`Not enough fragments to start playback (have: ${i}, need: ${f})`),null;if(!r.PTSKnown&&!this.startFragRequested&&this.startPosition===-1||e<a){var u;o&&!this.loadingParts&&(this.log("LL-Part loading ON for initial live fragment"),this.loadingParts=!0),c=this.getInitialLiveFragment(r);const h=this.hls.startPosition,m=this.hls.liveSyncPosition,p=c?(h!==-1&&h>=a?h:m)||c.start:e;this.log(`Setting startPosition to ${p} to match start frag at live edge. mainStart: ${h} liveSyncPosition: ${m} frag.start: ${(u=c)==null?void 0:u.start}`),this.startPosition=this.nextLoadPosition=p}}else e<=a&&(c=n[0]);if(!c){const f=this.loadingParts?r.partEnd:r.fragmentEnd;c=this.getFragmentAtPosition(e,f,r)}let d=this.filterReplacedPrimary(c,r);if(!d&&c){const f=c.sn-r.startSN;d=this.filterReplacedPrimary(n[f+1]||null,r)}return this.mapToInitFragWhenRequired(d)}isLoopLoading(e,r){const n=this.fragmentTracker.getState(e);return(n===br.OK||n===br.PARTIAL&&!!e.gap)&&this.nextLoadPosition>r}getNextFragmentLoopLoading(e,r,n,i,s){let a=null;if(e.gap&&(a=this.getNextFragment(this.nextLoadPosition,r),a&&!a.gap&&n.nextStart)){const o=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,n.nextStart,i,0);if(o!==null&&n.len+o.len>=s){const c=a.sn;return this.loopSn!==c&&(this.log(`buffer full after gaps in "${i}" playlist starting at sn: ${c}`),this.loopSn=c),null}}return this.loopSn=void 0,a}get primaryPrefetch(){if(hC(this.hls.config)){var e,r;if((e=this.hls.interstitialsManager)==null||(r=e.playingItem)==null?void 0:r.event)return!0}return!1}filterReplacedPrimary(e,r){if(!e)return e;if(hC(this.hls.config)&&e.type!==Pe.SUBTITLE){const n=this.hls.interstitialsManager,i=n==null?void 0:n.bufferingItem;if(i){const a=i.event;if(a){if(a.appendInPlace||Math.abs(e.start-i.start)>1||i.start===0)return null}else if(e.end<=i.start&&(r==null?void 0:r.live)===!1||e.start>i.end&&i.nextEvent&&(i.nextEvent.appendInPlace||e.start-i.end>1))return null}const s=n==null?void 0:n.playerQueue;if(s)for(let a=s.length;a--;){const o=s[a].interstitial;if(o.appendInPlace&&e.start>=o.startTime&&e.end<=o.resumeTime)return null}}return e}mapToInitFragWhenRequired(e){return e!=null&&e.initSegment&&!(e!=null&&e.initSegment.data)&&!this.bitrateTest?e.initSegment:e}getNextPart(e,r,n){let i=-1,s=!1,a=!0;for(let o=0,c=e.length;o<c;o++){const u=e[o];if(a=a&&!u.independent,i>-1&&n<u.start)break;const d=u.loaded;d?i=-1:(s||u.independent||a)&&u.fragment===r&&(i=o),s=d}return i}loadedEndOfParts(e,r){const n=e[e.length-1];return n&&r>n.start&&n.loaded}getInitialLiveFragment(e){const r=e.fragments,n=this.fragPrevious;let i=null;if(n){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${n.programDateTime}`),i=zY(r,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!i){const s=n.sn+1;if(s>=e.startSN&&s<=e.endSN){const a=r[s-e.startSN];n.cc===a.cc&&(i=a,this.log(`Live playlist, switching playlist, load frag with next SN: ${i.sn}`))}i||(i=jF(e,n.cc,n.end),i&&this.log(`Live playlist, switching playlist, load frag with same CC: ${i.sn}`))}}else{const s=this.hls.liveSyncPosition;s!==null&&(i=this.getFragmentAtPosition(s,this.bitrateTest?e.fragmentEnd:e.edge,e))}return i}getFragmentAtPosition(e,r,n){const{config:i}=this;let{fragPrevious:s}=this,{fragments:a,endSN:o}=n;const{fragmentHint:c}=n,{maxFragLookUpTolerance:u}=i,d=n.partList,f=!!(this.loadingParts&&d!=null&&d.length&&c);f&&c&&!this.bitrateTest&&d[d.length-1].fragment.sn===c.sn&&(a=a.concat(c),o=c.sn);let h;if(e<r){var m;const g=e<this.lastCurrentTime||e>r-u||(m=this.media)!=null&&m.paused||!this.startFragRequested?0:u;h=Al(s,a,e,g)}else h=a[a.length-1];if(h){const p=h.sn-n.startSN,g=this.fragmentTracker.getState(h);if((g===br.OK||g===br.PARTIAL&&h.gap)&&(s=h),s&&h.sn===s.sn&&(!f||d[0].fragment.sn>h.sn||!n.live&&!f)&&s&&h.level===s.level){const y=a[p+1];h.sn<o&&this.fragmentTracker.getState(y)!==br.OK?h=y:h=null}}return h}alignPlaylists(e,r,n){const i=e.fragments.length;if(!i)return this.warn("No fragments in live playlist"),0;const s=e.fragmentStart,a=!r,o=e.alignedSliding&&ye(s);if(a||!o&&!s){CX(n,e);const c=e.fragmentStart;return this.log(`Live playlist sliding: ${c.toFixed(2)} start-sn: ${r?r.startSN:"na"}->${e.startSN} fragments: ${i}`),c}return s}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*3)}setStartPosition(e,r){let n=this.startPosition;n<r&&(n=-1);const i=this.timelineOffset;if(n===-1){const s=this.startTimeOffset!==null,a=s?this.startTimeOffset:e.startTimeOffset;a!==null&&ye(a)?(n=r+a,a<0&&(n+=e.edge),n=Math.min(Math.max(r,n),r+e.totalduration),this.log(`Setting startPosition to ${n} for start time offset ${a} found in ${s?"multivariant":"media"} playlist`),this.startPosition=n):e.live?(n=this.hls.liveSyncPosition||r,this.log(`Setting startPosition to -1 to start at live edge ${n}`),this.startPosition=-1):(this.log("setting startPosition to 0 by default"),this.startPosition=n=0),this.lastCurrentTime=n+i}this.nextLoadPosition=n+i}getLoadPosition(){var e;const{media:r}=this;let n=0;return(e=this.hls)!=null&&e.hasEnoughToStart&&r?n=r.currentTime:this.nextLoadPosition>=0&&(n=this.nextLoadPosition),n}handleFragLoadAborted(e,r){this.transmuxer&&e.type===this.playlistType&&fr(e)&&e.stats.aborted&&(this.log(`Fragment ${e.sn}${r?" part "+r.index:""} of ${this.playlistLabel()} ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){(!this.fragCurrent||!this.fragContextChanged(e)&&this.state!==ee.FRAG_LOADING_WAITING_RETRY)&&(this.state=ee.IDLE)}onFragmentOrKeyLoadError(e,r){if(r.chunkMeta&&!r.frag){const p=this.getCurrentContext(r.chunkMeta);p&&(r.frag=p.frag)}const n=r.frag;if(!n||n.type!==e||!this.levels)return;if(this.fragContextChanged(n)){var i;this.warn(`Frag load error must match current frag to retry ${n.url} > ${(i=this.fragCurrent)==null?void 0:i.url}`);return}const s=r.details===K.FRAG_GAP;s&&this.fragmentTracker.fragBuffered(n,!0);const a=r.errorAction,{action:o,flags:c,retryCount:u=0,retryConfig:d}=a||{},f=!!a&&!!d,h=f&&o===Wr.RetryRequest,m=f&&!a.resolved&&c===Si.MoveAllAlternatesMatchingHost;if(!h&&m&&fr(n)&&!n.endList)this.resetFragmentErrors(e),this.treatAsGap(n),a.resolved=!0;else if((h||m)&&u<d.maxNumRetry){this.resetStartWhenNotLoaded(this.levelLastLoaded);const p=DT(d,u);this.warn(`Fragment ${n.sn} of ${e} ${n.level} errored with ${r.details}, retrying loading ${u+1}/${d.maxNumRetry} in ${p}ms`),a.resolved=!0,this.retryDate=self.performance.now()+p,this.state=ee.FRAG_LOADING_WAITING_RETRY}else if(d&&a)if(this.resetFragmentErrors(e),u<d.maxNumRetry)!s&&o!==Wr.RemoveAlternatePermanently&&(a.resolved=!0);else{this.warn(`${r.details} reached or exceeded max retry (${u})`);return}else o===Wr.SendAlternateToPenaltyBox?this.state=ee.WAITING_LEVEL:this.state=ee.ERROR;this.tickImmediate()}reduceLengthAndFlushBuffer(e){if(this.state===ee.PARSING||this.state===ee.PARSED){const r=e.frag,n=e.parent,i=this.getFwdBufferInfo(this.mediaBuffer,n),s=i&&i.len>.5;s&&this.reduceMaxBufferLength(i.len,(r==null?void 0:r.duration)||10);const a=!s;return a&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${n} buffer`),r&&(this.fragmentTracker.removeFragment(r),this.nextLoadPosition=r.start),this.resetLoadingState(),a}return!1}resetFragmentErrors(e){e===Pe.AUDIO&&(this.fragCurrent=null),this.hls.hasEnoughToStart||(this.startFragRequested=!1),this.state!==ee.STOPPED&&(this.state=ee.IDLE)}afterBufferFlushed(e,r,n){if(!e)return;const i=Ge.getBuffered(e);this.fragmentTracker.detectEvictedFragments(r,i,n),this.state===ee.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state!==ee.STOPPED&&(this.state=ee.IDLE)}resetStartWhenNotLoaded(e){if(!this.hls.hasEnoughToStart){this.startFragRequested=!1;const r=e?e.details:null;r!=null&&r.live?(this.log("resetting startPosition for live start"),this.startPosition=-1,this.setStartPosition(r,r.fragmentStart),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.warn(`The loading context changed while buffering fragment ${e.sn} of ${this.playlistLabel()} ${e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,r,n,i){const s=n.details;if(!s){this.warn("level.details undefined");return}if(!Object.keys(e.elementaryStreams).reduce((c,u)=>{const d=e.elementaryStreams[u];if(d){const f=d.endPTS-d.startPTS;if(f<=0)return this.warn(`Could not parse fragment ${e.sn} ${u} duration reliably (${f})`),c||!1;const h=i?0:MF(s,e,d.startPTS,d.endPTS,d.startDTS,d.endDTS);return this.hls.trigger(P.LEVEL_PTS_UPDATED,{details:s,level:n,drift:h,type:u,frag:e,start:d.startPTS,end:d.endPTS}),!0}return c},!1)){var o;if(n.fragmentError===0&&this.treatAsGap(e,n),((o=this.transmuxer)==null?void 0:o.error)===null){const c=new Error(`Found no media in fragment ${e.sn} of ${this.playlistLabel()} ${e.level} resetting transmuxer to fallback to playlist timing`);if(this.warn(c.message),this.hls.trigger(P.ERROR,{type:Ie.MEDIA_ERROR,details:K.FRAG_PARSING_ERROR,fatal:!1,error:c,frag:e,reason:`Found no media in msn ${e.sn} of ${this.playlistLabel()} "${n.url}"`}),!this.hls)return;this.resetTransmuxer()}}this.state=ee.PARSED,this.log(`Parsed ${e.type} sn: ${e.sn}${r?" part: "+r.index:""} of ${this.fragInfo(e,!1,r)})`),this.hls.trigger(P.FRAG_PARSED,{frag:e,part:r})}playlistLabel(){return this.playlistType===Pe.MAIN?"level":"track"}fragInfo(e,r=!0,n){var i,s;return`${this.playlistLabel()} ${e.level} (${n?"part":"frag"}:[${((i=r&&!n?e.startPTS:(n||e).start)!=null?i:NaN).toFixed(3)}-${((s=r&&!n?e.endPTS:(n||e).end)!=null?s:NaN).toFixed(3)}]${n&&e.type==="main"?"INDEPENDENT="+(n.independent?"YES":"NO"):""}`}treatAsGap(e,r){r&&r.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)}resetTransmuxer(){var e;(e=this.transmuxer)==null||e.reset()}recoverWorkerError(e){e.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())}set state(e){const r=this._state;r!==e&&(this._state=e,this.log(`${r}->${e}`))}get state(){return this._state}}function hC(t){return!!t.interstitialsController&&t.enableInterstitialPlayback!==!1}class zF{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:r}=this;let n;if(e.length)e.length===1?n=e[0]:n=OX(e,r);else return new Uint8Array(0);return this.reset(),n}reset(){this.chunks.length=0,this.dataLength=0}}function OX(t,e){const r=new Uint8Array(e);let n=0;for(let i=0;i<t.length;i++){const s=t[i];r.set(s,n),n+=s.length}return r}var Cx={exports:{}},mC;function IX(){return mC||(mC=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,h),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,m,p){var g=r?r+u:u;if(!this._events[g])return!1;var v=this._events[g],y=arguments.length,x,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,p),!0}for(b=1,x=new Array(y-1);b<y;b++)x[b-1]=arguments[b];v.fn.apply(v.context,x)}else{var S=v.length,w;for(b=0;b<S;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),y){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,d);break;case 3:v[b].fn.call(v[b].context,d,f);break;case 4:v[b].fn.call(v[b].context,d,f,h);break;default:if(!x)for(w=1,x=new Array(y-1);w<y;w++)x[w-1]=arguments[w];v[b].fn.apply(v[b].context,x)}}return!0},o.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return a(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&a(this,m);else{for(var g=0,v=[],y=p.length;g<y;g++)(p[g].fn!==d||h&&!p[g].once||f&&p[g].context!==f)&&v.push(p[g]);v.length?this._events[m]=v.length===1?v[0]:v:a(this,m)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o}(Cx)),Cx.exports}var kX=IX(),UT=oY(kX);const Yf="1.6.7",fu={};function RX(){return typeof __HLS_WORKER_BUNDLE__=="function"}function LX(){const t=fu[Yf];if(t)return t.clientCount++,t;const e=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),r=self.URL.createObjectURL(e),i={worker:new self.Worker(r),objectURL:r,clientCount:1};return fu[Yf]=i,i}function DX(t){const e=fu[t];if(e)return e.clientCount++,e;const r=new self.URL(t,self.location.href).href,i={worker:new self.Worker(r),scriptURL:r,clientCount:1};return fu[t]=i,i}function MX(t){const e=fu[t||Yf];if(e&&e.clientCount--===1){const{worker:n,objectURL:i}=e;delete fu[t||Yf],i&&self.URL.revokeObjectURL(i),n.terminate()}}function WF(t,e){return e+10<=t.length&&t[e]===51&&t[e+1]===68&&t[e+2]===73&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128}function VT(t,e){return e+10<=t.length&&t[e]===73&&t[e+1]===68&&t[e+2]===51&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128}function Ay(t,e){let r=0;return r=(t[e]&127)<<21,r|=(t[e+1]&127)<<14,r|=(t[e+2]&127)<<7,r|=t[e+3]&127,r}function Xf(t,e){const r=e;let n=0;for(;VT(t,e);){n+=10;const i=Ay(t,e+6);n+=i,WF(t,e+10)&&(n+=10),e+=n}if(n>0)return t.subarray(r,r+n)}function $X(t,e,r,n){const i=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],s=e[r+2],a=s>>2&15;if(a>12){const m=new Error(`invalid ADTS sampling index:${a}`);t.emit(P.ERROR,P.ERROR,{type:Ie.MEDIA_ERROR,details:K.FRAG_PARSING_ERROR,fatal:!0,error:m,reason:m.message});return}const o=(s>>6&3)+1,c=e[r+3]>>6&3|(s&1)<<2,u="mp4a.40."+o,d=i[a];let f=a;(o===5||o===29)&&(f-=3);const h=[o<<3|(f&14)>>1,(f&1)<<7|c<<3];return dt.log(`manifest codec:${n}, parsed codec:${u}, channels:${c}, rate:${d} (ADTS object type:${o} sampling index:${a})`),{config:h,samplerate:d,channelCount:c,codec:u,parsedCodec:u,manifestCodec:n}}function KF(t,e){return t[e]===255&&(t[e+1]&246)===240}function qF(t,e){return t[e+1]&1?7:9}function GT(t,e){return(t[e+3]&3)<<11|t[e+4]<<3|(t[e+5]&224)>>>5}function FX(t,e){return e+5<t.length}function Pg(t,e){return e+1<t.length&&KF(t,e)}function BX(t,e){return FX(t,e)&&KF(t,e)&&GT(t,e)<=t.length-e}function UX(t,e){if(Pg(t,e)){const r=qF(t,e);if(e+r>=t.length)return!1;const n=GT(t,e);if(n<=r)return!1;const i=e+n;return i===t.length||Pg(t,i)}return!1}function YF(t,e,r,n,i){if(!t.samplerate){const s=$X(e,r,n,i);if(!s)return;yt(t,s)}}function XF(t){return 1024*9e4/t}function VX(t,e){const r=qF(t,e);if(e+r<=t.length){const n=GT(t,e)-r;if(n>0)return{headerLength:r,frameLength:n}}}function QF(t,e,r,n,i){const s=XF(t.samplerate),a=n+i*s,o=VX(e,r);let c;if(o){const{frameLength:f,headerLength:h}=o,m=h+f,p=Math.max(0,r+m-e.length);p?(c=new Uint8Array(m-h),c.set(e.subarray(r+h,e.length),0)):c=e.subarray(r+h,r+m);const g={unit:c,pts:a};return p||t.samples.push(g),{sample:g,length:m,missing:p}}const u=e.length-r;return c=new Uint8Array(u),c.set(e.subarray(r,e.length),0),{sample:{unit:c,pts:a},length:u,missing:-1}}function GX(t,e){return VT(t,e)&&Ay(t,e+6)+10<=t.length-e}function HX(t){return t instanceof ArrayBuffer?t:t.byteOffset==0&&t.byteLength==t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer}function jx(t,e=0,r=1/0){return zX(t,e,r,Uint8Array)}function zX(t,e,r,n){const i=WX(t);let s=1;"BYTES_PER_ELEMENT"in n&&(s=n.BYTES_PER_ELEMENT);const a=KX(t)?t.byteOffset:0,o=(a+t.byteLength)/s,c=(a+e)/s,u=Math.floor(Math.max(0,Math.min(c,o))),d=Math.floor(Math.min(u+Math.max(r,0),o));return new n(i,u,d-u)}function WX(t){return t instanceof ArrayBuffer?t:t.buffer}function KX(t){return t&&t.buffer instanceof ArrayBuffer&&t.byteLength!==void 0&&t.byteOffset!==void 0}function qX(t){const e={key:t.type,description:"",data:"",mimeType:null,pictureType:null},r=3;if(t.size<2)return;if(t.data[0]!==r){console.log("Ignore frame with unrecognized character encoding");return}const n=t.data.subarray(1).indexOf(0);if(n===-1)return;const i=Fn(jx(t.data,1,n)),s=t.data[2+n],a=t.data.subarray(3+n).indexOf(0);if(a===-1)return;const o=Fn(jx(t.data,3+n,a));let c;return i==="-->"?c=Fn(jx(t.data,4+n+a)):c=HX(t.data.subarray(4+n+a)),e.mimeType=i,e.pictureType=s,e.description=o,e.data=c,e}function YX(t){if(t.size<2)return;const e=Fn(t.data,!0),r=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:r.buffer}}function XX(t){if(t.size<2)return;if(t.type==="TXXX"){let r=1;const n=Fn(t.data.subarray(r),!0);r+=n.length+1;const i=Fn(t.data.subarray(r));return{key:t.type,info:n,data:i}}const e=Fn(t.data.subarray(1));return{key:t.type,info:"",data:e}}function QX(t){if(t.type==="WXXX"){if(t.size<2)return;let r=1;const n=Fn(t.data.subarray(r),!0);r+=n.length+1;const i=Fn(t.data.subarray(r));return{key:t.type,info:n,data:i}}const e=Fn(t.data);return{key:t.type,info:"",data:e}}function ZX(t){return t.type==="PRIV"?YX(t):t.type[0]==="W"?QX(t):t.type==="APIC"?qX(t):XX(t)}function JX(t){const e=String.fromCharCode(t[0],t[1],t[2],t[3]),r=Ay(t,4),n=10;return{type:e,size:r,data:t.subarray(n,n+r)}}const Bm=10,eQ=10;function ZF(t){let e=0;const r=[];for(;VT(t,e);){const n=Ay(t,e+6);t[e+5]>>6&1&&(e+=Bm),e+=Bm;const i=e+n;for(;e+eQ<i;){const s=JX(t.subarray(e)),a=ZX(s);a&&r.push(a),e+=s.size+Bm}WF(t,e)&&(e+=Bm)}return r}function JF(t){return t&&t.key==="PRIV"&&t.info==="com.apple.streaming.transportStreamTimestamp"}function tQ(t){if(t.data.byteLength===8){const e=new Uint8Array(t.data),r=e[3]&1;let n=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return n/=45,r&&(n+=4772185884e-2),Math.round(n)}}function HT(t){const e=ZF(t);for(let r=0;r<e.length;r++){const n=e[r];if(JF(n))return tQ(n)}}let kn=function(t){return t.audioId3="org.id3",t.dateRange="com.apple.quicktime.HLS",t.emsg="https://aomedia.org/emsg/ID3",t.misbklv="urn:misb:KLV:bin:1910.1",t}({});function qi(t="",e=9e4){return{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class zT{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,r,n,i){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,r){return!1}appendFrame(e,r,n){}demux(e,r){this.cachedData&&(e=di(this.cachedData,e),this.cachedData=null);let n=Xf(e,0),i=n?n.length:0,s;const a=this._audioTrack,o=this._id3Track,c=n?HT(n):void 0,u=e.length;for((this.basePTS===null||this.frameIndex===0&&ye(c))&&(this.basePTS=rQ(c,r,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),n&&n.length>0&&o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:kn.audioId3,duration:Number.POSITIVE_INFINITY});i<u;){if(this.canParse(e,i)){const d=this.appendFrame(a,e,i);d?(this.frameIndex++,this.lastPTS=d.sample.pts,i+=d.length,s=i):i=u}else GX(e,i)?(n=Xf(e,i),o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:kn.audioId3,duration:Number.POSITIVE_INFINITY}),i+=n.length,s=i):i++;if(i===u&&s!==u){const d=e.slice(s);this.cachedData?this.cachedData=di(this.cachedData,d):this.cachedData=d}}return{audioTrack:a,videoTrack:qi(),id3Track:o,textTrack:qi()}}demuxSampleAes(e,r,n){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const r=this.cachedData;return r&&(this.cachedData=null,this.demux(r,0)),{audioTrack:this._audioTrack,videoTrack:qi(),id3Track:this._id3Track,textTrack:qi()}}destroy(){this.cachedData=null,this._audioTrack=this._id3Track=void 0}}const rQ=(t,e,r)=>{if(ye(t))return t*90;const n=r?r.baseTime*9e4/r.timescale:0;return e*9e4+n};let Um=null;const nQ=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],iQ=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],sQ=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],aQ=[0,1,1,4];function e4(t,e,r,n,i){if(r+24>e.length)return;const s=t4(e,r);if(s&&r+s.frameLength<=e.length){const a=s.samplesPerFrame*9e4/s.sampleRate,o=n+i*a,c={unit:e.subarray(r,r+s.frameLength),pts:o,dts:o};return t.config=[],t.channelCount=s.channelCount,t.samplerate=s.sampleRate,t.samples.push(c),{sample:c,length:s.frameLength,missing:0}}}function t4(t,e){const r=t[e+1]>>3&3,n=t[e+1]>>1&3,i=t[e+2]>>4&15,s=t[e+2]>>2&3;if(r!==1&&i!==0&&i!==15&&s!==3){const a=t[e+2]>>1&1,o=t[e+3]>>6,c=r===3?3-n:n===3?3:4,u=nQ[c*14+i-1]*1e3,f=iQ[(r===3?0:r===2?1:2)*3+s],h=o===3?1:2,m=sQ[r][n],p=aQ[n],g=m*8*p,v=Math.floor(m*u/f+a)*p;if(Um===null){const b=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Um=b?parseInt(b[1]):0}return!!Um&&Um<=87&&n===2&&u>=224e3&&o===0&&(t[e+3]=t[e+3]|128),{sampleRate:f,channelCount:h,frameLength:v,samplesPerFrame:g}}}function WT(t,e){return t[e]===255&&(t[e+1]&224)===224&&(t[e+1]&6)!==0}function r4(t,e){return e+1<t.length&&WT(t,e)}function oQ(t,e){return WT(t,e)&&4<=t.length-e}function n4(t,e){if(e+1<t.length&&WT(t,e)){const n=t4(t,e);let i=4;n!=null&&n.frameLength&&(i=n.frameLength);const s=e+i;return s===t.length||r4(t,s)}return!1}class lQ extends zT{constructor(e,r){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=r}resetInitSegment(e,r,n,i){super.resetInitSegment(e,r,n,i),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:r,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e,r){if(!e)return!1;const n=Xf(e,0);let i=(n==null?void 0:n.length)||0;if(n4(e,i))return!1;for(let s=e.length;i<s;i++)if(UX(e,i))return r.log("ADTS sync word found !"),!0;return!1}canParse(e,r){return BX(e,r)}appendFrame(e,r,n){YF(e,this.observer,r,n,e.manifestCodec);const i=QF(e,r,n,this.basePTS,this.frameIndex);if(i&&i.missing===0)return i}}const i4=(t,e)=>{let r=0,n=5;e+=n;const i=new Uint32Array(1),s=new Uint32Array(1),a=new Uint8Array(1);for(;n>0;){a[0]=t[e];const o=Math.min(n,8),c=8-o;s[0]=4278190080>>>24+c<<c,i[0]=(a[0]&s[0])>>c,r=r?r<<o|i[0]:i[0],e+=1,n-=o}return r};class cQ extends zT{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,r,n,i){super.resetInitSegment(e,r,n,i),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:r,duration:i,inputTimeScale:9e4,dropped:0}}canParse(e,r){return r+64<e.length}appendFrame(e,r,n){const i=s4(e,r,n,this.basePTS,this.frameIndex);if(i!==-1)return{sample:e.samples[e.samples.length-1],length:i,missing:0}}static probe(e){if(!e)return!1;const r=Xf(e,0);if(!r)return!1;const n=r.length;return e[n]===11&&e[n+1]===119&&HT(r)!==void 0&&i4(e,n)<16}}function s4(t,e,r,n,i){if(r+8>e.length||e[r]!==11||e[r+1]!==119)return-1;const s=e[r+4]>>6;if(s>=3)return-1;const o=[48e3,44100,32e3][s],c=e[r+4]&63,d=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][c*3+s]*2;if(r+d>e.length)return-1;const f=e[r+6]>>5;let h=0;f===2?h+=2:(f&1&&f!==1&&(h+=2),f&4&&(h+=2));const m=(e[r+6]<<8|e[r+7])>>12-h&1,g=[2,1,2,3,3,4,4,5][f]+m,v=e[r+5]>>3,y=e[r+5]&7,x=new Uint8Array([s<<6|v<<1|y>>2,(y&3)<<6|f<<3|m<<2|c>>4,c<<4&224]),b=1536/o*9e4,S=n+i*b,w=e.subarray(r,r+d);return t.config=x,t.channelCount=g,t.samplerate=o,t.samples.push({unit:w,pts:S}),d}class uQ extends zT{resetInitSegment(e,r,n,i){super.resetInitSegment(e,r,n,i),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:r,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const r=Xf(e,0);let n=(r==null?void 0:r.length)||0;if(r&&e[n]===11&&e[n+1]===119&&HT(r)!==void 0&&i4(e,n)<=16)return!1;for(let i=e.length;n<i;n++)if(n4(e,n))return dt.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,r){return oQ(e,r)}appendFrame(e,r,n){if(this.basePTS!==null)return e4(e,r,n,this.basePTS,this.frameIndex)}}const dQ=/\/emsg[-/]ID3/i;class fQ{constructor(e,r){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=r}resetTimeStamp(){}resetInitSegment(e,r,n,i){const s=this.videoTrack=qi("video",1),a=this.audioTrack=qi("audio",1),o=this.txtTrack=qi("text",1);if(this.id3Track=qi("id3",1),this.timeOffset=0,!(e!=null&&e.byteLength))return;const c=wF(e);if(c.video){const{id:u,timescale:d,codec:f,supplemental:h}=c.video;s.id=u,s.timescale=o.timescale=d,s.codec=f,s.supplemental=h}if(c.audio){const{id:u,timescale:d,codec:f}=c.audio;a.id=u,a.timescale=d,a.codec=f}o.id=yF.text,s.sampleDuration=0,s.duration=a.duration=i}resetContiguity(){this.remainderData=null}static probe(e){return fY(e)}demux(e,r){this.timeOffset=r;let n=e;const i=this.videoTrack,s=this.txtTrack;if(this.config.progressive){this.remainderData&&(n=di(this.remainderData,e));const o=xY(n);this.remainderData=o.remainder,i.samples=o.valid||new Uint8Array}else i.samples=n;const a=this.extractID3Track(i,r);return s.samples=RN(r,i),{videoTrack:i,audioTrack:this.audioTrack,id3Track:a,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,r=this.videoTrack,n=this.txtTrack;r.samples=this.remainderData||new Uint8Array,this.remainderData=null;const i=this.extractID3Track(r,this.timeOffset);return n.samples=RN(e,r),{videoTrack:r,audioTrack:qi(),id3Track:i,textTrack:qi()}}extractID3Track(e,r){const n=this.id3Track;if(e.samples.length){const i=Je(e.samples,["emsg"]);i&&i.forEach(s=>{const a=wY(s);if(dQ.test(a.schemeIdUri)){const o=pC(a,r);let c=a.eventDuration===4294967295?Number.POSITIVE_INFINITY:a.eventDuration/a.timeScale;c<=.001&&(c=Number.POSITIVE_INFINITY);const u=a.payload;n.samples.push({data:u,len:u.byteLength,dts:o,pts:o,type:kn.emsg,duration:c})}else if(this.config.enableEmsgKLVMetadata&&a.schemeIdUri.startsWith("urn:misb:KLV:bin:1910.1")){const o=pC(a,r);n.samples.push({data:a.payload,len:a.payload.byteLength,dts:o,pts:o,type:kn.misbklv,duration:Number.POSITIVE_INFINITY})}})}return n}demuxSampleAes(e,r,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){this.config=null,this.remainderData=null,this.videoTrack=this.audioTrack=this.id3Track=this.txtTrack=void 0}}function pC(t,e){return ye(t.presentationTime)?t.presentationTime/t.timeScale:e+t.presentationTimeDelta/t.timeScale}class hQ{constructor(e,r,n){this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new MT(r,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer,uo.cbc)}decryptAacSample(e,r,n){const i=e[r].unit;if(i.length<=16)return;const s=i.subarray(16,i.length-i.length%16),a=s.buffer.slice(s.byteOffset,s.byteOffset+s.length);this.decryptBuffer(a).then(o=>{const c=new Uint8Array(o);i.set(c,16),this.decrypter.isSync()||this.decryptAacSamples(e,r+1,n)})}decryptAacSamples(e,r,n){for(;;r++){if(r>=e.length){n();return}if(!(e[r].unit.length<32)&&(this.decryptAacSample(e,r,n),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const r=Math.floor((e.length-48)/160)*16+16,n=new Int8Array(r);let i=0;for(let s=32;s<e.length-16;s+=160,i+=16)n.set(e.subarray(s,s+16),i);return n}getAvcDecryptedUnit(e,r){const n=new Uint8Array(r);let i=0;for(let s=32;s<e.length-16;s+=160,i+=16)e.set(n.subarray(i,i+16),s);return e}decryptAvcSample(e,r,n,i,s){const a=SF(s.data),o=this.getAvcEncryptedData(a);this.decryptBuffer(o.buffer).then(c=>{s.data=this.getAvcDecryptedUnit(a,c),this.decrypter.isSync()||this.decryptAvcSamples(e,r,n+1,i)})}decryptAvcSamples(e,r,n,i){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;r++,n=0){if(r>=e.length){i();return}const s=e[r].units;for(;!(n>=s.length);n++){const a=s[n];if(!(a.data.length<=48||a.type!==1&&a.type!==5)&&(this.decryptAvcSample(e,r,n,i,a),!this.decrypter.isSync()))return}}}}class a4{constructor(){this.VideoSample=null}createVideoSample(e,r,n){return{key:e,frame:!1,pts:r,dts:n,units:[],length:0}}getLastNalUnit(e){var r;let n=this.VideoSample,i;if((!n||n.units.length===0)&&(n=e[e.length-1]),(r=n)!=null&&r.units){const s=n.units;i=s[s.length-1]}return i}pushAccessUnit(e,r){if(e.units.length&&e.frame){if(e.pts===void 0){const n=r.samples,i=n.length;if(i){const s=n[i-1];e.pts=s.pts,e.dts=s.dts}else{r.dropped++;return}}r.samples.push(e)}}parseNALu(e,r,n){const i=r.byteLength;let s=e.naluState||0;const a=s,o=[];let c=0,u,d,f,h=-1,m=0;for(s===-1&&(h=0,m=this.getNALuType(r,0),s=0,c=1);c<i;){if(u=r[c++],!s){s=u?0:1;continue}if(s===1){s=u?0:2;continue}if(!u)s=3;else if(u===1){if(d=c-s-1,h>=0){const p={data:r.subarray(h,d),type:m};o.push(p)}else{const p=this.getLastNalUnit(e.samples);p&&(a&&c<=4-a&&p.state&&(p.data=p.data.subarray(0,p.data.byteLength-a)),d>0&&(p.data=di(p.data,r.subarray(0,d)),p.state=0))}c<i?(f=this.getNALuType(r,c),h=c,m=f,s=0):s=-1}else s=0}if(h>=0&&s>=0){const p={data:r.subarray(h,i),type:m,state:s};o.push(p)}if(o.length===0){const p=this.getLastNalUnit(e.samples);p&&(p.data=di(p.data,r))}return e.naluState=s,o}}class hf{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,r=this.bytesAvailable,n=e.byteLength-r,i=new Uint8Array(4),s=Math.min(4,r);if(s===0)throw new Error("no bytes available");i.set(e.subarray(n,n+s)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=s*8,this.bytesAvailable-=s}skipBits(e){let r;e=Math.min(e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,r=e>>3,e-=r<<3,this.bytesAvailable-=r,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let r=Math.min(this.bitsAvailable,e);const n=this.word>>>32-r;if(e>32&&dt.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=r,this.bitsAvailable>0)this.word<<=r;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return r=e-r,r>0&&this.bitsAvailable?n<<r|this.readBits(r):n}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if(this.word&2147483648>>>e)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}}class gC extends a4{parsePES(e,r,n,i){const s=this.parseNALu(e,n.data,i);let a=this.VideoSample,o,c=!1;n.data=null,a&&s.length&&!e.audFound&&(this.pushAccessUnit(a,e),a=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),s.forEach(u=>{var d,f;switch(u.type){case 1:{let g=!1;o=!0;const v=u.data;if(c&&v.length>4){const y=this.readSliceType(v);(y===2||y===4||y===7||y===9)&&(g=!0)}if(g){var h;(h=a)!=null&&h.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null)}a||(a=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),a.frame=!0,a.key=g;break}case 5:o=!0,(d=a)!=null&&d.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null),a||(a=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),a.key=!0,a.frame=!0;break;case 6:{o=!0,kT(u.data,1,n.pts,r.samples);break}case 7:{var m,p;o=!0,c=!0;const g=u.data,v=this.readSPS(g);if(!e.sps||e.width!==v.width||e.height!==v.height||((m=e.pixelRatio)==null?void 0:m[0])!==v.pixelRatio[0]||((p=e.pixelRatio)==null?void 0:p[1])!==v.pixelRatio[1]){e.width=v.width,e.height=v.height,e.pixelRatio=v.pixelRatio,e.sps=[g];const y=g.subarray(1,4);let x="avc1.";for(let b=0;b<3;b++){let S=y[b].toString(16);S.length<2&&(S="0"+S),x+=S}e.codec=x}break}case 8:o=!0,e.pps=[u.data];break;case 9:o=!0,e.audFound=!0,(f=a)!=null&&f.frame&&(this.pushAccessUnit(a,e),a=null),a||(a=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts));break;case 12:o=!0;break;default:o=!1;break}a&&o&&a.units.push(u)}),i&&a&&(this.pushAccessUnit(a,e),this.VideoSample=null)}getNALuType(e,r){return e[r]&31}readSliceType(e){const r=new hf(e);return r.readUByte(),r.readUEG(),r.readUEG()}skipScalingList(e,r){let n=8,i=8,s;for(let a=0;a<e;a++)i!==0&&(s=r.readEG(),i=(n+s+256)%256),n=i===0?n:i}readSPS(e){const r=new hf(e);let n=0,i=0,s=0,a=0,o,c,u;const d=r.readUByte.bind(r),f=r.readBits.bind(r),h=r.readUEG.bind(r),m=r.readBoolean.bind(r),p=r.skipBits.bind(r),g=r.skipEG.bind(r),v=r.skipUEG.bind(r),y=this.skipScalingList.bind(this);d();const x=d();if(f(5),p(3),d(),v(),x===100||x===110||x===122||x===244||x===44||x===83||x===86||x===118||x===128){const _=h();if(_===3&&p(1),v(),v(),p(1),m())for(c=_!==3?8:12,u=0;u<c;u++)m()&&(u<6?y(16,r):y(64,r))}v();const b=h();if(b===0)h();else if(b===1)for(p(1),g(),g(),o=h(),u=0;u<o;u++)g();v(),p(1);const S=h(),w=h(),T=f(1);T===0&&p(1),p(1),m()&&(n=h(),i=h(),s=h(),a=h());let A=[1,1];if(m()&&m())switch(d()){case 1:A=[1,1];break;case 2:A=[12,11];break;case 3:A=[10,11];break;case 4:A=[16,11];break;case 5:A=[40,33];break;case 6:A=[24,11];break;case 7:A=[20,11];break;case 8:A=[32,11];break;case 9:A=[80,33];break;case 10:A=[18,11];break;case 11:A=[15,11];break;case 12:A=[64,33];break;case 13:A=[160,99];break;case 14:A=[4,3];break;case 15:A=[3,2];break;case 16:A=[2,1];break;case 255:{A=[d()<<8|d(),d()<<8|d()];break}}return{width:Math.ceil((S+1)*16-n*2-i*2),height:(2-T)*(w+1)*16-(T?2:4)*(s+a),pixelRatio:A}}}class vC extends a4{constructor(...e){super(...e),this.initVPS=null}parsePES(e,r,n,i){const s=this.parseNALu(e,n.data,i);let a=this.VideoSample,o,c=!1;n.data=null,a&&s.length&&!e.audFound&&(this.pushAccessUnit(a,e),a=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),s.forEach(u=>{var d,f;switch(u.type){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:a||(a=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),a.frame=!0,o=!0;break;case 16:case 17:case 18:case 21:if(o=!0,c){var h;(h=a)!=null&&h.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null)}a||(a=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),a.key=!0,a.frame=!0;break;case 19:case 20:o=!0,(d=a)!=null&&d.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null),a||(a=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),a.key=!0,a.frame=!0;break;case 39:o=!0,kT(u.data,2,n.pts,r.samples);break;case 32:o=!0,e.vps||(typeof e.params!="object"&&(e.params={}),e.params=yt(e.params,this.readVPS(u.data)),this.initVPS=u.data),e.vps=[u.data];break;case 33:if(o=!0,c=!0,e.vps!==void 0&&e.vps[0]!==this.initVPS&&e.sps!==void 0&&!this.matchSPS(e.sps[0],u.data)&&(this.initVPS=e.vps[0],e.sps=e.pps=void 0),!e.sps){const m=this.readSPS(u.data);e.width=m.width,e.height=m.height,e.pixelRatio=m.pixelRatio,e.codec=m.codecString,e.sps=[],typeof e.params!="object"&&(e.params={});for(const p in m.params)e.params[p]=m.params[p]}this.pushParameterSet(e.sps,u.data,e.vps),a||(a=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),a.key=!0;break;case 34:if(o=!0,typeof e.params=="object"){if(!e.pps){e.pps=[];const m=this.readPPS(u.data);for(const p in m)e.params[p]=m[p]}this.pushParameterSet(e.pps,u.data,e.vps)}break;case 35:o=!0,e.audFound=!0,(f=a)!=null&&f.frame&&(this.pushAccessUnit(a,e),a=null),a||(a=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts));break;default:o=!1;break}a&&o&&a.units.push(u)}),i&&a&&(this.pushAccessUnit(a,e),this.VideoSample=null)}pushParameterSet(e,r,n){(n&&n[0]===this.initVPS||!n&&!e.length)&&e.push(r)}getNALuType(e,r){return(e[r]&126)>>>1}ebsp2rbsp(e){const r=new Uint8Array(e.byteLength);let n=0;for(let i=0;i<e.byteLength;i++)i>=2&&e[i]===3&&e[i-1]===0&&e[i-2]===0||(r[n]=e[i],n++);return new Uint8Array(r.buffer,0,n)}pushAccessUnit(e,r){super.pushAccessUnit(e,r),this.initVPS&&(this.initVPS=null)}readVPS(e){const r=new hf(e);r.readUByte(),r.readUByte(),r.readBits(4),r.skipBits(2),r.readBits(6);const n=r.readBits(3),i=r.readBoolean();return{numTemporalLayers:n+1,temporalIdNested:i}}readSPS(e){const r=new hf(this.ebsp2rbsp(e));r.readUByte(),r.readUByte(),r.readBits(4);const n=r.readBits(3);r.readBoolean();const i=r.readBits(2),s=r.readBoolean(),a=r.readBits(5),o=r.readUByte(),c=r.readUByte(),u=r.readUByte(),d=r.readUByte(),f=r.readUByte(),h=r.readUByte(),m=r.readUByte(),p=r.readUByte(),g=r.readUByte(),v=r.readUByte(),y=r.readUByte(),x=[],b=[];for(let Te=0;Te<n;Te++)x.push(r.readBoolean()),b.push(r.readBoolean());if(n>0)for(let Te=n;Te<8;Te++)r.readBits(2);for(let Te=0;Te<n;Te++)x[Te]&&(r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte()),b[Te]&&r.readUByte();r.readUEG();const S=r.readUEG();S==3&&r.skipBits(1);const w=r.readUEG(),T=r.readUEG(),A=r.readBoolean();let _=0,N=0,C=0,j=0;A&&(_+=r.readUEG(),N+=r.readUEG(),C+=r.readUEG(),j+=r.readUEG());const O=r.readUEG(),R=r.readUEG(),k=r.readUEG(),M=r.readBoolean();for(let Te=M?0:n;Te<=n;Te++)r.skipUEG(),r.skipUEG(),r.skipUEG();if(r.skipUEG(),r.skipUEG(),r.skipUEG(),r.skipUEG(),r.skipUEG(),r.skipUEG(),r.readBoolean()&&r.readBoolean())for(let We=0;We<4;We++)for(let bt=0;bt<(We===3?2:6);bt++)if(!r.readBoolean())r.readUEG();else{const $=Math.min(64,1<<4+(We<<1));We>1&&r.readEG();for(let W=0;W<$;W++)r.readEG()}r.readBoolean(),r.readBoolean(),r.readBoolean()&&(r.readUByte(),r.skipUEG(),r.skipUEG(),r.readBoolean());const I=r.readUEG();let F=0;for(let Te=0;Te<I;Te++){let We=!1;if(Te!==0&&(We=r.readBoolean()),We){Te===I&&r.readUEG(),r.readBoolean(),r.readUEG();let bt=0;for(let Kt=0;Kt<=F;Kt++){const $=r.readBoolean();let W=!1;$||(W=r.readBoolean()),($||W)&&bt++}F=bt}else{const bt=r.readUEG(),Kt=r.readUEG();F=bt+Kt;for(let $=0;$<bt;$++)r.readUEG(),r.readBoolean();for(let $=0;$<Kt;$++)r.readUEG(),r.readBoolean()}}if(r.readBoolean()){const Te=r.readUEG();for(let We=0;We<Te;We++){for(let bt=0;bt<k+4;bt++)r.readBits(1);r.readBits(1)}}let G=0,V=1,ne=1,ce=!0,Se=1,J=0;r.readBoolean(),r.readBoolean();let re=!1;if(r.readBoolean()){if(r.readBoolean()){const q=r.readUByte(),ge=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],de=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];q>0&&q<16?(V=ge[q-1],ne=de[q-1]):q===255&&(V=r.readBits(16),ne=r.readBits(16))}if(r.readBoolean()&&r.readBoolean(),r.readBoolean()&&(r.readBits(3),r.readBoolean(),r.readBoolean()&&(r.readUByte(),r.readUByte(),r.readUByte())),r.readBoolean()&&(r.readUEG(),r.readUEG()),r.readBoolean(),r.readBoolean(),r.readBoolean(),re=r.readBoolean(),re&&(_+=r.readUEG(),N+=r.readUEG(),C+=r.readUEG(),j+=r.readUEG()),r.readBoolean()&&(Se=r.readBits(32),J=r.readBits(32),r.readBoolean()&&r.readUEG(),r.readBoolean())){const de=r.readBoolean(),le=r.readBoolean();let je=!1;(de||le)&&(je=r.readBoolean(),je&&(r.readUByte(),r.readBits(5),r.readBoolean(),r.readBits(5)),r.readBits(4),r.readBits(4),je&&r.readBits(4),r.readBits(5),r.readBits(5),r.readBits(5));for(let ct=0;ct<=n;ct++){ce=r.readBoolean();const wt=ce||r.readBoolean();let en=!1;wt?r.readEG():en=r.readBoolean();const _o=en?1:r.readUEG()+1;if(de)for(let hn=0;hn<_o;hn++)r.readUEG(),r.readUEG(),je&&(r.readUEG(),r.readUEG()),r.skipBits(1);if(le)for(let hn=0;hn<_o;hn++)r.readUEG(),r.readUEG(),je&&(r.readUEG(),r.readUEG()),r.skipBits(1)}}r.readBoolean()&&(r.readBoolean(),r.readBoolean(),r.readBoolean(),G=r.readUEG())}let te=w,oe=T;if(A||re){let Te=1,We=1;S===1?Te=We=2:S==2&&(Te=2),te=w-Te*N-Te*_,oe=T-We*j-We*C}const he=i?["A","B","C"][i]:"",X=o<<24|c<<16|u<<8|d;let Ve=0;for(let Te=0;Te<32;Te++)Ve=(Ve|(X>>Te&1)<<31-Te)>>>0;let Le=Ve.toString(16);return a===1&&Le==="2"&&(Le="6"),{codecString:`hvc1.${he}${a}.${Le}.${s?"H":"L"}${y}.B0`,params:{general_tier_flag:s,general_profile_idc:a,general_profile_space:i,general_profile_compatibility_flags:[o,c,u,d],general_constraint_indicator_flags:[f,h,m,p,g,v],general_level_idc:y,bit_depth:O+8,bit_depth_luma_minus8:O,bit_depth_chroma_minus8:R,min_spatial_segmentation_idc:G,chroma_format_idc:S,frame_rate:{fixed:ce,fps:J/Se}},width:te,height:oe,pixelRatio:[V,ne]}}readPPS(e){const r=new hf(this.ebsp2rbsp(e));r.readUByte(),r.readUByte(),r.skipUEG(),r.skipUEG(),r.skipBits(2),r.skipBits(3),r.skipBits(2),r.skipUEG(),r.skipUEG(),r.skipEG(),r.skipBits(2),r.readBoolean()&&r.skipUEG(),r.skipEG(),r.skipEG(),r.skipBits(4);const i=r.readBoolean(),s=r.readBoolean();let a=1;return s&&i?a=0:s?a=3:i&&(a=2),{parallelismType:a}}matchSPS(e,r){return String.fromCharCode.apply(null,e).substr(3)===String.fromCharCode.apply(null,r).substr(3)}}const Pr=188;class Sa{constructor(e,r,n,i){this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=r,this.typeSupported=n,this.logger=i,this.videoParser=null}static probe(e,r){const n=Sa.syncOffset(e);return n>0&&r.warn(`MPEG2-TS detected but first sync word found @ offset ${n}`),n!==-1}static syncOffset(e){const r=e.length;let n=Math.min(Pr*5,r-Pr)+1,i=0;for(;i<n;){let s=!1,a=-1,o=0;for(let c=i;c<r;c+=Pr)if(e[c]===71&&(r-c===Pr||e[c+Pr]===71)){if(o++,a===-1&&(a=c,a!==0&&(n=Math.min(a+Pr*99,e.length-Pr)+1)),s||(s=eS(e,c)===0),s&&o>1&&(a===0&&o>2||c+Pr>n))return a}else{if(o)return-1;break}i++}return-1}static createTrack(e,r){return{container:e==="video"||e==="audio"?"video/mp2t":void 0,type:e,id:yF[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:e==="audio"?r:void 0}}resetInitSegment(e,r,n,i){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=Sa.createTrack("video"),this._videoTrack.duration=i,this._audioTrack=Sa.createTrack("audio",i),this._id3Track=Sa.createTrack("id3"),this._txtTrack=Sa.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.remainderData=null,this.audioCodec=r,this.videoCodec=n}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_videoTrack:r,_id3Track:n}=this;e&&(e.pesData=null),r&&(r.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,r,n=!1,i=!1){n||(this.sampleAes=null);let s;const a=this._videoTrack,o=this._audioTrack,c=this._id3Track,u=this._txtTrack;let d=a.pid,f=a.pesData,h=o.pid,m=c.pid,p=o.pesData,g=c.pesData,v=null,y=this.pmtParsed,x=this._pmtId,b=e.length;if(this.remainderData&&(e=di(this.remainderData,e),b=e.length,this.remainderData=null),b<Pr&&!i)return this.remainderData=e,{audioTrack:o,videoTrack:a,id3Track:c,textTrack:u};const S=Math.max(0,Sa.syncOffset(e));b-=(b-S)%Pr,b<e.byteLength&&!i&&(this.remainderData=new Uint8Array(e.buffer,b,e.buffer.byteLength-b));let w=0;for(let A=S;A<b;A+=Pr)if(e[A]===71){const _=!!(e[A+1]&64),N=eS(e,A),C=(e[A+3]&48)>>4;let j;if(C>1){if(j=A+5+e[A+4],j===A+Pr)continue}else j=A+4;switch(N){case d:if(_){if(f&&(s=Zl(f,this.logger))){if(this.videoParser===null)switch(a.segmentCodec){case"avc":this.videoParser=new gC;break;case"hevc":this.videoParser=new vC;break}this.videoParser!==null&&this.videoParser.parsePES(a,u,s,!1)}f={data:[],size:0}}f&&(f.data.push(e.subarray(j,A+Pr)),f.size+=A+Pr-j);break;case h:if(_){if(p&&(s=Zl(p,this.logger)))switch(o.segmentCodec){case"aac":this.parseAACPES(o,s);break;case"mp3":this.parseMPEGPES(o,s);break;case"ac3":this.parseAC3PES(o,s);break}p={data:[],size:0}}p&&(p.data.push(e.subarray(j,A+Pr)),p.size+=A+Pr-j);break;case m:_&&(g&&(s=Zl(g,this.logger))&&this.parseID3PES(c,s),g={data:[],size:0}),g&&(g.data.push(e.subarray(j,A+Pr)),g.size+=A+Pr-j);break;case 0:_&&(j+=e[j]+1),x=this._pmtId=mQ(e,j);break;case x:{_&&(j+=e[j]+1);const O=pQ(e,j,this.typeSupported,n,this.observer,this.logger);d=O.videoPid,d>0&&(a.pid=d,a.segmentCodec=O.segmentVideoCodec),h=O.audioPid,h>0&&(o.pid=h,o.segmentCodec=O.segmentAudioCodec),m=O.id3Pid,m>0&&(c.pid=m),v!==null&&!y&&(this.logger.warn(`MPEG-TS PMT found at ${A} after unknown PID '${v}'. Backtracking to sync byte @${S} to parse all TS packets.`),v=null,A=S-188),y=this.pmtParsed=!0;break}case 17:case 8191:break;default:v=N;break}}else w++;w>0&&tS(this.observer,new Error(`Found ${w} TS packet/s that do not start with 0x47`),void 0,this.logger),a.pesData=f,o.pesData=p,c.pesData=g;const T={audioTrack:o,videoTrack:a,id3Track:c,textTrack:u};return i&&this.extractRemainingSamples(T),T}flush(){const{remainderData:e}=this;this.remainderData=null;let r;return e?r=this.demux(e,-1,!1,!0):r={videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(r),this.sampleAes?this.decrypt(r,this.sampleAes):r}extractRemainingSamples(e){const{audioTrack:r,videoTrack:n,id3Track:i,textTrack:s}=e,a=n.pesData,o=r.pesData,c=i.pesData;let u;if(a&&(u=Zl(a,this.logger))){if(this.videoParser===null)switch(n.segmentCodec){case"avc":this.videoParser=new gC;break;case"hevc":this.videoParser=new vC;break}this.videoParser!==null&&(this.videoParser.parsePES(n,s,u,!0),n.pesData=null)}else n.pesData=a;if(o&&(u=Zl(o,this.logger))){switch(r.segmentCodec){case"aac":this.parseAACPES(r,u);break;case"mp3":this.parseMPEGPES(r,u);break;case"ac3":this.parseAC3PES(r,u);break}r.pesData=null}else o!=null&&o.size&&this.logger.log("last AAC PES packet truncated,might overlap between fragments"),r.pesData=o;c&&(u=Zl(c,this.logger))?(this.parseID3PES(i,u),i.pesData=null):i.pesData=c}demuxSampleAes(e,r,n){const i=this.demux(e,n,!0,!this.config.progressive),s=this.sampleAes=new hQ(this.observer,this.config,r);return this.decrypt(i,s)}decrypt(e,r){return new Promise(n=>{const{audioTrack:i,videoTrack:s}=e;i.samples&&i.segmentCodec==="aac"?r.decryptAacSamples(i.samples,0,()=>{s.samples?r.decryptAvcSamples(s.samples,0,0,()=>{n(e)}):n(e)}):s.samples&&r.decryptAvcSamples(s.samples,0,0,()=>{n(e)})})}destroy(){this.observer&&this.observer.removeAllListeners(),this.config=this.logger=this.observer=null,this.aacOverFlow=this.videoParser=this.remainderData=this.sampleAes=null,this._videoTrack=this._audioTrack=this._id3Track=this._txtTrack=void 0}parseAACPES(e,r){let n=0;const i=this.aacOverFlow;let s=r.data;if(i){this.aacOverFlow=null;const f=i.missing,h=i.sample.unit.byteLength;if(f===-1)s=di(i.sample.unit,s);else{const m=h-f;i.sample.unit.set(s.subarray(0,f),m),e.samples.push(i.sample),n=i.missing}}let a,o;for(a=n,o=s.length;a<o-1&&!Pg(s,a);a++);if(a!==n){let f;const h=a<o-1;if(h?f=`AAC PES did not start with ADTS header,offset:${a}`:f="No ADTS header found in AAC PES",tS(this.observer,new Error(f),h,this.logger),!h)return}YF(e,this.observer,s,a,this.audioCodec);let c;if(r.pts!==void 0)c=r.pts;else if(i){const f=XF(e.samplerate);c=i.sample.pts+f}else{this.logger.warn("[tsdemuxer]: AAC PES unknown PTS");return}let u=0,d;for(;a<o;)if(d=QF(e,s,a,c,u),a+=d.length,d.missing){this.aacOverFlow=d;break}else for(u++;a<o-1&&!Pg(s,a);a++);}parseMPEGPES(e,r){const n=r.data,i=n.length;let s=0,a=0;const o=r.pts;if(o===void 0){this.logger.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;a<i;)if(r4(n,a)){const c=e4(e,n,a,o,s);if(c)a+=c.length,s++;else break}else a++}parseAC3PES(e,r){{const n=r.data,i=r.pts;if(i===void 0){this.logger.warn("[tsdemuxer]: AC3 PES unknown PTS");return}const s=n.length;let a=0,o=0,c;for(;o<s&&(c=s4(e,n,o,i,a++))>0;)o+=c}}parseID3PES(e,r){if(r.pts===void 0){this.logger.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const n=yt({},r,{type:this._videoTrack?kn.emsg:kn.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(n)}}function eS(t,e){return((t[e+1]&31)<<8)+t[e+2]}function mQ(t,e){return(t[e+10]&31)<<8|t[e+11]}function pQ(t,e,r,n,i,s){const a={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},o=(t[e+1]&15)<<8|t[e+2],c=e+3+o-4,u=(t[e+10]&15)<<8|t[e+11];for(e+=12+u;e<c;){const d=eS(t,e),f=(t[e+3]&15)<<8|t[e+4];switch(t[e]){case 207:if(!n){Ox("ADTS AAC",s);break}case 15:a.audioPid===-1&&(a.audioPid=d);break;case 21:a.id3Pid===-1&&(a.id3Pid=d);break;case 219:if(!n){Ox("H.264",s);break}case 27:a.videoPid===-1&&(a.videoPid=d);break;case 3:case 4:!r.mpeg&&!r.mp3?s.log("MPEG audio found, not supported in this browser"):a.audioPid===-1&&(a.audioPid=d,a.segmentAudioCodec="mp3");break;case 193:if(!n){Ox("AC-3",s);break}case 129:r.ac3?a.audioPid===-1&&(a.audioPid=d,a.segmentAudioCodec="ac3"):s.log("AC-3 audio found, not supported in this browser");break;case 6:if(a.audioPid===-1&&f>0){let h=e+5,m=f;for(;m>2;){switch(t[h]){case 106:r.ac3!==!0?s.log("AC-3 audio found, not supported in this browser for now"):(a.audioPid=d,a.segmentAudioCodec="ac3");break}const g=t[h+1]+2;h+=g,m-=g}}break;case 194:case 135:return tS(i,new Error("Unsupported EC-3 in M2TS found"),void 0,s),a;case 36:a.videoPid===-1&&(a.videoPid=d,a.segmentVideoCodec="hevc",s.log("HEVC in M2TS found"));break}e+=f+5}return a}function tS(t,e,r,n){n.warn(`parsing error: ${e.message}`),t.emit(P.ERROR,P.ERROR,{type:Ie.MEDIA_ERROR,details:K.FRAG_PARSING_ERROR,fatal:!1,levelRetry:r,error:e,reason:e.message})}function Ox(t,e){e.log(`${t} with AES-128-CBC encryption found in unencrypted stream`)}function Zl(t,e){let r=0,n,i,s,a,o;const c=t.data;if(!t||t.size===0)return null;for(;c[0].length<19&&c.length>1;)c[0]=di(c[0],c[1]),c.splice(1,1);if(n=c[0],(n[0]<<16)+(n[1]<<8)+n[2]===1){if(i=(n[4]<<8)+n[5],i&&i>t.size-6)return null;const d=n[7];d&192&&(a=(n[9]&14)*536870912+(n[10]&255)*4194304+(n[11]&254)*16384+(n[12]&255)*128+(n[13]&254)/2,d&64?(o=(n[14]&14)*536870912+(n[15]&255)*4194304+(n[16]&254)*16384+(n[17]&255)*128+(n[18]&254)/2,a-o>60*9e4&&(e.warn(`${Math.round((a-o)/9e4)}s delta between PTS and DTS, align them`),a=o)):o=a),s=n[8];let f=s+9;if(t.size<=f)return null;t.size-=f;const h=new Uint8Array(t.size);for(let m=0,p=c.length;m<p;m++){n=c[m];let g=n.byteLength;if(f)if(f>g){f-=g;continue}else n=n.subarray(f),g-=f,f=0;h.set(n,r),r+=g}return i&&(i-=s+3),{data:h,pts:a,dts:o,len:i}}return null}class gQ{static getSilentFrame(e,r){switch(e){case"mp4a.40.2":if(r===1)return new Uint8Array([0,200,0,128,35,128]);if(r===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(r===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(r===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(r===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(r===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(r===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(r===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(r===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const ma=Math.pow(2,32)-1;class z{static init(){z.types={avc1:[],avcC:[],hvc1:[],hvcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let e;for(e in z.types)z.types.hasOwnProperty(e)&&(z.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);z.HDLR_TYPES={video:r,audio:n};const i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),s=new Uint8Array([0,0,0,0,0,0,0,0]);z.STTS=z.STSC=z.STCO=s,z.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),z.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),z.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),z.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const a=new Uint8Array([105,115,111,109]),o=new Uint8Array([97,118,99,49]),c=new Uint8Array([0,0,0,1]);z.FTYP=z.box(z.types.ftyp,a,c,a,o),z.DINF=z.box(z.types.dinf,z.box(z.types.dref,i))}static box(e,...r){let n=8,i=r.length;const s=i;for(;i--;)n+=r[i].byteLength;const a=new Uint8Array(n);for(a[0]=n>>24&255,a[1]=n>>16&255,a[2]=n>>8&255,a[3]=n&255,a.set(e,4),i=0,n=8;i<s;i++)a.set(r[i],n),n+=r[i].byteLength;return a}static hdlr(e){return z.box(z.types.hdlr,z.HDLR_TYPES[e])}static mdat(e){return z.box(z.types.mdat,e)}static mdhd(e,r){r*=e;const n=Math.floor(r/(ma+1)),i=Math.floor(r%(ma+1));return z.box(z.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24,n>>16&255,n>>8&255,n&255,i>>24,i>>16&255,i>>8&255,i&255,85,196,0,0]))}static mdia(e){return z.box(z.types.mdia,z.mdhd(e.timescale||0,e.duration||0),z.hdlr(e.type),z.minf(e))}static mfhd(e){return z.box(z.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,e&255]))}static minf(e){return e.type==="audio"?z.box(z.types.minf,z.box(z.types.smhd,z.SMHD),z.DINF,z.stbl(e)):z.box(z.types.minf,z.box(z.types.vmhd,z.VMHD),z.DINF,z.stbl(e))}static moof(e,r,n){return z.box(z.types.moof,z.mfhd(e),z.traf(n,r))}static moov(e){let r=e.length;const n=[];for(;r--;)n[r]=z.trak(e[r]);return z.box.apply(null,[z.types.moov,z.mvhd(e[0].timescale||0,e[0].duration||0)].concat(n).concat(z.mvex(e)))}static mvex(e){let r=e.length;const n=[];for(;r--;)n[r]=z.trex(e[r]);return z.box.apply(null,[z.types.mvex,...n])}static mvhd(e,r){r*=e;const n=Math.floor(r/(ma+1)),i=Math.floor(r%(ma+1)),s=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24,n>>16&255,n>>8&255,n&255,i>>24,i>>16&255,i>>8&255,i&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return z.box(z.types.mvhd,s)}static sdtp(e){const r=e.samples||[],n=new Uint8Array(4+r.length);let i,s;for(i=0;i<r.length;i++)s=r[i].flags,n[i+4]=s.dependsOn<<4|s.isDependedOn<<2|s.hasRedundancy;return z.box(z.types.sdtp,n)}static stbl(e){return z.box(z.types.stbl,z.stsd(e),z.box(z.types.stts,z.STTS),z.box(z.types.stsc,z.STSC),z.box(z.types.stsz,z.STSZ),z.box(z.types.stco,z.STCO))}static avc1(e){let r=[],n=[],i,s,a;for(i=0;i<e.sps.length;i++)s=e.sps[i],a=s.byteLength,r.push(a>>>8&255),r.push(a&255),r=r.concat(Array.prototype.slice.call(s));for(i=0;i<e.pps.length;i++)s=e.pps[i],a=s.byteLength,n.push(a>>>8&255),n.push(a&255),n=n.concat(Array.prototype.slice.call(s));const o=z.box(z.types.avcC,new Uint8Array([1,r[3],r[4],r[5],255,224|e.sps.length].concat(r).concat([e.pps.length]).concat(n))),c=e.width,u=e.height,d=e.pixelRatio[0],f=e.pixelRatio[1];return z.box(z.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c>>8&255,c&255,u>>8&255,u&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o,z.box(z.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),z.box(z.types.pasp,new Uint8Array([d>>24,d>>16&255,d>>8&255,d&255,f>>24,f>>16&255,f>>8&255,f&255])))}static esds(e){const r=e.config;return new Uint8Array([0,0,0,0,3,25,0,1,0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,...r,6,1,2])}static audioStsd(e){const r=e.samplerate||0;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount||0,0,16,0,0,0,0,r>>8&255,r&255,0,0])}static mp4a(e){return z.box(z.types.mp4a,z.audioStsd(e),z.box(z.types.esds,z.esds(e)))}static mp3(e){return z.box(z.types[".mp3"],z.audioStsd(e))}static ac3(e){return z.box(z.types["ac-3"],z.audioStsd(e),z.box(z.types.dac3,e.config))}static stsd(e){const{segmentCodec:r}=e;if(e.type==="audio"){if(r==="aac")return z.box(z.types.stsd,z.STSD,z.mp4a(e));if(r==="ac3"&&e.config)return z.box(z.types.stsd,z.STSD,z.ac3(e));if(r==="mp3"&&e.codec==="mp3")return z.box(z.types.stsd,z.STSD,z.mp3(e))}else if(e.pps&&e.sps){if(r==="avc")return z.box(z.types.stsd,z.STSD,z.avc1(e));if(r==="hevc"&&e.vps)return z.box(z.types.stsd,z.STSD,z.hvc1(e))}else throw new Error("video track missing pps or sps");throw new Error(`unsupported ${e.type} segment codec (${r}/${e.codec})`)}static tkhd(e){const r=e.id,n=(e.duration||0)*(e.timescale||0),i=e.width||0,s=e.height||0,a=Math.floor(n/(ma+1)),o=Math.floor(n%(ma+1));return z.box(z.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,r&255,0,0,0,0,a>>24,a>>16&255,a>>8&255,a&255,o>>24,o>>16&255,o>>8&255,o&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,i&255,0,0,s>>8&255,s&255,0,0]))}static traf(e,r){const n=z.sdtp(e),i=e.id,s=Math.floor(r/(ma+1)),a=Math.floor(r%(ma+1));return z.box(z.types.traf,z.box(z.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,i&255])),z.box(z.types.tfdt,new Uint8Array([1,0,0,0,s>>24,s>>16&255,s>>8&255,s&255,a>>24,a>>16&255,a>>8&255,a&255])),z.trun(e,n.length+16+20+8+16+8+8),n)}static trak(e){return e.duration=e.duration||4294967295,z.box(z.types.trak,z.tkhd(e),z.mdia(e))}static trex(e){const r=e.id;return z.box(z.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,r&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,r){const n=e.samples||[],i=n.length,s=12+16*i,a=new Uint8Array(s);let o,c,u,d,f,h;for(r+=8+s,a.set([e.type==="video"?1:0,0,15,1,i>>>24&255,i>>>16&255,i>>>8&255,i&255,r>>>24&255,r>>>16&255,r>>>8&255,r&255],0),o=0;o<i;o++)c=n[o],u=c.duration,d=c.size,f=c.flags,h=c.cts,a.set([u>>>24&255,u>>>16&255,u>>>8&255,u&255,d>>>24&255,d>>>16&255,d>>>8&255,d&255,f.isLeading<<2|f.dependsOn,f.isDependedOn<<6|f.hasRedundancy<<4|f.paddingValue<<1|f.isNonSync,f.degradPrio&61440,f.degradPrio&15,h>>>24&255,h>>>16&255,h>>>8&255,h&255],12+16*o);return z.box(z.types.trun,a)}static initSegment(e){z.types||z.init();const r=z.moov(e);return di(z.FTYP,r)}static hvc1(e){const r=e.params,n=[e.vps,e.sps,e.pps],i=4,s=new Uint8Array([1,r.general_profile_space<<6|(r.general_tier_flag?32:0)|r.general_profile_idc,r.general_profile_compatibility_flags[0],r.general_profile_compatibility_flags[1],r.general_profile_compatibility_flags[2],r.general_profile_compatibility_flags[3],r.general_constraint_indicator_flags[0],r.general_constraint_indicator_flags[1],r.general_constraint_indicator_flags[2],r.general_constraint_indicator_flags[3],r.general_constraint_indicator_flags[4],r.general_constraint_indicator_flags[5],r.general_level_idc,240|r.min_spatial_segmentation_idc>>8,255&r.min_spatial_segmentation_idc,252|r.parallelismType,252|r.chroma_format_idc,248|r.bit_depth_luma_minus8,248|r.bit_depth_chroma_minus8,0,parseInt(r.frame_rate.fps),i-1|r.temporal_id_nested<<2|r.num_temporal_layers<<3|(r.frame_rate.fixed?64:0),n.length]);let a=s.length;for(let p=0;p<n.length;p+=1){a+=3;for(let g=0;g<n[p].length;g+=1)a+=2+n[p][g].length}const o=new Uint8Array(a);o.set(s,0),a=s.length;const c=n.length-1;for(let p=0;p<n.length;p+=1){o.set(new Uint8Array([32+p|(p===c?128:0),0,n[p].length]),a),a+=3;for(let g=0;g<n[p].length;g+=1)o.set(new Uint8Array([n[p][g].length>>8,n[p][g].length&255]),a),a+=2,o.set(n[p][g],a),a+=n[p][g].length}const u=z.box(z.types.hvcC,o),d=e.width,f=e.height,h=e.pixelRatio[0],m=e.pixelRatio[1];return z.box(z.types.hvc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,d>>8&255,d&255,f>>8&255,f&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),u,z.box(z.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),z.box(z.types.pasp,new Uint8Array([h>>24,h>>16&255,h>>8&255,h&255,m>>24,m>>16&255,m>>8&255,m&255])))}}z.types=void 0;z.HDLR_TYPES=void 0;z.STTS=void 0;z.STSC=void 0;z.STCO=void 0;z.STSZ=void 0;z.VMHD=void 0;z.SMHD=void 0;z.STSD=void 0;z.FTYP=void 0;z.DINF=void 0;const o4=9e4;function KT(t,e,r=1,n=!1){const i=t*e*r;return n?Math.round(i):i}function vQ(t,e,r=1,n=!1){return KT(t,e,1/r,n)}function Nd(t,e=!1){return KT(t,1e3,1/o4,e)}function yQ(t,e=1){return KT(t,o4,1/e)}const xQ=10*1e3,bQ=1024,wQ=1152,SQ=1536;let Jl=null,Ix=null;function yC(t,e,r,n){return{duration:e,size:r,cts:n,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:t?2:1,isNonSync:t?0:1}}}class Op extends Fi{constructor(e,r,n,i){if(super("mp4-remuxer",i),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextVideoTs=null,this.nextAudioTs=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=r,this.typeSupported=n,this.ISGenerated=!1,Jl===null){const a=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Jl=a?parseInt(a[1]):0}if(Ix===null){const s=navigator.userAgent.match(/Safari\/(\d+)/i);Ix=s?parseInt(s[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){this.log("initPTS & initDTS reset"),this._initPTS=this._initDTS=e}resetNextTimestamp(){this.log("reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){this.log("ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let r=!1;const n=e[0].pts,i=e.reduce((s,a)=>{let o=a.pts,c=o-s;return c<-4294967296&&(r=!0,o=Zn(o,n),c=o-s),c>0?s:o},n);return r&&this.debug("PTS rollover detected"),i}remux(e,r,n,i,s,a,o,c){let u,d,f,h,m,p,g=s,v=s;const y=e.pid>-1,x=r.pid>-1,b=r.samples.length,S=e.samples.length>0,w=o&&b>0||b>1;if((!y||S)&&(!x||w)||this.ISGenerated||o){if(this.ISGenerated){var A,_,N,C;const k=this.videoTrackConfig;(k&&(r.width!==k.width||r.height!==k.height||((A=r.pixelRatio)==null?void 0:A[0])!==((_=k.pixelRatio)==null?void 0:_[0])||((N=r.pixelRatio)==null?void 0:N[1])!==((C=k.pixelRatio)==null?void 0:C[1]))||!k&&w||this.nextAudioTs===null&&S)&&this.resetInitSegment()}this.ISGenerated||(f=this.generateIS(e,r,s,a));const j=this.isVideoContiguous;let O=-1,R;if(w&&(O=EQ(r.samples),!j&&this.config.forceKeyFrameOnDiscontinuity))if(p=!0,O>0){this.warn(`Dropped ${O} out of ${b} video samples due to a missing keyframe`);const k=this.getVideoStartPts(r.samples);r.samples=r.samples.slice(O),r.dropped+=O,v+=(r.samples[0].pts-k)/r.inputTimeScale,R=v}else O===-1&&(this.warn(`No keyframe found out of ${b} video samples`),p=!1);if(this.ISGenerated){if(S&&w){const k=this.getVideoStartPts(r.samples),D=(Zn(e.samples[0].pts,k)-k)/r.inputTimeScale;g+=Math.max(0,D),v+=Math.max(0,-D)}if(S){if(e.samplerate||(this.warn("regenerate InitSegment as audio detected"),f=this.generateIS(e,r,s,a)),d=this.remuxAudio(e,g,this.isAudioContiguous,a,x||w||c===Pe.AUDIO?v:void 0),w){const k=d?d.endPTS-d.startPTS:0;r.inputTimeScale||(this.warn("regenerate InitSegment as video detected"),f=this.generateIS(e,r,s,a)),u=this.remuxVideo(r,v,j,k)}}else w&&(u=this.remuxVideo(r,v,j,0));u&&(u.firstKeyFrame=O,u.independent=O!==-1,u.firstKeyFramePTS=R)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(n.samples.length&&(m=l4(n,s,this._initPTS,this._initDTS)),i.samples.length&&(h=c4(i,s,this._initPTS))),{audio:d,video:u,initSegment:f,independent:p,text:h,id3:m}}generateIS(e,r,n,i){const s=e.samples,a=r.samples,o=this.typeSupported,c={},u=this._initPTS;let d=!u||i,f="audio/mp4",h,m,p,g;if(d&&(h=m=1/0),e.config&&s.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":o.mpeg?(f="audio/mpeg",e.codec=""):o.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3";break}c.audio={id:"audio",container:f,codec:e.codec,initSegment:e.segmentCodec==="mp3"&&o.mpeg?new Uint8Array(0):z.initSegment([e]),metadata:{channelCount:e.channelCount}},d&&(g=e.id,p=e.inputTimeScale,!u||p!==u.timescale?h=m=s[0].pts-Math.round(p*n):d=!1)}if(r.sps&&r.pps&&a.length){if(r.timescale=r.inputTimeScale,c.video={id:"main",container:"video/mp4",codec:r.codec,initSegment:z.initSegment([r]),metadata:{width:r.width,height:r.height}},d)if(g=r.id,p=r.inputTimeScale,!u||p!==u.timescale){const v=this.getVideoStartPts(a),y=Math.round(p*n);m=Math.min(m,Zn(a[0].dts,v)-y),h=Math.min(h,v-y)}else d=!1;this.videoTrackConfig={width:r.width,height:r.height,pixelRatio:r.pixelRatio}}if(Object.keys(c).length)return this.ISGenerated=!0,d?(this._initPTS={baseTime:h,timescale:p},this._initDTS={baseTime:m,timescale:p}):h=p=void 0,{tracks:c,initPTS:h,timescale:p,trackId:g}}remuxVideo(e,r,n,i){const s=e.inputTimeScale,a=e.samples,o=[],c=a.length,u=this._initPTS,d=u.baseTime*s/u.timescale;let f=this.nextVideoTs,h=8,m=this.videoSampleDuration,p,g,v=Number.POSITIVE_INFINITY,y=Number.NEGATIVE_INFINITY,x=!1;if(!n||f===null){const G=d+r*s,V=a[0].pts-Zn(a[0].dts,a[0].pts);Jl&&f!==null&&Math.abs(G-V-(f+d))<15e3?n=!0:f=G-V-d}const b=f+d;for(let G=0;G<c;G++){const V=a[G];V.pts=Zn(V.pts,b),V.dts=Zn(V.dts,b),V.dts<a[G>0?G-1:G].dts&&(x=!0)}x&&a.sort(function(G,V){const ne=G.dts-V.dts,ce=G.pts-V.pts;return ne||ce}),p=a[0].dts,g=a[a.length-1].dts;const S=g-p,w=S?Math.round(S/(c-1)):m||e.inputTimeScale/30;if(n){const G=p-b,V=G>w,ne=G<-1;if((V||ne)&&(V?this.warn(`${(e.segmentCodec||"").toUpperCase()}: ${Nd(G,!0)} ms (${G}dts) hole between fragments detected at ${r.toFixed(3)}`):this.warn(`${(e.segmentCodec||"").toUpperCase()}: ${Nd(-G,!0)} ms (${G}dts) overlapping between fragments detected at ${r.toFixed(3)}`),!ne||b>=a[0].pts||Jl)){p=b;const ce=a[0].pts-G;if(V)a[0].dts=p,a[0].pts=ce;else{let Se=!0;for(let J=0;J<a.length&&!(a[J].dts>ce&&Se);J++){const re=a[J].pts;if(a[J].dts-=G,a[J].pts-=G,J<a.length-1){const Ee=a[J+1].pts,te=a[J].pts,oe=Ee<=te,he=Ee<=re;Se=oe==he}}}this.log(`Video: Initial PTS/DTS adjusted: ${Nd(ce,!0)}/${Nd(p,!0)}, delta: ${Nd(G,!0)} ms`)}}p=Math.max(0,p);let T=0,A=0,_=p;for(let G=0;G<c;G++){const V=a[G],ne=V.units,ce=ne.length;let Se=0;for(let J=0;J<ce;J++)Se+=ne[J].data.length;A+=Se,T+=ce,V.length=Se,V.dts<_?(V.dts=_,_+=w/4|0||1):_=V.dts,v=Math.min(V.pts,v),y=Math.max(V.pts,y)}g=a[c-1].dts;const N=A+4*T+8;let C;try{C=new Uint8Array(N)}catch(G){this.observer.emit(P.ERROR,P.ERROR,{type:Ie.MUX_ERROR,details:K.REMUX_ALLOC_ERROR,fatal:!1,error:G,bytes:N,reason:`fail allocating video mdat ${N}`});return}const j=new DataView(C.buffer);j.setUint32(0,N),C.set(z.types.mdat,4);let O=!1,R=Number.POSITIVE_INFINITY,k=Number.POSITIVE_INFINITY,M=Number.NEGATIVE_INFINITY,D=Number.NEGATIVE_INFINITY;for(let G=0;G<c;G++){const V=a[G],ne=V.units;let ce=0;for(let re=0,Ee=ne.length;re<Ee;re++){const te=ne[re],oe=te.data,he=te.data.byteLength;j.setUint32(h,he),h+=4,C.set(oe,h),h+=he,ce+=4+he}let Se;if(G<c-1)m=a[G+1].dts-V.dts,Se=a[G+1].pts-V.pts;else{const re=this.config,Ee=G>0?V.dts-a[G-1].dts:w;if(Se=G>0?V.pts-a[G-1].pts:w,re.stretchShortVideoTrack&&this.nextAudioTs!==null){const te=Math.floor(re.maxBufferHole*s),oe=(i?v+i*s:this.nextAudioTs+d)-V.pts;oe>te?(m=oe-Ee,m<0?m=Ee:O=!0,this.log(`It is approximately ${oe/90} ms to the next segment; using duration ${m/90} ms for the last video frame.`)):m=Ee}else m=Ee}const J=Math.round(V.pts-V.dts);R=Math.min(R,m),M=Math.max(M,m),k=Math.min(k,Se),D=Math.max(D,Se),o.push(yC(V.key,m,ce,J))}if(o.length){if(Jl){if(Jl<70){const G=o[0].flags;G.dependsOn=2,G.isNonSync=0}}else if(Ix&&D-k<M-R&&w/M<.025&&o[0].cts===0){this.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let G=p;for(let V=0,ne=o.length;V<ne;V++){const ce=G+o[V].duration,Se=G+o[V].cts;if(V<ne-1){const J=ce+o[V+1].cts;o[V].duration=J-Se}else o[V].duration=V?o[V-1].duration:w;o[V].cts=0,G=ce}}}m=O||!m?w:m;const U=g+m;this.nextVideoTs=f=U-d,this.videoSampleDuration=m,this.isVideoContiguous=!0;const H={data1:z.moof(e.sequenceNumber++,p,yt(e,{samples:o})),data2:C,startPTS:(v-d)/s,endPTS:(y+m-d)/s,startDTS:(p-d)/s,endDTS:f/s,type:"video",hasAudio:!1,hasVideo:!0,nb:o.length,dropped:e.dropped};return e.samples=[],e.dropped=0,H}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return wQ;case"ac3":return SQ;default:return bQ}}remuxAudio(e,r,n,i,s){const a=e.inputTimeScale,o=e.samplerate?e.samplerate:a,c=a/o,u=this.getSamplesPerFrame(e),d=u*c,f=this._initPTS,h=e.segmentCodec==="mp3"&&this.typeSupported.mpeg,m=[],p=s!==void 0;let g=e.samples,v=h?0:8,y=this.nextAudioTs||-1;const x=f.baseTime*a/f.timescale,b=x+r*a;if(this.isAudioContiguous=n=n||g.length&&y>0&&(i&&Math.abs(b-(y+x))<9e3||Math.abs(Zn(g[0].pts,b)-(y+x))<20*d),g.forEach(function(D){D.pts=Zn(D.pts,b)}),!n||y<0){if(g=g.filter(D=>D.pts>=0),!g.length)return;s===0?y=0:i&&!p?y=Math.max(0,b-x):y=g[0].pts-x}if(e.segmentCodec==="aac"){const D=this.config.maxAudioFramesDrift;for(let U=0,I=y+x;U<g.length;U++){const F=g[U],H=F.pts,G=H-I,V=Math.abs(1e3*G/a);if(G<=-D*d&&p)U===0&&(this.warn(`Audio frame @ ${(H/a).toFixed(3)}s overlaps marker by ${Math.round(1e3*G/a)} ms.`),this.nextAudioTs=y=H-x,I=H);else if(G>=D*d&&V<xQ&&p){let ne=Math.round(G/d);for(I=H-ne*d;I<0&&ne&&d;)ne--,I+=d;U===0&&(this.nextAudioTs=y=I-x),this.warn(`Injecting ${ne} audio frames @ ${((I-x)/a).toFixed(3)}s due to ${Math.round(1e3*G/a)} ms gap.`);for(let ce=0;ce<ne;ce++){let Se=gQ.getSilentFrame(e.parsedCodec||e.manifestCodec||e.codec,e.channelCount);Se||(this.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),Se=F.unit.subarray()),g.splice(U,0,{unit:Se,pts:I}),I+=d,U++}}F.pts=I,I+=d}}let S=null,w=null,T,A=0,_=g.length;for(;_--;)A+=g[_].unit.byteLength;for(let D=0,U=g.length;D<U;D++){const I=g[D],F=I.unit;let H=I.pts;if(w!==null){const V=m[D-1];V.duration=Math.round((H-w)/c)}else if(n&&e.segmentCodec==="aac"&&(H=y+x),S=H,A>0){A+=v;try{T=new Uint8Array(A)}catch(V){this.observer.emit(P.ERROR,P.ERROR,{type:Ie.MUX_ERROR,details:K.REMUX_ALLOC_ERROR,fatal:!1,error:V,bytes:A,reason:`fail allocating audio mdat ${A}`});return}h||(new DataView(T.buffer).setUint32(0,A),T.set(z.types.mdat,4))}else return;T.set(F,v);const G=F.byteLength;v+=G,m.push(yC(!0,u,G,0)),w=H}const N=m.length;if(!N)return;const C=m[m.length-1];y=w-x,this.nextAudioTs=y+c*C.duration;const j=h?new Uint8Array(0):z.moof(e.sequenceNumber++,S/c,yt({},e,{samples:m}));e.samples=[];const O=(S-x)/a,R=y/a,M={data1:j,data2:T,startPTS:O,endPTS:R,startDTS:O,endDTS:R,type:"audio",hasAudio:!0,hasVideo:!1,nb:N};return this.isAudioContiguous=!0,M}}function Zn(t,e){let r;if(e===null)return t;for(e<t?r=-8589934592:r=8589934592;Math.abs(t-e)>4294967296;)t+=r;return t}function EQ(t){for(let e=0;e<t.length;e++)if(t[e].key)return e;return-1}function l4(t,e,r,n){const i=t.samples.length;if(!i)return;const s=t.inputTimeScale;for(let o=0;o<i;o++){const c=t.samples[o];c.pts=Zn(c.pts-r.baseTime*s/r.timescale,e*s)/s,c.dts=Zn(c.dts-n.baseTime*s/n.timescale,e*s)/s}const a=t.samples;return t.samples=[],{samples:a}}function c4(t,e,r){const n=t.samples.length;if(!n)return;const i=t.inputTimeScale;for(let a=0;a<n;a++){const o=t.samples[a];o.pts=Zn(o.pts-r.baseTime*i/r.timescale,e*i)/i}t.samples.sort((a,o)=>a.pts-o.pts);const s=t.samples;return t.samples=[],{samples:s}}class TQ extends Fi{constructor(e,r,n,i){super("passthrough-remuxer",i),this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null,this.isVideoContiguous=!1}destroy(){}resetTimeStamp(e){this.lastEndTime=null;const r=this.initPTS;r&&e&&r.baseTime===e.baseTime&&r.timescale===e.timescale||(this.initPTS=e)}resetNextTimestamp(){this.isVideoContiguous=!1,this.lastEndTime=null}resetInitSegment(e,r,n,i){this.audioCodec=r,this.videoCodec=n,this.generateInitSegment(gY(e,i)),this.emitInitSegment=!0}generateInitSegment(e){let{audioCodec:r,videoCodec:n}=this;if(!(e!=null&&e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const i=this.initData=wF(e);i.audio&&(r=xC(i.audio,Tt.AUDIO,this)),i.video&&(n=xC(i.video,Tt.VIDEO,this));const s={};i.audio&&i.video?s.audiovideo={container:"video/mp4",codec:r+","+n,supplemental:i.video.supplemental,initSegment:e,id:"main"}:i.audio?s.audio={container:"audio/mp4",codec:r,initSegment:e,id:"audio"}:i.video?s.video={container:"video/mp4",codec:n,supplemental:i.video.supplemental,initSegment:e,id:"main"}:this.warn("initSegment does not contain moov or trak boxes."),this.initTracks=s}remux(e,r,n,i,s,a){var o,c;let{initPTS:u,lastEndTime:d}=this;const f={audio:void 0,video:void 0,text:i,id3:n,initSegment:void 0};ye(d)||(d=this.lastEndTime=s||0);const h=r.samples;if(!(h!=null&&h.length))return f;const m={initPTS:void 0,timescale:void 0,trackId:void 0};let p=this.initData;if((o=p)!=null&&o.length||(this.generateInitSegment(h),p=this.initData),!((c=p)!=null&&c.length))return this.warn("Failed to generate initSegment."),f;this.emitInitSegment&&(m.tracks=this.initTracks,this.emitInitSegment=!1);const g=yY(h,p,this),v=p.audio?g[p.audio.id]:null,y=p.video?g[p.video.id]:null,x=Vm(y,1/0),b=Vm(v,1/0),S=Vm(y,0,!0),w=Vm(v,0,!0);let T,A=s,_=0;if(v&&(!y||!u&&b<x||u&&u.trackId===p.audio.id)?(m.trackId=p.audio.id,T=v,_=w-b):y&&(m.trackId=p.video.id,T=y,_=S-x),T){const D=T.timescale;A=T.start/D,m.initPTS=T.start-s*D,m.timescale=D,u||(this.initPTS=u={baseTime:m.initPTS,timescale:D,trackId:m.trackId})}(a||!u)&&(AQ(u,A,s,_)||m.timescale!==u.timescale)&&(m.initPTS=A-s,m.timescale=1,u&&u.timescale===1&&this.warn(`Adjusting initPTS @${s} from ${u.baseTime/u.timescale} to ${m.initPTS}`),this.initPTS=u={baseTime:m.initPTS,timescale:1});const N=e?A-u.baseTime/u.timescale:d,C=N+_;_>0?this.lastEndTime=C:(this.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const j=!!p.audio,O=!!p.video;let R="";j&&(R+="audio"),O&&(R+="video");const k={data1:h,startPTS:N,startDTS:N,endPTS:C,endDTS:C,type:R,hasAudio:j,hasVideo:O,nb:1,dropped:0};f.audio=j&&!O?k:void 0,f.video=O?k:void 0;const M=y==null?void 0:y.sampleCount;if(M){const D=y.keyFrameIndex,U=D!==-1;k.nb=M,k.dropped=D===0||this.isVideoContiguous?0:U?D:M,k.independent=U,k.firstKeyFrame=D,U&&y.keyFrameStart&&(k.firstKeyFramePTS=(y.keyFrameStart-u.baseTime)/u.timescale),this.isVideoContiguous||(f.independent=U),this.isVideoContiguous||(this.isVideoContiguous=U),k.dropped&&this.warn(`fmp4 does not start with IDR: firstIDR ${D}/${M} dropped: ${k.dropped} start: ${k.firstKeyFramePTS||"NA"}`)}return f.initSegment=m,f.id3=l4(n,s,u,u),i.samples.length&&(f.text=c4(i,s,u)),f}}function Vm(t,e,r=!1){return(t==null?void 0:t.start)!==void 0?(t.start+(r?t.duration:0))/t.timescale:e}function AQ(t,e,r,n){if(t===null)return!0;const i=Math.max(n,1),s=e-t.baseTime/t.timescale;return Math.abs(s-r)>i}function xC(t,e,r){const n=t==null?void 0:t.codec;return n&&n.length>4?n:e===Tt.AUDIO?n==="ec-3"||n==="ac-3"||n==="alac"?n:n==="fLaC"||n==="Opus"?bg(n,!1):(r.warn(`Unhandled audio codec "${n}" in mp4 MAP`),n||"mp4a"):(r.warn(`Unhandled video codec "${n}" in mp4 MAP`),n||"avc1")}let Ns;try{Ns=self.performance.now.bind(self.performance)}catch{Ns=Date.now}const Ip=[{demux:fQ,remux:TQ},{demux:Sa,remux:Op},{demux:lQ,remux:Op},{demux:uQ,remux:Op}];Ip.splice(2,0,{demux:cQ,remux:Op});class bC{constructor(e,r,n,i,s,a){this.asyncResult=!1,this.logger=void 0,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=r,this.config=n,this.id=s,this.logger=a}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,r,n,i){const s=n.transmuxing;s.executeStart=Ns();let a=new Uint8Array(e);const{currentTransmuxState:o,transmuxConfig:c}=this;i&&(this.currentTransmuxState=i);const{contiguous:u,discontinuity:d,trackSwitch:f,accurateTimeOffset:h,timeOffset:m,initSegmentChange:p}=i||o,{audioCodec:g,videoCodec:v,defaultInitPts:y,duration:x,initSegmentData:b}=c,S=_Q(a,r);if(S&&Lc(S.method)){const _=this.getDecrypter(),N=FT(S.method);if(_.isSync()){let C=_.softwareDecrypt(a,S.key.buffer,S.iv.buffer,N);if(n.part>-1){const O=_.flush();C=O&&O.buffer}if(!C)return s.executeEnd=Ns(),kx(n);a=new Uint8Array(C)}else return this.asyncResult=!0,this.decryptionPromise=_.webCryptoDecrypt(a,S.key.buffer,S.iv.buffer,N).then(C=>{const j=this.push(C,null,n);return this.decryptionPromise=null,j}),this.decryptionPromise}const w=this.needsProbing(d,f);if(w){const _=this.configureTransmuxer(a);if(_)return this.logger.warn(`[transmuxer] ${_.message}`),this.observer.emit(P.ERROR,P.ERROR,{type:Ie.MEDIA_ERROR,details:K.FRAG_PARSING_ERROR,fatal:!1,error:_,reason:_.message}),s.executeEnd=Ns(),kx(n)}(d||f||p||w)&&this.resetInitSegment(b,g,v,x,r),(d||p||w)&&this.resetInitialTimestamp(y),u||this.resetContiguity();const T=this.transmux(a,S,m,h,n);this.asyncResult=Qf(T);const A=this.currentTransmuxState;return A.contiguous=!0,A.discontinuity=!1,A.trackSwitch=!1,s.executeEnd=Ns(),T}flush(e){const r=e.transmuxing;r.executeStart=Ns();const{decrypter:n,currentTransmuxState:i,decryptionPromise:s}=this;if(s)return this.asyncResult=!0,s.then(()=>this.flush(e));const a=[],{timeOffset:o}=i;if(n){const f=n.flush();f&&a.push(this.push(f.buffer,null,e))}const{demuxer:c,remuxer:u}=this;if(!c||!u){r.executeEnd=Ns();const f=[kx(e)];return this.asyncResult?Promise.resolve(f):f}const d=c.flush(o);return Qf(d)?(this.asyncResult=!0,d.then(f=>(this.flushRemux(a,f,e),a))):(this.flushRemux(a,d,e),this.asyncResult?Promise.resolve(a):a)}flushRemux(e,r,n){const{audioTrack:i,videoTrack:s,id3Track:a,textTrack:o}=r,{accurateTimeOffset:c,timeOffset:u}=this.currentTransmuxState;this.logger.log(`[transmuxer.ts]: Flushed ${this.id} sn: ${n.sn}${n.part>-1?" part: "+n.part:""} of ${this.id===Pe.MAIN?"level":"track"} ${n.level}`);const d=this.remuxer.remux(i,s,a,o,u,c,!0,this.id);e.push({remuxResult:d,chunkMeta:n}),n.transmuxing.executeEnd=Ns()}resetInitialTimestamp(e){const{demuxer:r,remuxer:n}=this;!r||!n||(r.resetTimeStamp(e),n.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:r}=this;!e||!r||(e.resetContiguity(),r.resetNextTimestamp())}resetInitSegment(e,r,n,i,s){const{demuxer:a,remuxer:o}=this;!a||!o||(a.resetInitSegment(e,r,n,i),o.resetInitSegment(e,r,n,s))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,r,n,i,s){let a;return r&&r.method==="SAMPLE-AES"?a=this.transmuxSampleAes(e,r,n,i,s):a=this.transmuxUnencrypted(e,n,i,s),a}transmuxUnencrypted(e,r,n,i){const{audioTrack:s,videoTrack:a,id3Track:o,textTrack:c}=this.demuxer.demux(e,r,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(s,a,o,c,r,n,!1,this.id),chunkMeta:i}}transmuxSampleAes(e,r,n,i,s){return this.demuxer.demuxSampleAes(e,r,n).then(a=>({remuxResult:this.remuxer.remux(a.audioTrack,a.videoTrack,a.id3Track,a.textTrack,n,i,!1,this.id),chunkMeta:s}))}configureTransmuxer(e){const{config:r,observer:n,typeSupported:i}=this;let s;for(let f=0,h=Ip.length;f<h;f++){var a;if((a=Ip[f].demux)!=null&&a.probe(e,this.logger)){s=Ip[f];break}}if(!s)return new Error("Failed to find demuxer by probing fragment data");const o=this.demuxer,c=this.remuxer,u=s.remux,d=s.demux;(!c||!(c instanceof u))&&(this.remuxer=new u(n,r,i,this.logger)),(!o||!(o instanceof d))&&(this.demuxer=new d(n,r,i,this.logger),this.probe=d.probe)}needsProbing(e,r){return!this.demuxer||!this.remuxer||e||r}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new MT(this.config)),e}}function _Q(t,e){let r=null;return t.byteLength>0&&(e==null?void 0:e.key)!=null&&e.iv!==null&&e.method!=null&&(r=e),r}const kx=t=>({remuxResult:{},chunkMeta:t});function Qf(t){return"then"in t&&t.then instanceof Function}class PQ{constructor(e,r,n,i,s){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=r,this.initSegmentData=n,this.duration=i,this.defaultInitPts=s||null}}class NQ{constructor(e,r,n,i,s,a){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=r,this.accurateTimeOffset=n,this.trackSwitch=i,this.timeOffset=s,this.initSegmentChange=a}}let wC=0;class u4{constructor(e,r,n,i){this.error=null,this.hls=void 0,this.id=void 0,this.instanceNo=wC++,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.onWorkerMessage=c=>{const u=c.data,d=this.hls;if(!(!d||!(u!=null&&u.event)||u.instanceNo!==this.instanceNo))switch(u.event){case"init":{var f;const h=(f=this.workerContext)==null?void 0:f.objectURL;h&&self.URL.revokeObjectURL(h);break}case"transmuxComplete":{this.handleTransmuxComplete(u.data);break}case"flush":{this.onFlush(u.data);break}case"workerLog":{d.logger[u.data.logType]&&d.logger[u.data.logType](u.data.message);break}default:{u.data=u.data||{},u.data.frag=this.frag,u.data.part=this.part,u.data.id=this.id,d.trigger(u.event,u.data);break}}},this.onWorkerError=c=>{if(!this.hls)return;const u=new Error(`${c.message}  (${c.filename}:${c.lineno})`);this.hls.config.enableWorker=!1,this.hls.logger.warn(`Error in "${this.id}" Web Worker, fallback to inline`),this.hls.trigger(P.ERROR,{type:Ie.OTHER_ERROR,details:K.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:u})};const s=e.config;this.hls=e,this.id=r,this.useWorker=!!s.enableWorker,this.onTransmuxComplete=n,this.onFlush=i;const a=(c,u)=>{u=u||{},u.frag=this.frag||void 0,c===P.ERROR&&(u=u,u.parent=this.id,u.part=this.part,this.error=u.error),this.hls.trigger(c,u)};this.observer=new UT,this.observer.on(P.FRAG_DECRYPTED,a),this.observer.on(P.ERROR,a);const o=MN(s.preferManagedMediaSource);if(this.useWorker&&typeof Worker<"u"){const c=this.hls.logger;if(s.workerPath||RX()){try{s.workerPath?(c.log(`loading Web Worker ${s.workerPath} for "${r}"`),this.workerContext=DX(s.workerPath)):(c.log(`injecting Web Worker for "${r}"`),this.workerContext=LX());const{worker:d}=this.workerContext;d.addEventListener("message",this.onWorkerMessage),d.addEventListener("error",this.onWorkerError),d.postMessage({instanceNo:this.instanceNo,cmd:"init",typeSupported:o,id:r,config:Mt(s)})}catch(d){c.warn(`Error setting up "${r}" Web Worker, fallback to inline`,d),this.terminateWorker(),this.error=null,this.transmuxer=new bC(this.observer,o,s,"",r,e.logger)}return}}this.transmuxer=new bC(this.observer,o,s,"",r,e.logger)}reset(){if(this.frag=null,this.part=null,this.workerContext){const e=this.instanceNo;this.instanceNo=wC++;const r=this.hls.config,n=MN(r.preferManagedMediaSource);this.workerContext.worker.postMessage({instanceNo:this.instanceNo,cmd:"reset",resetNo:e,typeSupported:n,id:this.id,config:Mt(r)})}}terminateWorker(){if(this.workerContext){const{worker:e}=this.workerContext;this.workerContext=null,e.removeEventListener("message",this.onWorkerMessage),e.removeEventListener("error",this.onWorkerError),MX(this.hls.config.workerPath)}}destroy(){if(this.workerContext)this.terminateWorker(),this.onWorkerMessage=this.onWorkerError=null;else{const r=this.transmuxer;r&&(r.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.part=null,this.observer=null,this.hls=null}push(e,r,n,i,s,a,o,c,u,d){var f,h;u.transmuxing.start=self.performance.now();const{instanceNo:m,transmuxer:p}=this,g=a?a.start:s.start,v=s.decryptdata,y=this.frag,x=!(y&&s.cc===y.cc),b=!(y&&u.level===y.level),S=y?u.sn-y.sn:-1,w=this.part?u.part-this.part.index:-1,T=S===0&&u.id>1&&u.id===(y==null?void 0:y.stats.chunkCount),A=!b&&(S===1||S===0&&(w===1||T&&w<=0)),_=self.performance.now();(b||S||s.stats.parsing.start===0)&&(s.stats.parsing.start=_),a&&(w||!A)&&(a.stats.parsing.start=_);const N=!(y&&((f=s.initSegment)==null?void 0:f.url)===((h=y.initSegment)==null?void 0:h.url)),C=new NQ(x,A,c,b,g,N);if(!A||x||N){this.hls.logger.log(`[transmuxer-interface]: Starting new transmux session for ${s.type} sn: ${u.sn}${u.part>-1?" part: "+u.part:""} ${this.id===Pe.MAIN?"level":"track"}: ${u.level} id: ${u.id}
        discontinuity: ${x}
        trackSwitch: ${b}
        contiguous: ${A}
        accurateTimeOffset: ${c}
        timeOffset: ${g}
        initSegmentChange: ${N}`);const j=new PQ(n,i,r,o,d);this.configureTransmuxer(j)}if(this.frag=s,this.part=a,this.workerContext)this.workerContext.worker.postMessage({instanceNo:m,cmd:"demux",data:e,decryptdata:v,chunkMeta:u,state:C},e instanceof ArrayBuffer?[e]:[]);else if(p){const j=p.push(e,v,u,C);Qf(j)?j.then(O=>{this.handleTransmuxComplete(O)}).catch(O=>{this.transmuxerError(O,u,"transmuxer-interface push error")}):this.handleTransmuxComplete(j)}}flush(e){e.transmuxing.start=self.performance.now();const{instanceNo:r,transmuxer:n}=this;if(this.workerContext)this.workerContext.worker.postMessage({instanceNo:r,cmd:"flush",chunkMeta:e});else if(n){const i=n.flush(e);Qf(i)?i.then(s=>{this.handleFlushResult(s,e)}).catch(s=>{this.transmuxerError(s,e,"transmuxer-interface flush error")}):this.handleFlushResult(i,e)}}transmuxerError(e,r,n){this.hls&&(this.error=e,this.hls.trigger(P.ERROR,{type:Ie.MEDIA_ERROR,details:K.FRAG_PARSING_ERROR,chunkMeta:r,frag:this.frag||void 0,part:this.part||void 0,fatal:!1,error:e,err:e,reason:n}))}handleFlushResult(e,r){e.forEach(n=>{this.handleTransmuxComplete(n)}),this.onFlush(r)}configureTransmuxer(e){const{instanceNo:r,transmuxer:n}=this;this.workerContext?this.workerContext.worker.postMessage({instanceNo:r,cmd:"configure",config:e}):n&&n.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}const SC=100;class CQ extends BT{constructor(e,r,n){super(e,r,n,"audio-stream-controller",Pe.AUDIO),this.mainAnchor=null,this.mainFragLoading=null,this.audioOnly=!1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.resetItem()}resetItem(){this.mainDetails=this.mainAnchor=this.mainFragLoading=this.bufferedTrack=this.switchingTrack=this.waitingData=this.cachedTrackLoadedData=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(P.LEVEL_LOADED,this.onLevelLoaded,this),e.on(P.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(P.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(P.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(P.BUFFER_RESET,this.onBufferReset,this),e.on(P.BUFFER_CREATED,this.onBufferCreated,this),e.on(P.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(P.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(P.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(P.FRAG_LOADING,this.onFragLoading,this),e.on(P.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){const{hls:e}=this;e&&(super.unregisterListeners(),e.off(P.LEVEL_LOADED,this.onLevelLoaded,this),e.off(P.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(P.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(P.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(P.BUFFER_RESET,this.onBufferReset,this),e.off(P.BUFFER_CREATED,this.onBufferCreated,this),e.off(P.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(P.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(P.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(P.FRAG_LOADING,this.onFragLoading,this),e.off(P.FRAG_BUFFERED,this.onFragBuffered,this))}onInitPtsFound(e,{frag:r,id:n,initPTS:i,timescale:s}){if(n===Pe.MAIN){const a=r.cc,o=this.fragCurrent;if(this.initPTS[a]={baseTime:i,timescale:s},this.log(`InitPTS for cc: ${a} found from main: ${i}/${s}`),this.mainAnchor=r,this.state===ee.WAITING_INIT_PTS){const c=this.waitingData;(!c&&!this.loadingParts||c&&c.frag.cc!==a)&&this.syncWithAnchor(r,c==null?void 0:c.frag)}else!this.hls.hasEnoughToStart&&o&&o.cc!==a?(o.abortRequests(),this.syncWithAnchor(r,o)):this.state===ee.IDLE&&this.tick()}}getLoadPosition(){return!this.startFragRequested&&this.nextLoadPosition>=0?this.nextLoadPosition:super.getLoadPosition()}syncWithAnchor(e,r){var n;const i=((n=this.mainFragLoading)==null?void 0:n.frag)||null;if(r&&(i==null?void 0:i.cc)===r.cc)return;const s=(i||e).cc,a=this.getLevelDetails(),o=this.getLoadPosition(),c=jF(a,s,o);c&&(this.log(`Syncing with main frag at ${c.start} cc ${c.cc}`),this.startFragRequested=!1,this.nextLoadPosition=c.start,this.resetLoadingState(),this.state===ee.IDLE&&this.doTickIdle())}startLoad(e,r){if(!this.levels){this.startPosition=e,this.state=ee.STOPPED;return}const n=this.lastCurrentTime;this.stopLoad(),this.setInterval(SC),n>0&&e===-1?(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),e=n,this.state=ee.IDLE):this.state=ee.WAITING_TRACK,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=r?-1:e,this.tick()}doTick(){switch(this.state){case ee.IDLE:this.doTickIdle();break;case ee.WAITING_TRACK:{const{levels:r,trackId:n}=this,i=r==null?void 0:r[n],s=i==null?void 0:i.details;if(s&&!this.waitForLive(i)){if(this.waitForCdnTuneIn(s))break;this.state=ee.WAITING_INIT_PTS}break}case ee.FRAG_LOADING_WAITING_RETRY:{var e;const r=performance.now(),n=this.retryDate;if(!n||r>=n||(e=this.media)!=null&&e.seeking){const{levels:i,trackId:s}=this;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded((i==null?void 0:i[s])||null),this.state=ee.IDLE}break}case ee.WAITING_INIT_PTS:{const r=this.waitingData;if(r){const{frag:n,part:i,cache:s,complete:a}=r,o=this.mainAnchor;if(this.initPTS[n.cc]!==void 0){this.waitingData=null,this.state=ee.FRAG_LOADING;const c=s.flush().buffer,u={frag:n,part:i,payload:c,networkDetails:null};this._handleFragmentLoadProgress(u),a&&super._handleFragmentLoadComplete(u)}else o&&o.cc!==r.frag.cc&&this.syncWithAnchor(o,r.frag)}else this.state=ee.IDLE}}this.onTickEnd()}resetLoadingState(){const e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null),super.resetLoadingState()}onTickEnd(){const{media:e}=this;e!=null&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){var e;const{hls:r,levels:n,media:i,trackId:s}=this,a=r.config;if(!this.buffering||!i&&!this.primaryPrefetch&&(this.startFragRequested||!a.startFragPrefetch)||!(n!=null&&n[s]))return;const o=n[s],c=o.details;if(!c||this.waitForLive(o)||this.waitForCdnTuneIn(c)){this.state=ee.WAITING_TRACK,this.startFragRequested=!1;return}const u=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&u&&(this.bufferFlushed=!1,this.afterBufferFlushed(u,Tt.AUDIO,Pe.AUDIO));const d=this.getFwdBufferInfo(u,Pe.AUDIO);if(d===null)return;if(!this.switchingTrack&&this._streamEnded(d,c)){r.trigger(P.BUFFER_EOS,{type:"audio"}),this.state=ee.ENDED;return}const f=d.len,h=r.maxBufferLength,m=c.fragments,p=m[0].start,g=this.getLoadPosition(),v=this.flushing?g:d.end;if(this.switchingTrack&&i){const b=g;c.PTSKnown&&b<p&&(d.end>p||d.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),i.currentTime=p+.05)}if(f>=h&&!this.switchingTrack&&v<m[m.length-1].start)return;let y=this.getNextFragment(v,c);if(y&&this.isLoopLoading(y,v)&&(y=this.getNextFragmentLoopLoading(y,c,d,Pe.MAIN,h)),!y){this.bufferFlushed=!0;return}let x=((e=this.mainFragLoading)==null?void 0:e.frag)||null;if(!this.audioOnly&&this.startFragRequested&&x&&fr(y)&&!y.endList&&(!c.live||!this.loadingParts&&v<this.hls.liveSyncPosition)&&(this.fragmentTracker.getState(x)===br.OK&&(this.mainFragLoading=x=null),x&&fr(x))){if(y.start>x.end){const S=this.fragmentTracker.getFragAtPos(v,Pe.MAIN);S&&S.end>x.end&&(x=S,this.mainFragLoading={frag:S,targetBufferTime:null})}if(y.start>x.end)return}this.loadFragment(y,o,v)}onMediaDetaching(e,r){this.bufferFlushed=this.flushing=!1,super.onMediaDetaching(e,r)}onAudioTracksUpdated(e,{audioTracks:r}){this.resetTransmuxer(),this.levels=r.map(n=>new Kf(n))}onAudioTrackSwitching(e,r){const n=!!r.url;this.trackId=r.id;const{fragCurrent:i}=this;i&&(i.abortRequests(),this.removeUnbufferedFrags(i.start)),this.resetLoadingState(),n?(this.switchingTrack=r,this.flushAudioIfNeeded(r),this.state!==ee.STOPPED&&(this.setInterval(SC),this.state=ee.IDLE,this.tick())):(this.resetTransmuxer(),this.switchingTrack=null,this.bufferedTrack=r,this.clearInterval())}onManifestLoading(){super.onManifestLoading(),this.bufferFlushed=this.flushing=this.audioOnly=!1,this.resetItem(),this.trackId=-1}onLevelLoaded(e,r){this.mainDetails=r.details;const n=this.cachedTrackLoadedData;n&&(this.cachedTrackLoadedData=null,this.onAudioTrackLoaded(P.AUDIO_TRACK_LOADED,n))}onAudioTrackLoaded(e,r){var n;const{levels:i}=this,{details:s,id:a,groupId:o,track:c}=r;if(!i){this.warn(`Audio tracks reset while loading track ${a} "${c.name}" of "${o}"`);return}const u=this.mainDetails;if(!u||s.endCC>u.endCC||u.expired){this.cachedTrackLoadedData=r,this.state!==ee.STOPPED&&(this.state=ee.WAITING_TRACK);return}this.cachedTrackLoadedData=null,this.log(`Audio track ${a} "${c.name}" of "${o}" loaded [${s.startSN},${s.endSN}]${s.lastPartSn?`[part-${s.lastPartSn}-${s.lastPartIndex}]`:""},duration:${s.totalduration}`);const d=i[a];let f=0;if(s.live||(n=d.details)!=null&&n.live){if(this.checkLiveUpdate(s),s.deltaUpdateFailed)return;if(d.details){var h;f=this.alignPlaylists(s,d.details,(h=this.levelLastLoaded)==null?void 0:h.details)}s.alignedSliding||(HF(s,u),s.alignedSliding||_g(s,u),f=s.fragmentStart)}d.details=s,this.levelLastLoaded=d,this.startFragRequested||this.setStartPosition(u,f),this.hls.trigger(P.AUDIO_TRACK_UPDATED,{details:s,id:a,groupId:r.groupId}),this.state===ee.WAITING_TRACK&&!this.waitForCdnTuneIn(s)&&(this.state=ee.IDLE),this.tick()}_handleFragmentLoadProgress(e){var r;const n=e.frag,{part:i,payload:s}=e,{config:a,trackId:o,levels:c}=this;if(!c){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);return}const u=c[o];if(!u){this.warn("Audio track is undefined on fragment load progress");return}const d=u.details;if(!d){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(n.start);return}const f=a.defaultAudioCodec||u.audioCodec||"mp4a.40.2";let h=this.transmuxer;h||(h=this.transmuxer=new u4(this.hls,Pe.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const m=this.initPTS[n.cc],p=(r=n.initSegment)==null?void 0:r.data;if(m!==void 0){const v=i?i.index:-1,y=v!==-1,x=new $T(n.level,n.sn,n.stats.chunkCount,s.byteLength,v,y);h.push(s,p,f,"",n,i,d.totalduration,!1,x,m)}else{this.log(`Unknown video PTS for cc ${n.cc}, waiting for video PTS before demuxing audio frag ${n.sn} of [${d.startSN} ,${d.endSN}],track ${o}`);const{cache:g}=this.waitingData=this.waitingData||{frag:n,part:i,cache:new zF,complete:!1};g.push(new Uint8Array(s)),this.state!==ee.STOPPED&&(this.state=ee.WAITING_INIT_PTS)}}_handleFragmentLoadComplete(e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=null}onBufferCreated(e,r){this.bufferFlushed=this.flushing=!1;const n=r.tracks.audio;n&&(this.mediaBuffer=n.buffer||null)}onFragLoading(e,r){!this.audioOnly&&r.frag.type===Pe.MAIN&&fr(r.frag)&&(this.mainFragLoading=r,this.state===ee.IDLE&&this.tick())}onFragBuffered(e,r){const{frag:n,part:i}=r;if(n.type!==Pe.AUDIO){!this.audioOnly&&n.type===Pe.MAIN&&!n.elementaryStreams.video&&!n.elementaryStreams.audiovideo&&(this.audioOnly=!0,this.mainFragLoading=null);return}if(this.fragContextChanged(n)){this.warn(`Fragment ${n.sn}${i?" p: "+i.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(fr(n)){this.fragPrevious=n;const s=this.switchingTrack;s&&(this.bufferedTrack=s,this.switchingTrack=null,this.hls.trigger(P.AUDIO_TRACK_SWITCHED,St({},s)))}this.fragBufferedComplete(n,i),this.media&&this.tick()}onError(e,r){var n;if(r.fatal){this.state=ee.ERROR;return}switch(r.details){case K.FRAG_GAP:case K.FRAG_PARSING_ERROR:case K.FRAG_DECRYPT_ERROR:case K.FRAG_LOAD_ERROR:case K.FRAG_LOAD_TIMEOUT:case K.KEY_LOAD_ERROR:case K.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Pe.AUDIO,r);break;case K.AUDIO_TRACK_LOAD_ERROR:case K.AUDIO_TRACK_LOAD_TIMEOUT:case K.LEVEL_PARSING_ERROR:!r.levelRetry&&this.state===ee.WAITING_TRACK&&((n=r.context)==null?void 0:n.type)===et.AUDIO_TRACK&&(this.state=ee.IDLE);break;case K.BUFFER_ADD_CODEC_ERROR:case K.BUFFER_APPEND_ERROR:if(r.parent!=="audio")return;this.reduceLengthAndFlushBuffer(r)||this.resetLoadingState();break;case K.BUFFER_FULL_ERROR:if(r.parent!=="audio")return;this.reduceLengthAndFlushBuffer(r)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case K.INTERNAL_EXCEPTION:this.recoverWorkerError(r);break}}onBufferFlushing(e,{type:r}){r!==Tt.VIDEO&&(this.flushing=!0)}onBufferFlushed(e,{type:r}){if(r!==Tt.VIDEO){this.flushing=!1,this.bufferFlushed=!0,this.state===ee.ENDED&&(this.state=ee.IDLE);const n=this.mediaBuffer||this.media;n&&(this.afterBufferFlushed(n,r,Pe.AUDIO),this.tick())}}_handleTransmuxComplete(e){var r;const n="audio",{hls:i}=this,{remuxResult:s,chunkMeta:a}=e,o=this.getCurrentContext(a);if(!o){this.resetWhenMissingContext(a);return}const{frag:c,part:u,level:d}=o,{details:f}=d,{audio:h,text:m,id3:p,initSegment:g}=s;if(this.fragContextChanged(c)||!f){this.fragmentTracker.removeFragment(c);return}if(this.state=ee.PARSING,this.switchingTrack&&h&&this.completeAudioSwitch(this.switchingTrack),g!=null&&g.tracks){const v=c.initSegment||c;this._bufferInitSegment(d,g.tracks,v,a),i.trigger(P.FRAG_PARSING_INIT_SEGMENT,{frag:v,id:n,tracks:g.tracks})}if(h){const{startPTS:v,endPTS:y,startDTS:x,endDTS:b}=h;u&&(u.elementaryStreams[Tt.AUDIO]={startPTS:v,endPTS:y,startDTS:x,endDTS:b}),c.setElementaryStreamInfo(Tt.AUDIO,v,y,x,b),this.bufferFragmentData(h,c,u,a)}if(p!=null&&(r=p.samples)!=null&&r.length){const v=yt({id:n,frag:c,details:f},p);i.trigger(P.FRAG_PARSING_METADATA,v)}if(m){const v=yt({id:n,frag:c,details:f},m);i.trigger(P.FRAG_PARSING_USERDATA,v)}}_bufferInitSegment(e,r,n,i){if(this.state!==ee.PARSING||(r.video&&delete r.video,r.audiovideo&&delete r.audiovideo,!r.audio))return;const s=r.audio;s.id=Pe.AUDIO;const a=e.audioCodec;this.log(`Init audio buffer, container:${s.container}, codecs[level/parsed]=[${a}/${s.codec}]`),a&&a.split(",").length===1&&(s.levelCodec=a),this.hls.trigger(P.BUFFER_CODECS,r);const o=s.initSegment;if(o!=null&&o.byteLength){const c={type:"audio",frag:n,part:null,chunkMeta:i,parent:n.type,data:o};this.hls.trigger(P.BUFFER_APPENDING,c)}this.tickImmediate()}loadFragment(e,r,n){const i=this.fragmentTracker.getState(e);if(this.switchingTrack||i===br.NOT_LOADED||i===br.PARTIAL){var s;if(!fr(e))this._loadInitSegment(e,r);else if((s=r.details)!=null&&s.live&&!this.initPTS[e.cc]){this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=ee.WAITING_INIT_PTS;const a=this.mainDetails;a&&a.fragmentStart!==r.details.fragmentStart&&_g(r.details,a)}else super.loadFragment(e,r,n)}else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){if(this.media&&this.bufferedTrack){const{name:r,lang:n,assocLang:i,characteristics:s,audioCodec:a,channels:o}=this.bufferedTrack;sl({name:r,lang:n,assocLang:i,characteristics:s,audioCodec:a,channels:o},e,ko)||(Sg(e.url,this.hls)?(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null):this.bufferedTrack=e)}}completeAudioSwitch(e){const{hls:r}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,r.trigger(P.AUDIO_TRACK_SWITCHED,St({},e))}}class qT extends Fi{constructor(e,r){super(r,e.logger),this.hls=void 0,this.canLoad=!1,this.timer=-1,this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){this.timer!==-1&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,r,n){const i=r==null?void 0:r.renditionReports;if(i){let s=-1;for(let a=0;a<i.length;a++){const o=i[a];let c;try{c=new self.URL(o.URI,r.url).href}catch(u){this.warn(`Could not construct new URL for Rendition Report: ${u}`),c=o.URI||""}if(c===e){s=a;break}else c===e.substring(0,c.length)&&(s=a)}if(s!==-1){const a=i[s],o=parseInt(a["LAST-MSN"])||(r==null?void 0:r.lastPartSn);let c=parseInt(a["LAST-PART"])||(r==null?void 0:r.lastPartIndex);if(this.hls.config.lowLatencyMode){const d=Math.min(r.age-r.partTarget,r.targetduration);c>=0&&d>r.partTarget&&(c+=1)}const u=n&&$N(n);return new FN(o,c>=0?c:void 0,u)}}}loadPlaylist(e){this.clearTimer()}loadingPlaylist(e,r){this.clearTimer()}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}getUrlWithDirectives(e,r){if(r)try{return r.addDirectives(e)}catch(n){this.warn(`Could not construct new URL with HLS Delivery Directives: ${n}`)}return e}playlistLoaded(e,r,n){const{details:i,stats:s}=r,a=self.performance.now(),o=s.loading.first?Math.max(0,a-s.loading.first):0;i.advancedDateTime=Date.now()-o;const c=this.hls.config.timelineOffset;if(c!==i.appliedTimelineOffset){const d=Math.max(c||0,0);i.appliedTimelineOffset=d,i.fragments.forEach(f=>{f.start=f.playlistOffset+d})}if(i.live||n!=null&&n.live){const d="levelInfo"in r?r.levelInfo:r.track;if(i.reloaded(n),n&&i.fragments.length>0){TX(n,i);const x=i.playlistParsingError;if(x){this.warn(x);const b=this.hls;if(!b.config.ignorePlaylistParsingErrors){var u;const{networkDetails:S}=r;b.trigger(P.ERROR,{type:Ie.NETWORK_ERROR,details:K.LEVEL_PARSING_ERROR,fatal:!1,url:i.url,error:x,reason:x.message,level:r.level||void 0,parent:(u=i.fragments[0])==null?void 0:u.type,networkDetails:S,stats:s});return}i.playlistParsingError=null}}i.requestScheduled===-1&&(i.requestScheduled=s.loading.start);const f=this.hls.mainForwardBufferInfo,h=f?f.end-f.len:0,m=(i.edge-h)*1e3,p=FF(i,m);if(i.requestScheduled+p<a?i.requestScheduled=a:i.requestScheduled+=p,this.log(`live playlist ${e} ${i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:i.updated?"UPDATED":"MISSED"}`),!this.canLoad||!i.live)return;let g,v,y;if(i.canBlockReload&&i.endSN&&i.advanced){const x=this.hls.config.lowLatencyMode,b=i.lastPartSn,S=i.endSN,w=i.lastPartIndex,T=w!==-1,A=b===S;T?A?(v=S+1,y=x?0:w):(v=b,y=x?w+1:i.maxPartIndex):v=S+1;const _=i.age,N=_+i.ageHeader;let C=Math.min(N-i.partTarget,i.targetduration*1.5);if(C>0){if(N>i.targetduration*3)this.log(`Playlist last advanced ${_.toFixed(2)}s ago. Omitting segment and part directives.`),v=void 0,y=void 0;else if(n!=null&&n.tuneInGoal&&N-i.partTarget>n.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${n.tuneInGoal} to: ${C} with playlist age: ${i.age}`),C=0;else{const j=Math.floor(C/i.targetduration);if(v+=j,y!==void 0){const O=Math.round(C%i.targetduration/i.partTarget);y+=O}this.log(`CDN Tune-in age: ${i.ageHeader}s last advanced ${_.toFixed(2)}s goal: ${C} skip sn ${j} to part ${y}`)}i.tuneInGoal=C}if(g=this.getDeliveryDirectives(i,r.deliveryDirectives,v,y),x||!A){i.requestScheduled=a,this.loadingPlaylist(d,g);return}}else(i.canBlockReload||i.canSkipUntil)&&(g=this.getDeliveryDirectives(i,r.deliveryDirectives,v,y));g&&v!==void 0&&i.canBlockReload&&(i.requestScheduled=s.loading.first+Math.max(p-o*2,p/2)),this.scheduleLoading(d,g,i)}else this.clearTimer()}scheduleLoading(e,r,n){const i=n||e.details;if(!i){this.loadingPlaylist(e,r);return}const s=self.performance.now(),a=i.requestScheduled;if(s>=a){this.loadingPlaylist(e,r);return}const o=a-s;this.log(`reload live playlist ${e.name||e.bitrate+"bps"} in ${Math.round(o)} ms`),this.clearTimer(),this.timer=self.setTimeout(()=>this.loadingPlaylist(e,r),o)}getDeliveryDirectives(e,r,n,i){let s=$N(e);return r!=null&&r.skip&&e.deltaUpdateFailed&&(n=r.msn,i=r.part,s=Cp.No),new FN(n,i,s)}checkRetry(e){const r=e.details,n=Eg(e),i=e.errorAction,{action:s,retryCount:a=0,retryConfig:o}=i||{},c=!!i&&!!o&&(s===Wr.RetryRequest||!i.resolved&&s===Wr.SendAlternateToPenaltyBox);if(c){var u;if(a>=o.maxNumRetry)return!1;if(n&&(u=e.context)!=null&&u.deliveryDirectives)this.warn(`Retrying playlist loading ${a+1}/${o.maxNumRetry} after "${r}" without delivery-directives`),this.loadPlaylist();else{const d=DT(o,a);this.clearTimer(),this.timer=self.setTimeout(()=>this.loadPlaylist(),d),this.warn(`Retrying playlist loading ${a+1}/${o.maxNumRetry} after "${r}" in ${d}ms`)}e.levelRetry=!0,i.resolved=!0}return c}}function d4(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!Zf(t[r].attrs,e[r].attrs))return!1;return!0}function Zf(t,e,r){const n=t["STABLE-RENDITION-ID"];return n&&!r?n===e["STABLE-RENDITION-ID"]:!(r||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(i=>t[i]!==e[i])}function rS(t,e){return e.label.toLowerCase()===t.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(t.lang||"").toLowerCase())}class jQ extends qT{constructor(e){super(e,"audio-track-controller"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(P.MANIFEST_LOADING,this.onManifestLoading,this),e.on(P.MANIFEST_PARSED,this.onManifestParsed,this),e.on(P.LEVEL_LOADING,this.onLevelLoading,this),e.on(P.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(P.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(P.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(P.MANIFEST_LOADING,this.onManifestLoading,this),e.off(P.MANIFEST_PARSED,this.onManifestParsed,this),e.off(P.LEVEL_LOADING,this.onLevelLoading,this),e.off(P.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(P.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(P.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,r){this.tracks=r.audioTracks||[]}onAudioTrackLoaded(e,r){const{id:n,groupId:i,details:s}=r,a=this.tracksInGroup[n];if(!a||a.groupId!==i){this.warn(`Audio track with id:${n} and group:${i} not found in active group ${a==null?void 0:a.groupId}`);return}const o=a.details;a.details=r.details,this.log(`Audio track ${n} "${a.name}" lang:${a.lang} group:${i} loaded [${s.startSN}-${s.endSN}]`),n===this.trackId&&this.playlistLoaded(n,r,o)}onLevelLoading(e,r){this.switchLevel(r.level)}onLevelSwitching(e,r){this.switchLevel(r.level)}switchLevel(e){const r=this.hls.levels[e];if(!r)return;const n=r.audioGroups||null,i=this.groupIds;let s=this.currentTrack;if(!n||(i==null?void 0:i.length)!==(n==null?void 0:n.length)||n!=null&&n.some(o=>(i==null?void 0:i.indexOf(o))===-1)){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const o=this.tracks.filter(h=>!n||n.indexOf(h.groupId)!==-1);if(o.length)this.selectDefaultTrack&&!o.some(h=>h.default)&&(this.selectDefaultTrack=!1),o.forEach((h,m)=>{h.id=m});else if(!s&&!this.tracksInGroup.length)return;this.tracksInGroup=o;const c=this.hls.config.audioPreference;if(!s&&c){const h=Zi(c,o,ko);if(h>-1)s=o[h];else{const m=Zi(c,this.tracks);s=this.tracks[m]}}let u=this.findTrackId(s);u===-1&&s&&(u=this.findTrackId(null));const d={audioTracks:o};this.log(`Updating audio tracks, ${o.length} track(s) found in group(s): ${n==null?void 0:n.join(",")}`),this.hls.trigger(P.AUDIO_TRACKS_UPDATED,d);const f=this.trackId;if(u!==-1&&f===-1)this.setAudioTrack(u);else if(o.length&&f===-1){var a;const h=new Error(`No audio track selected for current audio group-ID(s): ${(a=this.groupIds)==null?void 0:a.join(",")} track count: ${o.length}`);this.warn(h.message),this.hls.trigger(P.ERROR,{type:Ie.MEDIA_ERROR,details:K.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:h})}}}onError(e,r){r.fatal||!r.context||r.context.type===et.AUDIO_TRACK&&r.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(r.context.groupId)!==-1)&&this.checkRetry(r)}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){const r=this.hls;if(r.config.audioPreference=e,e){const n=this.allAudioTracks;if(this.selectDefaultTrack=!1,n.length){const i=this.currentTrack;if(i&&sl(e,i,ko))return i;const s=Zi(e,this.tracksInGroup,ko);if(s>-1){const a=this.tracksInGroup[s];return this.setAudioTrack(s),a}else if(i){let a=r.loadLevel;a===-1&&(a=r.firstAutoLevel);const o=GY(e,r.levels,n,a,ko);if(o===-1)return null;r.nextLoadLevel=o}if(e.channels||e.audioCodec){const a=Zi(e,n);if(a>-1)return n[a]}}}return null}setAudioTrack(e){const r=this.tracksInGroup;if(e<0||e>=r.length){this.warn(`Invalid audio track id: ${e}`);return}this.selectDefaultTrack=!1;const n=this.currentTrack,i=r[e],s=i.details&&!i.details.live;if(e===this.trackId&&i===n&&s||(this.log(`Switching to audio-track ${e} "${i.name}" lang:${i.lang} group:${i.groupId} channels:${i.channels}`),this.trackId=e,this.currentTrack=i,this.hls.trigger(P.AUDIO_TRACK_SWITCHING,St({},i)),s))return;const a=this.switchParams(i.url,n==null?void 0:n.details,i.details);this.loadPlaylist(a)}findTrackId(e){const r=this.tracksInGroup;for(let n=0;n<r.length;n++){const i=r[n];if(!(this.selectDefaultTrack&&!i.default)&&(!e||sl(e,i,ko)))return n}if(e){const{name:n,lang:i,assocLang:s,characteristics:a,audioCodec:o,channels:c}=e;for(let u=0;u<r.length;u++){const d=r[u];if(sl({name:n,lang:i,assocLang:s,characteristics:a,audioCodec:o,channels:c},d,ko))return u}for(let u=0;u<r.length;u++){const d=r[u];if(Zf(e.attrs,d.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return u}for(let u=0;u<r.length;u++){const d=r[u];if(Zf(e.attrs,d.attrs,["LANGUAGE"]))return u}}return-1}loadPlaylist(e){super.loadPlaylist();const r=this.currentTrack;this.shouldLoadPlaylist(r)&&Sg(r.url,this.hls)&&this.scheduleLoading(r,e)}loadingPlaylist(e,r){super.loadingPlaylist(e,r);const n=e.id,i=e.groupId,s=this.getUrlWithDirectives(e.url,r),a=e.details,o=a==null?void 0:a.age;this.log(`Loading audio-track ${n} "${e.name}" lang:${e.lang} group:${i}${(r==null?void 0:r.msn)!==void 0?" at sn "+r.msn+" part "+r.part:""}${o&&a.live?" age "+o.toFixed(1)+(a.type&&" "+a.type||""):""} ${s}`),this.hls.trigger(P.AUDIO_TRACK_LOADING,{url:s,id:n,groupId:i,deliveryDirectives:r||null,track:e})}}class OQ{constructor(e){this.tracks=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.tracks=e}destroy(){this.tracks=this.queues=null}append(e,r,n){if(this.queues===null||this.tracks===null)return;const i=this.queues[r];i.push(e),i.length===1&&!n&&this.executeNext(r)}appendBlocker(e){return new Promise(r=>{const n={label:"async-blocker",execute:r,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.append(n,e)})}prependBlocker(e){return new Promise(r=>{if(this.queues){const n={label:"async-blocker-prepend",execute:r,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.queues[e].unshift(n)}})}removeBlockers(){this.queues!==null&&[this.queues.video,this.queues.audio,this.queues.audiovideo].forEach(e=>{var r;const n=(r=e[0])==null?void 0:r.label;(n==="async-blocker"||n==="async-blocker-prepend")&&(e[0].execute(),e.splice(0,1))})}unblockAudio(e){if(this.queues===null)return;this.queues.audio[0]===e&&this.shiftAndExecuteNext("audio")}executeNext(e){if(this.queues===null||this.tracks===null)return;const r=this.queues[e];if(r.length){const i=r[0];try{i.execute()}catch(s){var n;if(i.onError(s),this.queues===null||this.tracks===null)return;const a=(n=this.tracks[e])==null?void 0:n.buffer;a!=null&&a.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){this.queues!==null&&(this.queues[e].shift(),this.executeNext(e))}current(e){var r;return((r=this.queues)==null?void 0:r[e][0])||null}toString(){const{queues:e,tracks:r}=this;return e===null||r===null?"<destroyed>":`
${this.list("video")}
${this.list("audio")}
${this.list("audiovideo")}}`}list(e){var r,n;return(r=this.queues)!=null&&r[e]||(n=this.tracks)!=null&&n[e]?`${e}: (${this.listSbInfo(e)}) ${this.listOps(e)}`:""}listSbInfo(e){var r;const n=(r=this.tracks)==null?void 0:r[e],i=n==null?void 0:n.buffer;return i?`SourceBuffer${i.updating?" updating":""}${n.ended?" ended":""}${n.ending?" ending":""}`:"none"}listOps(e){var r;return((r=this.queues)==null?void 0:r[e].map(n=>n.label).join(", "))||""}}const EC=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/,f4="HlsJsTrackRemovedError";class IQ extends Error{constructor(e){super(e),this.name=f4}}class kQ extends Fi{constructor(e,r){super("buffer-controller",e.logger),this.hls=void 0,this.fragmentTracker=void 0,this.details=null,this._objectUrl=null,this.operationQueue=null,this.bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.blockedAudioAppend=null,this.lastVideoAppendEnd=0,this.appendSource=void 0,this.transferData=void 0,this.overrides=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.sourceBuffers=[[null,null],[null,null]],this._onEndStreaming=n=>{var i;this.hls&&((i=this.mediaSource)==null?void 0:i.readyState)==="open"&&this.hls.pauseBuffering()},this._onStartStreaming=n=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=n=>{const{media:i,mediaSource:s}=this;n&&this.log("Media source opened"),!(!i||!s)&&(s.removeEventListener("sourceopen",this._onMediaSourceOpen),i.removeEventListener("emptied",this._onMediaEmptied),this.updateDuration(),this.hls.trigger(P.MEDIA_ATTACHED,{media:i,mediaSource:s}),this.mediaSource!==null&&this.checkPendingTracks())},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:n,_objectUrl:i}=this;n!==i&&this.error(`Media element src was set while attaching MediaSource (${i} > ${n})`)},this.hls=e,this.fragmentTracker=r,this.appendSource=aY(co(e.config.preferManagedMediaSource)),this.initTracks(),this.registerListeners()}hasSourceTypes(){return Object.keys(this.tracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.transferData=this.overrides=void 0,this.operationQueue&&(this.operationQueue.destroy(),this.operationQueue=null),this.hls=this.fragmentTracker=null,this._onMediaSourceOpen=this._onMediaSourceClose=null,this._onMediaSourceEnded=null,this._onStartStreaming=this._onEndStreaming=null}registerListeners(){const{hls:e}=this;e.on(P.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(P.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(P.MANIFEST_LOADING,this.onManifestLoading,this),e.on(P.MANIFEST_PARSED,this.onManifestParsed,this),e.on(P.BUFFER_RESET,this.onBufferReset,this),e.on(P.BUFFER_APPENDING,this.onBufferAppending,this),e.on(P.BUFFER_CODECS,this.onBufferCodecs,this),e.on(P.BUFFER_EOS,this.onBufferEos,this),e.on(P.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(P.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(P.FRAG_PARSED,this.onFragParsed,this),e.on(P.FRAG_CHANGED,this.onFragChanged,this),e.on(P.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(P.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(P.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(P.MANIFEST_LOADING,this.onManifestLoading,this),e.off(P.MANIFEST_PARSED,this.onManifestParsed,this),e.off(P.BUFFER_RESET,this.onBufferReset,this),e.off(P.BUFFER_APPENDING,this.onBufferAppending,this),e.off(P.BUFFER_CODECS,this.onBufferCodecs,this),e.off(P.BUFFER_EOS,this.onBufferEos,this),e.off(P.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(P.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(P.FRAG_PARSED,this.onFragParsed,this),e.off(P.FRAG_CHANGED,this.onFragChanged,this),e.off(P.ERROR,this.onError,this)}transferMedia(){const{media:e,mediaSource:r}=this;if(!e)return null;const n={};if(this.operationQueue){const s=this.isUpdating();s||this.operationQueue.removeBlockers();const a=this.isQueued();(s||a)&&this.warn(`Transfering MediaSource with${a?" operations in queue":""}${s?" updating SourceBuffer(s)":""} ${this.operationQueue}`),this.operationQueue.destroy()}const i=this.transferData;return!this.sourceBufferCount&&i&&i.mediaSource===r?yt(n,i.tracks):this.sourceBuffers.forEach(s=>{const[a]=s;a&&(n[a]=yt({},this.tracks[a]),this.removeBuffer(a)),s[0]=s[1]=null}),{media:e,mediaSource:r,tracks:n}}initTracks(){const e={};this.sourceBuffers=[[null,null],[null,null]],this.tracks=e,this.resetQueue(),this.resetAppendErrors(),this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.lastVideoAppendEnd=0}onManifestLoading(){this.bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,r){var n;let i=2;(r.audio&&!r.video||!r.altAudio)&&(i=1),this.bufferCodecEventsTotal=i,this.log(`${i} bufferCodec event(s) expected.`),(n=this.transferData)!=null&&n.mediaSource&&this.sourceBufferCount&&i&&this.bufferCreated()}onMediaAttaching(e,r){const n=this.media=r.media,i=co(this.appendSource);if(this.transferData=this.overrides=void 0,n&&i){const s=!!r.mediaSource;(s||r.overrides)&&(this.transferData=r,this.overrides=r.overrides);const a=this.mediaSource=r.mediaSource||new i;if(this.assignMediaSource(a),s)this._objectUrl=n.src,this.attachTransferred();else{const o=this._objectUrl=self.URL.createObjectURL(a);if(this.appendSource)try{n.removeAttribute("src");const c=self.ManagedMediaSource;n.disableRemotePlayback=n.disableRemotePlayback||c&&a instanceof c,TC(n),RQ(n,o),n.load()}catch{n.src=o}else n.src=o}n.addEventListener("emptied",this._onMediaEmptied)}}assignMediaSource(e){var r,n;this.log(`${((r=this.transferData)==null?void 0:r.mediaSource)===e?"transferred":"created"} media source: ${(n=e.constructor)==null?void 0:n.name}`),e.addEventListener("sourceopen",this._onMediaSourceOpen),e.addEventListener("sourceended",this._onMediaSourceEnded),e.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(e.addEventListener("startstreaming",this._onStartStreaming),e.addEventListener("endstreaming",this._onEndStreaming))}attachTransferred(){const e=this.media,r=this.transferData;if(!r||!e)return;const n=this.tracks,i=r.tracks,s=i?Object.keys(i):null,a=s?s.length:0,o=()=>{this.media&&this.mediaSourceOpenOrEnded&&this._onMediaSourceOpen()};if(i&&s&&a){if(!this.tracksReady){this.hls.config.startFragPrefetch=!0,this.log("attachTransferred: waiting for SourceBuffer track info");return}if(this.log(`attachTransferred: (bufferCodecEventsTotal ${this.bufferCodecEventsTotal})
required tracks: ${Mt(n,(c,u)=>c==="initSegment"?void 0:u)};
transfer tracks: ${Mt(i,(c,u)=>c==="initSegment"?void 0:u)}}`),!mF(i,n)){r.mediaSource=null,r.tracks=void 0;const c=e.currentTime,u=this.details,d=Math.max(c,(u==null?void 0:u.fragments[0].start)||0);if(d-c>1){this.log(`attachTransferred: waiting for playback to reach new tracks start time ${c} -> ${d}`);return}this.warn(`attachTransferred: resetting MediaSource for incompatible tracks ("${Object.keys(i)}"->"${Object.keys(n)}") start time: ${d} currentTime: ${c}`),this.onMediaDetaching(P.MEDIA_DETACHING,{}),this.onMediaAttaching(P.MEDIA_ATTACHING,r),e.currentTime=d;return}this.transferData=void 0,s.forEach(c=>{const u=c,d=i[u];if(d){const f=d.buffer;if(f){const h=this.fragmentTracker,m=d.id;if(h.hasFragments(m)||h.hasParts(m)){const v=Ge.getBuffered(f);h.detectEvictedFragments(u,v,m,null,!0)}const p=Rx(u),g=[u,f];this.sourceBuffers[p]=g,f.updating&&this.operationQueue&&this.operationQueue.prependBlocker(u),this.trackSourceBuffer(u,d)}}}),o(),this.bufferCreated()}else this.log("attachTransferred: MediaSource w/o SourceBuffers"),o()}get mediaSourceOpenOrEnded(){var e;const r=(e=this.mediaSource)==null?void 0:e.readyState;return r==="open"||r==="ended"}onMediaDetaching(e,r){const n=!!r.transferMedia;this.transferData=this.overrides=void 0;const{media:i,mediaSource:s,_objectUrl:a}=this;if(s){if(this.log(`media source ${n?"transferring":"detaching"}`),n)this.sourceBuffers.forEach(([o])=>{o&&this.removeBuffer(o)}),this.resetQueue();else{if(this.mediaSourceOpenOrEnded){const o=s.readyState==="open";try{const c=s.sourceBuffers;for(let u=c.length;u--;)o&&c[u].abort(),s.removeSourceBuffer(c[u]);o&&s.endOfStream()}catch(c){this.warn(`onMediaDetaching: ${c.message} while calling endOfStream`)}}this.sourceBufferCount&&this.onBufferReset()}s.removeEventListener("sourceopen",this._onMediaSourceOpen),s.removeEventListener("sourceended",this._onMediaSourceEnded),s.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(s.removeEventListener("startstreaming",this._onStartStreaming),s.removeEventListener("endstreaming",this._onEndStreaming)),this.mediaSource=null,this._objectUrl=null}i&&(i.removeEventListener("emptied",this._onMediaEmptied),n||(a&&self.URL.revokeObjectURL(a),this.mediaSrc===a?(i.removeAttribute("src"),this.appendSource&&TC(i),i.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.media=null),this.hls.trigger(P.MEDIA_DETACHED,r)}onBufferReset(){this.sourceBuffers.forEach(([e])=>{e&&this.resetBuffer(e)}),this.initTracks()}resetBuffer(e){var r;const n=(r=this.tracks[e])==null?void 0:r.buffer;if(this.removeBuffer(e),n)try{var i;(i=this.mediaSource)!=null&&i.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(n)}catch(s){this.warn(`onBufferReset ${e}`,s)}delete this.tracks[e]}removeBuffer(e){this.removeBufferListeners(e),this.sourceBuffers[Rx(e)]=[null,null];const r=this.tracks[e];r&&(r.buffer=void 0)}resetQueue(){this.operationQueue&&this.operationQueue.destroy(),this.operationQueue=new OQ(this.tracks)}onBufferCodecs(e,r){const n=this.tracks,i=Object.keys(r);this.log(`BUFFER_CODECS: "${i}" (current SB count ${this.sourceBufferCount})`);const s="audiovideo"in r&&(n.audio||n.video)||n.audiovideo&&("audio"in r||"video"in r),a=!s&&this.sourceBufferCount&&this.media&&i.some(o=>!n[o]);if(s||a){this.warn(`Unsupported transition between "${Object.keys(n)}" and "${i}" SourceBuffers`);return}i.forEach(o=>{var c,u,d;const f=r[o],{id:h,codec:m,levelCodec:p,container:g,metadata:v,supplemental:y}=f;let x=n[o];const b=(c=this.transferData)==null||(u=c.tracks)==null?void 0:u[o],S=b!=null&&b.buffer?b:x,w=(S==null?void 0:S.pendingCodec)||(S==null?void 0:S.codec),T=S==null?void 0:S.levelCodec;x||(x=n[o]={buffer:void 0,listeners:[],codec:m,supplemental:y,container:g,levelCodec:p,metadata:v,id:h});const A=Np(w,T),_=A==null?void 0:A.replace(EC,"$1");let N=Np(m,p);const C=(d=N)==null?void 0:d.replace(EC,"$1");N&&A&&_!==C&&(o.slice(0,5)==="audio"&&(N=bg(N,this.appendSource)),this.log(`switching codec ${w} to ${N}`),N!==(x.pendingCodec||x.codec)&&(x.pendingCodec=N),x.container=g,this.appendChangeType(o,g,N))}),(this.tracksReady||this.sourceBufferCount)&&(r.tracks=this.sourceBufferTracks),!this.sourceBufferCount&&this.mediaSourceOpenOrEnded&&this.checkPendingTracks()}get sourceBufferTracks(){return Object.keys(this.tracks).reduce((e,r)=>{const n=this.tracks[r];return e[r]={id:n.id,container:n.container,codec:n.codec,levelCodec:n.levelCodec},e},{})}appendChangeType(e,r,n){const i=`${r};codecs=${n}`,s={label:`change-type=${i}`,execute:()=>{const a=this.tracks[e];if(a){const o=a.buffer;o!=null&&o.changeType&&(this.log(`changing ${e} sourceBuffer type to ${i}`),o.changeType(i),a.codec=n,a.container=r)}this.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:a=>{this.warn(`Failed to change ${e} SourceBuffer type`,a)}};this.append(s,e,this.isPending(this.tracks[e]))}blockAudio(e){var r;const n=e.start,i=n+e.duration*.05;if(((r=this.fragmentTracker.getAppendedFrag(n,Pe.MAIN))==null?void 0:r.gap)===!0)return;const a={label:"block-audio",execute:()=>{var o;const c=this.tracks.video;(this.lastVideoAppendEnd>i||c!=null&&c.buffer&&Ge.isBuffered(c.buffer,i)||((o=this.fragmentTracker.getAppendedFrag(i,Pe.MAIN))==null?void 0:o.gap)===!0)&&(this.blockedAudioAppend=null,this.shiftAndExecuteNext("audio"))},onStart:()=>{},onComplete:()=>{},onError:o=>{this.warn("Error executing block-audio operation",o)}};this.blockedAudioAppend={op:a,frag:e},this.append(a,"audio",!0)}unblockAudio(){const{blockedAudioAppend:e,operationQueue:r}=this;e&&r&&(this.blockedAudioAppend=null,r.unblockAudio(e.op))}onBufferAppending(e,r){const{tracks:n}=this,{data:i,type:s,parent:a,frag:o,part:c,chunkMeta:u,offset:d}=r,f=u.buffering[s],{sn:h,cc:m}=o,p=self.performance.now();f.start=p;const g=o.stats.buffering,v=c?c.stats.buffering:null;g.start===0&&(g.start=p),v&&v.start===0&&(v.start=p);const y=n.audio;let x=!1;s==="audio"&&(y==null?void 0:y.container)==="audio/mpeg"&&(x=!this.lastMpegAudioChunk||u.id===1||this.lastMpegAudioChunk.sn!==u.sn,this.lastMpegAudioChunk=u);const b=n.video,S=b==null?void 0:b.buffer;if(S&&h!=="initSegment"){const A=c||o,_=this.blockedAudioAppend;if(s==="audio"&&a!=="main"&&!this.blockedAudioAppend){const C=A.start+A.duration*.05,j=S.buffered,O=this.currentOp("video");!j.length&&!O?this.blockAudio(A):!O&&!Ge.isBuffered(S,C)&&this.lastVideoAppendEnd<C&&this.blockAudio(A)}else if(s==="video"){const N=A.end;if(_){const C=_.frag.start;(N>C||N<this.lastVideoAppendEnd||Ge.isBuffered(S,C))&&this.unblockAudio()}this.lastVideoAppendEnd=N}}const w=(c||o).start,T={label:`append-${s}`,execute:()=>{var A;f.executeStart=self.performance.now();const _=(A=this.tracks[s])==null?void 0:A.buffer;_&&(x?this.updateTimestampOffset(_,w,.1,s,h,m):d!==void 0&&ye(d)&&this.updateTimestampOffset(_,d,1e-6,s,h,m)),this.appendExecutor(i,s)},onStart:()=>{},onComplete:()=>{const A=self.performance.now();f.executeEnd=f.end=A,g.first===0&&(g.first=A),v&&v.first===0&&(v.first=A);const _={};this.sourceBuffers.forEach(([N,C])=>{N&&(_[N]=Ge.getBuffered(C))}),this.appendErrors[s]=0,s==="audio"||s==="video"?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(P.BUFFER_APPENDED,{type:s,frag:o,part:c,chunkMeta:u,parent:o.type,timeRanges:_})},onError:A=>{var _;const N={type:Ie.MEDIA_ERROR,parent:o.type,details:K.BUFFER_APPEND_ERROR,sourceBufferName:s,frag:o,part:c,chunkMeta:u,error:A,err:A,fatal:!1},C=(_=this.media)==null?void 0:_.error;if(A.code===DOMException.QUOTA_EXCEEDED_ERR||A.name=="QuotaExceededError"||"quota"in A)N.details=K.BUFFER_FULL_ERROR;else if(A.code===DOMException.INVALID_STATE_ERR&&this.mediaSourceOpenOrEnded&&!C)N.errorAction=qf(!0);else if(A.name===f4&&this.sourceBufferCount===0)N.errorAction=qf(!0);else{const j=++this.appendErrors[s];this.warn(`Failed ${j}/${this.hls.config.appendErrorMaxRetry} times to append segment in "${s}" sourceBuffer (${C||"no media error"})`),(j>=this.hls.config.appendErrorMaxRetry||C)&&(N.fatal=!0)}this.hls.trigger(P.ERROR,N)}};this.append(T,s,this.isPending(this.tracks[s]))}getFlushOp(e,r,n){return this.log(`queuing "${e}" remove ${r}-${n}`),{label:"remove",execute:()=>{this.removeExecutor(e,r,n)},onStart:()=>{},onComplete:()=>{this.hls.trigger(P.BUFFER_FLUSHED,{type:e})},onError:i=>{this.warn(`Failed to remove ${r}-${n} from "${e}" SourceBuffer`,i)}}}onBufferFlushing(e,r){const{type:n,startOffset:i,endOffset:s}=r;n?this.append(this.getFlushOp(n,i,s),n):this.sourceBuffers.forEach(([a])=>{a&&this.append(this.getFlushOp(a,i,s),a)})}onFragParsed(e,r){const{frag:n,part:i}=r,s=[],a=i?i.elementaryStreams:n.elementaryStreams;a[Tt.AUDIOVIDEO]?s.push("audiovideo"):(a[Tt.AUDIO]&&s.push("audio"),a[Tt.VIDEO]&&s.push("video"));const o=()=>{const c=self.performance.now();n.stats.buffering.end=c,i&&(i.stats.buffering.end=c);const u=i?i.stats:n.stats;this.hls.trigger(P.FRAG_BUFFERED,{frag:n,part:i,stats:u,id:n.type})};s.length===0&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${n.type} level: ${n.level} sn: ${n.sn}`),this.blockBuffers(o,s).catch(c=>{this.warn(`Fragment buffered callback ${c}`),this.stepOperationQueue(this.sourceBufferTypes)})}onFragChanged(e,r){this.trimBuffers()}get bufferedToEnd(){return this.sourceBufferCount>0&&!this.sourceBuffers.some(([e])=>{var r,n;return e&&(!((r=this.tracks[e])!=null&&r.ended)||((n=this.tracks[e])==null?void 0:n.ending))})}onBufferEos(e,r){var n;this.sourceBuffers.forEach(([a])=>{if(a){const o=this.tracks[a];(!r.type||r.type===a)&&(o.ending=!0,o.ended||(o.ended=!0,this.log(`${a} buffer reached EOS`)))}});const i=((n=this.overrides)==null?void 0:n.endOfStream)!==!1;this.sourceBufferCount>0&&!this.sourceBuffers.some(([a])=>{var o;return a&&!((o=this.tracks[a])!=null&&o.ended)})&&(i?(this.log("Queueing EOS"),this.blockUntilOpen(()=>{this.tracksEnded();const{mediaSource:a}=this;if(!a||a.readyState!=="open"){a&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${a.readyState}`);return}this.log("Calling mediaSource.endOfStream()"),a.endOfStream(),this.hls.trigger(P.BUFFERED_TO_END,void 0)})):(this.tracksEnded(),this.hls.trigger(P.BUFFERED_TO_END,void 0)))}tracksEnded(){this.sourceBuffers.forEach(([e])=>{if(e!==null){const r=this.tracks[e];r&&(r.ending=!1)}})}onLevelUpdated(e,{details:r}){r.fragments.length&&(this.details=r,this.updateDuration())}updateDuration(){this.blockUntilOpen(()=>{const e=this.getDurationAndRange();e&&this.updateMediaSource(e)})}onError(e,r){if(r.details===K.BUFFER_APPEND_ERROR&&r.frag){var n;const i=(n=r.errorAction)==null?void 0:n.nextAutoLevel;ye(i)&&i!==r.frag.level&&this.resetAppendErrors()}}resetAppendErrors(){this.appendErrors={audio:0,video:0,audiovideo:0}}trimBuffers(){const{hls:e,details:r,media:n}=this;if(!n||r===null||!this.sourceBufferCount)return;const i=e.config,s=n.currentTime,a=r.levelTargetDuration,o=r.live&&i.liveBackBufferLength!==null?i.liveBackBufferLength:i.backBufferLength;if(ye(o)&&o>=0){const c=Math.max(o,a),u=Math.floor(s/a)*a-c;this.flushBackBuffer(s,a,u)}if(ye(i.frontBufferFlushThreshold)&&i.frontBufferFlushThreshold>0){const c=Math.max(i.maxBufferLength,i.frontBufferFlushThreshold),u=Math.max(c,a),d=Math.floor(s/a)*a+u;this.flushFrontBuffer(s,a,d)}}flushBackBuffer(e,r,n){this.sourceBuffers.forEach(([i,s])=>{if(s){const o=Ge.getBuffered(s);if(o.length>0&&n>o.start(0)){var a;this.hls.trigger(P.BACK_BUFFER_REACHED,{bufferEnd:n});const c=this.tracks[i];if((a=this.details)!=null&&a.live)this.hls.trigger(P.LIVE_BACK_BUFFER_REACHED,{bufferEnd:n});else if(c!=null&&c.ended){this.log(`Cannot flush ${i} back buffer while SourceBuffer is in ended state`);return}this.hls.trigger(P.BUFFER_FLUSHING,{startOffset:0,endOffset:n,type:i})}}})}flushFrontBuffer(e,r,n){this.sourceBuffers.forEach(([i,s])=>{if(s){const a=Ge.getBuffered(s),o=a.length;if(o<2)return;const c=a.start(o-1),u=a.end(o-1);if(n>c||e>=c&&e<=u)return;this.hls.trigger(P.BUFFER_FLUSHING,{startOffset:c,endOffset:1/0,type:i})}})}getDurationAndRange(){var e;const{details:r,mediaSource:n}=this;if(!r||!this.media||(n==null?void 0:n.readyState)!=="open")return null;const i=r.edge;if(r.live&&this.hls.config.liveDurationInfinity){if(r.fragments.length&&r.live&&n.setLiveSeekableRange){const u=Math.max(0,r.fragmentStart),d=Math.max(u,i);return{duration:1/0,start:u,end:d}}return{duration:1/0}}const s=(e=this.overrides)==null?void 0:e.duration;if(s)return ye(s)?{duration:s}:null;const a=this.media.duration,o=ye(n.duration)?n.duration:0;return i>o&&i>a||!ye(a)?{duration:i}:null}updateMediaSource({duration:e,start:r,end:n}){const i=this.mediaSource;!this.media||!i||i.readyState!=="open"||(i.duration!==e&&(ye(e)&&this.log(`Updating MediaSource duration to ${e.toFixed(3)}`),i.duration=e),r!==void 0&&n!==void 0&&(this.log(`MediaSource duration is set to ${i.duration}. Setting seekable range to ${r}-${n}.`),i.setLiveSeekableRange(r,n)))}get tracksReady(){const e=this.pendingTrackCount;return e>0&&(e>=this.bufferCodecEventsTotal||this.isPending(this.tracks.audiovideo))}checkPendingTracks(){const{bufferCodecEventsTotal:e,pendingTrackCount:r,tracks:n}=this;if(this.log(`checkPendingTracks (pending: ${r} codec events expected: ${e}) ${Mt(n)}`),this.tracksReady){var i;const s=(i=this.transferData)==null?void 0:i.tracks;s&&Object.keys(s).length?this.attachTransferred():this.createSourceBuffers()}}bufferCreated(){if(this.sourceBufferCount){const e={};this.sourceBuffers.forEach(([r,n])=>{if(r){const i=this.tracks[r];e[r]={buffer:n,container:i.container,codec:i.codec,supplemental:i.supplemental,levelCodec:i.levelCodec,id:i.id,metadata:i.metadata}}}),this.hls.trigger(P.BUFFER_CREATED,{tracks:e}),this.log(`SourceBuffers created. Running queue: ${this.operationQueue}`),this.sourceBuffers.forEach(([r])=>{this.executeNext(r)})}else{const e=new Error("could not create source buffer for media codec(s)");this.hls.trigger(P.ERROR,{type:Ie.MEDIA_ERROR,details:K.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:e,reason:e.message})}}createSourceBuffers(){const{tracks:e,sourceBuffers:r,mediaSource:n}=this;if(!n)throw new Error("createSourceBuffers called when mediaSource was null");for(const s in e){const a=s,o=e[a];if(this.isPending(o)){const c=this.getTrackCodec(o,a),u=`${o.container};codecs=${c}`;o.codec=c,this.log(`creating sourceBuffer(${u})${this.currentOp(a)?" Queued":""} ${Mt(o)}`);try{const d=n.addSourceBuffer(u),f=Rx(a),h=[a,d];r[f]=h,o.buffer=d}catch(d){var i;this.error(`error while trying to add sourceBuffer: ${d.message}`),this.shiftAndExecuteNext(a),(i=this.operationQueue)==null||i.removeBlockers(),delete this.tracks[a],this.hls.trigger(P.ERROR,{type:Ie.MEDIA_ERROR,details:K.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:d,sourceBufferName:a,mimeType:u,parent:o.id});return}this.trackSourceBuffer(a,o)}}this.bufferCreated()}getTrackCodec(e,r){const n=e.supplemental;let i=e.codec;n&&(r==="video"||r==="audiovideo")&&Ww(n,"video")&&(i=_Y(i,n));const s=Np(i,e.levelCodec);return s?r.slice(0,5)==="audio"?bg(s,this.appendSource):s:""}trackSourceBuffer(e,r){const n=r.buffer;if(!n)return;const i=this.getTrackCodec(r,e);this.tracks[e]={buffer:n,codec:i,container:r.container,levelCodec:r.levelCodec,supplemental:r.supplemental,metadata:r.metadata,id:r.id,listeners:[]},this.removeBufferListeners(e),this.addBufferListener(e,"updatestart",this.onSBUpdateStart),this.addBufferListener(e,"updateend",this.onSBUpdateEnd),this.addBufferListener(e,"error",this.onSBUpdateError),this.appendSource&&this.addBufferListener(e,"bufferedchange",(s,a)=>{const o=a.removedRanges;o!=null&&o.length&&this.hls.trigger(P.BUFFER_FLUSHED,{type:s})})}get mediaSrc(){var e,r;const n=((e=this.media)==null||(r=e.querySelector)==null?void 0:r.call(e,"source"))||this.media;return n==null?void 0:n.src}onSBUpdateStart(e){const r=this.currentOp(e);r&&r.onStart()}onSBUpdateEnd(e){var r;if(((r=this.mediaSource)==null?void 0:r.readyState)==="closed"){this.resetBuffer(e);return}const n=this.currentOp(e);n&&(n.onComplete(),this.shiftAndExecuteNext(e))}onSBUpdateError(e,r){var n;const i=new Error(`${e} SourceBuffer error. MediaSource readyState: ${(n=this.mediaSource)==null?void 0:n.readyState}`);this.error(`${i}`,r),this.hls.trigger(P.ERROR,{type:Ie.MEDIA_ERROR,details:K.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:i,fatal:!1});const s=this.currentOp(e);s&&s.onError(i)}updateTimestampOffset(e,r,n,i,s,a){const o=r-e.timestampOffset;Math.abs(o)>=n&&(this.log(`Updating ${i} SourceBuffer timestampOffset to ${r} (sn: ${s} cc: ${a})`),e.timestampOffset=r)}removeExecutor(e,r,n){const{media:i,mediaSource:s}=this,a=this.tracks[e],o=a==null?void 0:a.buffer;if(!i||!s||!o){this.warn(`Attempting to remove from the ${e} SourceBuffer, but it does not exist`),this.shiftAndExecuteNext(e);return}const c=ye(i.duration)?i.duration:1/0,u=ye(s.duration)?s.duration:1/0,d=Math.max(0,r),f=Math.min(n,c,u);f>d&&(!a.ending||a.ended)?(a.ended=!1,this.log(`Removing [${d},${f}] from the ${e} SourceBuffer`),o.remove(d,f)):this.shiftAndExecuteNext(e)}appendExecutor(e,r){const n=this.tracks[r],i=n==null?void 0:n.buffer;if(!i)throw new IQ(`Attempting to append to the ${r} SourceBuffer, but it does not exist`);n.ending=!1,n.ended=!1,i.appendBuffer(e)}blockUntilOpen(e){if(this.isUpdating()||this.isQueued())this.blockBuffers(e).catch(r=>{this.warn(`SourceBuffer blocked callback ${r}`),this.stepOperationQueue(this.sourceBufferTypes)});else try{e()}catch(r){this.warn(`Callback run without blocking ${this.operationQueue} ${r}`)}}isUpdating(){return this.sourceBuffers.some(([e,r])=>e&&r.updating)}isQueued(){return this.sourceBuffers.some(([e])=>e&&!!this.currentOp(e))}isPending(e){return!!e&&!e.buffer}blockBuffers(e,r=this.sourceBufferTypes){if(!r.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);const{operationQueue:n}=this,i=r.map(a=>this.appendBlocker(a));return r.length>1&&!!this.blockedAudioAppend&&this.unblockAudio(),Promise.all(i).then(a=>{n===this.operationQueue&&(e(),this.stepOperationQueue(this.sourceBufferTypes))})}stepOperationQueue(e){e.forEach(r=>{var n;const i=(n=this.tracks[r])==null?void 0:n.buffer;!i||i.updating||this.shiftAndExecuteNext(r)})}append(e,r,n){this.operationQueue&&this.operationQueue.append(e,r,n)}appendBlocker(e){if(this.operationQueue)return this.operationQueue.appendBlocker(e)}currentOp(e){return this.operationQueue?this.operationQueue.current(e):null}executeNext(e){e&&this.operationQueue&&this.operationQueue.executeNext(e)}shiftAndExecuteNext(e){this.operationQueue&&this.operationQueue.shiftAndExecuteNext(e)}get pendingTrackCount(){return Object.keys(this.tracks).reduce((e,r)=>e+(this.isPending(this.tracks[r])?1:0),0)}get sourceBufferCount(){return this.sourceBuffers.reduce((e,[r])=>e+(r?1:0),0)}get sourceBufferTypes(){return this.sourceBuffers.map(([e])=>e).filter(e=>!!e)}addBufferListener(e,r,n){const i=this.tracks[e];if(!i)return;const s=i.buffer;if(!s)return;const a=n.bind(this,e);i.listeners.push({event:r,listener:a}),s.addEventListener(r,a)}removeBufferListeners(e){const r=this.tracks[e];if(!r)return;const n=r.buffer;n&&(r.listeners.forEach(i=>{n.removeEventListener(i.event,i.listener)}),r.listeners.length=0)}}function TC(t){const e=t.querySelectorAll("source");[].slice.call(e).forEach(r=>{t.removeChild(r)})}function RQ(t,e){const r=self.document.createElement("source");r.type="video/mp4",r.src=e,t.appendChild(r)}function Rx(t){return t==="audio"?1:0}class YT{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(P.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(P.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(P.MANIFEST_PARSED,this.onManifestParsed,this),e.on(P.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(P.BUFFER_CODECS,this.onBufferCodecs,this),e.on(P.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(P.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(P.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(P.MANIFEST_PARSED,this.onManifestParsed,this),e.off(P.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(P.BUFFER_CODECS,this.onBufferCodecs,this),e.off(P.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,r){const n=this.hls.levels[r.droppedLevel];this.isLevelAllowed(n)&&this.restrictedLevels.push({bitrate:n.bitrate,height:n.height,width:n.width})}onMediaAttaching(e,r){this.media=r.media instanceof HTMLVideoElement?r.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,r){const n=this.hls;this.restrictedLevels=[],this.firstLevel=r.firstLevel,n.config.capLevelToPlayerSize&&r.video&&this.startCapping()}onLevelsUpdated(e,r){this.timer&&ye(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,r){this.hls.config.capLevelToPlayerSize&&r.video&&this.startCapping()}onMediaDetaching(){this.stopCapping(),this.media=null}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0){this.clientRect=null;return}const e=this.hls.levels;if(e.length){const r=this.hls,n=this.getMaxLevel(e.length-1);n!==this.autoLevelCapping&&r.logger.log(`Setting autoLevelCapping to ${n}: ${e[n].height}p@${e[n].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),r.autoLevelCapping=n,r.autoLevelEnabled&&r.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=r.autoLevelCapping}}}getMaxLevel(e){const r=this.hls.levels;if(!r.length)return-1;const n=r.filter((i,s)=>this.isLevelAllowed(i)&&s<=e);return this.clientRect=null,YT.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,r={width:0,height:0};if(e){const n=e.getBoundingClientRect();r.width=n.width,r.height=n.height,!r.width&&!r.height&&(r.width=n.right-n.left||e.width||0,r.height=n.bottom-n.top||e.height||0)}return this.clientRect=r,r}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch{}return Math.min(e,this.hls.config.maxDevicePixelRatio)}isLevelAllowed(e){return!this.restrictedLevels.some(n=>e.bitrate===n.bitrate&&e.width===n.width&&e.height===n.height)}static getMaxLevelByMediaSize(e,r,n){if(!(e!=null&&e.length))return-1;const i=(o,c)=>c?o.width!==c.width||o.height!==c.height:!0;let s=e.length-1;const a=Math.max(r,n);for(let o=0;o<e.length;o+=1){const c=e[o];if((c.width>=a||c.height>=a)&&i(c,e[o+1])){s=o;break}}return s}}const LQ={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"},mn=LQ,DQ={HLS:"h"},MQ=DQ,$Q="CMCD-Object",FQ="CMCD-Request",BQ="CMCD-Session",UQ="CMCD-Status",qd={OBJECT:$Q,REQUEST:FQ,SESSION:BQ,STATUS:UQ},VQ={[qd.OBJECT]:["br","ab","d","ot","tb","tpb","lb","tab","lab","url"],[qd.REQUEST]:["pb","bl","tbl","dl","ltc","mtp","nor","nrr","rc","sn","sta","su","ttfb","ttfbb","ttlb","cmsdd","cmsds","smrt","df","cs"],[qd.SESSION]:["cid","pr","sf","sid","st","v","msd"],[qd.STATUS]:["bs","bsd","cdn","rtp","bg","pt","ec","e"]};class hu{constructor(e,r){Array.isArray(e)&&(e=e.map(n=>n instanceof hu?n:new hu(n))),this.value=e,this.params=r}}const GQ="Dict";function HQ(t){return Array.isArray(t)?JSON.stringify(t):t instanceof Map?"Map{}":t instanceof Set?"Set{}":typeof t=="object"?JSON.stringify(t):String(t)}function zQ(t,e,r,n){return new Error(`failed to ${t} "${HQ(e)}" as ${r}`,{cause:n})}function fs(t,e,r){return zQ("serialize",t,e,r)}class h4{constructor(e){this.description=e}}const AC="Bare Item",WQ="Boolean";function KQ(t){if(typeof t!="boolean")throw fs(t,WQ);return t?"?1":"?0"}function qQ(t){return btoa(String.fromCharCode(...t))}const YQ="Byte Sequence";function XQ(t){if(ArrayBuffer.isView(t)===!1)throw fs(t,YQ);return`:${qQ(t)}:`}const QQ="Integer";function ZQ(t){return t<-999999999999999||999999999999999<t}function m4(t){if(ZQ(t))throw fs(t,QQ);return t.toString()}function JQ(t){return`@${m4(t.getTime()/1e3)}`}function p4(t,e){if(t<0)return-p4(-t,e);const r=Math.pow(10,e);if(Math.abs(t*r%1-.5)<Number.EPSILON){const i=Math.floor(t*r);return(i%2===0?i:i+1)/r}else return Math.round(t*r)/r}const eZ="Decimal";function tZ(t){const e=p4(t,3);if(Math.floor(Math.abs(e)).toString().length>12)throw fs(t,eZ);const r=e.toString();return r.includes(".")?r:`${r}.0`}const rZ="String",nZ=/[\x00-\x1f\x7f]+/;function iZ(t){if(nZ.test(t))throw fs(t,rZ);return`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function sZ(t){return t.description||t.toString().slice(7,-1)}const aZ="Token";function _C(t){const e=sZ(t);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e)===!1)throw fs(e,aZ);return e}function nS(t){switch(typeof t){case"number":if(!ye(t))throw fs(t,AC);return Number.isInteger(t)?m4(t):tZ(t);case"string":return iZ(t);case"symbol":return _C(t);case"boolean":return KQ(t);case"object":if(t instanceof Date)return JQ(t);if(t instanceof Uint8Array)return XQ(t);if(t instanceof h4)return _C(t);default:throw fs(t,AC)}}const oZ="Key";function iS(t){if(/^[a-z*][a-z0-9\-_.*]*$/.test(t)===!1)throw fs(t,oZ);return t}function XT(t){return t==null?"":Object.entries(t).map(([e,r])=>r===!0?`;${iS(e)}`:`;${iS(e)}=${nS(r)}`).join("")}function g4(t){return t instanceof hu?`${nS(t.value)}${XT(t.params)}`:nS(t)}function lZ(t){return`(${t.value.map(g4).join(" ")})${XT(t.params)}`}function cZ(t,e={whitespace:!0}){if(typeof t!="object")throw fs(t,GQ);const r=t instanceof Map?t.entries():Object.entries(t),n=e!=null&&e.whitespace?" ":"";return Array.from(r).map(([i,s])=>{s instanceof hu||(s=new hu(s));let a=iS(i);return s.value===!0?a+=XT(s.params):(a+="=",Array.isArray(s.value)?a+=lZ(s):a+=g4(s)),a}).join(`,${n}`)}function uZ(t,e){return cZ(t,e)}function dZ(t){return["ot","sf","st","e","sta"].includes(t)}function fZ(t){return typeof t=="number"?ye(t):t!=null&&t!==""&&t!==!1}function hZ(t,e){const r=new URL(t),n=new URL(e);if(r.origin!==n.origin)return t;const i=r.pathname.split("/").slice(1),s=n.pathname.split("/").slice(1,-1);for(;i[0]===s[0];)i.shift(),s.shift();for(;s.length;)s.shift(),i.unshift("..");return i.join("/")}const kp=t=>Math.round(t),mZ=(t,e)=>(e!=null&&e.baseUrl&&(t=hZ(t,e.baseUrl)),encodeURIComponent(t)),Gm=t=>kp(t/100)*100,pZ={br:kp,d:kp,bl:Gm,dl:Gm,mtp:Gm,nor:mZ,rtp:Gm,tb:kp};function gZ(t,e){const r={};if(t==null||typeof t!="object")return r;const n=Object.keys(t).sort(),i=yt({},pZ,e==null?void 0:e.formatters),s=e==null?void 0:e.filter;return n.forEach(a=>{if((s==null?void 0:s(a))===!1)return;let o=t[a];const c=i[a];c&&(o=c(o,e)),!(a==="v"&&o===1)&&(a=="pr"&&o===1||fZ(o)&&(dZ(a)&&typeof o=="string"&&(o=new h4(o)),r[a]=o))}),r}function v4(t,e={}){return t?uZ(gZ(t,e),yt({whitespace:!1},e)):""}function vZ(t,e={}){const r={};if(!t)return r;const n=Object.entries(t),i=Object.entries(VQ).concat(Object.entries((e==null?void 0:e.customHeaderMap)||{})),s=n.reduce((a,o)=>{var c,u;const[d,f]=o,h=((c=i.find(m=>m[1].includes(d)))===null||c===void 0?void 0:c[0])||qd.REQUEST;return(u=a[h])!==null&&u!==void 0||(a[h]={}),a[h][d]=f,a},{});return Object.entries(s).reduce((a,[o,c])=>(a[o]=v4(c,e),a),r)}function yZ(t,e,r){return yt(t,vZ(e,r))}const xZ="CMCD";function bZ(t,e={}){if(!t)return"";const r=v4(t,e);return`${xZ}=${encodeURIComponent(r)}`}const PC=/CMCD=[^&#]+/;function wZ(t,e,r){const n=bZ(e,r);if(!n)return t;if(PC.test(t))return t.replace(PC,n);const i=t.includes("?")?"&":"?";return`${t}${i}${n}`}class SZ{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=i=>{try{this.apply(i,{ot:mn.MANIFEST,su:!this.initialized})}catch(s){this.hls.logger.warn("Could not generate manifest CMCD data.",s)}},this.applyFragmentData=i=>{try{const{frag:s,part:a}=i,o=this.hls.levels[s.level],c=this.getObjectType(s),u={d:(a||s).duration*1e3,ot:c};(c===mn.VIDEO||c===mn.AUDIO||c==mn.MUXED)&&(u.br=o.bitrate/1e3,u.tb=this.getTopBandwidth(c)/1e3,u.bl=this.getBufferLength(c));const d=a?this.getNextPart(a):this.getNextFrag(s);d!=null&&d.url&&d.url!==s.url&&(u.nor=d.url),this.apply(i,u)}catch(s){this.hls.logger.warn("Could not generate segment CMCD data.",s)}},this.hls=e;const r=this.config=e.config,{cmcd:n}=r;n!=null&&(r.pLoader=this.createPlaylistLoader(),r.fLoader=this.createFragmentLoader(),this.sid=n.sessionId||e.sessionId,this.cid=n.contentId,this.useHeaders=n.useHeaders===!0,this.includeKeys=n.includeKeys,this.registerListeners())}registerListeners(){const e=this.hls;e.on(P.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(P.MEDIA_DETACHED,this.onMediaDetached,this),e.on(P.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(P.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(P.MEDIA_DETACHED,this.onMediaDetached,this),e.off(P.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=this.media=null}onMediaAttached(e,r){this.media=r.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,r){var n,i;this.audioBuffer=(n=r.tracks.audio)==null?void 0:n.buffer,this.videoBuffer=(i=r.tracks.video)==null?void 0:i.buffer}createData(){var e;return{v:1,sf:MQ.HLS,sid:this.sid,cid:this.cid,pr:(e=this.media)==null?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,r={}){yt(r,this.createData());const n=r.ot===mn.INIT||r.ot===mn.VIDEO||r.ot===mn.MUXED;this.starved&&n&&(r.bs=!0,r.su=!0,this.starved=!1),r.su==null&&(r.su=this.buffering);const{includeKeys:i}=this;i&&(r=Object.keys(r).reduce((a,o)=>(i.includes(o)&&(a[o]=r[o]),a),{}));const s={baseUrl:e.url};this.useHeaders?(e.headers||(e.headers={}),yZ(e.headers,r,s)):e.url=wZ(e.url,r,s)}getNextFrag(e){var r;const n=(r=this.hls.levels[e.level])==null?void 0:r.details;if(n){const i=e.sn-n.startSN;return n.fragments[i+1]}}getNextPart(e){var r,n;const{index:i,fragment:s}=e,a=(r=this.hls.levels[s.level])==null||(n=r.details)==null?void 0:n.partList;if(a){const{sn:o}=s;for(let c=a.length-1;c>=0;c--){const u=a[c];if(u.index===i&&u.fragment.sn===o)return a[c+1]}}}getObjectType(e){const{type:r}=e;if(r==="subtitle")return mn.TIMED_TEXT;if(e.sn==="initSegment")return mn.INIT;if(r==="audio")return mn.AUDIO;if(r==="main")return this.hls.audioTracks.length?mn.VIDEO:mn.MUXED}getTopBandwidth(e){let r=0,n;const i=this.hls;if(e===mn.AUDIO)n=i.audioTracks;else{const s=i.maxAutoLevel,a=s>-1?s+1:i.levels.length;n=i.levels.slice(0,a)}return n.forEach(s=>{s.bitrate>r&&(r=s.bitrate)}),r>0?r:NaN}getBufferLength(e){const r=this.media,n=e===mn.AUDIO?this.audioBuffer:this.videoBuffer;return!n||!r?NaN:Ge.bufferInfo(n,r.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:e}=this.config,r=this.applyPlaylistData,n=e||this.config.loader;return class{constructor(s){this.loader=void 0,this.loader=new n(s)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(s,a,o){r(s),this.loader.load(s,a,o)}}}createFragmentLoader(){const{fLoader:e}=this.config,r=this.applyFragmentData,n=e||this.config.loader;return class{constructor(s){this.loader=void 0,this.loader=new n(s)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(s,a,o){r(s),this.loader.load(s,a,o)}}}}const EZ=3e5;class TZ extends Fi{constructor(e){super("content-steering",e.logger),this.hls=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this._pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(P.MANIFEST_LOADING,this.onManifestLoading,this),e.on(P.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(P.MANIFEST_PARSED,this.onManifestParsed,this),e.on(P.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(P.MANIFEST_LOADING,this.onManifestLoading,this),e.off(P.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(P.MANIFEST_PARSED,this.onManifestParsed,this),e.off(P.ERROR,this.onError,this))}pathways(){return(this.levels||[]).reduce((e,r)=>(e.indexOf(r.pathwayId)===-1&&e.push(r.pathwayId),e),[])}get pathwayPriority(){return this._pathwayPriority}set pathwayPriority(e){this.updatePathwayPriority(e)}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const e=this.timeToLoad*1e3-(performance.now()-this.updated);if(e>0){this.scheduleRefresh(this.uri,e);return}}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){this.reloadTimer!==-1&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const r=this.levels;r&&(this.levels=r.filter(n=>n!==e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,r){const{contentSteering:n}=r;n!==null&&(this.pathwayId=n.pathwayId,this.uri=n.uri,this.started&&this.startLoad())}onManifestParsed(e,r){this.audioTracks=r.audioTracks,this.subtitleTracks=r.subtitleTracks}onError(e,r){const{errorAction:n}=r;if((n==null?void 0:n.action)===Wr.SendAlternateToPenaltyBox&&n.flags===Si.MoveAllAlternatesMatchingHost){const i=this.levels;let s=this._pathwayPriority,a=this.pathwayId;if(r.context){const{groupId:o,pathwayId:c,type:u}=r.context;o&&i?a=this.getPathwayForGroupId(o,u,a):c&&(a=c)}a in this.penalizedPathways||(this.penalizedPathways[a]=performance.now()),!s&&i&&(s=this.pathways()),s&&s.length>1&&(this.updatePathwayPriority(s),n.resolved=this.pathwayId!==a),r.details===K.BUFFER_APPEND_ERROR&&!r.fatal?n.resolved=!0:n.resolved||this.warn(`Could not resolve ${r.details} ("${r.error.message}") with content-steering for Pathway: ${a} levels: ${i&&i.length} priorities: ${Mt(s)} penalized: ${Mt(this.penalizedPathways)}`)}}filterParsedLevels(e){this.levels=e;let r=this.getLevelsForPathway(this.pathwayId);if(r.length===0){const n=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${n}"`),r=this.getLevelsForPathway(n),this.pathwayId=n}return r.length!==e.length&&this.log(`Found ${r.length}/${e.length} levels in Pathway "${this.pathwayId}"`),r}getLevelsForPathway(e){return this.levels===null?[]:this.levels.filter(r=>e===r.pathwayId)}updatePathwayPriority(e){this._pathwayPriority=e;let r;const n=this.penalizedPathways,i=performance.now();Object.keys(n).forEach(s=>{i-n[s]>EZ&&delete n[s]});for(let s=0;s<e.length;s++){const a=e[s];if(a in n)continue;if(a===this.pathwayId)return;const o=this.hls.nextLoadLevel,c=this.hls.levels[o];if(r=this.getLevelsForPathway(a),r.length>0){this.log(`Setting Pathway to "${a}"`),this.pathwayId=a,VF(r),this.hls.trigger(P.LEVELS_UPDATED,{levels:r});const u=this.hls.levels[o];c&&u&&this.levels&&(u.attrs["STABLE-VARIANT-ID"]!==c.attrs["STABLE-VARIANT-ID"]&&u.bitrate!==c.bitrate&&this.log(`Unstable Pathways change from bitrate ${c.bitrate} to ${u.bitrate}`),this.hls.nextLoadLevel=o);break}}}getPathwayForGroupId(e,r,n){const i=this.getLevelsForPathway(n).concat(this.levels||[]);for(let s=0;s<i.length;s++)if(r===et.AUDIO_TRACK&&i[s].hasAudioGroup(e)||r===et.SUBTITLE_TRACK&&i[s].hasSubtitleGroup(e))return i[s].pathwayId;return n}clonePathways(e){const r=this.levels;if(!r)return;const n={},i={};e.forEach(s=>{const{ID:a,"BASE-ID":o,"URI-REPLACEMENT":c}=s;if(r.some(d=>d.pathwayId===a))return;const u=this.getLevelsForPathway(o).map(d=>{const f=new Ut(d.attrs);f["PATHWAY-ID"]=a;const h=f.AUDIO&&`${f.AUDIO}_clone_${a}`,m=f.SUBTITLES&&`${f.SUBTITLES}_clone_${a}`;h&&(n[f.AUDIO]=h,f.AUDIO=h),m&&(i[f.SUBTITLES]=m,f.SUBTITLES=m);const p=y4(d.uri,f["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",c),g=new Kf({attrs:f,audioCodec:d.audioCodec,bitrate:d.bitrate,height:d.height,name:d.name,url:p,videoCodec:d.videoCodec,width:d.width});if(d.audioGroups)for(let v=1;v<d.audioGroups.length;v++)g.addGroupId("audio",`${d.audioGroups[v]}_clone_${a}`);if(d.subtitleGroups)for(let v=1;v<d.subtitleGroups.length;v++)g.addGroupId("text",`${d.subtitleGroups[v]}_clone_${a}`);return g});r.push(...u),NC(this.audioTracks,n,c,a),NC(this.subtitleTracks,i,c,a)})}loadSteeringManifest(e){const r=this.hls.config,n=r.loader;this.loader&&this.loader.destroy(),this.loader=new n(r);let i;try{i=new self.URL(e)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${e}`);return}if(i.protocol!=="data:"){const d=(this.hls.bandwidthEstimate||r.abrEwmaDefaultEstimate)|0;i.searchParams.set("_HLS_pathway",this.pathwayId),i.searchParams.set("_HLS_throughput",""+d)}const s={responseType:"json",url:i.href},a=r.steeringManifestLoadPolicy.default,o=a.errorRetry||a.timeoutRetry||{},c={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:o.maxNumRetry||0,retryDelay:o.retryDelayMs||0,maxRetryDelay:o.maxRetryDelayMs||0},u={onSuccess:(d,f,h,m)=>{this.log(`Loaded steering manifest: "${i}"`);const p=d.data;if((p==null?void 0:p.VERSION)!==1){this.log(`Steering VERSION ${p.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=p.TTL;const{"RELOAD-URI":g,"PATHWAY-CLONES":v,"PATHWAY-PRIORITY":y}=p;if(g)try{this.uri=new self.URL(g,i).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${g}`);return}this.scheduleRefresh(this.uri||h.url),v&&this.clonePathways(v);const x={steeringManifest:p,url:i.toString()};this.hls.trigger(P.STEERING_MANIFEST_LOADED,x),y&&this.updatePathwayPriority(y)},onError:(d,f,h,m)=>{if(this.log(`Error loading steering manifest: ${d.code} ${d.text} (${f.url})`),this.stopLoad(),d.code===410){this.enabled=!1,this.log(`Steering manifest ${f.url} no longer available`);return}let p=this.timeToLoad*1e3;if(d.code===429){const g=this.loader;if(typeof(g==null?void 0:g.getResponseHeader)=="function"){const v=g.getResponseHeader("Retry-After");v&&(p=parseFloat(v)*1e3)}this.log(`Steering manifest ${f.url} rate limited`);return}this.scheduleRefresh(this.uri||f.url,p)},onTimeout:(d,f,h)=>{this.log(`Timeout loading steering manifest (${f.url})`),this.scheduleRefresh(this.uri||f.url)}};this.log(`Requesting steering manifest: ${i}`),this.loader.load(s,c,u)}scheduleRefresh(e,r=this.timeToLoad*1e3){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var n;const i=(n=this.hls)==null?void 0:n.media;if(i&&!i.ended){this.loadSteeringManifest(e);return}this.scheduleRefresh(e,this.timeToLoad*1e3)},r)}}function NC(t,e,r,n){t&&Object.keys(e).forEach(i=>{const s=t.filter(a=>a.groupId===i).map(a=>{const o=yt({},a);return o.details=void 0,o.attrs=new Ut(o.attrs),o.url=o.attrs.URI=y4(a.url,a.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",r),o.groupId=o.attrs["GROUP-ID"]=e[i],o.attrs["PATHWAY-ID"]=n,o});t.push(...s)})}function y4(t,e,r,n){const{HOST:i,PARAMS:s,[r]:a}=n;let o;e&&(o=a==null?void 0:a[e],o&&(t=o));const c=new self.URL(t);return i&&!o&&(c.host=i),s&&Object.keys(s).sort().forEach(u=>{u&&c.searchParams.set(u,s[u])}),c.href}function ii(t,e,r){Oi(t,e,r),t.addEventListener(e,r)}function Oi(t,e,r){t.removeEventListener(e,r)}class Dc extends Fi{constructor(e){super("eme",e.logger),this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.mediaKeys=null,this.setMediaKeysQueue=Dc.CDMCleanupPromise?[Dc.CDMCleanupPromise]:[],this.onWaitingForKey=r=>{this.log(`"${r.type}" event`)},this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.onDestroying(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.config=this.keyIdToKeySessionPromise=null,this.onWaitingForKey=null}registerListeners(){this.hls.on(P.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(P.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(P.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(P.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.on(P.DESTROYING,this.onDestroying,this)}unregisterListeners(){this.hls.off(P.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(P.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(P.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(P.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.off(P.DESTROYING,this.onDestroying,this)}getLicenseServerUrl(e){const{drmSystems:r,widevineLicenseUrl:n}=this.config,i=r[e];if(i)return i.licenseUrl;if(e===ir.WIDEVINE&&n)return n}getLicenseServerUrlOrThrow(e){const r=this.getLicenseServerUrl(e);if(r===void 0)throw new Error(`no license server URL configured for key-system "${e}"`);return r}getServerCertificateUrl(e){const{drmSystems:r}=this.config,n=r[e];if(n)return n.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const r=this.hls.levels,n=(a,o,c)=>!!a&&c.indexOf(a)===o,i=r.map(a=>a.audioCodec).filter(n),s=r.map(a=>a.videoCodec).filter(n);return i.length+s.length===0&&s.push("avc1.42e01e"),new Promise((a,o)=>{const c=u=>{const d=u.shift();this.getMediaKeysPromise(d,i,s).then(f=>a({keySystem:d,mediaKeys:f})).catch(f=>{u.length?c(u):f instanceof Kn?o(f):o(new Kn({type:Ie.KEY_SYSTEM_ERROR,details:K.KEY_SYSTEM_NO_ACCESS,error:f,fatal:!0},f.message))})};c(e)})}requestMediaKeySystemAccess(e,r){const{requestMediaKeySystemAccessFunc:n}=this.config;if(typeof n!="function"){let i=`Configured requestMediaKeySystemAccess is not a function ${n}`;return LF===null&&self.location.protocol==="http:"&&(i=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(i))}return n(e,r)}getMediaKeysPromise(e,r,n){const i=pX(e,r,n,this.config.drmSystemOptions),s=this.keySystemAccessPromises[e];let a=s==null?void 0:s.keySystemAccess;if(!a){this.log(`Requesting encrypted media "${e}" key-system access with config: ${Mt(i)}`),a=this.requestMediaKeySystemAccess(e,i);const o=this.keySystemAccessPromises[e]={keySystemAccess:a};return a.catch(c=>{this.log(`Failed to obtain access to key-system "${e}": ${c}`)}),a.then(c=>{this.log(`Access for key-system "${c.keySystem}" obtained`);const u=this.fetchServerCertificate(e);return this.log(`Create media-keys for "${e}"`),o.mediaKeys=c.createMediaKeys().then(d=>(this.log(`Media-keys created for "${e}"`),o.hasMediaKeys=!0,u.then(f=>f?this.setMediaKeysServerCertificate(d,e,f):d))),o.mediaKeys.catch(d=>{this.error(`Failed to create media-keys for "${e}"}: ${d}`)}),o.mediaKeys})}return a.then(()=>s.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:r,mediaKeys:n}){this.log(`Creating key-system session "${r}" keyId: ${Mo.hexDump(e.keyId||[])}`);const i=n.createSession(),s={decryptdata:e,keySystem:r,mediaKeys:n,mediaKeysSession:i,keyStatus:"status-pending"};return this.mediaKeySessions.push(s),s}renewKeySession(e){const r=e.decryptdata;if(r.pssh){const n=this.createMediaKeySessionContext(e),i=this.getKeyIdString(r),s="cenc";this.keyIdToKeySessionPromise[i]=this.generateRequestWithPreferredKeySession(n,s,r.pssh.buffer,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(e.keyId===null)throw new Error("keyId is null");return Mo.hexDump(e.keyId)}updateKeySession(e,r){var n;const i=e.mediaKeysSession;return this.log(`Updating key-session "${i.sessionId}" for keyID ${Mo.hexDump(((n=e.decryptdata)==null?void 0:n.keyId)||[])}
      } (data length: ${r&&r.byteLength})`),i.update(r)}getSelectedKeySystemFormats(){return Object.keys(this.keySystemAccessPromises).map(e=>({keySystem:e,hasMediaKeys:this.keySystemAccessPromises[e].hasMediaKeys})).filter(({hasMediaKeys:e})=>!!e).map(({keySystem:e})=>eC(e)).filter(e=>!!e)}getKeySystemAccess(e){return this.getKeySystemSelectionPromise(e).then(({keySystem:r,mediaKeys:n})=>this.attemptSetMediaKeys(r,n))}selectKeySystem(e){return new Promise((r,n)=>this.getKeySystemSelectionPromise(e).then(({keySystem:i})=>{const s=eC(i);s?r(s):n(new Error(`Unable to find format for key-system "${i}"`))}).catch(n))}selectKeySystemFormat(e){const r=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${r.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(r)),this.keyFormatPromise}getKeyFormatPromise(e){const r=jp(this.config),n=e.map(Qw).filter(i=>!!i&&r.indexOf(i)!==-1);return this.selectKeySystem(n)}loadKey(e){const r=e.keyInfo.decryptdata,n=this.getKeyIdString(r),i=`(keyId: ${n} format: "${r.keyFormat}" method: ${r.method} uri: ${r.uri})`;this.log(`Starting session for key ${i}`);let s=this.keyIdToKeySessionPromise[n];return s||(s=this.getKeySystemForKeyPromise(r).then(({keySystem:o,mediaKeys:c})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${i}`),this.attemptSetMediaKeys(o,c).then(()=>(this.throwIfDestroyed(),this.createMediaKeySessionContext({keySystem:o,mediaKeys:c,decryptdata:r}))))),(this.keyIdToKeySessionPromise[n]=s.then(o=>{const c="cenc",u=r.pssh?r.pssh.buffer:null;return this.generateRequestWithPreferredKeySession(o,c,u,"playlist-key")})).catch(o=>this.handleError(o))),s}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),e instanceof Kn?this.hls.trigger(P.ERROR,e.data):this.hls.trigger(P.ERROR,{type:Ie.KEY_SYSTEM_ERROR,details:K.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){const r=this.getKeyIdString(e),n=this.keyIdToKeySessionPromise[r];if(!n){const i=Qw(e.keyFormat),s=i?[i]:jp(this.config);return this.attemptKeySystemAccess(s)}return n}getKeySystemSelectionPromise(e){if(e.length||(e=jp(this.config)),e.length===0)throw new Kn({type:Ie.KEY_SYSTEM_ERROR,details:K.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${Mt({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}attemptSetMediaKeys(e,r){if(this.mediaKeys===r)return Promise.resolve();const n=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const i=Promise.all(n).then(()=>{if(!this.media)throw this.mediaKeys=null,new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(r)});return this.mediaKeys=r,this.setMediaKeysQueue.push(i),i.then(()=>{this.log(`Media-keys set for "${e}"`),n.push(i),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(s=>n.indexOf(s)===-1)})}generateRequestWithPreferredKeySession(e,r,n,i){var s,a;const o=(s=this.config.drmSystems)==null||(a=s[e.keySystem])==null?void 0:a.generateRequest;if(o)try{const p=o.call(this.hls,r,n,e);if(!p)throw new Error("Invalid response from configured generateRequest filter");r=p.initDataType,n=p.initData?p.initData:null,e.decryptdata.pssh=n?new Uint8Array(n):null}catch(p){var c;if(this.warn(p.message),(c=this.hls)!=null&&c.config.debug)throw p}if(n===null)return this.log(`Skipping key-session request for "${i}" (no initData)`),Promise.resolve(e);const u=this.getKeyIdString(e.decryptdata);this.log(`Generating key-session request for "${i}": ${u} (init data type: ${r} length: ${n?n.byteLength:null})`);const d=new UT,f=e._onmessage=p=>{const g=e.mediaKeysSession;if(!g){d.emit("error",new Error("invalid state"));return}const{messageType:v,message:y}=p;this.log(`"${v}" message event for session "${g.sessionId}" message size: ${y.byteLength}`),v==="license-request"||v==="license-renewal"?this.renewLicense(e,y).catch(x=>{d.eventNames().length?d.emit("error",x):this.handleError(x)}):v==="license-release"?e.keySystem===ir.FAIRPLAY&&(this.updateKeySession(e,Xw("acknowledged")),this.removeSession(e)):this.warn(`unhandled media key message type "${v}"`)},h=e._onkeystatuseschange=p=>{if(!e.mediaKeysSession){d.emit("error",new Error("invalid state"));return}this.onKeyStatusChange(e);const v=e.keyStatus;d.emit("keyStatus",v),v==="expired"&&(this.warn(`${e.keySystem} expired for key ${u}`),this.renewKeySession(e))};ii(e.mediaKeysSession,"message",f),ii(e.mediaKeysSession,"keystatuseschange",h);const m=new Promise((p,g)=>{d.on("error",g),d.on("keyStatus",v=>{v.startsWith("usable")?p():v==="output-restricted"?g(new Kn({type:Ie.KEY_SYSTEM_ERROR,details:K.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):v==="internal-error"?g(new Kn({type:Ie.KEY_SYSTEM_ERROR,details:K.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${v}"`)):v==="expired"?g(new Error("key expired while generating request")):this.warn(`unhandled key status change "${v}"`)})});return e.mediaKeysSession.generateRequest(r,n).then(()=>{var p;this.log(`Request generated for key-session "${(p=e.mediaKeysSession)==null?void 0:p.sessionId}" keyId: ${u}`)}).catch(p=>{throw new Kn({type:Ie.KEY_SYSTEM_ERROR,details:K.KEY_SYSTEM_NO_SESSION,error:p,fatal:!1},`Error generating key-session request: ${p}`)}).then(()=>m).catch(p=>{throw d.removeAllListeners(),this.removeSession(e),p}).then(()=>(d.removeAllListeners(),e))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach((r,n)=>{if(typeof n=="string"&&typeof r=="object"){const i=n;n=r,r=i}this.log(`key status change "${r}" for keyStatuses keyId: ${Mo.hexDump("buffer"in n?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):new Uint8Array(n))} session keyId: ${Mo.hexDump(new Uint8Array(e.decryptdata.keyId||[]))} uri: ${e.decryptdata.uri}`),e.keyStatus=r})}fetchServerCertificate(e){const r=this.config,n=r.loader,i=new n(r),s=this.getServerCertificateUrl(e);return s?(this.log(`Fetching server certificate for "${e}"`),new Promise((a,o)=>{const c={responseType:"arraybuffer",url:s},u=r.certLoadPolicy.default,d={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},f={onSuccess:(h,m,p,g)=>{a(h.data)},onError:(h,m,p,g)=>{o(new Kn({type:Ie.KEY_SYSTEM_ERROR,details:K.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:p,response:St({url:c.url,data:void 0},h)},`"${e}" certificate request failed (${s}). Status: ${h.code} (${h.text})`))},onTimeout:(h,m,p)=>{o(new Kn({type:Ie.KEY_SYSTEM_ERROR,details:K.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:p,response:{url:c.url,data:void 0}},`"${e}" certificate request timed out (${s})`))},onAbort:(h,m,p)=>{o(new Error("aborted"))}};i.load(c,d,f)})):Promise.resolve()}setMediaKeysServerCertificate(e,r,n){return new Promise((i,s)=>{e.setServerCertificate(n).then(a=>{this.log(`setServerCertificate ${a?"success":"not supported by CDM"} (${n==null?void 0:n.byteLength}) on "${r}"`),i(e)}).catch(a=>{s(new Kn({type:Ie.KEY_SYSTEM_ERROR,details:K.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:a,fatal:!0},a.message))})})}renewLicense(e,r){return this.requestLicense(e,new Uint8Array(r)).then(n=>this.updateKeySession(e,new Uint8Array(n)).catch(i=>{throw new Kn({type:Ie.KEY_SYSTEM_ERROR,details:K.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:i,fatal:!0},i.message)}))}unpackPlayReadyKeyMessage(e,r){const n=String.fromCharCode.apply(null,new Uint16Array(r.buffer));if(!n.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),r;const i=new DOMParser().parseFromString(n,"application/xml"),s=i.querySelectorAll("HttpHeader");if(s.length>0){let d;for(let f=0,h=s.length;f<h;f++){var a,o;d=s[f];const m=(a=d.querySelector("name"))==null?void 0:a.textContent,p=(o=d.querySelector("value"))==null?void 0:o.textContent;m&&p&&e.setRequestHeader(m,p)}}const c=i.querySelector("Challenge"),u=c==null?void 0:c.textContent;if(!u)throw new Error("Cannot find <Challenge> in key message");return Xw(atob(u))}setupLicenseXHR(e,r,n,i){const s=this.config.licenseXhrSetup;return s?Promise.resolve().then(()=>{if(!n.decryptdata)throw new Error("Key removed");return s.call(this.hls,e,r,n,i)}).catch(a=>{if(!n.decryptdata)throw a;return e.open("POST",r,!0),s.call(this.hls,e,r,n,i)}).then(a=>(e.readyState||e.open("POST",r,!0),{xhr:e,licenseChallenge:a||i})):(e.open("POST",r,!0),Promise.resolve({xhr:e,licenseChallenge:i}))}requestLicense(e,r){const n=this.config.keyLoadPolicy.default;return new Promise((i,s)=>{const a=this.getLicenseServerUrlOrThrow(e.keySystem);this.log(`Sending license request to URL: ${a}`);const o=new XMLHttpRequest;o.responseType="arraybuffer",o.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return s(new Error("invalid state"));if(o.readyState===4)if(o.status===200){this._requestLicenseFailureCount=0;let c=o.response;this.log(`License received ${c instanceof ArrayBuffer?c.byteLength:c}`);const u=this.config.licenseResponseCallback;if(u)try{c=u.call(this.hls,o,a,e)}catch(d){this.error(d)}i(c)}else{const c=n.errorRetry,u=c?c.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>u||o.status>=400&&o.status<500)s(new Kn({type:Ie.KEY_SYSTEM_ERROR,details:K.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:o,response:{url:a,data:void 0,code:o.status,text:o.statusText}},`License Request XHR failed (${a}). Status: ${o.status} (${o.statusText})`));else{const d=u-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${d} attempts left`),this.requestLicense(e,r).then(i,s)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=o,this.setupLicenseXHR(o,a,e,r).then(({xhr:c,licenseChallenge:u})=>{e.keySystem==ir.PLAYREADY&&(u=this.unpackPlayReadyKeyMessage(c,u)),c.send(u)})})}onDestroying(){this.unregisterListeners(),this._clear()}onMediaAttached(e,r){if(!this.config.emeEnabled)return;const n=r.media;this.media=n,ii(n,"waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media;e&&(Oi(e,"waitingforkey",this.onWaitingForKey),this.media=null,this.mediaKeys=null)}_clear(){var e;if(this._requestLicenseFailureCount=0,this.keyIdToKeySessionPromise={},!this.mediaKeys&&!this.mediaKeySessions.length)return;const r=this.media,n=this.mediaKeySessions.slice();this.mediaKeySessions=[],this.mediaKeys=null,Ty.clearKeyUriToKeyIdMap();const i=n.length;Dc.CDMCleanupPromise=Promise.all(n.map(s=>this.removeSession(s)).concat(r==null||(e=r.setMediaKeys(null))==null?void 0:e.catch(s=>{var a;this.log(`Could not clear media keys: ${s}`),(a=this.hls)==null||a.trigger(P.ERROR,{type:Ie.OTHER_ERROR,details:K.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR,fatal:!1,error:new Error(`Could not clear media keys: ${s}`)})}))).catch(s=>{var a;this.log(`Could not close sessions and clear media keys: ${s}`),(a=this.hls)==null||a.trigger(P.ERROR,{type:Ie.OTHER_ERROR,details:K.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close sessions and clear media keys: ${s}`)})}).then(()=>{i&&this.log("finished closing key sessions and clearing media keys")})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(e,{sessionKeys:r}){if(!(!r||!this.config.emeEnabled)&&!this.keyFormatPromise){const n=r.reduce((i,s)=>(i.indexOf(s.keyFormat)===-1&&i.push(s.keyFormat),i),[]);this.log(`Selecting key-system from session-keys ${n.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(n)}}removeSession(e){const{mediaKeysSession:r,licenseXhr:n}=e;if(r){this.log(`Remove licenses and keys and close session ${r.sessionId}`),e._onmessage&&(r.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(r.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),n&&n.readyState!==XMLHttpRequest.DONE&&n.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const i=this.mediaKeySessions.indexOf(e);i>-1&&this.mediaKeySessions.splice(i,1);const{drmSystemOptions:s}=this.config;return(vX(s)?new Promise((o,c)=>{self.setTimeout(()=>c(new Error("MediaKeySession.remove() timeout")),8e3),r.remove().then(o)}):Promise.resolve()).catch(o=>{var c;this.log(`Could not remove session: ${o}`),(c=this.hls)==null||c.trigger(P.ERROR,{type:Ie.OTHER_ERROR,details:K.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR,fatal:!1,error:new Error(`Could not remove session: ${o}`)})}).then(()=>r.close()).catch(o=>{var c;this.log(`Could not close session: ${o}`),(c=this.hls)==null||c.trigger(P.ERROR,{type:Ie.OTHER_ERROR,details:K.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close session: ${o}`)})})}}}Dc.CDMCleanupPromise=void 0;class Kn extends Error{constructor(e,r){super(r),this.data=void 0,e.error||(e.error=new Error(r)),this.data=e,e.err=e.error}}class AZ{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(P.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.on(P.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListeners(){this.hls.off(P.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.off(P.MEDIA_DETACHING,this.onMediaDetaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,r){const n=this.hls.config;if(n.capLevelOnFPSDrop){const i=r.media instanceof self.HTMLVideoElement?r.media:null;this.media=i,i&&typeof i.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}}onMediaDetaching(){this.media=null}checkFPS(e,r,n){const i=performance.now();if(r){if(this.lastTime){const s=i-this.lastTime,a=n-this.lastDroppedFrames,o=r-this.lastDecodedFrames,c=1e3*a/s,u=this.hls;if(u.trigger(P.FPS_DROP,{currentDropped:a,currentDecoded:o,totalDroppedFrames:n}),c>0&&a>u.config.fpsDroppedMonitoringThreshold*o){let d=u.currentLevel;u.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+d),d>0&&(u.autoLevelCapping===-1||u.autoLevelCapping>=d)&&(d=d-1,u.trigger(P.FPS_DROP_LEVEL_CAPPING,{level:d,droppedLevel:u.currentLevel}),u.autoLevelCapping=d,this.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=n,this.lastDecodedFrames=r}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const r=e.getVideoPlaybackQuality();this.checkFPS(e,r.totalVideoFrames,r.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}function x4(t,e){let r;try{r=new Event("addtrack")}catch{r=document.createEvent("Event"),r.initEvent("addtrack",!1,!1)}r.track=t,e.dispatchEvent(r)}function b4(t,e){const r=t.mode;if(r==="disabled"&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(n){dt.debug(`[texttrack-utils]: ${n}`);try{const i=new self.TextTrackCue(e.startTime,e.endTime,e.text);i.id=e.id,t.addCue(i)}catch(i){dt.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${i}`)}}r==="disabled"&&(t.mode=r)}function xc(t,e){const r=t.mode;if(r==="disabled"&&(t.mode="hidden"),t.cues)for(let n=t.cues.length;n--;)e&&t.cues[n].removeEventListener("enter",e),t.removeCue(t.cues[n]);r==="disabled"&&(t.mode=r)}function sS(t,e,r,n){const i=t.mode;if(i==="disabled"&&(t.mode="hidden"),t.cues&&t.cues.length>0){const s=PZ(t.cues,e,r);for(let a=0;a<s.length;a++)(!n||n(s[a]))&&t.removeCue(s[a])}i==="disabled"&&(t.mode=i)}function _Z(t,e){if(e<=t[0].startTime)return 0;const r=t.length-1;if(e>t[r].endTime)return-1;let n=0,i=r,s;for(;n<=i;)if(s=Math.floor((i+n)/2),e<t[s].startTime)i=s-1;else if(e>t[s].startTime&&n<r)n=s+1;else return s;return t[n].startTime-e<e-t[i].startTime?n:i}function PZ(t,e,r){const n=[],i=_Z(t,e);if(i>-1)for(let s=i,a=t.length;s<a;s++){const o=t[s];if(o.startTime>=e&&o.endTime<=r)n.push(o);else if(o.startTime>r)return n}return n}function Rp(t){const e=[];for(let r=0;r<t.length;r++){const n=t[r];(n.kind==="subtitles"||n.kind==="captions")&&n.label&&e.push(t[r])}return e}class NZ extends qT{constructor(e){super(e,"subtitle-track-controller"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let r=null;const n=Rp(this.media.textTracks);for(let s=0;s<n.length;s++)if(n[s].mode==="hidden")r=n[s];else if(n[s].mode==="showing"){r=n[s];break}const i=this.findTrackForTextTrack(r);this.subtitleTrack!==i&&this.setSubtitleTrack(i)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:e}=this;e.on(P.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(P.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(P.MANIFEST_LOADING,this.onManifestLoading,this),e.on(P.MANIFEST_PARSED,this.onManifestParsed,this),e.on(P.LEVEL_LOADING,this.onLevelLoading,this),e.on(P.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(P.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(P.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(P.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(P.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(P.MANIFEST_LOADING,this.onManifestLoading,this),e.off(P.MANIFEST_PARSED,this.onManifestParsed,this),e.off(P.LEVEL_LOADING,this.onLevelLoading,this),e.off(P.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(P.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(P.ERROR,this.onError,this)}onMediaAttached(e,r){this.media=r.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(e,r){const n=this.media;if(!n)return;const i=!!r.transferMedia;if(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||n.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),this.subtitleTrack=-1,this.media=null,i)return;Rp(n.textTracks).forEach(a=>{xc(a)})}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,r){this.tracks=r.subtitleTracks}onSubtitleTrackLoaded(e,r){const{id:n,groupId:i,details:s}=r,a=this.tracksInGroup[n];if(!a||a.groupId!==i){this.warn(`Subtitle track with id:${n} and group:${i} not found in active group ${a==null?void 0:a.groupId}`);return}const o=a.details;a.details=r.details,this.log(`Subtitle track ${n} "${a.name}" lang:${a.lang} group:${i} loaded [${s.startSN}-${s.endSN}]`),n===this.trackId&&this.playlistLoaded(n,r,o)}onLevelLoading(e,r){this.switchLevel(r.level)}onLevelSwitching(e,r){this.switchLevel(r.level)}switchLevel(e){const r=this.hls.levels[e];if(!r)return;const n=r.subtitleGroups||null,i=this.groupIds;let s=this.currentTrack;if(!n||(i==null?void 0:i.length)!==(n==null?void 0:n.length)||n!=null&&n.some(a=>(i==null?void 0:i.indexOf(a))===-1)){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const a=this.tracks.filter(d=>!n||n.indexOf(d.groupId)!==-1);if(a.length)this.selectDefaultTrack&&!a.some(d=>d.default)&&(this.selectDefaultTrack=!1),a.forEach((d,f)=>{d.id=f});else if(!s&&!this.tracksInGroup.length)return;this.tracksInGroup=a;const o=this.hls.config.subtitlePreference;if(!s&&o){this.selectDefaultTrack=!1;const d=Zi(o,a);if(d>-1)s=a[d];else{const f=Zi(o,this.tracks);s=this.tracks[f]}}let c=this.findTrackId(s);c===-1&&s&&(c=this.findTrackId(null));const u={subtitleTracks:a};this.log(`Updating subtitle tracks, ${a.length} track(s) found in "${n==null?void 0:n.join(",")}" group-id`),this.hls.trigger(P.SUBTITLE_TRACKS_UPDATED,u),c!==-1&&this.trackId===-1&&this.setSubtitleTrack(c)}}findTrackId(e){const r=this.tracksInGroup,n=this.selectDefaultTrack;for(let i=0;i<r.length;i++){const s=r[i];if(!(n&&!s.default||!n&&!e)&&(!e||sl(s,e)))return i}if(e){for(let i=0;i<r.length;i++){const s=r[i];if(Zf(e.attrs,s.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return i}for(let i=0;i<r.length;i++){const s=r[i];if(Zf(e.attrs,s.attrs,["LANGUAGE"]))return i}}return-1}findTrackForTextTrack(e){if(e){const r=this.tracksInGroup;for(let n=0;n<r.length;n++){const i=r[n];if(rS(i,e))return n}}return-1}onError(e,r){r.fatal||!r.context||r.context.type===et.SUBTITLE_TRACK&&r.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(r.context.groupId)!==-1)&&this.checkRetry(r)}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){if(e.id===-1)return this.setSubtitleTrack(-1),null;const r=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,r.length){const n=this.currentTrack;if(n&&sl(e,n))return n;const i=Zi(e,this.tracksInGroup);if(i>-1){const s=this.tracksInGroup[i];return this.setSubtitleTrack(i),s}else{if(n)return null;{const s=Zi(e,r);if(s>-1)return r[s]}}}}return null}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentTrack)&&this.scheduleLoading(this.currentTrack,e)}loadingPlaylist(e,r){super.loadingPlaylist(e,r);const n=e.id,i=e.groupId,s=this.getUrlWithDirectives(e.url,r),a=e.details,o=a==null?void 0:a.age;this.log(`Loading subtitle ${n} "${e.name}" lang:${e.lang} group:${i}${(r==null?void 0:r.msn)!==void 0?" at sn "+r.msn+" part "+r.part:""}${o&&a.live?" age "+o.toFixed(1)+(a.type&&" "+a.type||""):""} ${s}`),this.hls.trigger(P.SUBTITLE_TRACK_LOADING,{url:s,id:n,groupId:i,deliveryDirectives:r||null,track:e})}toggleTrackModes(){const{media:e}=this;if(!e)return;const r=Rp(e.textTracks),n=this.currentTrack;let i;if(n&&(i=r.filter(s=>rS(n,s))[0],i||this.warn(`Unable to find subtitle TextTrack with name "${n.name}" and language "${n.lang}"`)),[].slice.call(r).forEach(s=>{s.mode!=="disabled"&&s!==i&&(s.mode="disabled")}),i){const s=this.subtitleDisplay?"showing":"hidden";i.mode!==s&&(i.mode=s)}}setSubtitleTrack(e){const r=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=e;return}if(e<-1||e>=r.length||!ye(e)){this.warn(`Invalid subtitle track id: ${e}`);return}this.selectDefaultTrack=!1;const n=this.currentTrack,i=r[e]||null;if(this.trackId=e,this.currentTrack=i,this.toggleTrackModes(),!i){this.hls.trigger(P.SUBTITLE_TRACK_SWITCH,{id:e});return}const s=!!i.details&&!i.details.live;if(e===this.trackId&&i===n&&s)return;this.log(`Switching to subtitle-track ${e}`+(i?` "${i.name}" lang:${i.lang} group:${i.groupId}`:""));const{id:a,groupId:o="",name:c,type:u,url:d}=i;this.hls.trigger(P.SUBTITLE_TRACK_SWITCH,{id:a,groupId:o,name:c,type:u,url:d});const f=this.switchParams(i.url,n==null?void 0:n.details,i.details);this.loadPlaylist(f)}}function CZ(){try{return crypto.randomUUID()}catch{try{const e=URL.createObjectURL(new Blob),r=e.toString();return URL.revokeObjectURL(e),r.slice(r.lastIndexOf("/")+1)}catch{let r=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const s=(r+Math.random()*16)%16|0;return r=Math.floor(r/16),(i=="x"?s:s&3|8).toString(16)})}}}function mf(t){let e=5381,r=t.length;for(;r;)e=e*33^t.charCodeAt(--r);return(e>>>0).toString()}const Mc=.025;let Ng=function(t){return t[t.Point=0]="Point",t[t.Range=1]="Range",t}({});function jZ(t,e,r){return`${t.identifier}-${r+1}-${mf(e)}`}class OZ{constructor(e,r){this.base=void 0,this._duration=null,this._timelineStart=null,this.appendInPlaceDisabled=void 0,this.appendInPlaceStarted=void 0,this.dateRange=void 0,this.hasPlayed=!1,this.cumulativeDuration=0,this.resumeOffset=NaN,this.playoutLimit=NaN,this.restrictions={skip:!1,jump:!1},this.snapOptions={out:!1,in:!1},this.assetList=[],this.assetListLoader=void 0,this.assetListResponse=null,this.resumeAnchor=void 0,this.error=void 0,this.resetOnResume=void 0,this.base=r,this.dateRange=e,this.setDateRange(e)}setDateRange(e){this.dateRange=e,this.resumeOffset=e.attr.optionalFloat("X-RESUME-OFFSET",this.resumeOffset),this.playoutLimit=e.attr.optionalFloat("X-PLAYOUT-LIMIT",this.playoutLimit),this.restrictions=e.attr.enumeratedStringList("X-RESTRICT",this.restrictions),this.snapOptions=e.attr.enumeratedStringList("X-SNAP",this.snapOptions)}reset(){var e;this.appendInPlaceStarted=!1,(e=this.assetListLoader)==null||e.destroy(),this.assetListLoader=void 0,this.supplementsPrimary||(this.assetListResponse=null,this.assetList=[],this._duration=null)}isAssetPastPlayoutLimit(e){var r;if(e>0&&e>=this.assetList.length)return!0;const n=this.playoutLimit;return e<=0||isNaN(n)?!1:n===0?!0:(((r=this.assetList[e])==null?void 0:r.startOffset)||0)>n}findAssetIndex(e){return this.assetList.indexOf(e)}get identifier(){return this.dateRange.id}get startDate(){return this.dateRange.startDate}get startTime(){const e=this.dateRange.startTime;if(this.snapOptions.out){const r=this.dateRange.tagAnchor;if(r)return Lx(e,r)}return e}get startOffset(){return this.cue.pre?0:this.startTime}get startIsAligned(){if(this.startTime===0||this.snapOptions.out)return!0;const e=this.dateRange.tagAnchor;if(e){const r=this.dateRange.startTime,n=Lx(r,e);return r-n<.1}return!1}get resumptionOffset(){const e=this.resumeOffset,r=ye(e)?e:this.duration;return this.cumulativeDuration+r}get resumeTime(){const e=this.startOffset+this.resumptionOffset;if(this.snapOptions.in){const r=this.resumeAnchor;if(r)return Lx(e,r)}return e}get appendInPlace(){return this.appendInPlaceStarted?!0:this.appendInPlaceDisabled?!1:!!(!this.cue.once&&!this.cue.pre&&this.startIsAligned&&(isNaN(this.playoutLimit)&&isNaN(this.resumeOffset)||this.resumeOffset&&this.duration&&Math.abs(this.resumeOffset-this.duration)<Mc))}set appendInPlace(e){if(this.appendInPlaceStarted){this.resetOnResume=!e;return}this.appendInPlaceDisabled=!e}get timelineStart(){return this._timelineStart!==null?this._timelineStart:this.startTime}set timelineStart(e){this._timelineStart=e}get duration(){const e=this.playoutLimit;let r;return this._duration!==null?r=this._duration:this.dateRange.duration?r=this.dateRange.duration:r=this.dateRange.plannedDuration||0,!isNaN(e)&&e<r&&(r=e),r}set duration(e){this._duration=e}get cue(){return this.dateRange.cue}get timelineOccupancy(){return this.dateRange.attr["X-TIMELINE-OCCUPIES"]==="RANGE"?Ng.Range:Ng.Point}get supplementsPrimary(){return this.dateRange.attr["X-TIMELINE-STYLE"]==="PRIMARY"}get contentMayVary(){return this.dateRange.attr["X-CONTENT-MAY-VARY"]!=="NO"}get assetUrl(){return this.dateRange.attr["X-ASSET-URI"]}get assetListUrl(){return this.dateRange.attr["X-ASSET-LIST"]}get baseUrl(){return this.base.url}get assetListLoaded(){return this.assetList.length>0||this.assetListResponse!==null}toString(){return IZ(this)}}function Lx(t,e){return t-e.start<e.duration/2&&!(Math.abs(t-(e.start+e.duration))<Mc)?e.start:e.start+e.duration}function w4(t,e,r){const n=new self.URL(t,r);return n.protocol!=="data:"&&n.searchParams.set("_HLS_primary_id",e),n}function Dx(t,e){for(;(r=t.assetList[++e])!=null&&r.error;)var r;return e}function IZ(t){return`["${t.identifier}" ${t.cue.pre?"<pre>":t.cue.post?"<post>":""}${t.timelineStart.toFixed(2)}-${t.resumeTime.toFixed(2)}]`}function ic(t){const e=t.timelineStart,r=t.duration||0;return`["${t.identifier}" ${e.toFixed(2)}-${(e+r).toFixed(2)}]`}class kZ{constructor(e,r,n,i){this.hls=void 0,this.interstitial=void 0,this.assetItem=void 0,this.tracks=null,this.hasDetails=!1,this.mediaAttached=null,this._currentTime=void 0,this._bufferedEosTime=void 0,this.checkPlayout=()=>{this.reachedPlayout(this.currentTime)&&this.hls.trigger(P.PLAYOUT_LIMIT_REACHED,{})};const s=this.hls=new e(r);this.interstitial=n,this.assetItem=i;let a=i.uri;try{a=w4(a,r.primarySessionId).href}catch{}s.loadSource(a);const o=()=>{this.hasDetails=!0};s.once(P.LEVEL_LOADED,o),s.once(P.AUDIO_TRACK_LOADED,o),s.once(P.SUBTITLE_TRACK_LOADED,o),s.on(P.MEDIA_ATTACHING,(c,{media:u})=>{this.removeMediaListeners(),this.mediaAttached=u,this.interstitial.playoutLimit&&(u.addEventListener("timeupdate",this.checkPlayout),this.appendInPlace&&s.on(P.BUFFER_APPENDED,()=>{const f=this.bufferedEnd;this.reachedPlayout(f)&&(this._bufferedEosTime=f,s.trigger(P.BUFFERED_TO_END,void 0))}))})}get appendInPlace(){var e;return((e=this.interstitial)==null?void 0:e.appendInPlace)||!1}bufferedInPlaceToEnd(e){var r;if(!this.appendInPlace)return!1;if((r=this.hls)!=null&&r.bufferedToEnd)return!0;if(!e||!this._bufferedEosTime)return!1;const n=this.timelineOffset,i=Ge.bufferInfo(e,n,0);return this.getAssetTime(i.end)>=this._bufferedEosTime-.02}reachedPlayout(e){const n=this.interstitial.playoutLimit;return this.startOffset+e>=n}get destroyed(){var e;return!((e=this.hls)!=null&&e.userConfig)}get assetId(){return this.assetItem.identifier}get interstitialId(){return this.assetItem.parentIdentifier}get media(){var e;return((e=this.hls)==null?void 0:e.media)||null}get bufferedEnd(){const e=this.media||this.mediaAttached;if(!e)return this._bufferedEosTime?this._bufferedEosTime:this.currentTime;const r=Ge.bufferInfo(e,e.currentTime,.001);return this.getAssetTime(r.end)}get currentTime(){const e=this.media||this.mediaAttached;return e?this.getAssetTime(e.currentTime):this._currentTime||0}get duration(){const e=this.assetItem.duration;return e||0}get remaining(){const e=this.duration;return e?Math.max(0,e-this.currentTime):0}get startOffset(){return this.assetItem.startOffset}get timelineOffset(){var e;return((e=this.hls)==null?void 0:e.config.timelineOffset)||0}set timelineOffset(e){const r=this.timelineOffset;if(e!==r){const n=e-r;if(Math.abs(n)>1/9e4){if(this.hasDetails)throw new Error("Cannot set timelineOffset after playlists are loaded");this.hls.config.timelineOffset=e}}}getAssetTime(e){const r=this.timelineOffset,n=this.duration;return Math.min(Math.max(0,e-r),n)}removeMediaListeners(){const e=this.mediaAttached;e&&(this._currentTime=e.currentTime,this.bufferSnapShot(),e.removeEventListener("timeupdate",this.checkPlayout))}bufferSnapShot(){if(this.mediaAttached){var e;(e=this.hls)!=null&&e.bufferedToEnd&&(this._bufferedEosTime=this.bufferedEnd)}}destroy(){this.removeMediaListeners(),this.hls.destroy(),this.hls=this.interstitial=null,this.tracks=this.mediaAttached=this.checkPlayout=null}attachMedia(e){this.hls.attachMedia(e)}detachMedia(){this.removeMediaListeners(),this.mediaAttached=null,this.hls.detachMedia()}resumeBuffering(){this.hls.resumeBuffering()}pauseBuffering(){this.hls.pauseBuffering()}transferMedia(){return this.bufferSnapShot(),this.hls.transferMedia()}resetDetails(){const e=this.hls;if(this.hasDetails){e.stopLoad();const r=n=>delete n.details;e.levels.forEach(r),e.allAudioTracks.forEach(r),e.allSubtitleTracks.forEach(r),this.hasDetails=!1}}on(e,r,n){this.hls.on(e,r)}once(e,r,n){this.hls.once(e,r)}off(e,r,n){this.hls.off(e,r)}toString(){var e;return`HlsAssetPlayer: ${ic(this.assetItem)} ${(e=this.hls)==null?void 0:e.sessionId} ${this.appendInPlace?"append-in-place":""}`}}const CC=.033;class RZ extends Fi{constructor(e,r){super("interstitials-sched",r),this.onScheduleUpdate=void 0,this.eventMap={},this.events=null,this.items=null,this.durations={primary:0,playout:0,integrated:0},this.onScheduleUpdate=e}destroy(){this.reset(),this.onScheduleUpdate=null}reset(){this.eventMap={},this.setDurations(0,0,0),this.events&&this.events.forEach(e=>e.reset()),this.events=this.items=null}resetErrorsInRange(e,r){return this.events?this.events.reduce((n,i)=>e<=i.startOffset&&r>i.startOffset?(delete i.error,n+1):n,0):0}get duration(){const e=this.items;return e?e[e.length-1].end:0}get length(){return this.items?this.items.length:0}getEvent(e){return e&&this.eventMap[e]||null}hasEvent(e){return e in this.eventMap}findItemIndex(e,r){if(e.event)return this.findEventIndex(e.event.identifier);let n=-1;e.nextEvent?n=this.findEventIndex(e.nextEvent.identifier)-1:e.previousEvent&&(n=this.findEventIndex(e.previousEvent.identifier)+1);const i=this.items;if(i)for(i[n]||(r===void 0&&(r=e.start),n=this.findItemIndexAtTime(r));n>=0&&(s=i[n])!=null&&s.event;){var s;n--}return n}findItemIndexAtTime(e,r){const n=this.items;if(n)for(let i=0;i<n.length;i++){let s=n[i];if(r&&r!=="primary"&&(s=s[r]),e===s.start||e>s.start&&e<s.end)return i}return-1}findJumpRestrictedIndex(e,r){const n=this.items;if(n)for(let i=e;i<=r&&n[i];i++){const s=n[i].event;if(s!=null&&s.restrictions.jump&&!s.appendInPlace)return i}return-1}findEventIndex(e){const r=this.items;if(r)for(let i=r.length;i--;){var n;if(((n=r[i].event)==null?void 0:n.identifier)===e)return i}return-1}findAssetIndex(e,r){const n=e.assetList,i=n.length;if(i>1)for(let s=0;s<i;s++){const a=n[s];if(!a.error){const o=a.timelineStart;if(r===o||r>o&&r<o+(a.duration||0))return s}}return 0}get assetIdAtEnd(){var e,r;const n=(e=this.items)==null||(r=e[this.length-1])==null?void 0:r.event;if(n){const i=n.assetList,s=i[i.length-1];if(s)return s.identifier}return null}parseInterstitialDateRanges(e,r){const n=e.main.details,{dateRanges:i}=n,s=this.events,a=this.parseDateRanges(i,{url:n.url},r),o=Object.keys(i),c=s?s.filter(u=>!o.includes(u.identifier)):[];a.length&&a.sort((u,d)=>{const f=u.cue.pre,h=u.cue.post,m=d.cue.pre,p=d.cue.post;if(f&&!m)return-1;if(m&&!f||h&&!p)return 1;if(p&&!h)return-1;if(!f&&!m&&!h&&!p){const g=u.startTime,v=d.startTime;if(g!==v)return g-v}return u.dateRange.tagOrder-d.dateRange.tagOrder}),this.events=a,c.forEach(u=>{this.removeEvent(u)}),this.updateSchedule(e,c)}updateSchedule(e,r=[]){const n=this.events||[];if(n.length||r.length||this.length<2){const i=this.items,s=this.parseSchedule(n,e);(r.length||(i==null?void 0:i.length)!==s.length||s.some((o,c)=>Math.abs(o.playout.start-i[c].playout.start)>.005||Math.abs(o.playout.end-i[c].playout.end)>.005))&&(this.items=s,this.onScheduleUpdate(r,i))}}parseDateRanges(e,r,n){const i=[],s=Object.keys(e);for(let a=0;a<s.length;a++){const o=s[a],c=e[o];if(c.isInterstitial){let u=this.eventMap[o];u?u.setDateRange(c):(u=new OZ(c,r),this.eventMap[o]=u,n===!1&&(u.appendInPlace=n)),i.push(u)}}return i}parseSchedule(e,r){const n=[],i=r.main.details,s=i.live?1/0:i.edge;let a=0;if(e=e.filter(c=>!c.error&&!(c.cue.once&&c.hasPlayed)),e.length){this.resolveOffsets(e,r);let c=0,u=0;if(e.forEach((d,f)=>{const h=d.cue.pre,m=d.cue.post,p=e[f-1]||null,g=d.appendInPlace,v=m?s:d.startOffset,y=d.duration,x=d.timelineOccupancy===Ng.Range?y:0,b=d.resumptionOffset,S=(p==null?void 0:p.startTime)===v,w=v+d.cumulativeDuration;let T=g?w+y:v+b;if(h||!m&&v<=0){const _=u;u+=x,d.timelineStart=w;const N=a;a+=y,n.push({event:d,start:w,end:T,playout:{start:N,end:a},integrated:{start:_,end:u}})}else if(v<=s){if(!S){const C=v-c;if(C>CC){const j=c,O=u;u+=C;const R=a;a+=C;const k={previousEvent:e[f-1]||null,nextEvent:d,start:j,end:j+C,playout:{start:R,end:a},integrated:{start:O,end:u}};n.push(k)}else C>0&&p&&(p.cumulativeDuration+=C,n[n.length-1].end=v)}m&&(T=w),d.timelineStart=w;const _=u;u+=x;const N=a;a+=y,n.push({event:d,start:w,end:T,playout:{start:N,end:a},integrated:{start:_,end:u}})}else return;const A=d.resumeTime;m||A>s?c=s:c=A}),c<s){var o;const d=c,f=u,h=s-c;u+=h;const m=a;a+=h,n.push({previousEvent:((o=n[n.length-1])==null?void 0:o.event)||null,nextEvent:null,start:c,end:d+h,playout:{start:m,end:a},integrated:{start:f,end:u}})}this.setDurations(s,a,u)}else n.push({previousEvent:null,nextEvent:null,start:0,end:s,playout:{start:0,end:s},integrated:{start:0,end:s}}),this.setDurations(s,s,s);return n}setDurations(e,r,n){this.durations={primary:e,playout:r,integrated:n}}resolveOffsets(e,r){const n=r.main.details,i=n.live?1/0:n.edge;let s=0,a=-1;e.forEach((o,c)=>{const u=o.cue.pre,d=o.cue.post,f=u?0:d?i:o.startTime;this.updateAssetDurations(o),a===f?o.cumulativeDuration=s:(s=0,a=f),!d&&o.snapOptions.in&&(o.resumeAnchor=Al(null,n.fragments,o.startOffset+o.resumptionOffset,0,0)||void 0),o.appendInPlace&&!o.appendInPlaceStarted&&(this.primaryCanResumeInPlaceAt(o,r)||(o.appendInPlace=!1)),!o.appendInPlace&&c+1<e.length&&e[c+1].startTime-e[c].resumeTime<CC&&(e[c+1].appendInPlace=!1,e[c+1].appendInPlace&&this.warn(`Could not change append strategy for abutting event ${o}`));const m=ye(o.resumeOffset)?o.resumeOffset:o.duration;s+=m})}primaryCanResumeInPlaceAt(e,r){const n=e.resumeTime,i=e.startTime+e.resumptionOffset;return Math.abs(n-i)>Mc?(this.log(`"${e.identifier}" resumption ${n} not aligned with estimated timeline end ${i}`),!1):r?!Object.keys(r).some(a=>{const o=r[a].details,c=o.edge;if(n>=c)return this.log(`"${e.identifier}" resumption ${n} past ${a} playlist end ${c}`),!1;const u=Al(null,o.fragments,n);if(!u)return this.log(`"${e.identifier}" resumption ${n} does not align with any fragments in ${a} playlist (${o.fragStart}-${o.fragmentEnd})`),!0;const d=a==="audio"?.175:0;return Math.abs(u.start-n)<Mc+d||Math.abs(u.end-n)<Mc+d?!1:(this.log(`"${e.identifier}" resumption ${n} not aligned with ${a} fragment bounds (${u.start}-${u.end} sn: ${u.sn} cc: ${u.cc})`),!0)}):(this.log(`"${e.identifier}" resumption ${n} can not be aligned with media (none selected)`),!1)}updateAssetDurations(e){if(!e.assetListLoaded)return;const r=e.timelineStart;let n=0,i=!1,s=!1;e.assetList.forEach((a,o)=>{const c=r+n;a.startOffset=n,a.timelineStart=c,i||(i=a.duration===null),s||(s=!!a.error);const u=a.error?0:a.duration||0;n+=u}),i&&!s?e.duration=Math.max(n,e.duration):e.duration=n}removeEvent(e){e.reset(),delete this.eventMap[e.identifier]}}function pa(t){return`[${t.event?'"'+t.event.identifier+'"':"primary"}: ${t.start.toFixed(2)}-${t.end.toFixed(2)}]`}class LZ{constructor(e){this.hls=void 0,this.hls=e}destroy(){this.hls=null}loadAssetList(e,r){const n=e.assetListUrl;let i;try{i=w4(n,this.hls.sessionId,e.baseUrl)}catch(h){const m=this.assignAssetListError(e,K.ASSET_LIST_LOAD_ERROR,h,n);this.hls.trigger(P.ERROR,m);return}r&&i.protocol!=="data:"&&i.searchParams.set("_HLS_start_offset",""+r);const s=this.hls.config,a=s.loader,o=new a(s),c={responseType:"json",url:i.href},u=s.interstitialAssetListLoadPolicy.default,d={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},f={onSuccess:(h,m,p,g)=>{const v=h.data,y=v==null?void 0:v.ASSETS;if(!Array.isArray(y)){const x=this.assignAssetListError(e,K.ASSET_LIST_PARSING_ERROR,new Error("Invalid interstitial asset list"),p.url,m,g);this.hls.trigger(P.ERROR,x);return}e.assetListResponse=v,this.hls.trigger(P.ASSET_LIST_LOADED,{event:e,assetListResponse:v,networkDetails:g})},onError:(h,m,p,g)=>{const v=this.assignAssetListError(e,K.ASSET_LIST_LOAD_ERROR,new Error(`Error loading X-ASSET-LIST: HTTP status ${h.code} ${h.text} (${m.url})`),m.url,g,p);this.hls.trigger(P.ERROR,v)},onTimeout:(h,m,p)=>{const g=this.assignAssetListError(e,K.ASSET_LIST_LOAD_TIMEOUT,new Error(`Timeout loading X-ASSET-LIST (${m.url})`),m.url,h,p);this.hls.trigger(P.ERROR,g)}};return o.load(c,d,f),this.hls.trigger(P.ASSET_LIST_LOADING,{event:e}),o}assignAssetListError(e,r,n,i,s,a){return e.error=n,{type:Ie.NETWORK_ERROR,details:r,fatal:!1,interstitial:e,url:i,error:n,networkDetails:a,stats:s}}}function jC(t){t==null||t.play().catch(()=>{})}class DZ extends Fi{constructor(e,r){super("interstitials",e.logger),this.HlsPlayerClass=void 0,this.hls=void 0,this.assetListLoader=void 0,this.mediaSelection=null,this.altSelection=null,this.media=null,this.detachedData=null,this.requiredTracks=null,this.manager=null,this.playerQueue=[],this.bufferedPos=-1,this.timelinePos=-1,this.schedule=void 0,this.playingItem=null,this.bufferingItem=null,this.waitingItem=null,this.endedItem=null,this.playingAsset=null,this.endedAsset=null,this.bufferingAsset=null,this.shouldPlay=!1,this.onPlay=()=>{this.shouldPlay=!0},this.onPause=()=>{this.shouldPlay=!1},this.onSeeking=()=>{const n=this.currentTime;if(n===void 0||this.playbackDisabled)return;const i=n-this.timelinePos;if(Math.abs(i)<1/7056e5)return;const a=i<=-.01;this.timelinePos=n,this.bufferedPos=n;const o=this.playingItem;if(!o){this.checkBuffer();return}if(a&&this.schedule.resetErrorsInRange(n,n-i)&&this.updateSchedule(),this.checkBuffer(),a&&n<o.start||n>=o.end){var c;const h=this.schedule.findItemIndexAtTime(this.timelinePos);if(!this.isInterstitial(o)&&(c=this.media)!=null&&c.paused&&(this.shouldPlay=!1),!a){const m=this.findItemIndex(o);if(h>m){const p=this.schedule.findJumpRestrictedIndex(m+1,h);if(p>m){this.setSchedulePosition(p);return}}}this.setSchedulePosition(h);return}const u=this.playingAsset;if(!u){if(this.playingLastItem&&this.isInterstitial(o)){const h=o.event.assetList[0];h&&(this.endedItem=this.playingItem,this.playingItem=null,this.setScheduleToAssetAtTime(n,h))}return}const d=u.timelineStart,f=u.duration||0;(a&&n<d||n>=d+f)&&this.setScheduleToAssetAtTime(n,u)},this.onTimeupdate=()=>{const n=this.currentTime;if(n===void 0||this.playbackDisabled)return;if(n>this.timelinePos)this.timelinePos=n,n>this.bufferedPos&&this.checkBuffer();else return;const i=this.playingItem;if(!i||this.playingLastItem)return;if(n>=i.end){this.timelinePos=i.end;const o=this.findItemIndex(i);this.setSchedulePosition(o+1)}const s=this.playingAsset;if(!s)return;const a=s.timelineStart+(s.duration||0);n>=a&&this.setScheduleToAssetAtTime(n,s)},this.onScheduleUpdate=(n,i)=>{const s=this.schedule,a=this.playingItem,o=s.events||[],c=s.items||[],u=s.durations,d=n.map(p=>p.identifier),f=!!(o.length||d.length);(f||i)&&this.log(`INTERSTITIALS_UPDATED (${o.length}): ${o}
Schedule: ${c.map(p=>pa(p))} pos: ${this.timelinePos}`),d.length&&this.log(`Removed events ${d}`),this.playerQueue.forEach(p=>{if(p.interstitial.appendInPlace){const g=p.assetItem.timelineStart,v=p.timelineOffset-g;if(v)try{p.timelineOffset=g}catch(y){Math.abs(v)>Mc&&this.warn(`${y} ("${p.assetId}" ${p.timelineOffset}->${g})`)}}});let h=null;if(a){const p=this.updateItem(a,this.timelinePos);this.itemsMatch(a,p)&&(this.playingItem=p,this.waitingItem=this.endedItem=null,h=()=>this.trimInPlace(p,a))}else this.waitingItem=this.updateItem(this.waitingItem),this.endedItem=this.updateItem(this.endedItem);const m=this.bufferingItem;if(m){const p=this.updateItem(m,this.bufferedPos);this.itemsMatch(m,p)?(this.bufferingItem=p,h||(h=()=>this.trimInPlace(p,m))):m.event&&(this.bufferingItem=this.playingItem,this.clearInterstitial(m.event,null))}if(n.forEach(p=>{p.assetList.forEach(g=>{this.clearAssetPlayer(g.identifier,null)})}),f||i){if(this.hls.trigger(P.INTERSTITIALS_UPDATED,{events:o.slice(0),schedule:c.slice(0),durations:u,removedIds:d}),this.isInterstitial(a)&&d.includes(a.event.identifier)){this.warn(`Interstitial "${a.event.identifier}" removed while playing`),this.primaryFallback(a.event);return}h&&h(),this.checkBuffer()}},this.hls=e,this.HlsPlayerClass=r,this.assetListLoader=new LZ(e),this.schedule=new RZ(this.onScheduleUpdate,e.logger),this.registerListeners()}registerListeners(){const e=this.hls;e.on(P.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(P.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(P.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(P.MANIFEST_LOADING,this.onManifestLoading,this),e.on(P.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(P.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(P.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.on(P.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(P.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.on(P.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.on(P.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.on(P.BUFFER_APPENDED,this.onBufferAppended,this),e.on(P.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(P.BUFFERED_TO_END,this.onBufferedToEnd,this),e.on(P.MEDIA_ENDED,this.onMediaEnded,this),e.on(P.ERROR,this.onError,this),e.on(P.DESTROYING,this.onDestroying,this)}unregisterListeners(){const e=this.hls;e&&(e.off(P.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(P.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(P.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(P.MANIFEST_LOADING,this.onManifestLoading,this),e.off(P.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(P.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(P.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.off(P.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(P.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.off(P.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.off(P.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.off(P.BUFFER_CODECS,this.onBufferCodecs,this),e.off(P.BUFFER_APPENDED,this.onBufferAppended,this),e.off(P.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(P.BUFFERED_TO_END,this.onBufferedToEnd,this),e.off(P.MEDIA_ENDED,this.onMediaEnded,this),e.off(P.ERROR,this.onError,this),e.off(P.DESTROYING,this.onDestroying,this))}startLoad(){this.resumeBuffering()}stopLoad(){this.pauseBuffering()}resumeBuffering(){var e;(e=this.getBufferingPlayer())==null||e.resumeBuffering()}pauseBuffering(){var e;(e=this.getBufferingPlayer())==null||e.pauseBuffering()}destroy(){this.unregisterListeners(),this.stopLoad(),this.assetListLoader&&this.assetListLoader.destroy(),this.emptyPlayerQueue(),this.clearScheduleState(),this.schedule&&this.schedule.destroy(),this.media=this.detachedData=this.mediaSelection=this.requiredTracks=this.altSelection=this.manager=null,this.hls=this.HlsPlayerClass=this.schedule=this.log=null,this.assetListLoader=null,this.onPlay=this.onPause=this.onSeeking=this.onTimeupdate=null,this.onScheduleUpdate=null}onDestroying(){const e=this.primaryMedia||this.media;e&&this.removeMediaListeners(e)}removeMediaListeners(e){Oi(e,"play",this.onPlay),Oi(e,"pause",this.onPause),Oi(e,"seeking",this.onSeeking),Oi(e,"timeupdate",this.onTimeupdate)}onMediaAttaching(e,r){const n=this.media=r.media;ii(n,"seeking",this.onSeeking),ii(n,"timeupdate",this.onTimeupdate),ii(n,"play",this.onPlay),ii(n,"pause",this.onPause)}onMediaAttached(e,r){const n=this.effectivePlayingItem,i=this.detachedData;if(this.detachedData=null,n===null)this.checkStart();else if(!i){this.clearScheduleState();const s=this.findItemIndex(n);this.setSchedulePosition(s)}}clearScheduleState(){this.playingItem=this.bufferingItem=this.waitingItem=this.endedItem=this.playingAsset=this.endedAsset=this.bufferingAsset=null}onMediaDetaching(e,r){const n=!!r.transferMedia,i=this.media;if(this.media=null,!n&&(i&&this.removeMediaListeners(i),this.detachedData)){const s=this.getBufferingPlayer();s&&(this.playingAsset=this.endedAsset=this.bufferingAsset=this.bufferingItem=this.waitingItem=this.detachedData=null,s.detachMedia()),this.shouldPlay=!1}}get interstitialsManager(){if(!this.manager){if(!this.hls)return null;const e=this,r=()=>e.bufferingItem||e.waitingItem,n=f=>f&&e.getAssetPlayer(f.identifier),i=(f,h,m,p,g)=>{if(f){let v=f[h].start;const y=f.event;if(y){if(h==="playout"||y.timelineOccupancy!==Ng.Point){const x=n(m);(x==null?void 0:x.interstitial)===y&&(v+=x.assetItem.startOffset+x[g])}}else{const x=p==="bufferedPos"?a():e[p];v+=x-f.start}return v}return 0},s=(f,h)=>{if(f!==0&&h!=="primary"&&e.schedule.length){var m;const p=e.schedule.findItemIndexAtTime(f),g=(m=e.schedule.items)==null?void 0:m[p];if(g){const v=g[h].start-g.start;return f+v}}return f},a=()=>{const f=e.bufferedPos;return f===Number.MAX_VALUE?o("primary"):Math.max(f,0)},o=f=>{var h;return(h=e.primaryDetails)!=null&&h.live?e.primaryDetails.edge:e.schedule.durations[f]},c=(f,h)=>{var m,p;const g=e.effectivePlayingItem;if(g!=null&&(m=g.event)!=null&&m.restrictions.skip)return;e.log(`seek to ${f} "${h}"`);const v=e.effectivePlayingItem,y=e.schedule.findItemIndexAtTime(f,h),x=(p=e.schedule.items)==null?void 0:p[y],b=e.getBufferingPlayer(),S=b==null?void 0:b.interstitial,w=S==null?void 0:S.appendInPlace,T=v&&e.itemsMatch(v,x);if(v&&(w||T)){const _=n(e.playingAsset),N=(_==null?void 0:_.media)||e.primaryMedia;if(N){const C=h==="primary"?N.currentTime:i(v,h,e.playingAsset,"timelinePos","currentTime"),j=f-C,O=(w?C:N.currentTime)+j;if(O>=0&&(!_||w||O<=_.duration)){N.currentTime=O;return}}}if(x){let _=f;if(h!=="primary"){const C=x[h].start,j=f-C;_=x.start+j}const N=!e.isInterstitial(x);if((!e.isInterstitial(v)||v.event.appendInPlace)&&(N||x.event.appendInPlace)){const C=e.media||(w?b==null?void 0:b.media:null);C&&(C.currentTime=_)}else if(v){const C=e.findItemIndex(v);if(y>C){const O=e.schedule.findJumpRestrictedIndex(C+1,y);if(O>C){e.setSchedulePosition(O);return}}let j=0;if(N)e.timelinePos=_,e.checkBuffer();else{var A;const O=x==null||(A=x.event)==null?void 0:A.assetList;if(O){const R=f-(x[h]||x).start;for(let k=O.length;k--;){const M=O[k];if(M.duration&&R>=M.startOffset&&R<M.startOffset+M.duration){j=k;break}}}}e.setSchedulePosition(y,j)}}},u=()=>{const f=e.effectivePlayingItem;if(e.isInterstitial(f))return f;const h=r();return e.isInterstitial(h)?h:null},d={get currentTime(){const f=u(),h=e.effectivePlayingItem;return h&&h===f?i(h,"playout",e.effectivePlayingAsset,"timelinePos","currentTime")-h.playout.start:0},set currentTime(f){const h=u(),m=e.effectivePlayingItem;m&&m===h&&c(f+m.playout.start,"playout")},get duration(){const f=u();return f?f.playout.end-f.playout.start:0},get assetPlayers(){var f;const h=(f=u())==null?void 0:f.event.assetList;return h?h.map(m=>e.getAssetPlayer(m.identifier)):[]},get playingIndex(){var f;const h=(f=u())==null?void 0:f.event;return h&&e.effectivePlayingAsset?h.findAssetIndex(e.effectivePlayingAsset):-1},get scheduleItem(){return u()}};this.manager={get events(){var f,h;return((f=e.schedule)==null||(h=f.events)==null?void 0:h.slice(0))||[]},get schedule(){var f,h;return((f=e.schedule)==null||(h=f.items)==null?void 0:h.slice(0))||[]},get interstitialPlayer(){return u()?d:null},get playerQueue(){return e.playerQueue.slice(0)},get bufferingAsset(){return e.bufferingAsset},get bufferingItem(){return r()},get bufferingIndex(){const f=r();return e.findItemIndex(f)},get playingAsset(){return e.effectivePlayingAsset},get playingItem(){return e.effectivePlayingItem},get playingIndex(){const f=e.effectivePlayingItem;return e.findItemIndex(f)},primary:{get bufferedEnd(){return a()},get currentTime(){const f=e.timelinePos;return f>0?f:0},set currentTime(f){c(f,"primary")},get duration(){return o("primary")},get seekableStart(){var f;return((f=e.primaryDetails)==null?void 0:f.fragmentStart)||0}},integrated:{get bufferedEnd(){return i(r(),"integrated",e.bufferingAsset,"bufferedPos","bufferedEnd")},get currentTime(){return i(e.effectivePlayingItem,"integrated",e.effectivePlayingAsset,"timelinePos","currentTime")},set currentTime(f){c(f,"integrated")},get duration(){return o("integrated")},get seekableStart(){var f;return s(((f=e.primaryDetails)==null?void 0:f.fragmentStart)||0,"integrated")}},skip:()=>{const f=e.effectivePlayingItem,h=f==null?void 0:f.event;if(h&&!h.restrictions.skip){const m=e.findItemIndex(f);if(h.appendInPlace){const p=f.playout.start+f.event.duration;c(p+.001,"playout")}else e.advanceAfterAssetEnded(h,m,1/0)}}}}return this.manager}get effectivePlayingItem(){return this.waitingItem||this.playingItem||this.endedItem}get effectivePlayingAsset(){return this.playingAsset||this.endedAsset}get playingLastItem(){var e;const r=this.playingItem,n=(e=this.schedule)==null?void 0:e.items;return!this.playbackStarted||!r||!n?!1:this.findItemIndex(r)===n.length-1}get playbackStarted(){return this.effectivePlayingItem!==null}get currentTime(){var e,r,n;if(this.mediaSelection===null)return;const i=this.waitingItem||this.playingItem;if(this.isInterstitial(i)&&!i.event.appendInPlace)return;let s=this.media;!s&&(e=this.bufferingItem)!=null&&(r=e.event)!=null&&r.appendInPlace&&(s=this.primaryMedia);const a=(n=s)==null?void 0:n.currentTime;if(!(a===void 0||!ye(a)))return a}get primaryMedia(){var e;return this.media||((e=this.detachedData)==null?void 0:e.media)||null}isInterstitial(e){return!!(e!=null&&e.event)}retreiveMediaSource(e,r){const n=this.getAssetPlayer(e);n&&this.transferMediaFromPlayer(n,r)}transferMediaFromPlayer(e,r){const n=e.interstitial.appendInPlace,i=e.media;if(n&&i===this.primaryMedia){if(this.bufferingAsset=null,(!r||this.isInterstitial(r)&&!r.event.appendInPlace)&&r&&i){this.detachedData={media:i};return}const s=e.transferMedia();this.log(`transfer MediaSource from ${e} ${Mt(s)}`),this.detachedData=s}else r&&i&&(this.shouldPlay||(this.shouldPlay=!i.paused))}transferMediaTo(e,r){var n,i;if(e.media===r)return;let s=null;const a=this.hls,o=e!==a,c=o&&e.interstitial.appendInPlace,u=(n=this.detachedData)==null?void 0:n.mediaSource;let d;if(a.media)c&&(s=a.transferMedia(),this.detachedData=s),d="Primary";else if(u){const m=this.getBufferingPlayer();m?(s=m.transferMedia(),d=`${m}`):d="detached MediaSource"}else d="detached media";if(!s){if(u)s=this.detachedData,this.log(`using detachedData: MediaSource ${Mt(s)}`);else if(!this.detachedData||a.media===r){const m=this.playerQueue;m.length>1&&m.forEach(p=>{if(o&&p.interstitial.appendInPlace!==c){const g=p.interstitial;this.clearInterstitial(p.interstitial,null),g.appendInPlace=!1,g.appendInPlace&&this.warn(`Could not change append strategy for queued assets ${g}`)}}),this.hls.detachMedia(),this.detachedData={media:r}}}const f=s&&"mediaSource"in s&&((i=s.mediaSource)==null?void 0:i.readyState)!=="closed",h=f&&s?s:r;if(this.log(`${f?"transfering MediaSource":"attaching media"} to ${o?e:"Primary"} from ${d}`),h===s){const m=o&&e.assetId===this.schedule.assetIdAtEnd;h.overrides={duration:this.schedule.duration,endOfStream:!o||m,cueRemoval:!o}}e.attachMedia(h)}onInterstitialCueEnter(){this.onTimeupdate()}checkStart(){const e=this.schedule,r=e.events;if(!r||this.playbackDisabled||!this.media)return;this.bufferedPos===-1&&(this.bufferedPos=0);const n=this.timelinePos,i=this.effectivePlayingItem;if(n===-1){const s=this.hls.startPosition;if(this.timelinePos=s,r.length&&r[0].cue.pre){const a=e.findEventIndex(r[0].identifier);this.setSchedulePosition(a)}else if(s>=0||!this.primaryLive){const a=this.timelinePos=s>0?s:0,o=e.findItemIndexAtTime(a);this.setSchedulePosition(o)}}else if(i&&!this.playingItem){const s=e.findItemIndex(i);this.setSchedulePosition(s)}}advanceAfterAssetEnded(e,r,n){const i=Dx(e,n);if(!e.isAssetPastPlayoutLimit(i))this.setSchedulePosition(r,i);else{const s=this.schedule.items;if(s){const a=r+1,o=s.length;if(a>=o){this.setSchedulePosition(-1);return}const c=e.resumeTime;this.timelinePos<c&&(this.timelinePos=c,this.checkBuffer()),this.setSchedulePosition(a)}}}setScheduleToAssetAtTime(e,r){const n=this.schedule,i=r.parentIdentifier,s=n.getEvent(i);if(s){const a=n.findEventIndex(i),o=n.findAssetIndex(s,e);this.advanceAfterAssetEnded(s,a,o-1)}}setSchedulePosition(e,r){const n=this.schedule.items;if(!n||this.playbackDisabled)return;this.log(`setSchedulePosition ${e}, ${r}`);const i=e>=0?n[e]:null,s=this.playingItem,a=this.playingLastItem;if(this.isInterstitial(s)){var o;const u=s.event,d=this.playingAsset,f=d==null?void 0:d.identifier,h=f?this.getAssetPlayer(f):null;if(h&&f&&(!this.eventItemsMatch(s,i)||r!==void 0&&f!==((o=u.assetList)==null?void 0:o[r].identifier))){var c;const m=u.findAssetIndex(d);if(this.log(`INTERSTITIAL_ASSET_ENDED ${m+1}/${u.assetList.length} ${ic(d)}`),this.endedAsset=d,this.playingAsset=null,this.hls.trigger(P.INTERSTITIAL_ASSET_ENDED,{asset:d,assetListIndex:m,event:u,schedule:n.slice(0),scheduleIndex:e,player:h}),s!==this.playingItem){this.itemsMatch(s,this.playingItem)&&!this.playingAsset&&this.advanceAfterAssetEnded(u,this.findItemIndex(this.playingItem),m);return}this.retreiveMediaSource(f,i),h.media&&!((c=this.detachedData)!=null&&c.mediaSource)&&h.detachMedia()}if(!this.eventItemsMatch(s,i)&&(this.endedItem=s,this.playingItem=null,this.log(`INTERSTITIAL_ENDED ${u} ${pa(s)}`),u.hasPlayed=!0,this.hls.trigger(P.INTERSTITIAL_ENDED,{event:u,schedule:n.slice(0),scheduleIndex:e}),u.cue.once)){this.updateSchedule();const m=this.schedule.items;if(i&&m){const p=this.findItemIndex(i);this.advanceSchedule(p,m,r,s,a)}return}}this.advanceSchedule(e,n,r,s,a)}advanceSchedule(e,r,n,i,s){const a=e>=0?r[e]:null,o=this.primaryMedia,c=this.playerQueue;if(c.length&&c.forEach(u=>{const d=u.interstitial,f=this.schedule.findEventIndex(d.identifier);(f<e||f>e+1)&&this.clearInterstitial(d,a)}),this.isInterstitial(a)){this.timelinePos=Math.min(Math.max(this.timelinePos,a.start),a.end);const u=a.event;if(n===void 0){n=this.schedule.findAssetIndex(u,this.timelinePos);const m=Dx(u,n-1);if(u.isAssetPastPlayoutLimit(m)){this.advanceAfterAssetEnded(u,e,n);return}n=m}const d=this.waitingItem;this.assetsBuffered(a,o)||this.setBufferingItem(a);let f=this.preloadAssets(u,n);if(this.eventItemsMatch(a,d||i)||(this.waitingItem=a,this.log(`INTERSTITIAL_STARTED ${pa(a)} ${u.appendInPlace?"append in place":""}`),this.hls.trigger(P.INTERSTITIAL_STARTED,{event:u,schedule:r.slice(0),scheduleIndex:e})),!u.assetListLoaded){this.log(`Waiting for ASSET-LIST to complete loading ${u}`);return}if(u.assetListLoader&&(u.assetListLoader.destroy(),u.assetListLoader=void 0),!o){this.log(`Waiting for attachMedia to start Interstitial ${u}`);return}this.waitingItem=this.endedItem=null,this.playingItem=a;const h=u.assetList[n];if(!h){const m=r[e+1],p=this.media;m&&p&&!this.isInterstitial(m)&&p.currentTime<m.start&&(p.currentTime=this.timelinePos=m.start),this.advanceAfterAssetEnded(u,e,n||0);return}if(f||(f=this.getAssetPlayer(h.identifier)),f===null||f.destroyed){const m=u.assetList.length;this.warn(`asset ${n+1}/${m} player destroyed ${u}`),f=this.createAssetPlayer(u,h,n)}if(!this.eventItemsMatch(a,this.bufferingItem)&&u.appendInPlace&&this.isAssetBuffered(h))return;this.startAssetPlayer(f,n,r,e,o),this.shouldPlay&&jC(f.media)}else a!==null?(this.resumePrimary(a,e,i),this.shouldPlay&&jC(this.hls.media)):s&&this.isInterstitial(i)&&(this.endedItem=null,this.playingItem=i,i.event.appendInPlace||this.attachPrimary(this.schedule.durations.primary,null))}get playbackDisabled(){return this.hls.config.enableInterstitialPlayback===!1}get primaryDetails(){var e,r;return(e=this.mediaSelection)==null||(r=e.main)==null?void 0:r.details}get primaryLive(){var e;return!!((e=this.primaryDetails)!=null&&e.live)}resumePrimary(e,r,n){var i;if(this.playingItem=e,this.playingAsset=this.endedAsset=null,this.waitingItem=this.endedItem=null,this.bufferedToItem(e),this.log(`resuming ${pa(e)}`),!((i=this.detachedData)!=null&&i.mediaSource)){let a=this.timelinePos;(a<e.start||a>=e.end)&&(a=this.getPrimaryResumption(e,r),this.timelinePos=a),this.attachPrimary(a,e)}if(!n)return;const s=this.schedule.items;s&&(this.log(`INTERSTITIALS_PRIMARY_RESUMED ${pa(e)}`),this.hls.trigger(P.INTERSTITIALS_PRIMARY_RESUMED,{schedule:s.slice(0),scheduleIndex:r}),this.checkBuffer())}getPrimaryResumption(e,r){const n=e.start;if(this.primaryLive){const i=this.primaryDetails;if(r===0)return this.hls.startPosition;if(i&&(n<i.fragmentStart||n>i.edge))return this.hls.liveSyncPosition||-1}return n}isAssetBuffered(e){const r=this.getAssetPlayer(e.identifier);return r!=null&&r.hls?r.hls.bufferedToEnd:Ge.bufferInfo(this.primaryMedia,this.timelinePos,0).end+1>=e.timelineStart+(e.duration||0)}attachPrimary(e,r,n){r?this.setBufferingItem(r):this.bufferingItem=this.playingItem,this.bufferingAsset=null;const i=this.primaryMedia;if(!i)return;const s=this.hls;s.media?this.checkBuffer():(this.transferMediaTo(s,i),n&&this.startLoadingPrimaryAt(e,n)),n||(this.timelinePos=e,this.startLoadingPrimaryAt(e,n))}startLoadingPrimaryAt(e,r){var n;const i=this.hls;!i.loadingEnabled||!i.media||Math.abs((((n=i.mainForwardBufferInfo)==null?void 0:n.start)||i.media.currentTime)-e)>.5?i.startLoad(e,r):i.bufferingEnabled||i.resumeBuffering()}onManifestLoading(){this.stopLoad(),this.schedule.reset(),this.emptyPlayerQueue(),this.clearScheduleState(),this.shouldPlay=!1,this.bufferedPos=this.timelinePos=-1,this.mediaSelection=this.altSelection=this.manager=this.requiredTracks=null,this.hls.off(P.BUFFER_CODECS,this.onBufferCodecs,this),this.hls.on(P.BUFFER_CODECS,this.onBufferCodecs,this)}onLevelUpdated(e,r){if(r.level===-1)return;const n=this.hls.levels[r.level],i=St(St({},this.mediaSelection||this.altSelection),{},{main:n});this.mediaSelection=i,this.schedule.parseInterstitialDateRanges(i,this.hls.config.interstitialAppendInPlace),!this.effectivePlayingItem&&this.schedule.items&&this.checkStart()}onAudioTrackUpdated(e,r){const n=this.hls.audioTracks[r.id],i=this.mediaSelection;if(!i){this.altSelection=St(St({},this.altSelection),{},{audio:n});return}const s=St(St({},i),{},{audio:n});this.mediaSelection=s}onSubtitleTrackUpdated(e,r){const n=this.hls.subtitleTracks[r.id],i=this.mediaSelection;if(!i){this.altSelection=St(St({},this.altSelection),{},{subtitles:n});return}const s=St(St({},i),{},{subtitles:n});this.mediaSelection=s}onAudioTrackSwitching(e,r){const n=UN(r);this.playerQueue.forEach(i=>i.hls.setAudioOption(r)||i.hls.setAudioOption(n))}onSubtitleTrackSwitch(e,r){const n=UN(r);this.playerQueue.forEach(i=>i.hls.setSubtitleOption(r)||r.id!==-1&&i.hls.setSubtitleOption(n))}onBufferCodecs(e,r){const n=r.tracks;n&&(this.requiredTracks=n)}onBufferAppended(e,r){this.checkBuffer()}onBufferFlushed(e,r){const n=this.playingItem;if(n&&!this.itemsMatch(n,this.bufferingItem)&&!this.isInterstitial(n)){const i=this.timelinePos;this.bufferedPos=i,this.checkBuffer()}}onBufferedToEnd(e){const r=this.schedule.events;if(this.bufferedPos<Number.MAX_VALUE&&r){for(let i=0;i<r.length;i++){const s=r[i];if(s.cue.post){var n;const a=this.schedule.findEventIndex(s.identifier),o=(n=this.schedule.items)==null?void 0:n[a];this.isInterstitial(o)&&this.eventItemsMatch(o,this.bufferingItem)&&this.bufferedToItem(o,0);break}}this.bufferedPos=Number.MAX_VALUE}}onMediaEnded(e){const r=this.playingItem;if(!this.playingLastItem&&r){const n=this.findItemIndex(r);this.setSchedulePosition(n+1)}else this.shouldPlay=!1}updateItem(e,r){const n=this.schedule.items;if(e&&n){const i=this.findItemIndex(e,r);return n[i]||null}return null}trimInPlace(e,r){if(this.isInterstitial(e)&&e.event.appendInPlace&&r.end-e.end>.25){e.event.assetList.forEach((s,a)=>{e.event.isAssetPastPlayoutLimit(a)&&this.clearAssetPlayer(s.identifier,null)});const n=e.end+.25,i=Ge.bufferInfo(this.primaryMedia,n,0);(i.end>n||(i.nextStart||0)>n)&&(this.attachPrimary(n,null),this.flushFrontBuffer(n))}}itemsMatch(e,r){return!!r&&(e===r||e.event&&r.event&&this.eventItemsMatch(e,r)||!e.event&&!r.event&&this.findItemIndex(e)===this.findItemIndex(r))}eventItemsMatch(e,r){var n;return!!r&&(e===r||e.event.identifier===((n=r.event)==null?void 0:n.identifier))}findItemIndex(e,r){return e?this.schedule.findItemIndex(e,r):-1}updateSchedule(){const e=this.mediaSelection;e&&this.schedule.updateSchedule(e,[])}checkBuffer(e){const r=this.schedule.items;if(!r)return;const n=Ge.bufferInfo(this.primaryMedia,this.timelinePos,0);e&&(this.bufferedPos=this.timelinePos),e||(e=n.len<1),this.updateBufferedPos(n.end,r,e)}updateBufferedPos(e,r,n){const i=this.schedule,s=this.bufferingItem;if(this.bufferedPos>e)return;if(r.length===1&&this.itemsMatch(r[0],s)){this.bufferedPos=e;return}const a=this.playingItem,o=this.findItemIndex(a);let c=i.findItemIndexAtTime(e);if(this.bufferedPos<e){var u,d;const f=this.findItemIndex(s),h=Math.min(f+1,r.length-1),m=r[h];if((c===-1&&s&&e>=s.end||(u=m.event)!=null&&u.appendInPlace&&e+.01>=m.start)&&(c=h),h-o>1&&(s==null||(d=s.event)==null?void 0:d.appendInPlace)===!1)return;if(this.bufferedPos=e,c>f&&c>o)this.bufferedToItem(m);else{const p=this.primaryDetails;this.primaryLive&&p&&e>p.edge-p.targetduration&&m.start<p.edge+this.hls.config.interstitialLiveLookAhead&&this.isInterstitial(m)&&this.preloadAssets(m.event,0)}}else n&&a&&!this.itemsMatch(a,s)&&(c===o?this.bufferedToItem(a):c===o+1&&this.bufferedToItem(r[c]))}assetsBuffered(e,r){return e.event.assetList.length===0?!1:!e.event.assetList.some(i=>{const s=this.getAssetPlayer(i.identifier);return!(s!=null&&s.bufferedInPlaceToEnd(r))})}setBufferingItem(e){const r=this.bufferingItem,n=this.schedule;if(this.itemsMatch(e,r))this.bufferingItem!==e&&(this.bufferingItem=e);else{const{items:i,events:s}=n;if(!i||!s)return r;const a=this.isInterstitial(e),o=this.getBufferingPlayer();this.bufferingItem=e,this.bufferedPos=Math.max(e.start,Math.min(e.end,this.timelinePos));const c=o?o.remaining:r?r.end-this.timelinePos:0;this.log(`INTERSTITIALS_BUFFERED_TO_BOUNDARY ${pa(e)}`+(r?` (${c.toFixed(2)} remaining)`:"")),this.playbackDisabled||(a?e.event.assetList.forEach(u=>{const d=this.getAssetPlayer(u.identifier);d&&d.resumeBuffering()}):(this.hls.resumeBuffering(),this.playerQueue.forEach(u=>u.pauseBuffering()))),this.hls.trigger(P.INTERSTITIALS_BUFFERED_TO_BOUNDARY,{events:s.slice(0),schedule:i.slice(0),bufferingIndex:this.findItemIndex(e),playingIndex:this.findItemIndex(this.playingItem)})}return r}bufferedToItem(e,r=0){const n=this.setBufferingItem(e);if(!this.playbackDisabled){if(this.isInterstitial(e))this.bufferedToEvent(e,r);else if(n!==null){this.bufferingAsset=null;const i=this.detachedData;i?i.mediaSource?this.attachPrimary(e.start,e,!0):this.preloadPrimary(e):this.preloadPrimary(e)}}}preloadPrimary(e){const r=this.findItemIndex(e),n=this.getPrimaryResumption(e,r);this.startLoadingPrimaryAt(n)}bufferedToEvent(e,r){const n=e.event,i=n.assetList.length===0&&!n.assetListLoader,s=n.cue.once;if(i||!s){const a=this.preloadAssets(n,r);if(a!=null&&a.interstitial.appendInPlace){const o=n.assetList[r],c=this.primaryMedia;o&&c&&this.bufferAssetPlayer(a,c)}}}preloadAssets(e,r){const n=e.assetUrl,i=e.assetList.length,s=i===0&&!e.assetListLoader,a=e.cue.once;if(s){const c=e.timelineStart;if(e.appendInPlace){var o;const h=this.playingItem;!this.isInterstitial(h)&&(h==null||(o=h.nextEvent)==null?void 0:o.identifier)===e.identifier&&this.flushFrontBuffer(c+.25)}let u,d=0;if(!this.playingItem&&this.primaryLive&&(d=this.hls.startPosition,d===-1&&(d=this.hls.liveSyncPosition||0)),d&&!(e.cue.pre||e.cue.post)){const h=d-c;h>0&&(u=Math.round(h*1e3)/1e3)}if(this.log(`Load interstitial asset ${r+1}/${n?1:i} ${e}${u?` live-start: ${d} start-offset: ${u}`:""}`),n)return this.createAsset(e,0,0,c,e.duration,n);const f=this.assetListLoader.loadAssetList(e,u);f&&(e.assetListLoader=f)}else if(!a&&i){for(let c=r;c<i;c++){const u=e.assetList[c],d=this.getAssetPlayerQueueIndex(u.identifier);(d===-1||this.playerQueue[d].destroyed)&&!u.error&&this.createAssetPlayer(e,u,c)}return this.getAssetPlayer(e.assetList[r].identifier)}return null}flushFrontBuffer(e){const r=this.requiredTracks;if(!r)return;this.log(`Removing front buffer starting at ${e}`),Object.keys(r).forEach(i=>{this.hls.trigger(P.BUFFER_FLUSHING,{startOffset:e,endOffset:1/0,type:i})})}getAssetPlayerQueueIndex(e){const r=this.playerQueue;for(let n=0;n<r.length;n++)if(e===r[n].assetId)return n;return-1}getAssetPlayer(e){const r=this.getAssetPlayerQueueIndex(e);return this.playerQueue[r]||null}getBufferingPlayer(){const{playerQueue:e,primaryMedia:r}=this;if(r){for(let n=0;n<e.length;n++)if(e[n].media===r)return e[n]}return null}createAsset(e,r,n,i,s,a){const o={parentIdentifier:e.identifier,identifier:jZ(e,a,r),duration:s,startOffset:n,timelineStart:i,uri:a};return this.createAssetPlayer(e,o,r)}createAssetPlayer(e,r,n){const i=this.hls,s=i.userConfig;let a=s.videoPreference;const o=i.loadLevelObj||i.levels[i.currentLevel];(a||o)&&(a=yt({},a),o.videoCodec&&(a.videoCodec=o.videoCodec),o.videoRange&&(a.allowedVideoRanges=[o.videoRange]));const c=i.audioTracks[i.audioTrack],u=i.subtitleTracks[i.subtitleTrack];let d=0;if(this.primaryLive||e.appendInPlace){const b=this.timelinePos-r.timelineStart;if(b>1){const S=r.duration;S&&b<S&&(d=b)}}const f=r.identifier,h=St(St({},s),{},{autoStartLoad:!0,startFragPrefetch:!0,primarySessionId:i.sessionId,assetPlayerId:f,abrEwmaDefaultEstimate:i.bandwidthEstimate,interstitialsController:void 0,startPosition:d,liveDurationInfinity:!1,testBandwidth:!1,videoPreference:a,audioPreference:c||s.audioPreference,subtitlePreference:u||s.subtitlePreference});e.appendInPlace&&(e.appendInPlaceStarted=!0,r.timelineStart&&(h.timelineOffset=r.timelineStart));const m=h.cmcd;m!=null&&m.sessionId&&m.contentId&&(h.cmcd=yt({},m,{contentId:mf(r.uri)})),this.getAssetPlayer(f)&&this.warn(`Duplicate date range identifier ${e} and asset ${f}`);const p=new kZ(this.HlsPlayerClass,h,e,r);this.playerQueue.push(p),e.assetList[n]=r;const g=b=>{if(b.live){const T=new Error(`Interstitials MUST be VOD assets ${e}`),A={fatal:!0,type:Ie.OTHER_ERROR,details:K.INTERSTITIAL_ASSET_ITEM_ERROR,error:T};this.handleAssetItemError(A,e,this.schedule.findEventIndex(e.identifier),n,T.message);return}const S=b.edge-b.fragmentStart,w=r.duration;(w===null||S>w)&&(this.log(`Interstitial asset "${f}" duration change ${w} > ${S}`),r.duration=S,this.updateSchedule())};p.on(P.LEVEL_UPDATED,(b,{details:S})=>g(S)),p.on(P.LEVEL_PTS_UPDATED,(b,{details:S})=>g(S));const v=(b,S)=>{const w=this.getAssetPlayer(f);if(w&&S.tracks){w.off(P.BUFFER_CODECS,v),w.tracks=S.tracks;const T=this.primaryMedia;this.bufferingAsset===w.assetItem&&T&&!w.media&&this.bufferAssetPlayer(w,T)}};p.on(P.BUFFER_CODECS,v);const y=()=>{var b;const S=this.getAssetPlayer(f);if(this.log(`buffered to end of asset ${S}`),!S)return;const w=this.schedule.findEventIndex(e.identifier),T=(b=this.schedule.items)==null?void 0:b[w];if(this.isInterstitial(T)){const _=e.findAssetIndex(r),N=Dx(e,_);if(!e.isAssetPastPlayoutLimit(N))this.bufferedToItem(T,N);else{var A;const C=(A=this.schedule.items)==null?void 0:A[w+1];C&&this.bufferedToItem(C)}}};p.on(P.BUFFERED_TO_END,y);const x=b=>()=>{if(!this.getAssetPlayer(f))return;this.shouldPlay=!0;const w=this.schedule.findEventIndex(e.identifier);this.advanceAfterAssetEnded(e,w,b)};return p.once(P.MEDIA_ENDED,x(n)),p.once(P.PLAYOUT_LIMIT_REACHED,x(1/0)),p.on(P.ERROR,(b,S)=>{const w=this.getAssetPlayer(f);if(S.details===K.BUFFER_STALLED_ERROR){if(w!=null&&w.media){const T=w.currentTime,A=w.duration-T;T&&e.appendInPlace&&A/w.media.playbackRate<.5?(this.log(`Advancing buffer past end of asset ${f} ${e} at ${w.media.currentTime}`),y()):(this.warn(`Stalled at ${T} of ${T+A} in asset ${f} ${e}`),this.onTimeupdate(),this.checkBuffer(!0))}return}this.handleAssetItemError(S,e,this.schedule.findEventIndex(e.identifier),n,`Asset player error ${S.error} ${e}`)}),p.on(P.DESTROYING,()=>{if(!this.getAssetPlayer(f))return;const S=new Error(`Asset player destroyed unexpectedly ${f}`),w={fatal:!0,type:Ie.OTHER_ERROR,details:K.INTERSTITIAL_ASSET_ITEM_ERROR,error:S};this.handleAssetItemError(w,e,this.schedule.findEventIndex(e.identifier),n,S.message)}),this.log(`INTERSTITIAL_ASSET_PLAYER_CREATED ${ic(r)}`),this.hls.trigger(P.INTERSTITIAL_ASSET_PLAYER_CREATED,{asset:r,assetListIndex:n,event:e,player:p}),p}clearInterstitial(e,r){e.assetList.forEach(n=>{this.clearAssetPlayer(n.identifier,r)}),e.reset()}resetAssetPlayer(e){const r=this.getAssetPlayerQueueIndex(e);if(r!==-1){this.log(`reset asset player "${e}" after error`);const n=this.playerQueue[r];this.transferMediaFromPlayer(n,null),n.resetDetails()}}clearAssetPlayer(e,r){const n=this.getAssetPlayerQueueIndex(e);if(n!==-1){this.log(`clear asset player "${e}" toSegment: ${r&&pa(r)}`);const i=this.playerQueue[n];this.transferMediaFromPlayer(i,r),this.playerQueue.splice(n,1),i.destroy()}}emptyPlayerQueue(){let e;for(;e=this.playerQueue.pop();)e.destroy();this.playerQueue=[]}startAssetPlayer(e,r,n,i,s){const{interstitial:a,assetItem:o,assetId:c}=e,u=a.assetList.length,d=this.playingAsset;this.endedAsset=null,this.playingAsset=o,(!d||d.identifier!==c)&&(d&&(this.clearAssetPlayer(d.identifier,n[i]),delete d.error),this.log(`INTERSTITIAL_ASSET_STARTED ${r+1}/${u} ${ic(o)}`),this.hls.trigger(P.INTERSTITIAL_ASSET_STARTED,{asset:o,assetListIndex:r,event:a,schedule:n.slice(0),scheduleIndex:i,player:e})),this.bufferAssetPlayer(e,s)}bufferAssetPlayer(e,r){var n,i;const{interstitial:s,assetItem:a}=e,o=this.schedule.findEventIndex(s.identifier),c=(n=this.schedule.items)==null?void 0:n[o];if(!c)return;this.setBufferingItem(c),this.bufferingAsset=a;const u=this.getBufferingPlayer();if(u===e)return;const d=s.appendInPlace;if(d&&(u==null?void 0:u.interstitial.appendInPlace)===!1)return;const f=(u==null?void 0:u.tracks)||((i=this.detachedData)==null?void 0:i.tracks)||this.requiredTracks;if(d&&a!==this.playingAsset){if(!e.tracks)return;if(f&&!mF(f,e.tracks)){const h=new Error(`Asset ${ic(a)} SourceBuffer tracks ('${Object.keys(e.tracks)}') are not compatible with primary content tracks ('${Object.keys(f)}')`),m={fatal:!0,type:Ie.OTHER_ERROR,details:K.INTERSTITIAL_ASSET_ITEM_ERROR,error:h},p=s.findAssetIndex(a);this.handleAssetItemError(m,s,o,p,h.message);return}}this.transferMediaTo(e,r)}handleAssetItemError(e,r,n,i,s){if(e.details===K.BUFFER_STALLED_ERROR)return;const a=r.assetList[i];this.warn(`INTERSTITIAL_ASSET_ERROR ${a&&ic(a)} ${e.error}`);const o=a==null?void 0:a.identifier,c=this.getAssetPlayerQueueIndex(o),u=this.playerQueue[c]||null,d=this.schedule.items,f=yt({},e,{fatal:!1,errorAction:qf(!0),asset:a,assetListIndex:i,event:r,schedule:d,scheduleIndex:n,player:u});if(this.hls.trigger(P.INTERSTITIAL_ASSET_ERROR,f),!e.fatal)return;const h=this.playingAsset,m=new Error(s);if(a&&(this.clearAssetPlayer(o,null),a.error=m),!r.assetList.some(p=>!p.error))r.error=m;else{for(let p=i;p<r.assetList.length;p++)this.resetAssetPlayer(r.assetList[p].identifier);this.updateSchedule()}r.error?this.primaryFallback(r):h&&h.identifier===o&&this.advanceAfterAssetEnded(r,n,i)}primaryFallback(e){const r=e.timelineStart,n=this.effectivePlayingItem;if(this.updateSchedule(),n){this.log(`Fallback to primary from event "${e.identifier}" start: ${r} pos: ${this.timelinePos} playing: ${n?pa(n):"<none>"} error: ${e.error}`);let i=this.timelinePos;i===-1&&(i=this.hls.startPosition);const s=this.updateItem(n,i);this.itemsMatch(n,s)&&this.clearInterstitial(e,null),e.appendInPlace&&(this.attachPrimary(r,null),this.flushFrontBuffer(r));const a=this.schedule.findItemIndexAtTime(i);this.setSchedulePosition(a)}else this.checkStart()}onAssetListLoaded(e,r){var n;const i=r.event,s=i.identifier,a=r.assetListResponse.ASSETS;if(!this.schedule.hasEvent(s))return;const o=i.timelineStart,c=i.duration;let u=0;a.forEach((p,g)=>{const v=parseFloat(p.DURATION);this.createAsset(i,g,u,o+u,v,p.URI),u+=v}),i.duration=u,this.log(`Loaded asset-list with duration: ${u} (was: ${c}) ${i}`);const d=this.waitingItem,f=(d==null?void 0:d.event.identifier)===s;this.updateSchedule();const h=(n=this.bufferingItem)==null?void 0:n.event;if(f){var m;const p=this.schedule.findEventIndex(s),g=(m=this.schedule.items)==null?void 0:m[p];if(g){if(!this.playingItem&&this.timelinePos>g.end&&this.schedule.findItemIndexAtTime(this.timelinePos)!==p){i.error=new Error(`Interstitial no longer within playback range ${this.timelinePos} ${i}`),this.primaryFallback(i);return}this.setBufferingItem(g)}this.setSchedulePosition(p)}else if((h==null?void 0:h.identifier)===s&&h.appendInPlace){const p=i.assetList[0],g=this.getAssetPlayer(p.identifier),v=this.primaryMedia;p&&g&&v&&this.bufferAssetPlayer(g,v)}}onError(e,r){switch(r.details){case K.ASSET_LIST_PARSING_ERROR:case K.ASSET_LIST_LOAD_ERROR:case K.ASSET_LIST_LOAD_TIMEOUT:{const n=r.interstitial;n&&this.primaryFallback(n);break}case K.BUFFER_STALLED_ERROR:{this.onTimeupdate(),this.checkBuffer(!0);break}}}}const OC=500;class MZ extends BT{constructor(e,r,n){super(e,r,n,"subtitle-stream-controller",Pe.SUBTITLE),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(P.LEVEL_LOADED,this.onLevelLoaded,this),e.on(P.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(P.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(P.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(P.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(P.BUFFER_FLUSHING,this.onBufferFlushing,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(P.LEVEL_LOADED,this.onLevelLoaded,this),e.off(P.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(P.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(P.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(P.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(P.BUFFER_FLUSHING,this.onBufferFlushing,this)}startLoad(e,r){this.stopLoad(),this.state=ee.IDLE,this.setInterval(OC),this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=r?-1:e,this.tick()}onManifestLoading(){super.onManifestLoading(),this.mainDetails=null}onMediaDetaching(e,r){this.tracksBuffered=[],super.onMediaDetaching(e,r)}onLevelLoaded(e,r){this.mainDetails=r.details}onSubtitleFragProcessed(e,r){const{frag:n,success:i}=r;if(this.fragContextChanged(n)||(fr(n)&&(this.fragPrevious=n),this.state=ee.IDLE),!i)return;const s=this.tracksBuffered[this.currentTrackId];if(!s)return;let a;const o=n.start;for(let u=0;u<s.length;u++)if(o>=s[u].start&&o<=s[u].end){a=s[u];break}const c=n.start+n.duration;a?a.end=c:(a={start:o,end:c},s.push(a)),this.fragmentTracker.fragBuffered(n),this.fragBufferedComplete(n,null),this.media&&this.tick()}onBufferFlushing(e,r){const{startOffset:n,endOffset:i}=r;if(n===0&&i!==Number.POSITIVE_INFINITY){const s=i-1;if(s<=0)return;r.endOffsetSubtitles=Math.max(0,s),this.tracksBuffered.forEach(a=>{for(let o=0;o<a.length;){if(a[o].end<=s){a.shift();continue}else if(a[o].start<s)a[o].start=s;else break;o++}}),this.fragmentTracker.removeFragmentsInRange(n,s,Pe.SUBTITLE)}}onError(e,r){const n=r.frag;(n==null?void 0:n.type)===Pe.SUBTITLE&&(r.details===K.FRAG_GAP&&this.fragmentTracker.fragBuffered(n,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==ee.STOPPED&&(this.state=ee.IDLE))}onSubtitleTracksUpdated(e,{subtitleTracks:r}){if(this.levels&&d4(this.levels,r)){this.levels=r.map(n=>new Kf(n));return}this.tracksBuffered=[],this.levels=r.map(n=>{const i=new Kf(n);return this.tracksBuffered[i.id]=[],i}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,Pe.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(e,r){var n;if(this.currentTrackId=r.id,!((n=this.levels)!=null&&n.length)||this.currentTrackId===-1){this.clearInterval();return}const i=this.levels[this.currentTrackId];i!=null&&i.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,i&&this.state!==ee.STOPPED&&this.setInterval(OC)}onSubtitleTrackLoaded(e,r){var n;const{currentTrackId:i,levels:s}=this,{details:a,id:o}=r;if(!s){this.warn(`Subtitle tracks were reset while loading level ${o}`);return}const c=s[o];if(o>=s.length||!c)return;this.log(`Subtitle track ${o} loaded [${a.startSN},${a.endSN}]${a.lastPartSn?`[part-${a.lastPartSn}-${a.lastPartIndex}]`:""},duration:${a.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let u=0;if(a.live||(n=c.details)!=null&&n.live){if(a.deltaUpdateFailed)return;const f=this.mainDetails;if(!f){this.startFragRequested=!1;return}const h=f.fragments[0];if(!c.details)a.hasProgramDateTime&&f.hasProgramDateTime?(_g(a,f),u=a.fragmentStart):h&&(u=h.start,Jw(a,u));else{var d;u=this.alignPlaylists(a,c.details,(d=this.levelLastLoaded)==null?void 0:d.details),u===0&&h&&(u=h.start,Jw(a,u))}f&&!this.startFragRequested&&this.setStartPosition(f,u)}c.details=a,this.levelLastLoaded=c,o===i&&(this.hls.trigger(P.SUBTITLE_TRACK_UPDATED,{details:a,id:o,groupId:r.groupId}),this.tick(),a.live&&!this.fragCurrent&&this.media&&this.state===ee.IDLE&&(Al(null,a.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),c.details=void 0)))}_handleFragmentLoadComplete(e){const{frag:r,payload:n}=e,i=r.decryptdata,s=this.hls;if(!this.fragContextChanged(r)&&n&&n.byteLength>0&&i!=null&&i.key&&i.iv&&Lc(i.method)){const a=performance.now();this.decrypter.decrypt(new Uint8Array(n),i.key.buffer,i.iv.buffer,FT(i.method)).catch(o=>{throw s.trigger(P.ERROR,{type:Ie.MEDIA_ERROR,details:K.FRAG_DECRYPT_ERROR,fatal:!1,error:o,reason:o.message,frag:r}),o}).then(o=>{const c=performance.now();s.trigger(P.FRAG_DECRYPTED,{frag:r,payload:o,stats:{tstart:a,tdecrypt:c}})}).catch(o=>{this.warn(`${o.name}: ${o.message}`),this.state=ee.IDLE})}}doTick(){if(!this.media){this.state=ee.IDLE;return}if(this.state===ee.IDLE){const{currentTrackId:e,levels:r}=this,n=r==null?void 0:r[e];if(!n||!r.length||!n.details||this.waitForLive(n))return;const{config:i}=this,s=this.getLoadPosition(),a=Ge.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],s,i.maxBufferHole),{end:o,len:c}=a,u=n.details,d=this.hls.maxBufferLength+u.levelTargetDuration;if(c>d)return;const f=u.fragments,h=f.length,m=u.edge;let p=null;const g=this.fragPrevious;if(o<m){const x=i.maxFragLookUpTolerance,b=o>m-x?0:x;p=Al(g,f,Math.max(f[0].start,o),b),!p&&g&&g.start<f[0].start&&(p=f[0])}else p=f[h-1];if(p=this.filterReplacedPrimary(p,n.details),!p)return;const v=p.sn-u.startSN,y=f[v-1];if(y&&y.cc===p.cc&&this.fragmentTracker.getState(y)===br.NOT_LOADED&&(p=y),this.fragmentTracker.getState(p)===br.NOT_LOADED){const x=this.mapToInitFragWhenRequired(p);x&&this.loadFragment(x,n,o)}}}loadFragment(e,r,n){fr(e)?super.loadFragment(e,r,n):this._loadInitSegment(e,r)}get mediaBufferTimeRanges(){return new $Z(this.tracksBuffered[this.currentTrackId]||[])}}class $Z{constructor(e){this.buffered=void 0;const r=(n,i,s)=>{if(i=i>>>0,i>s-1)throw new DOMException(`Failed to execute '${n}' on 'TimeRanges': The index provided (${i}) is greater than the maximum bound (${s})`);return e[i][n]};this.buffered={get length(){return e.length},end(n){return r("end",n,e.length)},start(n){return r("start",n,e.length)}}}}const FZ={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},S4=t=>String.fromCharCode(FZ[t]||t),xi=15,Ss=100,BZ={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},UZ={17:2,18:4,21:6,22:8,23:10,19:13,20:15},VZ={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},GZ={25:2,26:4,29:6,30:8,31:10,27:13,28:15},HZ=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class zZ{constructor(){this.time=null,this.verboseLevel=0}log(e,r){if(this.verboseLevel>=e){const n=typeof r=="function"?r():r;dt.log(`${this.time} [${e}] ${n}`)}}}const Po=function(e){const r=[];for(let n=0;n<e.length;n++)r.push(e[n].toString(16));return r};class E4{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const r=["foreground","underline","italics","background","flash"];for(let n=0;n<r.length;n++){const i=r[n];e.hasOwnProperty(i)&&(this[i]=e[i])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class WZ{constructor(){this.uchar=" ",this.penState=new E4}reset(){this.uchar=" ",this.penState.reset()}setChar(e,r){this.uchar=e,this.penState.copy(r)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class KZ{constructor(e){this.chars=[],this.pos=0,this.currPenState=new E4,this.cueStartTime=null,this.logger=void 0;for(let r=0;r<Ss;r++)this.chars.push(new WZ);this.logger=e}equals(e){for(let r=0;r<Ss;r++)if(!this.chars[r].equals(e.chars[r]))return!1;return!0}copy(e){for(let r=0;r<Ss;r++)this.chars[r].copy(e.chars[r])}isEmpty(){let e=!0;for(let r=0;r<Ss;r++)if(!this.chars[r].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>Ss&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=Ss)}moveCursor(e){const r=this.pos+e;if(e>1)for(let n=this.pos+1;n<r+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(r)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const r=S4(e);if(this.pos>=Ss){this.logger.log(0,()=>"Cannot insert "+e.toString(16)+" ("+r+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(r,this.currPenState),this.moveCursor(1)}clearFromPos(e){let r;for(r=e;r<Ss;r++)this.chars[r].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let r=!0;for(let n=0;n<Ss;n++){const i=this.chars[n].uchar;i!==" "&&(r=!1),e.push(i)}return r?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}class Mx{constructor(e){this.rows=[],this.currRow=xi-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let r=0;r<xi;r++)this.rows.push(new KZ(e));this.logger=e}reset(){for(let e=0;e<xi;e++)this.rows[e].clear();this.currRow=xi-1}equals(e){let r=!0;for(let n=0;n<xi;n++)if(!this.rows[n].equals(e.rows[n])){r=!1;break}return r}copy(e){for(let r=0;r<xi;r++)this.rows[r].copy(e.rows[r])}isEmpty(){let e=!0;for(let r=0;r<xi;r++)if(!this.rows[r].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,()=>"pacData = "+Mt(e));let r=e.row-1;if(this.nrRollUpRows&&r<this.nrRollUpRows-1&&(r=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==r){for(let o=0;o<xi;o++)this.rows[o].clear();const s=this.currRow+1-this.nrRollUpRows,a=this.lastOutputScreen;if(a){const o=a.rows[s].cueStartTime,c=this.logger.time;if(o!==null&&c!==null&&o<c)for(let u=0;u<this.nrRollUpRows;u++)this.rows[r-this.nrRollUpRows+u+1].copy(a.rows[s+u])}}this.currRow=r;const n=this.rows[this.currRow];if(e.indent!==null){const s=e.indent,a=Math.max(s-1,0);n.setCursor(e.indent),e.color=n.chars[a].penState.foreground}const i={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(i)}setBkgData(e){this.logger.log(2,()=>"bkgData = "+Mt(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const e=this.currRow+1-this.nrRollUpRows,r=this.rows.splice(e,1)[0];r.clear(),this.rows.splice(this.currRow,0,r),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const r=[];let n="",i=-1;for(let s=0;s<xi;s++){const a=this.rows[s].getTextString();a&&(i=s+1,e?r.push("Row "+i+": '"+a+"'"):r.push(a.trim()))}return r.length>0&&(e?n="["+r.join(" | ")+"]":n=r.join(`
`)),n}getTextAndFormat(){return this.rows}}class IC{constructor(e,r,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=r,this.mode=null,this.verbose=0,this.displayedMemory=new Mx(n),this.nonDisplayedMemory=new Mx(n),this.lastOutputScreen=new Mx(n),this.currRollUpRow=this.displayedMemory.rows[xi-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[xi-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,()=>"MODE="+e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let n=0;n<e.length;n++)this.writeScreen.insertChar(e[n]);const r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>r+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const r={flash:!1};if(r.underline=e%2===1,r.italics=e>=46,r.italics)r.foreground="white";else{const n=Math.floor(e/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];r.foreground=i[n]}this.logger.log(2,"MIDROW: "+Mt(r)),this.writeScreen.setPen(r)}outputDataUpdate(e=!1){const r=this.logger.time;r!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=r:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,r,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:r),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class kC{constructor(e,r,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory=YZ(),this.logger=void 0;const i=this.logger=new zZ;this.channels=[null,new IC(e,r,i),new IC(e+1,n,i)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,r){this.channels[e].setHandler(r)}addData(e,r){this.logger.time=e;for(let n=0;n<r.length;n+=2){const i=r[n]&127,s=r[n+1]&127;let a=!1,o=null;if(i===0&&s===0)continue;this.logger.log(3,()=>"["+Po([r[n],r[n+1]])+"] -> ("+Po([i,s])+")");const c=this.cmdHistory;if(i>=16&&i<=31){if(qZ(i,s,c)){Hm(null,null,c),this.logger.log(3,()=>"Repeated command ("+Po([i,s])+") is dropped");continue}Hm(i,s,this.cmdHistory),a=this.parseCmd(i,s),a||(a=this.parseMidrow(i,s)),a||(a=this.parsePAC(i,s)),a||(a=this.parseBackgroundAttributes(i,s))}else Hm(null,null,c);if(!a&&(o=this.parseChars(i,s),o)){const d=this.currentChannel;d&&d>0?this.channels[d].insertChars(o):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!a&&!o&&this.logger.log(2,()=>"Couldn't parse cleaned data "+Po([i,s])+" orig: "+Po([r[n],r[n+1]]))}}parseCmd(e,r){const n=(e===20||e===28||e===21||e===29)&&r>=32&&r<=47,i=(e===23||e===31)&&r>=33&&r<=35;if(!(n||i))return!1;const s=e===20||e===21||e===23?1:2,a=this.channels[s];return e===20||e===21||e===28||e===29?r===32?a.ccRCL():r===33?a.ccBS():r===34?a.ccAOF():r===35?a.ccAON():r===36?a.ccDER():r===37?a.ccRU(2):r===38?a.ccRU(3):r===39?a.ccRU(4):r===40?a.ccFON():r===41?a.ccRDC():r===42?a.ccTR():r===43?a.ccRTD():r===44?a.ccEDM():r===45?a.ccCR():r===46?a.ccENM():r===47&&a.ccEOC():a.ccTO(r-32),this.currentChannel=s,!0}parseMidrow(e,r){let n=0;if((e===17||e===25)&&r>=32&&r<=47){if(e===17?n=1:n=2,n!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const i=this.channels[n];return i?(i.ccMIDROW(r),this.logger.log(3,()=>"MIDROW ("+Po([e,r])+")"),!0):!1}return!1}parsePAC(e,r){let n;const i=(e>=17&&e<=23||e>=25&&e<=31)&&r>=64&&r<=127,s=(e===16||e===24)&&r>=64&&r<=95;if(!(i||s))return!1;const a=e<=23?1:2;r>=64&&r<=95?n=a===1?BZ[e]:VZ[e]:n=a===1?UZ[e]:GZ[e];const o=this.channels[a];return o?(o.setPAC(this.interpretPAC(n,r)),this.currentChannel=a,!0):!1}interpretPAC(e,r){let n;const i={color:null,italics:!1,indent:null,underline:!1,row:e};return r>95?n=r-96:n=r-64,i.underline=(n&1)===1,n<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(i.italics=!0,i.color="white"):i.indent=Math.floor((n-16)/2)*4,i}parseChars(e,r){let n,i=null,s=null;if(e>=25?(n=2,s=e-8):(n=1,s=e),s>=17&&s<=19){let a;s===17?a=r+80:s===18?a=r+112:a=r+144,this.logger.log(2,()=>"Special char '"+S4(a)+"' in channel "+n),i=[a]}else e>=32&&e<=127&&(i=r===0?[e]:[e,r]);return i&&this.logger.log(3,()=>"Char codes =  "+Po(i).join(",")),i}parseBackgroundAttributes(e,r){const n=(e===16||e===24)&&r>=32&&r<=47,i=(e===23||e===31)&&r>=45&&r<=47;if(!(n||i))return!1;let s;const a={};e===16||e===24?(s=Math.floor((r-32)/2),a.background=HZ[s],r%2===1&&(a.background=a.background+"_semi")):r===45?a.background="transparent":(a.foreground="black",r===47&&(a.underline=!0));const o=e<=23?1:2;return this.channels[o].setBkgData(a),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const r=this.channels[e];r&&r.reset()}Hm(null,null,this.cmdHistory)}cueSplitAtTime(e){for(let r=0;r<this.channels.length;r++){const n=this.channels[r];n&&n.cueSplitAtTime(e)}}}function Hm(t,e,r){r.a=t,r.b=e}function qZ(t,e,r){return r.a===t&&r.b===e}function YZ(){return{a:null,b:null}}var QT=function(){if(Ag!=null&&Ag.VTTCue)return self.VTTCue;const t=["","lr","rl"],e=["start","middle","end","left","right"];function r(o,c){if(typeof c!="string"||!Array.isArray(o))return!1;const u=c.toLowerCase();return~o.indexOf(u)?u:!1}function n(o){return r(t,o)}function i(o){return r(e,o)}function s(o,...c){let u=1;for(;u<arguments.length;u++){const d=arguments[u];for(const f in d)o[f]=d[f]}return o}function a(o,c,u){const d=this,f={enumerable:!0};d.hasBeenReset=!1;let h="",m=!1,p=o,g=c,v=u,y=null,x="",b=!0,S="auto",w="start",T=50,A="middle",_=50,N="middle";Object.defineProperty(d,"id",s({},f,{get:function(){return h},set:function(C){h=""+C}})),Object.defineProperty(d,"pauseOnExit",s({},f,{get:function(){return m},set:function(C){m=!!C}})),Object.defineProperty(d,"startTime",s({},f,{get:function(){return p},set:function(C){if(typeof C!="number")throw new TypeError("Start time must be set to a number.");p=C,this.hasBeenReset=!0}})),Object.defineProperty(d,"endTime",s({},f,{get:function(){return g},set:function(C){if(typeof C!="number")throw new TypeError("End time must be set to a number.");g=C,this.hasBeenReset=!0}})),Object.defineProperty(d,"text",s({},f,{get:function(){return v},set:function(C){v=""+C,this.hasBeenReset=!0}})),Object.defineProperty(d,"region",s({},f,{get:function(){return y},set:function(C){y=C,this.hasBeenReset=!0}})),Object.defineProperty(d,"vertical",s({},f,{get:function(){return x},set:function(C){const j=n(C);if(j===!1)throw new SyntaxError("An invalid or illegal string was specified.");x=j,this.hasBeenReset=!0}})),Object.defineProperty(d,"snapToLines",s({},f,{get:function(){return b},set:function(C){b=!!C,this.hasBeenReset=!0}})),Object.defineProperty(d,"line",s({},f,{get:function(){return S},set:function(C){if(typeof C!="number"&&C!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");S=C,this.hasBeenReset=!0}})),Object.defineProperty(d,"lineAlign",s({},f,{get:function(){return w},set:function(C){const j=i(C);if(!j)throw new SyntaxError("An invalid or illegal string was specified.");w=j,this.hasBeenReset=!0}})),Object.defineProperty(d,"position",s({},f,{get:function(){return T},set:function(C){if(C<0||C>100)throw new Error("Position must be between 0 and 100.");T=C,this.hasBeenReset=!0}})),Object.defineProperty(d,"positionAlign",s({},f,{get:function(){return A},set:function(C){const j=i(C);if(!j)throw new SyntaxError("An invalid or illegal string was specified.");A=j,this.hasBeenReset=!0}})),Object.defineProperty(d,"size",s({},f,{get:function(){return _},set:function(C){if(C<0||C>100)throw new Error("Size must be between 0 and 100.");_=C,this.hasBeenReset=!0}})),Object.defineProperty(d,"align",s({},f,{get:function(){return N},set:function(C){const j=i(C);if(!j)throw new SyntaxError("An invalid or illegal string was specified.");N=j,this.hasBeenReset=!0}})),d.displayState=void 0}return a.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},a}();class XZ{decode(e,r){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function T4(t){function e(n,i,s,a){return(n|0)*3600+(i|0)*60+(s|0)+parseFloat(a||0)}const r=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return r?parseFloat(r[2])>59?e(r[2],r[3],0,r[4]):e(r[1],r[2],r[3],r[4]):null}let QZ=class{constructor(){this.values=Object.create(null)}set(e,r){!this.get(e)&&r!==""&&(this.values[e]=r)}get(e,r,n){return n?this.has(e)?this.values[e]:r[n]:this.has(e)?this.values[e]:r}has(e){return e in this.values}alt(e,r,n){for(let i=0;i<n.length;++i)if(r===n[i]){this.set(e,r);break}}integer(e,r){/^-?\d+$/.test(r)&&this.set(e,parseInt(r,10))}percent(e,r){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(r)){const n=parseFloat(r);if(n>=0&&n<=100)return this.set(e,n),!0}return!1}};function A4(t,e,r,n){const i=n?t.split(n):[t];for(const s in i){if(typeof i[s]!="string")continue;const a=i[s].split(r);if(a.length!==2)continue;const o=a[0],c=a[1];e(o,c)}}const aS=new QT(0,0,""),zm=aS.align==="middle"?"middle":"center";function ZZ(t,e,r){const n=t;function i(){const o=T4(t);if(o===null)throw new Error("Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),o}function s(o,c){const u=new QZ;A4(o,function(h,m){let p;switch(h){case"region":for(let g=r.length-1;g>=0;g--)if(r[g].id===m){u.set(h,r[g].region);break}break;case"vertical":u.alt(h,m,["rl","lr"]);break;case"line":p=m.split(","),u.integer(h,p[0]),u.percent(h,p[0])&&u.set("snapToLines",!1),u.alt(h,p[0],["auto"]),p.length===2&&u.alt("lineAlign",p[1],["start",zm,"end"]);break;case"position":p=m.split(","),u.percent(h,p[0]),p.length===2&&u.alt("positionAlign",p[1],["start",zm,"end","line-left","line-right","auto"]);break;case"size":u.percent(h,m);break;case"align":u.alt(h,m,["start",zm,"end","left","right"]);break}},/:/,/\s/),c.region=u.get("region",null),c.vertical=u.get("vertical","");let d=u.get("line","auto");d==="auto"&&aS.line===-1&&(d=-1),c.line=d,c.lineAlign=u.get("lineAlign","start"),c.snapToLines=u.get("snapToLines",!0),c.size=u.get("size",100),c.align=u.get("align",zm);let f=u.get("position","auto");f==="auto"&&aS.position===50&&(f=c.align==="start"||c.align==="left"?0:c.align==="end"||c.align==="right"?100:50),c.position=f}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=i(),a(),t.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+n);t=t.slice(3),a(),e.endTime=i(),a(),s(t,e)}function _4(t){return t.replace(/<br(?: \/)?>/gi,`
`)}class JZ{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new XZ,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const r=this;e&&(r.buffer+=r.decoder.decode(e,{stream:!0}));function n(){let s=r.buffer,a=0;for(s=_4(s);a<s.length&&s[a]!=="\r"&&s[a]!==`
`;)++a;const o=s.slice(0,a);return s[a]==="\r"&&++a,s[a]===`
`&&++a,r.buffer=s.slice(a),o}function i(s){A4(s,function(a,o){},/:/)}try{let s="";if(r.state==="INITIAL"){if(!/\r\n|\n/.test(r.buffer))return this;s=n();const o=s.match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!(o!=null&&o[0]))throw new Error("Malformed WebVTT signature.");r.state="HEADER"}let a=!1;for(;r.buffer;){if(!/\r\n|\n/.test(r.buffer))return this;switch(a?a=!1:s=n(),r.state){case"HEADER":/:/.test(s)?i(s):s||(r.state="ID");continue;case"NOTE":s||(r.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){r.state="NOTE";break}if(!s)continue;if(r.cue=new QT(0,0,""),r.state="CUE",s.indexOf("-->")===-1){r.cue.id=s;continue}case"CUE":if(!r.cue){r.state="BADCUE";continue}try{ZZ(s,r.cue,r.regionList)}catch{r.cue=null,r.state="BADCUE";continue}r.state="CUETEXT";continue;case"CUETEXT":{const o=s.indexOf("-->")!==-1;if(!s||o&&(a=!0)){r.oncue&&r.cue&&r.oncue(r.cue),r.cue=null,r.state="ID";continue}if(r.cue===null)continue;r.cue.text&&(r.cue.text+=`
`),r.cue.text+=s}continue;case"BADCUE":s||(r.state="ID")}}}catch{r.state==="CUETEXT"&&r.cue&&r.oncue&&r.oncue(r.cue),r.cue=null,r.state=r.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL"||e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(r){e.onparsingerror&&e.onparsingerror(r)}return e.onflush&&e.onflush(),this}}const eJ=/\r\n|\n\r|\n|\r/g,$x=function(e,r,n=0){return e.slice(n,n+r.length)===r},tJ=function(e){let r=parseInt(e.slice(-3));const n=parseInt(e.slice(-6,-4)),i=parseInt(e.slice(-9,-7)),s=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!ye(r)||!ye(n)||!ye(i)||!ye(s))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return r+=1e3*n,r+=60*1e3*i,r+=60*60*1e3*s,r};function ZT(t,e,r){return mf(t.toString())+mf(e.toString())+mf(r)}const rJ=function(e,r,n){let i=e[r],s=e[i.prevCC];if(!s||!s.new&&i.new){e.ccOffset=e.presentationOffset=i.start,i.new=!1;return}for(;(a=s)!=null&&a.new;){var a;e.ccOffset+=i.start-s.start,i.new=!1,i=s,s=e[i.prevCC]}e.presentationOffset=n};function nJ(t,e,r,n,i,s,a){const o=new JZ,c=Fn(new Uint8Array(t)).trim().replace(eJ,`
`).split(`
`),u=[],d=e?yQ(e.baseTime,e.timescale):0;let f="00:00.000",h=0,m=0,p,g=!0;o.oncue=function(v){const y=r[n];let x=r.ccOffset;const b=(h-d)/9e4;if(y!=null&&y.new&&(m!==void 0?x=r.ccOffset=y.start:rJ(r,n,b)),b){if(!e){p=new Error("Missing initPTS for VTT MPEGTS");return}x=b-r.presentationOffset}const S=v.endTime-v.startTime,w=Zn((v.startTime+x-m)*9e4,i*9e4)/9e4;v.startTime=Math.max(w,0),v.endTime=Math.max(w+S,0);const T=v.text.trim();v.text=decodeURIComponent(encodeURIComponent(T)),v.id||(v.id=ZT(v.startTime,v.endTime,T)),v.endTime>0&&u.push(v)},o.onparsingerror=function(v){p=v},o.onflush=function(){if(p){a(p);return}s(u)},c.forEach(v=>{if(g)if($x(v,"X-TIMESTAMP-MAP=")){g=!1,v.slice(16).split(",").forEach(y=>{$x(y,"LOCAL:")?f=y.slice(6):$x(y,"MPEGTS:")&&(h=parseInt(y.slice(7)))});try{m=tJ(f)/1e3}catch(y){p=y}return}else v===""&&(g=!1);o.parse(v+`
`)}),o.flush()}const Fx="stpp.ttml.im1t",P4=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,N4=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,iJ={left:"start",center:"center",right:"end",start:"start",end:"end"};function RC(t,e,r,n){const i=Je(new Uint8Array(t),["mdat"]);if(i.length===0){n(new Error("Could not parse IMSC1 mdat"));return}const s=i.map(o=>Fn(o)),a=vQ(e.baseTime,1,e.timescale);try{s.forEach(o=>r(sJ(o,a)))}catch(o){n(o)}}function sJ(t,e){const i=new DOMParser().parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!i)throw new Error("Invalid ttml");const s={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},a=Object.keys(s).reduce((f,h)=>(f[h]=i.getAttribute(`ttp:${h}`)||s[h],f),{}),o=i.getAttribute("xml:space")!=="preserve",c=LC(Bx(i,"styling","style")),u=LC(Bx(i,"layout","region")),d=Bx(i,"body","[begin]");return[].map.call(d,f=>{const h=C4(f,o);if(!h||!f.hasAttribute("begin"))return null;const m=Vx(f.getAttribute("begin"),a),p=Vx(f.getAttribute("dur"),a);let g=Vx(f.getAttribute("end"),a);if(m===null)throw DC(f);if(g===null){if(p===null)throw DC(f);g=m+p}const v=new QT(m-e,g-e,h);v.id=ZT(v.startTime,v.endTime,v.text);const y=u[f.getAttribute("region")],x=c[f.getAttribute("style")],b=aJ(y,x,c),{textAlign:S}=b;if(S){const w=iJ[S];w&&(v.lineAlign=w),v.align=S}return yt(v,b),v}).filter(f=>f!==null)}function Bx(t,e,r){const n=t.getElementsByTagName(e)[0];return n?[].slice.call(n.querySelectorAll(r)):[]}function LC(t){return t.reduce((e,r)=>{const n=r.getAttribute("xml:id");return n&&(e[n]=r),e},{})}function C4(t,e){return[].slice.call(t.childNodes).reduce((r,n,i)=>{var s;return n.nodeName==="br"&&i?r+`
`:(s=n.childNodes)!=null&&s.length?C4(n,e):e?r+n.textContent.trim().replace(/\s+/g," "):r+n.textContent},"")}function aJ(t,e,r){const n="http://www.w3.org/ns/ttml#styling";let i=null;const s=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],a=t!=null&&t.hasAttribute("style")?t.getAttribute("style"):null;return a&&r.hasOwnProperty(a)&&(i=r[a]),s.reduce((o,c)=>{const u=Ux(e,n,c)||Ux(t,n,c)||Ux(i,n,c);return u&&(o[c]=u),o},{})}function Ux(t,e,r){return t&&t.hasAttributeNS(e,r)?t.getAttributeNS(e,r):null}function DC(t){return new Error(`Could not parse ttml timestamp ${t}`)}function Vx(t,e){if(!t)return null;let r=T4(t);return r===null&&(P4.test(t)?r=oJ(t,e):N4.test(t)&&(r=lJ(t,e))),r}function oJ(t,e){const r=P4.exec(t),n=(r[4]|0)+(r[5]|0)/e.subFrameRate;return(r[1]|0)*3600+(r[2]|0)*60+(r[3]|0)+n/e.frameRate}function lJ(t,e){const r=N4.exec(t),n=Number(r[1]);switch(r[2]){case"h":return n*3600;case"m":return n*60;case"ms":return n*1e3;case"f":return n/e.frameRate;case"t":return n/e.tickRate}return n}class Wm{constructor(e,r){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=r}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,r,n){(this.startTime===null||this.startTime>e)&&(this.startTime=e),this.endTime=r,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}class cJ{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=$C(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on(P.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(P.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(P.MANIFEST_LOADING,this.onManifestLoading,this),e.on(P.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(P.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(P.FRAG_LOADING,this.onFragLoading,this),e.on(P.FRAG_LOADED,this.onFragLoaded,this),e.on(P.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(P.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(P.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(P.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(P.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(P.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(P.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(P.MANIFEST_LOADING,this.onManifestLoading,this),e.off(P.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(P.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(P.FRAG_LOADING,this.onFragLoading,this),e.off(P.FRAG_LOADED,this.onFragLoaded,this),e.off(P.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(P.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(P.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(P.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(P.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.media=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){const e=new Wm(this,"textTrack1"),r=new Wm(this,"textTrack2"),n=new Wm(this,"textTrack3"),i=new Wm(this,"textTrack4");this.cea608Parser1=new kC(1,e,r),this.cea608Parser2=new kC(3,n,i)}addCues(e,r,n,i,s){let a=!1;for(let o=s.length;o--;){const c=s[o],u=uJ(c[0],c[1],r,n);if(u>=0&&(c[0]=Math.min(c[0],r),c[1]=Math.max(c[1],n),a=!0,u/(n-r)>.5))return}if(a||s.push([r,n]),this.config.renderTextTracksNatively){const o=this.captionsTracks[e];this.Cues.newCue(o,r,n,i)}else{const o=this.Cues.newCue(null,r,n,i);this.hls.trigger(P.CUES_PARSED,{type:"captions",cues:o,track:e})}}onInitPtsFound(e,{frag:r,id:n,initPTS:i,timescale:s}){const{unparsedVttFrags:a}=this;n===Pe.MAIN&&(this.initPTS[r.cc]={baseTime:i,timescale:s}),a.length&&(this.unparsedVttFrags=[],a.forEach(o=>{this.initPTS[o.frag.cc]?this.onFragLoaded(P.FRAG_LOADED,o):this.hls.trigger(P.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:o.frag,error:new Error("Subtitle discontinuity domain does not match main")})}))}getExistingTrack(e,r){const{media:n}=this;if(n)for(let i=0;i<n.textTracks.length;i++){const s=n.textTracks[i];if(MC(s,{name:e,lang:r,characteristics:"transcribes-spoken-dialog,describes-music-and-sound"}))return s}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:r,captionsTracks:n,media:i}=this,{label:s,languageCode:a}=r[e],o=this.getExistingTrack(s,a);if(o)n[e]=o,xc(n[e]),x4(n[e],i);else{const c=this.createTextTrack("captions",s,a);c&&(c[e]=!0,n[e]=c)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const r=this.captionsProperties[e];if(!r)return;const n=r.label,i={_id:e,label:n,kind:"captions",default:r.media?!!r.media.default:!1,closedCaptions:r.media};this.nonNativeCaptionsTracks[e]=i,this.hls.trigger(P.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[i]})}createTextTrack(e,r,n){const i=this.media;if(i)return i.addTextTrack(e,r,n)}onMediaAttaching(e,r){this.media=r.media,r.mediaSource||this._cleanTracks()}onMediaDetaching(e,r){const n=!!r.transferMedia;if(this.media=null,n)return;const{captionsTracks:i}=this;Object.keys(i).forEach(s=>{xc(i[s]),delete i[s]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=$C(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const r=e.textTracks;if(r)for(let n=0;n<r.length;n++)xc(r[n])}onSubtitleTracksUpdated(e,r){const n=r.subtitleTracks||[],i=n.some(s=>s.textCodec===Fx);if(this.config.enableWebVTT||i&&this.config.enableIMSC1){if(d4(this.tracks,n)){this.tracks=n;return}if(this.textTracks=[],this.tracks=n,this.config.renderTextTracksNatively){const a=this.media,o=a?Rp(a.textTracks):null;if(this.tracks.forEach((c,u)=>{let d;if(o){let f=null;for(let h=0;h<o.length;h++)if(o[h]&&MC(o[h],c)){f=o[h],o[h]=null;break}f&&(d=f)}if(d)xc(d);else{const f=j4(c);d=this.createTextTrack(f,c.name,c.lang),d&&(d.mode="disabled")}d&&this.textTracks.push(d)}),o!=null&&o.length){const c=o.filter(u=>u!==null).map(u=>u.label);c.length&&this.hls.logger.warn(`Media element contains unused subtitle tracks: ${c.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const a=this.tracks.map(o=>({label:o.name,kind:o.type.toLowerCase(),default:o.default,subtitleTrack:o}));this.hls.trigger(P.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:a})}}}onManifestLoaded(e,r){this.config.enableCEA708Captions&&r.captions&&r.captions.forEach(n=>{const i=/(?:CC|SERVICE)([1-4])/.exec(n.instreamId);if(!i)return;const s=`textTrack${i[1]}`,a=this.captionsProperties[s];a&&(a.label=n.name,n.lang&&(a.languageCode=n.lang),a.media=n)})}closedCaptionsForLevel(e){const r=this.hls.levels[e.level];return r==null?void 0:r.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,r){if(this.enabled&&r.frag.type===Pe.MAIN){var n,i;const{cea608Parser1:s,cea608Parser2:a,lastSn:o}=this,{cc:c,sn:u}=r.frag,d=(n=(i=r.part)==null?void 0:i.index)!=null?n:-1;s&&a&&(u!==o+1||u===o&&d!==this.lastPartIndex+1||c!==this.lastCc)&&(s.reset(),a.reset()),this.lastCc=c,this.lastSn=u,this.lastPartIndex=d}}onFragLoaded(e,r){const{frag:n,payload:i}=r;if(n.type===Pe.SUBTITLE)if(i.byteLength){const s=n.decryptdata,a="stats"in r;if(s==null||!s.encrypted||a){const o=this.tracks[n.level],c=this.vttCCs;c[n.cc]||(c[n.cc]={start:n.start,prevCC:this.prevCC,new:!0},this.prevCC=n.cc),o&&o.textCodec===Fx?this._parseIMSC1(n,i):this._parseVTTs(r)}}else this.hls.trigger(P.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,r){const n=this.hls;RC(r,this.initPTS[e.cc],i=>{this._appendCues(i,e.level),n.trigger(P.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},i=>{n.logger.log(`Failed to parse IMSC1: ${i}`),n.trigger(P.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:i})})}_parseVTTs(e){var r;const{frag:n,payload:i}=e,{initPTS:s,unparsedVttFrags:a}=this,o=s.length-1;if(!s[n.cc]&&o===-1){a.push(e);return}const c=this.hls,u=(r=n.initSegment)!=null&&r.data?di(n.initSegment.data,new Uint8Array(i)).buffer:i;nJ(u,this.initPTS[n.cc],this.vttCCs,n.cc,n.start,d=>{this._appendCues(d,n.level),c.trigger(P.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:n})},d=>{const f=d.message==="Missing initPTS for VTT MPEGTS";f?a.push(e):this._fallbackToIMSC1(n,i),c.logger.log(`Failed to parse VTT cue: ${d}`),!(f&&o>n.cc)&&c.trigger(P.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:d})})}_fallbackToIMSC1(e,r){const n=this.tracks[e.level];n.textCodec||RC(r,this.initPTS[e.cc],()=>{n.textCodec=Fx,this._parseIMSC1(e,r)},()=>{n.textCodec="wvtt"})}_appendCues(e,r){const n=this.hls;if(this.config.renderTextTracksNatively){const i=this.textTracks[r];if(!i||i.mode==="disabled")return;e.forEach(s=>b4(i,s))}else{const i=this.tracks[r];if(!i)return;const s=i.default?"default":"subtitles"+r;n.trigger(P.CUES_PARSED,{type:"subtitles",cues:e,track:s})}}onFragDecrypted(e,r){const{frag:n}=r;n.type===Pe.SUBTITLE&&this.onFragLoaded(P.FRAG_LOADED,r)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,r){if(!this.enabled||!this.config.enableCEA708Captions)return;const{frag:n,samples:i}=r;if(!(n.type===Pe.MAIN&&this.closedCaptionsForLevel(n)==="NONE"))for(let s=0;s<i.length;s++){const a=i[s].bytes;if(a){this.cea608Parser1||this.initCea608Parsers();const o=this.extractCea608Data(a);this.cea608Parser1.addData(i[s].pts,o[0]),this.cea608Parser2.addData(i[s].pts,o[1])}}}onBufferFlushing(e,{startOffset:r,endOffset:n,endOffsetSubtitles:i,type:s}){const{media:a}=this;if(!(!a||a.currentTime<n)){if(!s||s==="video"){const{captionsTracks:o}=this;Object.keys(o).forEach(c=>sS(o[c],r,n))}if(this.config.renderTextTracksNatively&&r===0&&i!==void 0){const{textTracks:o}=this;Object.keys(o).forEach(c=>sS(o[c],r,i))}}}extractCea608Data(e){const r=[[],[]],n=e[0]&31;let i=2;for(let s=0;s<n;s++){const a=e[i++],o=127&e[i++],c=127&e[i++];if(o===0&&c===0)continue;if((4&a)!==0){const d=3&a;(d===0||d===1)&&(r[d].push(o),r[d].push(c))}}return r}}function j4(t){return t.characteristics&&/transcribes-spoken-dialog/gi.test(t.characteristics)&&/describes-music-and-sound/gi.test(t.characteristics)?"captions":"subtitles"}function MC(t,e){return!!t&&t.kind===j4(e)&&rS(e,t)}function uJ(t,e,r,n){return Math.min(e,n)-Math.max(t,r)}function $C(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}const dJ=/\s/,fJ={newCue(t,e,r,n){const i=[];let s,a,o,c,u;const d=self.VTTCue||self.TextTrackCue;for(let h=0;h<n.rows.length;h++)if(s=n.rows[h],o=!0,c=0,u="",!s.isEmpty()){var f;for(let g=0;g<s.chars.length;g++)dJ.test(s.chars[g].uchar)&&o?c++:(u+=s.chars[g].uchar,o=!1);s.cueStartTime=e,e===r&&(r+=1e-4),c>=16?c--:c++;const m=_4(u.trim()),p=ZT(e,r,m);t!=null&&(f=t.cues)!=null&&f.getCueById(p)||(a=new d(e,r,m),a.id=p,a.line=h+1,a.align="left",a.position=10+Math.min(80,Math.floor(c*8/32)*10),i.push(a))}return t&&i.length&&(i.sort((h,m)=>h.line==="auto"||m.line==="auto"?0:h.line>8&&m.line>8?m.line-h.line:h.line-m.line),i.forEach(h=>b4(t,h))),i}};function hJ(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const mJ=/(\d+)-(\d+)\/(\d+)/;class FC{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||yJ,this.controller=new self.AbortController,this.stats=new IT}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,r,n){const i=this.stats;if(i.loading.start)throw new Error("Loader can only be used once.");i.loading.start=self.performance.now();const s=pJ(e,this.controller.signal),a=e.responseType==="arraybuffer",o=a?"byteLength":"length",{maxTimeToFirstByteMs:c,maxLoadTimeMs:u}=r.loadPolicy;this.context=e,this.config=r,this.callbacks=n,this.request=this.fetchSetup(e,s),self.clearTimeout(this.requestTimeout),r.timeout=c&&ye(c)?c:u,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(i,e,this.response))},r.timeout),(Qf(this.request)?this.request.then(self.fetch):self.fetch(this.request)).then(f=>{var h;this.response=this.loader=f;const m=Math.max(self.performance.now(),i.loading.start);if(self.clearTimeout(this.requestTimeout),r.timeout=u,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(i,e,this.response))},u-(m-i.loading.start)),!f.ok){const{status:g,statusText:v}=f;throw new xJ(v||"fetch, bad network response",g,f)}i.loading.first=m,i.total=vJ(f.headers)||i.total;const p=(h=this.callbacks)==null?void 0:h.onProgress;return p&&ye(r.highWaterMark)?this.loadProgressively(f,i,e,r.highWaterMark,p):a?f.arrayBuffer():e.responseType==="json"?f.json():f.text()}).then(f=>{var h,m;const p=this.response;if(!p)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),i.loading.end=Math.max(self.performance.now(),i.loading.first);const g=f[o];g&&(i.loaded=i.total=g);const v={url:p.url,data:f,code:p.status},y=(h=this.callbacks)==null?void 0:h.onProgress;y&&!ye(r.highWaterMark)&&y(i,e,f,p),(m=this.callbacks)==null||m.onSuccess(v,i,e,p)}).catch(f=>{var h;if(self.clearTimeout(this.requestTimeout),i.aborted)return;const m=f&&f.code||0,p=f?f.message:null;(h=this.callbacks)==null||h.onError({code:m,text:p},e,f?f.details:null,i)})}getCacheAge(){let e=null;if(this.response){const r=this.response.headers.get("age");e=r?parseFloat(r):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,r,n,i=0,s){const a=new zF,o=e.body.getReader(),c=()=>o.read().then(u=>{if(u.done)return a.dataLength&&s(r,n,a.flush().buffer,e),Promise.resolve(new ArrayBuffer(0));const d=u.value,f=d.length;return r.loaded+=f,f<i||a.dataLength?(a.push(d),a.dataLength>=i&&s(r,n,a.flush().buffer,e)):s(r,n,d.buffer,e),c()}).catch(()=>Promise.reject());return c()}}function pJ(t,e){const r={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(yt({},t.headers))};return t.rangeEnd&&r.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1)),r}function gJ(t){const e=mJ.exec(t);if(e)return parseInt(e[2])-parseInt(e[1])+1}function vJ(t){const e=t.get("Content-Range");if(e){const n=gJ(e);if(ye(n))return n}const r=t.get("Content-Length");if(r)return parseInt(r)}function yJ(t,e){return new self.Request(t.url,e)}class xJ extends Error{constructor(e,r,n){super(e),this.code=void 0,this.details=void 0,this.code=r,this.details=n}}const bJ=/^age:\s*[\d.]+\s*$/im;class O4{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new IT,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,e.readyState!==4&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,r,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=r,this.callbacks=n,this.loadInternal()}loadInternal(){const{config:e,context:r}=this;if(!e||!r)return;const n=this.loader=new self.XMLHttpRequest,i=this.stats;i.loading.first=0,i.loaded=0,i.aborted=!1;const s=this.xhrSetup;s?Promise.resolve().then(()=>{if(!(this.loader!==n||this.stats.aborted))return s(n,r.url)}).catch(a=>{if(!(this.loader!==n||this.stats.aborted))return n.open("GET",r.url,!0),s(n,r.url)}).then(()=>{this.loader!==n||this.stats.aborted||this.openAndSendXhr(n,r,e)}).catch(a=>{var o;(o=this.callbacks)==null||o.onError({code:n.status,text:a.message},r,n,i)}):this.openAndSendXhr(n,r,e)}openAndSendXhr(e,r,n){e.readyState||e.open("GET",r.url,!0);const i=r.headers,{maxTimeToFirstByteMs:s,maxLoadTimeMs:a}=n.loadPolicy;if(i)for(const o in i)e.setRequestHeader(o,i[o]);r.rangeEnd&&e.setRequestHeader("Range","bytes="+r.rangeStart+"-"+(r.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=r.responseType,self.clearTimeout(this.requestTimeout),n.timeout=s&&ye(s)?s:a,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),n.timeout),e.send()}readystatechange(){const{context:e,loader:r,stats:n}=this;if(!e||!r)return;const i=r.readyState,s=this.config;if(!n.aborted&&i>=2&&(n.loading.first===0&&(n.loading.first=Math.max(self.performance.now(),n.loading.start),s.timeout!==s.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),s.timeout=s.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),s.loadPolicy.maxLoadTimeMs-(n.loading.first-n.loading.start)))),i===4)){self.clearTimeout(this.requestTimeout),r.onreadystatechange=null,r.onprogress=null;const u=r.status,d=r.responseType==="text"?r.responseText:null;if(u>=200&&u<300){const p=d??r.response;if(p!=null){var a,o;n.loading.end=Math.max(self.performance.now(),n.loading.first);const g=r.responseType==="arraybuffer"?p.byteLength:p.length;n.loaded=n.total=g,n.bwEstimate=n.total*8e3/(n.loading.end-n.loading.first);const v=(a=this.callbacks)==null?void 0:a.onProgress;v&&v(n,e,p,r);const y={url:r.responseURL,data:p,code:u};(o=this.callbacks)==null||o.onSuccess(y,n,e,r);return}}const f=s.loadPolicy.errorRetry,h=n.retry,m={url:e.url,data:void 0,code:u};if(Tg(f,h,!1,m))this.retry(f);else{var c;dt.error(`${u} while loading ${e.url}`),(c=this.callbacks)==null||c.onError({code:u,text:r.statusText},e,r,n)}}}loadtimeout(){if(!this.config)return;const e=this.config.loadPolicy.timeoutRetry,r=this.stats.retry;if(Tg(e,r,!0))this.retry(e);else{var n;dt.warn(`timeout while loading ${(n=this.context)==null?void 0:n.url}`);const i=this.callbacks;i&&(this.abortInternal(),i.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:r,stats:n}=this;this.retryDelay=DT(e,n.retry),n.retry++,dt.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${r==null?void 0:r.url}, retrying ${n.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const r=this.stats;r.loaded=e.loaded,e.lengthComputable&&(r.total=e.total)}getCacheAge(){let e=null;if(this.loader&&bJ.test(this.loader.getAllResponseHeaders())){const r=this.loader.getResponseHeader("age");e=r?parseFloat(r):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}const wJ={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},SJ=St(St({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,maxDevicePixelRatio:Number.POSITIVE_INFINITY,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,startOnSegmentBoundary:!1,maxBufferSize:60*1e3*1e3,maxFragLookUpTolerance:.25,maxBufferHole:.1,detectStallWithCurrentTimeMs:1250,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,nudgeOnVideoHole:!0,liveSyncMode:"edge",liveSyncDurationCount:3,liveSyncOnStallIncrease:1,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,ignorePlaylistParsingErrors:!1,loader:O4,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:HY,bufferController:kQ,capLevelController:YT,errorController:YY,fpsController:AZ,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:LF,requireKeySystemAccessOnStart:!1,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableEmsgKLVMetadata:!1,enableID3MetadataCues:!0,enableInterstitialPlayback:!0,interstitialAppendInPlace:!0,interstitialLiveLookAhead:10,useMediaCapabilities:!0,preserveManualLevelOnError:!1,certLoadPolicy:{default:wJ},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},interstitialAssetListLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:3e4,timeoutRetry:{maxNumRetry:0,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:0,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},EJ()),{},{subtitleStreamController:MZ,subtitleTrackController:NZ,timelineController:cJ,audioStreamController:CQ,audioTrackController:jQ,emeController:Dc,cmcdController:SZ,contentSteeringController:TZ,interstitialsController:DZ});function EJ(){return{cueHandler:fJ,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function TJ(t,e,r){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(e.liveMaxLatencyDurationCount!==void 0&&(e.liveSyncDurationCount===void 0||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(e.liveMaxLatencyDuration!==void 0&&(e.liveSyncDuration===void 0||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const n=oS(t),i=["manifest","level","frag"],s=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return i.forEach(a=>{const o=`${a==="level"?"playlist":a}LoadPolicy`,c=e[o]===void 0,u=[];s.forEach(d=>{const f=`${a}Loading${d}`,h=e[f];if(h!==void 0&&c){u.push(f);const m=n[o].default;switch(e[o]={default:m},d){case"TimeOut":m.maxLoadTimeMs=h,m.maxTimeToFirstByteMs=h;break;case"MaxRetry":m.errorRetry.maxNumRetry=h,m.timeoutRetry.maxNumRetry=h;break;case"RetryDelay":m.errorRetry.retryDelayMs=h,m.timeoutRetry.retryDelayMs=h;break;case"MaxRetryTimeout":m.errorRetry.maxRetryDelayMs=h,m.timeoutRetry.maxRetryDelayMs=h;break}}}),u.length&&r.warn(`hls.js config: "${u.join('", "')}" setting(s) are deprecated, use "${o}": ${Mt(e[o])}`)}),St(St({},n),e)}function oS(t){return t&&typeof t=="object"?Array.isArray(t)?t.map(oS):Object.keys(t).reduce((e,r)=>(e[r]=oS(t[r]),e),{}):t}function AJ(t,e){const r=t.loader;r!==FC&&r!==O4?(e.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1):hJ()&&(t.loader=FC,t.progressive=!0,t.enableSoftwareAES=!0,e.log("[config]: Progressive streaming enabled, using FetchLoader"))}const Lp=2,_J=.1,PJ=.05,NJ=100;class CJ extends OF{constructor(e,r){super("gap-controller",e.logger),this.hls=null,this.fragmentTracker=null,this.media=null,this.mediaSource=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.buffered={},this.lastCurrentTime=0,this.ended=0,this.waiting=0,this.onMediaPlaying=()=>{this.ended=0,this.waiting=0},this.onMediaWaiting=()=>{var n;(n=this.media)!=null&&n.seeking||(this.waiting=self.performance.now(),this.tick())},this.onMediaEnded=()=>{if(this.hls){var n;this.ended=((n=this.media)==null?void 0:n.currentTime)||1,this.hls.trigger(P.MEDIA_ENDED,{stalled:!1})}},this.hls=e,this.fragmentTracker=r,this.registerListeners()}registerListeners(){const{hls:e}=this;e&&(e.on(P.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(P.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(P.BUFFER_APPENDED,this.onBufferAppended,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(P.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(P.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(P.BUFFER_APPENDED,this.onBufferAppended,this))}destroy(){super.destroy(),this.unregisterListeners(),this.media=this.hls=this.fragmentTracker=null,this.mediaSource=void 0}onMediaAttached(e,r){this.setInterval(NJ),this.mediaSource=r.mediaSource;const n=this.media=r.media;ii(n,"playing",this.onMediaPlaying),ii(n,"waiting",this.onMediaWaiting),ii(n,"ended",this.onMediaEnded)}onMediaDetaching(e,r){this.clearInterval();const{media:n}=this;n&&(Oi(n,"playing",this.onMediaPlaying),Oi(n,"waiting",this.onMediaWaiting),Oi(n,"ended",this.onMediaEnded),this.media=null),this.mediaSource=void 0}onBufferAppended(e,r){this.buffered=r.timeRanges}get hasBuffered(){return Object.keys(this.buffered).length>0}tick(){var e;if(!((e=this.media)!=null&&e.readyState)||!this.hasBuffered)return;const r=this.media.currentTime;this.poll(r,this.lastCurrentTime),this.lastCurrentTime=r}poll(e,r){var n,i;const s=(n=this.hls)==null?void 0:n.config;if(!s)return;const a=this.media;if(!a)return;const{seeking:o}=a,c=this.seeking&&!o,u=!this.seeking&&o,d=a.paused&&!o||a.ended||a.playbackRate===0;if(this.seeking=o,e!==r){r&&(this.ended=0),this.moved=!0,o||(this.nudgeRetry=0,s.nudgeOnVideoHole&&!d&&e>r&&this.nudgeOnVideoHole(e,r)),this.waiting===0&&this.stallResolved(e);return}if(u||c){c&&this.stallResolved(e);return}if(d){this.nudgeRetry=0,this.stallResolved(e),!this.ended&&a.ended&&this.hls&&(this.ended=e||1,this.hls.trigger(P.MEDIA_ENDED,{stalled:!1}));return}if(!Ge.getBuffered(a).length){this.nudgeRetry=0;return}const f=Ge.bufferInfo(a,e,0),h=f.nextStart||0,m=this.fragmentTracker;if(o&&m&&this.hls){const T=BC(this.hls.inFlightFragments,e),A=f.len>Lp,_=!h||T||h-e>Lp&&!m.getPartialFragment(e);if(A||_)return;this.moved=!1}const p=(i=this.hls)==null?void 0:i.latestLevelDetails;if(!this.moved&&this.stalled!==null&&m){if(!(f.len>0)&&!h)return;const A=Math.max(h,f.start||0)-e,N=!!(p!=null&&p.live)?p.targetduration*2:Lp,C=m.getPartialFragment(e);if(A>0&&(A<=N||C)){a.paused||this._trySkipBufferHole(C);return}}const g=s.detectStallWithCurrentTimeMs,v=self.performance.now(),y=this.waiting;let x=this.stalled;if(x===null)if(y>0&&v-y<g)x=this.stalled=y;else{this.stalled=v;return}const b=v-x;if(!o&&(b>=g||y)&&this.hls){var S;if(((S=this.mediaSource)==null?void 0:S.readyState)==="ended"&&!(p!=null&&p.live)&&Math.abs(e-((p==null?void 0:p.edge)||0))<1){if(this.ended)return;this.ended=e||1,this.hls.trigger(P.MEDIA_ENDED,{stalled:!0});return}if(this._reportStall(f),!this.media||!this.hls)return}const w=Ge.bufferInfo(a,e,s.maxBufferHole);this._tryFixBufferStall(w,b,e)}stallResolved(e){const r=this.stalled;if(r&&this.hls&&(this.stalled=null,this.stallReported)){const n=self.performance.now()-r;this.log(`playback not stuck anymore @${e}, after ${Math.round(n)}ms`),this.stallReported=!1,this.waiting=0,this.hls.trigger(P.STALL_RESOLVED,{})}}nudgeOnVideoHole(e,r){var n;const i=this.buffered.video;if(this.hls&&this.media&&this.fragmentTracker&&(n=this.buffered.audio)!=null&&n.length&&i&&i.length>1&&e>i.end(0)){const s=Ge.bufferedInfo(Ge.timeRangesToArray(this.buffered.audio),e,0);if(s.len>1&&r>=s.start){const a=Ge.timeRangesToArray(i),o=Ge.bufferedInfo(a,r,0).bufferedIndex;if(o>-1&&o<a.length-1){const c=Ge.bufferedInfo(a,e,0).bufferedIndex,u=a[o].end,d=a[o+1].start;if((c===-1||c>o)&&d-u<1&&e-u<2){const f=new Error(`nudging playhead to flush pipeline after video hole. currentTime: ${e} hole: ${u} -> ${d} buffered index: ${c}`);this.warn(f.message),this.media.currentTime+=1e-6;const h=this.fragmentTracker.getPartialFragment(e)||void 0,m=Ge.bufferInfo(this.media,e,0);this.hls.trigger(P.ERROR,{type:Ie.MEDIA_ERROR,details:K.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:f,reason:f.message,frag:h,buffer:m.len,bufferInfo:m})}}}}}_tryFixBufferStall(e,r,n){var i,s;const{fragmentTracker:a,media:o}=this,c=(i=this.hls)==null?void 0:i.config;if(!o||!a||!c)return;const u=(s=this.hls)==null?void 0:s.latestLevelDetails,d=a.getPartialFragment(n);if((d||u!=null&&u.live&&n<u.fragmentStart)&&(this._trySkipBufferHole(d)||!this.media))return;const f=e.buffered,h=this.adjacentTraversal(e,n);(f&&f.length>1&&e.len>c.maxBufferHole||e.nextStart&&(e.nextStart-n<c.maxBufferHole||h))&&(r>c.highBufferWatchdogPeriod*1e3||this.waiting)&&(this.warn("Trying to nudge playhead over buffer-hole"),this._tryNudgeBuffer(e))}adjacentTraversal(e,r){const n=this.fragmentTracker,i=e.nextStart;if(n&&i){const s=n.getFragAtPos(r,Pe.MAIN),a=n.getFragAtPos(i,Pe.MAIN);if(s&&a)return a.sn-s.sn<2}return!1}_reportStall(e){const{hls:r,media:n,stallReported:i,stalled:s}=this;if(!i&&s!==null&&n&&r){this.stallReported=!0;const a=new Error(`Playback stalling at @${n.currentTime} due to low buffer (${Mt(e)})`);this.warn(a.message),r.trigger(P.ERROR,{type:Ie.MEDIA_ERROR,details:K.BUFFER_STALLED_ERROR,fatal:!1,error:a,buffer:e.len,bufferInfo:e,stalled:{start:s}})}}_trySkipBufferHole(e){var r;const{fragmentTracker:n,media:i}=this,s=(r=this.hls)==null?void 0:r.config;if(!i||!n||!s)return 0;const a=i.currentTime,o=Ge.bufferInfo(i,a,0),c=a<o.start?o.start:o.nextStart;if(c&&this.hls){const d=o.len<=s.maxBufferHole,f=o.len>0&&o.len<1&&i.readyState<3,h=c-a;if(h>0&&(d||f)){if(h>s.maxBufferHole){let p=!1;if(a===0){const g=n.getAppendedFrag(0,Pe.MAIN);g&&c<g.end&&(p=!0)}if(!p){const g=e||n.getAppendedFrag(a,Pe.MAIN);if(g){var u;if(!((u=this.hls.loadLevelObj)!=null&&u.details)||BC(this.hls.inFlightFragments,c))return 0;let y=!1,x=g.end;for(;x<c;){const b=n.getAppendedFrag(x,Pe.MAIN)||n.getPartialFragment(x);if(b)x+=b.duration;else{y=!0;break}}if(y)return 0}}}const m=Math.max(c+PJ,a+_J);if(this.warn(`skipping hole, adjusting currentTime from ${a} to ${m}`),this.moved=!0,i.currentTime=m,!(e!=null&&e.gap)){const p=new Error(`fragment loaded with buffer holes, seeking from ${a} to ${m}`);this.hls.trigger(P.ERROR,{type:Ie.MEDIA_ERROR,details:K.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:p,reason:p.message,frag:e||void 0,buffer:o.len,bufferInfo:o})}return m}}return 0}_tryNudgeBuffer(e){const{hls:r,media:n,nudgeRetry:i}=this,s=r==null?void 0:r.config;if(!n||!s)return 0;const a=n.currentTime;if(this.nudgeRetry++,i<s.nudgeMaxRetry){const o=a+(i+1)*s.nudgeOffset,c=new Error(`Nudging 'currentTime' from ${a} to ${o}`);this.warn(c.message),n.currentTime=o,r.trigger(P.ERROR,{type:Ie.MEDIA_ERROR,details:K.BUFFER_NUDGE_ON_STALL,error:c,fatal:!1,buffer:e.len,bufferInfo:e})}else{const o=new Error(`Playhead still not moving while enough data buffered @${a} after ${s.nudgeMaxRetry} nudges`);this.error(o.message),r.trigger(P.ERROR,{type:Ie.MEDIA_ERROR,details:K.BUFFER_STALLED_ERROR,error:o,fatal:!0,buffer:e.len,bufferInfo:e})}}}function BC(t,e){const r=UC(t.main);if(r&&r.start<=e)return r;const n=UC(t.audio);return n&&n.start<=e?n:null}function UC(t){if(!t)return null;switch(t.state){case ee.IDLE:case ee.STOPPED:case ee.ENDED:case ee.ERROR:return null}return t.frag}const jJ=.25;function lS(){if(!(typeof self>"u"))return self.VTTCue||self.TextTrackCue}function VC(t,e,r,n,i){let s=new t(e,r,"");try{s.value=n,i&&(s.type=i)}catch{s=new t(e,r,Mt(i?St({type:i},n):n))}return s}const Km=(()=>{const t=lS();try{t&&new t(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();class OJ{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.removeCues=!0,this.onEventCueEnter=()=>{this.hls&&this.hls.trigger(P.EVENT_CUE_ENTER,{})},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=this.onEventCueEnter=null}_registerListeners(){const{hls:e}=this;e.on(P.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(P.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(P.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(P.MANIFEST_LOADING,this.onManifestLoading,this),e.on(P.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(P.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(P.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(P.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this)}_unregisterListeners(){const{hls:e}=this;e.off(P.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(P.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(P.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(P.MANIFEST_LOADING,this.onManifestLoading,this),e.off(P.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(P.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(P.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(P.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this)}onMediaAttaching(e,r){var n;this.media=r.media,((n=r.overrides)==null?void 0:n.cueRemoval)===!1&&(this.removeCues=!1)}onMediaAttached(){const e=this.hls.latestLevelDetails;e&&this.updateDateRangeCues(e)}onMediaDetaching(e,r){this.media=null,!r.transferMedia&&(this.id3Track&&(this.removeCues&&xc(this.id3Track,this.onEventCueEnter),this.id3Track=null),this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const r=this.getID3Track(e.textTracks);return r.mode="hidden",r}getID3Track(e){if(this.media){for(let r=0;r<e.length;r++){const n=e[r];if(n.kind==="metadata"&&n.label==="id3")return x4(n,this.media),n}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,r){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:n,enableID3MetadataCues:i}}}=this;if(!n&&!i)return;const{samples:s}=r;this.id3Track||(this.id3Track=this.createTrack(this.media));const a=lS();if(a)for(let o=0;o<s.length;o++){const c=s[o].type;if(c===kn.emsg&&!n||!i)continue;const u=ZF(s[o].data);if(u){const d=s[o].pts;let f=d+s[o].duration;f>Km&&(f=Km),f-d<=0&&(f=d+jJ);for(let m=0;m<u.length;m++){const p=u[m];if(!JF(p)){this.updateId3CueEnds(d,c);const g=VC(a,d,f,p,c);g&&this.id3Track.addCue(g)}}}}}updateId3CueEnds(e,r){var n;const i=(n=this.id3Track)==null?void 0:n.cues;if(i)for(let s=i.length;s--;){const a=i[s];a.type===r&&a.startTime<e&&a.endTime===Km&&(a.endTime=e)}}onBufferFlushing(e,{startOffset:r,endOffset:n,type:i}){const{id3Track:s,hls:a}=this;if(!a)return;const{config:{enableEmsgMetadataCues:o,enableID3MetadataCues:c}}=a;if(s&&(o||c)){let u;i==="audio"?u=d=>d.type===kn.audioId3&&c:i==="video"?u=d=>d.type===kn.emsg&&o:u=d=>d.type===kn.audioId3&&c||d.type===kn.emsg&&o,sS(s,r,n,u)}}onLevelUpdated(e,{details:r}){this.updateDateRangeCues(r,!0)}onLevelPtsUpdated(e,r){Math.abs(r.drift)>.01&&this.updateDateRangeCues(r.details)}updateDateRangeCues(e,r){if(!this.media||!e.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{id3Track:n}=this,{dateRanges:i}=e,s=Object.keys(i);let a=this.dateRangeCuesAppended;if(n&&r){var o;if((o=n.cues)!=null&&o.length){const d=Object.keys(a).filter(f=>!s.includes(f));for(let f=d.length;f--;){const h=d[f],m=a[h].cues;delete a[h],Object.keys(m).forEach(p=>{try{const g=m[p];g.removeEventListener("enter",this.onEventCueEnter),n.removeCue(g)}catch{}})}}else a=this.dateRangeCuesAppended={}}const c=e.fragments[e.fragments.length-1];if(s.length===0||!ye(c==null?void 0:c.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const u=lS();for(let d=0;d<s.length;d++){const f=s[d],h=i[f],m=h.startTime,p=a[f],g=(p==null?void 0:p.cues)||{};let v=(p==null?void 0:p.durationKnown)||!1,y=Km;const{duration:x,endDate:b}=h;if(b&&x!==null)y=m+x,v=!0;else if(h.endOnNext&&!v){const w=s.reduce((T,A)=>{if(A!==h.id){const _=i[A];if(_.class===h.class&&_.startDate>h.startDate&&(!T||h.startDate<T.startDate))return _}return T},null);w&&(y=w.startTime,v=!0)}const S=Object.keys(h.attr);for(let w=0;w<S.length;w++){const T=S[w];if(!lX(T))continue;const A=g[T];if(A)v&&!p.durationKnown?A.endTime=y:Math.abs(A.startTime-m)>.01&&(A.startTime=m,A.endTime=y);else if(u){let _=h.attr[T];cX(T)&&(_=pF(_));const C=VC(u,m,y,{key:T,data:_},kn.dateRange);C&&(C.id=f,this.id3Track.addCue(C),g[T]=C,this.hls.config.interstitialsController&&(T==="X-ASSET-LIST"||T==="X-ASSET-URL")&&C.addEventListener("enter",this.onEventCueEnter))}}a[f]={cues:g,dateRange:h,durationKnown:v}}}}class IJ{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.currentTime=0,this.stallCount=0,this._latency=null,this._targetLatencyUpdated=!1,this.onTimeupdate=()=>{const{media:r}=this,n=this.levelDetails;if(!r||!n)return;this.currentTime=r.currentTime;const i=this.computeLatency();if(i===null)return;this._latency=i;const{lowLatencyMode:s,maxLiveSyncPlaybackRate:a}=this.config;if(!s||a===1||!n.live)return;const o=this.targetLatency;if(o===null)return;const c=i-o,u=Math.min(this.maxLatency,o+n.targetduration);if(c<u&&c>.05&&this.forwardBufferLength>1){const f=Math.min(2,Math.max(1,a)),h=Math.round(2/(1+Math.exp(-.75*c-this.edgeStalled))*20)/20,m=Math.min(f,Math.max(1,h));this.changeMediaPlaybackRate(r,m)}else r.playbackRate!==1&&r.playbackRate!==0&&this.changeMediaPlaybackRate(r,1)},this.hls=e,this.config=e.config,this.registerListeners()}get levelDetails(){var e;return((e=this.hls)==null?void 0:e.latestLevelDetails)||null}get latency(){return this._latency||0}get maxLatency(){const{config:e}=this;if(e.liveMaxLatencyDuration!==void 0)return e.liveMaxLatencyDuration;const r=this.levelDetails;return r?e.liveMaxLatencyDurationCount*r.targetduration:0}get targetLatency(){const e=this.levelDetails;if(e===null||this.hls===null)return null;const{holdBack:r,partHoldBack:n,targetduration:i}=e,{liveSyncDuration:s,liveSyncDurationCount:a,lowLatencyMode:o}=this.config,c=this.hls.userConfig;let u=o&&n||r;(this._targetLatencyUpdated||c.liveSyncDuration||c.liveSyncDurationCount||u===0)&&(u=s!==void 0?s:a*i);const d=i;return u+Math.min(this.stallCount*this.config.liveSyncOnStallIncrease,d)}set targetLatency(e){this.stallCount=0,this.config.liveSyncDuration=e,this._targetLatencyUpdated=!0}get liveSyncPosition(){const e=this.estimateLiveEdge(),r=this.targetLatency;if(e===null||r===null)return null;const n=this.levelDetails;if(n===null)return null;const i=n.edge,s=e-r-this.edgeStalled,a=i-n.totalduration,o=i-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(a,s),o)}get drift(){const e=this.levelDetails;return e===null?1:e.drift}get edgeStalled(){const e=this.levelDetails;if(e===null)return 0;const r=(this.config.lowLatencyMode&&e.partTarget||e.targetduration)*3;return Math.max(e.age-r,0)}get forwardBufferLength(){const{media:e}=this,r=this.levelDetails;if(!e||!r)return 0;const n=e.buffered.length;return(n?e.buffered.end(n-1):r.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.hls=null}registerListeners(){const{hls:e}=this;e&&(e.on(P.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(P.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(P.MANIFEST_LOADING,this.onManifestLoading,this),e.on(P.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(P.ERROR,this.onError,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(P.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(P.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(P.MANIFEST_LOADING,this.onManifestLoading,this),e.off(P.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(P.ERROR,this.onError,this))}onMediaAttached(e,r){this.media=r.media,this.media.addEventListener("timeupdate",this.onTimeupdate)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.onTimeupdate),this.media=null)}onManifestLoading(){this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:r}){r.advanced&&this.onTimeupdate(),!r.live&&this.media&&this.media.removeEventListener("timeupdate",this.onTimeupdate)}onError(e,r){var n;r.details===K.BUFFER_STALLED_ERROR&&(this.stallCount++,this.hls&&(n=this.levelDetails)!=null&&n.live&&this.hls.logger.warn("[latency-controller]: Stall detected, adjusting target latency"))}changeMediaPlaybackRate(e,r){var n,i;e.playbackRate!==r&&((n=this.hls)==null||n.logger.debug(`[latency-controller]: latency=${this.latency.toFixed(3)}, targetLatency=${(i=this.targetLatency)==null?void 0:i.toFixed(3)}, forwardBufferLength=${this.forwardBufferLength.toFixed(3)}: adjusting playback rate from ${e.playbackRate} to ${r}`),e.playbackRate=r)}estimateLiveEdge(){const e=this.levelDetails;return e===null?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return e===null?null:e-this.currentTime}}class kJ extends qT{constructor(e,r){super(e,"level-controller"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=r,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(P.MANIFEST_LOADING,this.onManifestLoading,this),e.on(P.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(P.LEVEL_LOADED,this.onLevelLoaded,this),e.on(P.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(P.FRAG_BUFFERED,this.onFragBuffered,this),e.on(P.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(P.MANIFEST_LOADING,this.onManifestLoading,this),e.off(P.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(P.LEVEL_LOADED,this.onLevelLoaded,this),e.off(P.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(P.FRAG_BUFFERED,this.onFragBuffered,this),e.off(P.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(r=>{r.loadError=0,r.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,r){this.resetLevels()}onManifestLoaded(e,r){const n=this.hls.config.preferManagedMediaSource,i=[],s={},a={};let o=!1,c=!1,u=!1;r.levels.forEach(d=>{const f=d.attrs;let{audioCodec:h,videoCodec:m}=d;h&&(d.audioCodec=h=bg(h,n)||void 0),m&&(m=d.videoCodec=PY(m));const{width:p,height:g,unknownCodecs:v}=d;let y=v?v.length:0;if(v)for(let C=y;C--;){const j=v[C];this.isAudioSupported(j)?(d.audioCodec=h=h?`${h},${j}`:j,y--,du.audio[h.substring(0,4)]=2):this.isVideoSupported(j)&&(d.videoCodec=m=m?`${m},${j}`:j,y--,du.video[m.substring(0,4)]=2)}if(o||(o=!!(p&&g)),c||(c=!!m),u||(u=!!h),y||h&&!this.isAudioSupported(h)||m&&!this.isVideoSupported(m)){this.log(`Some or all CODECS not supported "${f.CODECS}"`);return}const{CODECS:x,"FRAME-RATE":b,"HDCP-LEVEL":S,"PATHWAY-ID":w,RESOLUTION:T,"VIDEO-RANGE":A}=f,N=`${`${w||"."}-`}${d.bitrate}-${T}-${b}-${x}-${A}-${S}`;if(s[N])if(s[N].uri!==d.url&&!d.attrs["PATHWAY-ID"]){const C=a[N]+=1;d.attrs["PATHWAY-ID"]=new Array(C+1).join(".");const j=this.createLevel(d);s[N]=j,i.push(j)}else s[N].addGroupId("audio",f.AUDIO),s[N].addGroupId("text",f.SUBTITLES);else{const C=this.createLevel(d);s[N]=C,a[N]=1,i.push(C)}}),this.filterAndSortMediaOptions(i,r,o,c,u)}createLevel(e){const r=new Kf(e),n=e.supplemental;if(n!=null&&n.videoCodec&&!this.isVideoSupported(n.videoCodec)){const i=new Error(`SUPPLEMENTAL-CODECS not supported "${n.videoCodec}"`);this.log(i.message),r.supportedResult=AF(i,[])}return r}isAudioSupported(e){return Ww(e,"audio",this.hls.config.preferManagedMediaSource)}isVideoSupported(e){return Ww(e,"video",this.hls.config.preferManagedMediaSource)}filterAndSortMediaOptions(e,r,n,i,s){let a=[],o=[],c=e;if((n||i)&&s&&(c=c.filter(({videoCodec:v,videoRange:y,width:x,height:b})=>(!!v||!!(x&&b))&&LY(y))),c.length===0){Promise.resolve().then(()=>{if(this.hls){let v="no level with compatible codecs found in manifest",y=v;r.levels.length&&(y=`one or more CODECS in variant not supported: ${Mt(r.levels.map(b=>b.attrs.CODECS).filter((b,S,w)=>w.indexOf(b)===S))}`,this.warn(y),v+=` (${y})`);const x=new Error(v);this.hls.trigger(P.ERROR,{type:Ie.MEDIA_ERROR,details:K.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:r.url,error:x,reason:y})}});return}r.audioTracks&&(a=r.audioTracks.filter(v=>!v.audioCodec||this.isAudioSupported(v.audioCodec)),GC(a)),r.subtitles&&(o=r.subtitles,GC(o));const u=c.slice(0);c.sort((v,y)=>{if(v.attrs["HDCP-LEVEL"]!==y.attrs["HDCP-LEVEL"])return(v.attrs["HDCP-LEVEL"]||"")>(y.attrs["HDCP-LEVEL"]||"")?1:-1;if(n&&v.height!==y.height)return v.height-y.height;if(v.frameRate!==y.frameRate)return v.frameRate-y.frameRate;if(v.videoRange!==y.videoRange)return wg.indexOf(v.videoRange)-wg.indexOf(y.videoRange);if(v.videoCodec!==y.videoCodec){const x=LN(v.videoCodec),b=LN(y.videoCodec);if(x!==b)return b-x}if(v.uri===y.uri&&v.codecSet!==y.codecSet){const x=xg(v.codecSet),b=xg(y.codecSet);if(x!==b)return b-x}return v.averageBitrate!==y.averageBitrate?v.averageBitrate-y.averageBitrate:0});let d=u[0];if(this.steering&&(c=this.steering.filterParsedLevels(c),c.length!==u.length)){for(let v=0;v<u.length;v++)if(u[v].pathwayId===c[0].pathwayId){d=u[v];break}}this._levels=c;for(let v=0;v<c.length;v++)if(c[v]===d){var f;this._firstLevel=v;const y=d.bitrate,x=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${c.length} level(s) found, first bitrate: ${y}`),((f=this.hls.userConfig)==null?void 0:f.abrEwmaDefaultEstimate)===void 0){const b=Math.min(y,this.hls.config.abrEwmaDefaultEstimateMax);b>x&&x===this.hls.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=b)}break}const h=s&&!i,m=this.hls.config,p=!!(m.audioStreamController&&m.audioTrackController),g={levels:c,audioTracks:a,subtitleTracks:o,sessionData:r.sessionData,sessionKeys:r.sessionKeys,firstLevel:this._firstLevel,stats:r.stats,audio:s,video:i,altAudio:p&&!h&&a.some(v=>!!v.url)};this.hls.trigger(P.MANIFEST_PARSED,g)}get levels(){return this._levels.length===0?null:this._levels}get loadLevelObj(){return this.currentLevel}get level(){return this.currentLevelIndex}set level(e){const r=this._levels;if(r.length===0)return;if(e<0||e>=r.length){const d=new Error("invalid level idx"),f=e<0;if(this.hls.trigger(P.ERROR,{type:Ie.OTHER_ERROR,details:K.LEVEL_SWITCH_ERROR,level:e,fatal:f,error:d,reason:d.message}),f)return;e=Math.min(e,r.length-1)}const n=this.currentLevelIndex,i=this.currentLevel,s=i?i.attrs["PATHWAY-ID"]:void 0,a=r[e],o=a.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=a,n===e&&i&&s===o)return;this.log(`Switching to level ${e} (${a.height?a.height+"p ":""}${a.videoRange?a.videoRange+" ":""}${a.codecSet?a.codecSet+" ":""}@${a.bitrate})${o?" with Pathway "+o:""} from level ${n}${s?" with Pathway "+s:""}`);const c={level:e,attrs:a.attrs,details:a.details,bitrate:a.bitrate,averageBitrate:a.averageBitrate,maxBitrate:a.maxBitrate,realBitrate:a.realBitrate,width:a.width,height:a.height,codecSet:a.codecSet,audioCodec:a.audioCodec,videoCodec:a.videoCodec,audioGroups:a.audioGroups,subtitleGroups:a.subtitleGroups,loaded:a.loaded,loadError:a.loadError,fragmentError:a.fragmentError,name:a.name,id:a.id,uri:a.uri,url:a.url,urlId:0,audioGroupIds:a.audioGroupIds,textGroupIds:a.textGroupIds};this.hls.trigger(P.LEVEL_SWITCHING,c);const u=a.details;if(!u||u.live){const d=this.switchParams(a.uri,i==null?void 0:i.details,u);this.loadPlaylist(d)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,this._startLevel===void 0&&(this._startLevel=e),e!==-1&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(this._startLevel===void 0){const e=this.hls.config.startLevel;return e!==void 0?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}get pathways(){return this.steering?this.steering.pathways():[]}get pathwayPriority(){return this.steering?this.steering.pathwayPriority:null}set pathwayPriority(e){if(this.steering){const r=this.steering.pathways(),n=e.filter(i=>r.indexOf(i)!==-1);if(e.length<1){this.warn(`pathwayPriority ${e} should contain at least one pathway from list: ${r}`);return}this.steering.pathwayPriority=n}}onError(e,r){r.fatal||!r.context||r.context.type===et.LEVEL&&r.context.level===this.level&&this.checkRetry(r)}onFragBuffered(e,{frag:r}){if(r!==void 0&&r.type===Pe.MAIN){const n=r.elementaryStreams;if(!Object.keys(n).some(s=>!!n[s]))return;const i=this._levels[r.level];i!=null&&i.loadError&&(this.log(`Resetting level error count of ${i.loadError} on frag buffered`),i.loadError=0)}}onLevelLoaded(e,r){var n;const{level:i,details:s}=r,a=r.levelInfo;if(!a){var o;this.warn(`Invalid level index ${i}`),(o=r.deliveryDirectives)!=null&&o.skip&&(s.deltaUpdateFailed=!0);return}if(a===this.currentLevel||r.withoutMultiVariant){a.fragmentError===0&&(a.loadError=0);let c=a.details;c===r.details&&c.advanced&&(c=void 0),this.playlistLoaded(i,r,c)}else(n=r.deliveryDirectives)!=null&&n.skip&&(s.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentLevel)&&this.scheduleLoading(this.currentLevel,e)}loadingPlaylist(e,r){super.loadingPlaylist(e,r);const n=this.getUrlWithDirectives(e.uri,r),i=this.currentLevelIndex,s=e.attrs["PATHWAY-ID"],a=e.details,o=a==null?void 0:a.age;this.log(`Loading level index ${i}${(r==null?void 0:r.msn)!==void 0?" at sn "+r.msn+" part "+r.part:""}${s?" Pathway "+s:""}${o&&a.live?" age "+o.toFixed(1)+(a.type&&" "+a.type||""):""} ${n}`),this.hls.trigger(P.LEVEL_LOADING,{url:n,level:i,levelInfo:e,pathwayId:e.attrs["PATHWAY-ID"],id:0,deliveryDirectives:r||null})}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=e)}removeLevel(e){var r;if(this._levels.length===1)return;const n=this._levels.filter((s,a)=>a!==e?!0:(this.steering&&this.steering.removeLevel(s),s===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,s.details&&s.details.fragments.forEach(o=>o.level=-1)),!1));VF(n),this._levels=n,this.currentLevelIndex>-1&&(r=this.currentLevel)!=null&&r.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.manualLevelIndex>-1&&(this.manualLevelIndex=this.currentLevelIndex);const i=n.length-1;this._firstLevel=Math.min(this._firstLevel,i),this._startLevel&&(this._startLevel=Math.min(this._startLevel,i)),this.hls.trigger(P.LEVELS_UPDATED,{levels:n})}onLevelsUpdated(e,{levels:r}){this._levels=r}checkMaxAutoUpdated(){const{autoLevelCapping:e,maxAutoLevel:r,maxHdcpLevel:n}=this.hls;this._maxAutoLevel!==r&&(this._maxAutoLevel=r,this.hls.trigger(P.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:r,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:n}))}}function GC(t){const e={};t.forEach(r=>{const n=r.groupId||"";r.id=e[n]=e[n]||0,e[n]++})}function I4(){return self.SourceBuffer||self.WebKitSourceBuffer}function k4(){if(!co())return!1;const e=I4();return!e||e.prototype&&typeof e.prototype.appendBuffer=="function"&&typeof e.prototype.remove=="function"}function RJ(){if(!k4())return!1;const t=co();return typeof(t==null?void 0:t.isTypeSupported)=="function"&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(e=>t.isTypeSupported(Wf(e,"video")))||["mp4a.40.2","fLaC"].some(e=>t.isTypeSupported(Wf(e,"audio"))))}function LJ(){var t;const e=I4();return typeof(e==null||(t=e.prototype)==null?void 0:t.changeType)=="function"}const DJ=100;class MJ extends BT{constructor(e,r,n){super(e,r,n,"stream-controller",Pe.MAIN),this.audioCodecSwap=!1,this.level=-1,this._forceStartLoad=!1,this._hasEnoughToStart=!1,this.altAudio=0,this.audioOnly=!1,this.fragPlaying=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this.onMediaPlaying=()=>{this.tick()},this.onMediaSeeked=()=>{const i=this.media,s=i?i.currentTime:null;if(s===null||!ye(s)||(this.log(`Media seeked to ${s.toFixed(3)}`),!this.getBufferedFrag(s)))return;const a=this.getFwdBufferInfoAtPos(i,s,Pe.MAIN,0);if(a===null||a.len===0){this.warn(`Main forward buffer length at ${s} on "seeked" event ${a?a.len:"empty"})`);return}this.tick()},this.registerListeners()}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(P.MANIFEST_PARSED,this.onManifestParsed,this),e.on(P.LEVEL_LOADING,this.onLevelLoading,this),e.on(P.LEVEL_LOADED,this.onLevelLoaded,this),e.on(P.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(P.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(P.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(P.BUFFER_CREATED,this.onBufferCreated,this),e.on(P.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(P.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(P.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(P.MANIFEST_PARSED,this.onManifestParsed,this),e.off(P.LEVEL_LOADED,this.onLevelLoaded,this),e.off(P.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(P.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(P.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(P.BUFFER_CREATED,this.onBufferCreated,this),e.off(P.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(P.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(P.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this.onMediaPlaying=this.onMediaSeeked=null,this.unregisterListeners(),super.onHandlerDestroying()}startLoad(e,r){if(this.levels){const{lastCurrentTime:n,hls:i}=this;if(this.stopLoad(),this.setInterval(DJ),this.level=-1,!this.startFragRequested){let s=i.startLevel;s===-1&&(i.config.testBandwidth&&this.levels.length>1?(s=0,this.bitrateTest=!0):s=i.firstAutoLevel),i.nextLoadLevel=s,this.level=i.loadLevel,this._hasEnoughToStart=!!r}n>0&&e===-1&&!r&&(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),e=n),this.state=ee.IDLE,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=r?-1:e,this.tick()}else this._forceStartLoad=!0,this.state=ee.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case ee.WAITING_LEVEL:{const{levels:r,level:n}=this,i=r==null?void 0:r[n],s=i==null?void 0:i.details;if(s&&(!s.live||this.levelLastLoaded===i&&!this.waitForLive(i))){if(this.waitForCdnTuneIn(s))break;this.state=ee.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=ee.IDLE;break}break}case ee.FRAG_LOADING_WAITING_RETRY:{var e;const r=self.performance.now(),n=this.retryDate;if(!n||r>=n||(e=this.media)!=null&&e.seeking){const{levels:i,level:s}=this,a=i==null?void 0:i[s];this.resetStartWhenNotLoaded(a||null),this.state=ee.IDLE}}break}this.state===ee.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){var e;super.onTickEnd(),(e=this.media)!=null&&e.readyState&&this.media.seeking===!1&&(this.lastCurrentTime=this.media.currentTime),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:r,levels:n,media:i}=this;if(r===null||!i&&!this.primaryPrefetch&&(this.startFragRequested||!e.config.startFragPrefetch)||this.altAudio&&this.audioOnly)return;const s=this.buffering?e.nextLoadLevel:e.loadLevel;if(!(n!=null&&n[s]))return;const a=n[s],o=this.getMainFwdBufferInfo();if(o===null)return;const c=this.getLevelDetails();if(c&&this._streamEnded(o,c)){const g={};this.altAudio===2&&(g.type="video"),this.hls.trigger(P.BUFFER_EOS,g),this.state=ee.ENDED;return}if(!this.buffering)return;e.loadLevel!==s&&e.manualLevel===-1&&this.log(`Adapting to level ${s} from level ${this.level}`),this.level=e.nextLoadLevel=s;const u=a.details;if(!u||this.state===ee.WAITING_LEVEL||this.waitForLive(a)){this.level=s,this.state=ee.WAITING_LEVEL,this.startFragRequested=!1;return}const d=o.len,f=this.getMaxBufferLength(a.maxBitrate);if(d>=f)return;this.backtrackFragment&&this.backtrackFragment.start>o.end&&(this.backtrackFragment=null);const h=this.backtrackFragment?this.backtrackFragment.start:o.end;let m=this.getNextFragment(h,u);if(this.couldBacktrack&&!this.fragPrevious&&m&&fr(m)&&this.fragmentTracker.getState(m)!==br.OK){var p;const v=((p=this.backtrackFragment)!=null?p:m).sn-u.startSN,y=u.fragments[v-1];y&&m.cc===y.cc&&(m=y,this.fragmentTracker.removeFragment(y))}else this.backtrackFragment&&o.len&&(this.backtrackFragment=null);if(m&&this.isLoopLoading(m,h)){if(!m.gap){const v=this.audioOnly&&!this.altAudio?Tt.AUDIO:Tt.VIDEO,y=(v===Tt.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;y&&this.afterBufferFlushed(y,v,Pe.MAIN)}m=this.getNextFragmentLoopLoading(m,u,o,Pe.MAIN,f)}m&&(m.initSegment&&!m.initSegment.data&&!this.bitrateTest&&(m=m.initSegment),this.loadFragment(m,a,h))}loadFragment(e,r,n){const i=this.fragmentTracker.getState(e);i===br.NOT_LOADED||i===br.PARTIAL?fr(e)?this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,r)):super.loadFragment(e,r,n):this._loadInitSegment(e,r):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,Pe.MAIN)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:r}=this;if(r!=null&&r.readyState){let n;const i=this.getAppendedFrag(r.currentTime);i&&i.start>1&&this.flushMainBuffer(0,i.start-1);const s=this.getLevelDetails();if(s!=null&&s.live){const o=this.getMainFwdBufferInfo();if(!o||o.len<s.targetduration*2)return}if(!r.paused&&e){const o=this.hls.nextLoadLevel,c=e[o],u=this.fragLastKbps;u&&this.fragCurrent?n=this.fragCurrent.duration*c.maxBitrate/(1e3*u)+1:n=0}else n=0;const a=this.getBufferedFrag(r.currentTime+n);if(a){const o=this.followingBufferedFrag(a);if(o){this.abortCurrentFrag();const c=o.maxStartPTS?o.maxStartPTS:o.start,u=o.duration,d=Math.max(a.end,c+Math.min(Math.max(u-this.config.maxFragLookUpTolerance,u*(this.couldBacktrack?.5:.125)),u*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(d,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case ee.KEY_LOADING:case ee.FRAG_LOADING:case ee.FRAG_LOADING_WAITING_RETRY:case ee.PARSING:case ee.PARSED:this.state=ee.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,r){super.flushMainBuffer(e,r,this.altAudio===2?"video":null)}onMediaAttached(e,r){super.onMediaAttached(e,r);const n=r.media;ii(n,"playing",this.onMediaPlaying),ii(n,"seeked",this.onMediaSeeked)}onMediaDetaching(e,r){const{media:n}=this;n&&(Oi(n,"playing",this.onMediaPlaying),Oi(n,"seeked",this.onMediaSeeked)),this.videoBuffer=null,this.fragPlaying=null,super.onMediaDetaching(e,r),!r.transferMedia&&(this._hasEnoughToStart=!1)}onManifestLoading(){super.onManifestLoading(),this.log("Trigger BUFFER_RESET"),this.hls.trigger(P.BUFFER_RESET,void 0),this.couldBacktrack=!1,this.fragLastKbps=0,this.fragPlaying=this.backtrackFragment=null,this.altAudio=0,this.audioOnly=!1}onManifestParsed(e,r){let n=!1,i=!1;r.levels.forEach(s=>{const a=s.audioCodec;a&&(n=n||a.indexOf("mp4a.40.2")!==-1,i=i||a.indexOf("mp4a.40.5")!==-1)}),this.audioCodecSwitch=n&&i&&!LJ(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=r.levels,this.startFragRequested=!1}onLevelLoading(e,r){const{levels:n}=this;if(!n||this.state!==ee.IDLE)return;const i=r.levelInfo;(!i.details||i.details.live&&(this.levelLastLoaded!==i||i.details.expired)||this.waitForCdnTuneIn(i.details))&&(this.state=ee.WAITING_LEVEL)}onLevelLoaded(e,r){var n;const{levels:i,startFragRequested:s}=this,a=r.level,o=r.details,c=o.totalduration;if(!i){this.warn(`Levels were reset while loading level ${a}`);return}this.log(`Level ${a} loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""}, cc [${o.startCC}, ${o.endCC}] duration:${c}`);const u=r.levelInfo,d=this.fragCurrent;d&&(this.state===ee.FRAG_LOADING||this.state===ee.FRAG_LOADING_WAITING_RETRY)&&d.level!==r.level&&d.loader&&this.abortCurrentFrag();let f=0;if(o.live||(n=u.details)!=null&&n.live){var h;if(this.checkLiveUpdate(o),o.deltaUpdateFailed)return;f=this.alignPlaylists(o,u.details,(h=this.levelLastLoaded)==null?void 0:h.details)}if(u.details=o,this.levelLastLoaded=u,s||this.setStartPosition(o,f),this.hls.trigger(P.LEVEL_UPDATED,{details:o,level:a}),this.state===ee.WAITING_LEVEL){if(this.waitForCdnTuneIn(o))return;this.state=ee.IDLE}s&&o.live&&this.synchronizeToLiveEdge(o),this.tick()}synchronizeToLiveEdge(e){const{config:r,media:n}=this;if(!n)return;const i=this.hls.liveSyncPosition,s=this.getLoadPosition(),a=e.fragmentStart,o=e.edge,c=s>=a-r.maxFragLookUpTolerance&&s<=o;if(i!==null&&n.duration>i&&(s<i||!c)){const d=r.liveMaxLatencyDuration!==void 0?r.liveMaxLatencyDuration:r.liveMaxLatencyDurationCount*e.targetduration;if((!c&&n.readyState<4||s<o-d)&&(this._hasEnoughToStart||(this.nextLoadPosition=i),n.readyState))if(this.warn(`Playback: ${s.toFixed(3)} is located too far from the end of live sliding playlist: ${o}, reset currentTime to : ${i.toFixed(3)}`),this.config.liveSyncMode==="buffered"){var u;const f=Ge.bufferInfo(n,i,0);if(!(f!=null&&(u=f.buffered)!=null&&u.length)){n.currentTime=i;return}if(f.start<=s){n.currentTime=i;return}const{nextStart:m}=Ge.bufferedInfo(f.buffered,s,0);m&&(n.currentTime=m)}else n.currentTime=i}}_handleFragmentLoadProgress(e){var r;const n=e.frag,{part:i,payload:s}=e,{levels:a}=this;if(!a){this.warn(`Levels were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);return}const o=a[n.level];if(!o){this.warn(`Level ${n.level} not found on progress`);return}const c=o.details;if(!c){this.warn(`Dropping fragment ${n.sn} of level ${n.level} after level details were reset`),this.fragmentTracker.removeFragment(n);return}const u=o.videoCodec,d=c.PTSKnown||!c.live,f=(r=n.initSegment)==null?void 0:r.data,h=this._getAudioCodec(o),m=this.transmuxer=this.transmuxer||new u4(this.hls,Pe.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),p=i?i.index:-1,g=p!==-1,v=new $T(n.level,n.sn,n.stats.chunkCount,s.byteLength,p,g),y=this.initPTS[n.cc];m.push(s,f,h,u,n,i,c.totalduration,d,v,y)}onAudioTrackSwitching(e,r){const n=this.hls,i=this.altAudio===2;if(Sg(r.url,n))this.altAudio=1;else{if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const a=this.fragCurrent;a&&(this.log("Switching to main audio track, cancel main fragment load"),a.abortRequests(),this.fragmentTracker.removeFragment(a)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();if(i){this.fragmentTracker.removeAllFragments(),n.once(P.BUFFER_FLUSHED,()=>{var a;(a=this.hls)==null||a.trigger(P.AUDIO_TRACK_SWITCHED,r)}),n.trigger(P.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null});return}n.trigger(P.AUDIO_TRACK_SWITCHED,r)}}onAudioTrackSwitched(e,r){const n=Sg(r.url,this.hls);if(n){const i=this.videoBuffer;i&&this.mediaBuffer!==i&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=n?2:0,this.tick()}onBufferCreated(e,r){const n=r.tracks;let i,s,a=!1;for(const o in n){const c=n[o];if(c.id==="main"){if(s=o,i=c,o==="video"){const u=n[o];u&&(this.videoBuffer=u.buffer)}}else a=!0}a&&i?(this.log(`Alternate track found, use ${s}.buffered to schedule main fragment loading`),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media}onFragBuffered(e,r){const{frag:n,part:i}=r,s=n.type===Pe.MAIN;if(s){if(this.fragContextChanged(n)){this.warn(`Fragment ${n.sn}${i?" p: "+i.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}`),this.state===ee.PARSED&&(this.state=ee.IDLE);return}const o=i?i.stats:n.stats;this.fragLastKbps=Math.round(8*o.total/(o.buffering.end-o.loading.first)),fr(n)&&(this.fragPrevious=n),this.fragBufferedComplete(n,i)}const a=this.media;a&&(!this._hasEnoughToStart&&Ge.getBuffered(a).length&&(this._hasEnoughToStart=!0,this.seekToStartPos()),s&&this.tick())}get hasEnoughToStart(){return this._hasEnoughToStart}onError(e,r){var n;if(r.fatal){this.state=ee.ERROR;return}switch(r.details){case K.FRAG_GAP:case K.FRAG_PARSING_ERROR:case K.FRAG_DECRYPT_ERROR:case K.FRAG_LOAD_ERROR:case K.FRAG_LOAD_TIMEOUT:case K.KEY_LOAD_ERROR:case K.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Pe.MAIN,r);break;case K.LEVEL_LOAD_ERROR:case K.LEVEL_LOAD_TIMEOUT:case K.LEVEL_PARSING_ERROR:!r.levelRetry&&this.state===ee.WAITING_LEVEL&&((n=r.context)==null?void 0:n.type)===et.LEVEL&&(this.state=ee.IDLE);break;case K.BUFFER_ADD_CODEC_ERROR:case K.BUFFER_APPEND_ERROR:if(r.parent!=="main")return;this.reduceLengthAndFlushBuffer(r)&&this.resetLoadingState();break;case K.BUFFER_FULL_ERROR:if(r.parent!=="main")return;this.reduceLengthAndFlushBuffer(r)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case K.INTERNAL_EXCEPTION:this.recoverWorkerError(r);break}}onFragLoadEmergencyAborted(){this.state=ee.IDLE,this._hasEnoughToStart||(this.startFragRequested=!1,this.nextLoadPosition=this.lastCurrentTime),this.tickImmediate()}onBufferFlushed(e,{type:r}){if(r!==Tt.AUDIO||!this.altAudio){const n=(r===Tt.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;n&&(this.afterBufferFlushed(n,r,Pe.MAIN),this.tick())}}onLevelsUpdated(e,r){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level,this.level===-1&&this.resetWhenMissingContext(this.fragCurrent)),this.levels=r.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const r=e.currentTime;let n=this.startPosition;if(n>=0&&r<n){if(e.seeking){this.log(`could not seek to ${n}, already seeking at ${r}`);return}const i=this.timelineOffset;i&&n&&(n+=i);const s=this.getLevelDetails(),a=Ge.getBuffered(e),o=a.length?a.start(0):0,c=o-n,u=Math.max(this.config.maxBufferHole,this.config.maxFragLookUpTolerance);(this.config.startOnSegmentBoundary||c>0&&(c<u||this.loadingParts&&c<2*((s==null?void 0:s.partTarget)||0)))&&(this.log(`adjusting start position by ${c} to match buffer start`),n+=c,this.startPosition=n),r<n&&(this.log(`seek to target start position ${n} from current time ${r} buffer start ${o}`),e.currentTime=n)}}_getAudioCodec(e){let r=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&r&&(this.log("Swapping audio codec"),r.indexOf("mp4a.40.5")!==-1?r="mp4a.40.2":r="mp4a.40.5"),r}_loadBitrateTestFrag(e,r){e.bitrateTest=!0,this._doFragLoad(e,r).then(n=>{const{hls:i}=this,s=n==null?void 0:n.frag;if(!s||this.fragContextChanged(s))return;r.fragmentError=0,this.state=ee.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const a=s.stats;a.parsing.start=a.parsing.end=a.buffering.start=a.buffering.end=self.performance.now(),i.trigger(P.FRAG_LOADED,n),s.bitrateTest=!1})}_handleTransmuxComplete(e){var r;const n=this.playlistType,{hls:i}=this,{remuxResult:s,chunkMeta:a}=e,o=this.getCurrentContext(a);if(!o){this.resetWhenMissingContext(a);return}const{frag:c,part:u,level:d}=o,{video:f,text:h,id3:m,initSegment:p}=s,{details:g}=d,v=this.altAudio?void 0:s.audio;if(this.fragContextChanged(c)){this.fragmentTracker.removeFragment(c);return}if(this.state=ee.PARSING,p){if(p!=null&&p.tracks){const S=c.initSegment||c;this._bufferInitSegment(d,p.tracks,S,a),i.trigger(P.FRAG_PARSING_INIT_SEGMENT,{frag:S,id:n,tracks:p.tracks})}const y=p.initPTS,x=p.timescale,b=this.initPTS[c.cc];ye(y)&&(!b||b.baseTime!==y||b.timescale!==x)&&(this.initPTS[c.cc]={baseTime:y,timescale:x},i.trigger(P.INIT_PTS_FOUND,{frag:c,id:n,initPTS:y,timescale:x}))}if(f&&g){v&&f.type==="audiovideo"&&this.logMuxedErr(c);const y=g.fragments[c.sn-1-g.startSN],x=c.sn===g.startSN,b=!y||c.cc>y.cc;if(s.independent!==!1){const{startPTS:S,endPTS:w,startDTS:T,endDTS:A}=f;if(u)u.elementaryStreams[f.type]={startPTS:S,endPTS:w,startDTS:T,endDTS:A};else if(f.firstKeyFrame&&f.independent&&a.id===1&&!b&&(this.couldBacktrack=!0),f.dropped&&f.independent){const _=this.getMainFwdBufferInfo(),N=(_?_.end:this.getLoadPosition())+this.config.maxBufferHole,C=f.firstKeyFramePTS?f.firstKeyFramePTS:S;if(!x&&N<C-this.config.maxBufferHole&&!b){this.backtrack(c);return}else b&&(c.gap=!0);c.setElementaryStreamInfo(f.type,c.start,w,c.start,A,!0)}else x&&S-(g.appliedTimelineOffset||0)>Lp&&(c.gap=!0);c.setElementaryStreamInfo(f.type,S,w,T,A),this.backtrackFragment&&(this.backtrackFragment=c),this.bufferFragmentData(f,c,u,a,x||b)}else if(x||b)c.gap=!0;else{this.backtrack(c);return}}if(v){const{startPTS:y,endPTS:x,startDTS:b,endDTS:S}=v;u&&(u.elementaryStreams[Tt.AUDIO]={startPTS:y,endPTS:x,startDTS:b,endDTS:S}),c.setElementaryStreamInfo(Tt.AUDIO,y,x,b,S),this.bufferFragmentData(v,c,u,a)}if(g&&m!=null&&(r=m.samples)!=null&&r.length){const y={id:n,frag:c,details:g,samples:m.samples};i.trigger(P.FRAG_PARSING_METADATA,y)}if(g&&h){const y={id:n,frag:c,details:g,samples:h.samples};i.trigger(P.FRAG_PARSING_USERDATA,y)}}logMuxedErr(e){this.warn(`${fr(e)?"Media":"Init"} segment with muxed audiovideo where only video expected: ${e.url}`)}_bufferInitSegment(e,r,n,i){if(this.state!==ee.PARSING)return;this.audioOnly=!!r.audio&&!r.video,this.altAudio&&!this.audioOnly&&(delete r.audio,r.audiovideo&&this.logMuxedErr(n));const{audio:s,video:a,audiovideo:o}=r;if(s){const u=e.audioCodec;let d=Np(s.codec,u);d==="mp4a"&&(d="mp4a.40.5");const f=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){d&&(d.indexOf("mp4a.40.5")!==-1?d="mp4a.40.2":d="mp4a.40.5");const h=s.metadata;h&&"channelCount"in h&&(h.channelCount||1)!==1&&f.indexOf("firefox")===-1&&(d="mp4a.40.5")}d&&d.indexOf("mp4a.40.5")!==-1&&f.indexOf("android")!==-1&&s.container!=="audio/mpeg"&&(d="mp4a.40.2",this.log(`Android: force audio codec to ${d}`)),u&&u!==d&&this.log(`Swapping manifest audio codec "${u}" for "${d}"`),s.levelCodec=d,s.id=Pe.MAIN,this.log(`Init audio buffer, container:${s.container}, codecs[selected/level/parsed]=[${d||""}/${u||""}/${s.codec}]`),delete r.audiovideo}if(a){a.levelCodec=e.videoCodec,a.id=Pe.MAIN;const u=a.codec;if((u==null?void 0:u.length)===4)switch(u){case"hvc1":case"hev1":a.codec="hvc1.1.6.L120.90";break;case"av01":a.codec="av01.0.04M.08";break;case"avc1":a.codec="avc1.42e01e";break}this.log(`Init video buffer, container:${a.container}, codecs[level/parsed]=[${e.videoCodec||""}/${u}]${a.codec!==u?" parsed-corrected="+a.codec:""}${a.supplemental?" supplemental="+a.supplemental:""}`),delete r.audiovideo}o&&(this.log(`Init audiovideo buffer, container:${o.container}, codecs[level/parsed]=[${e.codecs}/${o.codec}]`),delete r.video,delete r.audio);const c=Object.keys(r);if(c.length){if(this.hls.trigger(P.BUFFER_CODECS,r),!this.hls)return;c.forEach(u=>{const f=r[u].initSegment;f!=null&&f.byteLength&&this.hls.trigger(P.BUFFER_APPENDING,{type:u,data:f,frag:n,part:null,chunkMeta:i,parent:n.type})})}this.tickImmediate()}getMainFwdBufferInfo(){const e=this.mediaBuffer&&this.altAudio===2?this.mediaBuffer:this.media;return this.getFwdBufferInfo(e,Pe.MAIN)}get maxBufferLength(){const{levels:e,level:r}=this,n=e==null?void 0:e[r];return n?this.getMaxBufferLength(n.maxBitrate):this.config.maxBufferLength}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=ee.IDLE}checkFragmentChanged(){const e=this.media;let r=null;if(e&&e.readyState>1&&e.seeking===!1){const n=e.currentTime;if(Ge.isBuffered(e,n)?r=this.getAppendedFrag(n):Ge.isBuffered(e,n+.1)&&(r=this.getAppendedFrag(n+.1)),r){this.backtrackFragment=null;const i=this.fragPlaying,s=r.level;(!i||r.sn!==i.sn||i.level!==s)&&(this.fragPlaying=r,this.hls.trigger(P.FRAG_CHANGED,{frag:r}),(!i||i.level!==s)&&this.hls.trigger(P.LEVEL_SWITCHED,{level:s}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){var e;if(this.fragPlaying)return this.fragPlaying;const r=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;return ye(r)?this.getAppendedFrag(r):null}get currentProgramDateTime(){var e;const r=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;if(ye(r)){const n=this.getLevelDetails(),i=this.currentFrag||(n?Al(null,n.fragments,r):null);if(i){const s=i.programDateTime;if(s!==null){const a=s+(r-i.start)*1e3;return new Date(a)}}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class $J{constructor(e){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const n in this.keyUriToKeyInfo){const i=this.keyUriToKeyInfo[n].loader;if(i){var r;if(e&&e!==((r=i.context)==null?void 0:r.frag.type))return;i.abort()}}}detach(){for(const e in this.keyUriToKeyInfo){const r=this.keyUriToKeyInfo[e];(r.mediaKeySessionContext||r.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyUriToKeyInfo){const r=this.keyUriToKeyInfo[e].loader;r&&r.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(e,r=K.KEY_LOAD_ERROR,n,i,s){return new Ps({type:Ie.NETWORK_ERROR,details:r,fatal:!1,frag:e,response:s,error:n,networkDetails:i})}loadClear(e,r,n){if(this.emeController&&this.config.emeEnabled&&!this.emeController.getSelectedKeySystemFormats().length){if(r.length)for(let i=0,s=r.length;i<s;i++){const a=r[i];if(e.cc<=a.cc&&(!fr(e)||!fr(a)||e.sn<a.sn)||!n&&i==s-1)return this.emeController.selectKeySystemFormat(a).then(o=>{if(!this.emeController)return;a.setKeyFormat(o);const c=Qw(o);if(c)return this.emeController.getKeySystemAccess([c])})}if(this.config.requireKeySystemAccessOnStart){const i=jp(this.config);if(i.length)return this.emeController.getKeySystemAccess(i)}}return null}load(e){return!e.decryptdata&&e.encrypted&&this.emeController&&this.config.emeEnabled?this.emeController.selectKeySystemFormat(e).then(r=>this.loadInternal(e,r)):this.loadInternal(e)}loadInternal(e,r){var n,i;r&&e.setKeyFormat(r);const s=e.decryptdata;if(!s){const u=new Error(r?`Expected frag.decryptdata to be defined after setting format ${r}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(e,K.KEY_LOAD_ERROR,u))}const a=s.uri;if(!a)return Promise.reject(this.createKeyLoadError(e,K.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${a}"`)));let o=this.keyUriToKeyInfo[a];if((n=o)!=null&&n.decryptdata.key)return s.key=o.decryptdata.key,Promise.resolve({frag:e,keyInfo:o});if((i=o)!=null&&i.keyLoadPromise){var c;switch((c=o.mediaKeySessionContext)==null?void 0:c.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return o.keyLoadPromise.then(u=>(s.key=u.keyInfo.decryptdata.key,{frag:e,keyInfo:o}))}}switch(o=this.keyUriToKeyInfo[a]={decryptdata:s,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},s.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return s.keyFormat==="identity"?this.loadKeyHTTP(o,e):this.loadKeyEME(o,e);case"AES-128":case"AES-256":case"AES-256-CTR":return this.loadKeyHTTP(o,e);default:return Promise.reject(this.createKeyLoadError(e,K.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${s.method}"`)))}}loadKeyEME(e,r){const n={frag:r,keyInfo:e};if(this.emeController&&this.config.emeEnabled){const i=this.emeController.loadKey(n);if(i)return(e.keyLoadPromise=i.then(s=>(e.mediaKeySessionContext=s,n))).catch(s=>{throw e.keyLoadPromise=null,s})}return Promise.resolve(n)}loadKeyHTTP(e,r){const n=this.config,i=n.loader,s=new i(n);return r.keyLoader=e.loader=s,e.keyLoadPromise=new Promise((a,o)=>{const c={keyInfo:e,frag:r,responseType:"arraybuffer",url:e.decryptdata.uri},u=n.keyLoadPolicy.default,d={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},f={onSuccess:(h,m,p,g)=>{const{frag:v,keyInfo:y,url:x}=p;if(!v.decryptdata||y!==this.keyUriToKeyInfo[x])return o(this.createKeyLoadError(v,K.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),g));y.decryptdata.key=v.decryptdata.key=new Uint8Array(h.data),v.keyLoader=null,y.loader=null,a({frag:v,keyInfo:y})},onError:(h,m,p,g)=>{this.resetLoader(m),o(this.createKeyLoadError(r,K.KEY_LOAD_ERROR,new Error(`HTTP Error ${h.code} loading key ${h.text}`),p,St({url:c.url,data:void 0},h)))},onTimeout:(h,m,p)=>{this.resetLoader(m),o(this.createKeyLoadError(r,K.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),p))},onAbort:(h,m,p)=>{this.resetLoader(m),o(this.createKeyLoadError(r,K.INTERNAL_ABORTED,new Error("key loading aborted"),p))}};s.load(c,d,f)})}resetLoader(e){const{frag:r,keyInfo:n,url:i}=e,s=n.loader;r.keyLoader===s&&(r.keyLoader=null,n.loader=null),delete this.keyUriToKeyInfo[i],s&&s.destroy()}}function HC(t){const{type:e}=t;switch(e){case et.AUDIO_TRACK:return Pe.AUDIO;case et.SUBTITLE_TRACK:return Pe.SUBTITLE;default:return Pe.MAIN}}function Gx(t,e){let r=t.url;return(r===void 0||r.indexOf("data:")===0)&&(r=e.url),r}class FJ{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.onManifestLoaded=this.checkAutostartLoad,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(P.MANIFEST_LOADING,this.onManifestLoading,this),e.on(P.LEVEL_LOADING,this.onLevelLoading,this),e.on(P.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(P.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.on(P.LEVELS_UPDATED,this.onLevelsUpdated,this)}unregisterListeners(){const{hls:e}=this;e.off(P.MANIFEST_LOADING,this.onManifestLoading,this),e.off(P.LEVEL_LOADING,this.onLevelLoading,this),e.off(P.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(P.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.off(P.LEVELS_UPDATED,this.onLevelsUpdated,this)}createInternalLoader(e){const r=this.hls.config,n=r.pLoader,i=r.loader,s=n||i,a=new s(r);return this.loaders[e.type]=a,a}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const r=this.loaders[e];r&&r.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,r){const{url:n}=r;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:et.MANIFEST,url:n,deliveryDirectives:null,levelOrTrack:null})}onLevelLoading(e,r){const{id:n,level:i,pathwayId:s,url:a,deliveryDirectives:o,levelInfo:c}=r;this.load({id:n,level:i,pathwayId:s,responseType:"text",type:et.LEVEL,url:a,deliveryDirectives:o,levelOrTrack:c})}onAudioTrackLoading(e,r){const{id:n,groupId:i,url:s,deliveryDirectives:a,track:o}=r;this.load({id:n,groupId:i,level:null,responseType:"text",type:et.AUDIO_TRACK,url:s,deliveryDirectives:a,levelOrTrack:o})}onSubtitleTrackLoading(e,r){const{id:n,groupId:i,url:s,deliveryDirectives:a,track:o}=r;this.load({id:n,groupId:i,level:null,responseType:"text",type:et.SUBTITLE_TRACK,url:s,deliveryDirectives:a,levelOrTrack:o})}onLevelsUpdated(e,r){const n=this.loaders[et.LEVEL];if(n){const i=n.context;i&&!r.levels.some(s=>s===i.levelOrTrack)&&(n.abort(),delete this.loaders[et.LEVEL])}}load(e){var r;const n=this.hls.config;let i=this.getInternalLoader(e);if(i){const u=this.hls.logger,d=i.context;if(d&&d.levelOrTrack===e.levelOrTrack&&(d.url===e.url||d.deliveryDirectives&&!e.deliveryDirectives)){d.url===e.url?u.log(`[playlist-loader]: ignore ${e.url} ongoing request`):u.log(`[playlist-loader]: ignore ${e.url} in favor of ${d.url}`);return}u.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),i.abort()}let s;if(e.type===et.MANIFEST?s=n.manifestLoadPolicy.default:s=yt({},n.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),i=this.createInternalLoader(e),ye((r=e.deliveryDirectives)==null?void 0:r.part)){let u;if(e.type===et.LEVEL&&e.level!==null?u=this.hls.levels[e.level].details:e.type===et.AUDIO_TRACK&&e.id!==null?u=this.hls.audioTracks[e.id].details:e.type===et.SUBTITLE_TRACK&&e.id!==null&&(u=this.hls.subtitleTracks[e.id].details),u){const d=u.partTarget,f=u.targetduration;if(d&&f){const h=Math.max(d*3,f*.8)*1e3;s=yt({},s,{maxTimeToFirstByteMs:Math.min(h,s.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(h,s.maxTimeToFirstByteMs)})}}}const a=s.errorRetry||s.timeoutRetry||{},o={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:a.maxNumRetry||0,retryDelay:a.retryDelayMs||0,maxRetryDelay:a.maxRetryDelayMs||0},c={onSuccess:(u,d,f,h)=>{const m=this.getInternalLoader(f);this.resetInternalLoader(f.type);const p=u.data;if(p.indexOf("#EXTM3U")!==0){this.handleManifestParsingError(u,f,new Error("no EXTM3U delimiter"),h||null,d);return}d.parsing.start=performance.now(),Ji.isMediaPlaylist(p)||f.type!==et.MANIFEST?this.handleTrackOrLevelPlaylist(u,d,f,h||null,m):this.handleMasterPlaylist(u,d,f,h)},onError:(u,d,f,h)=>{this.handleNetworkError(d,f,!1,u,h)},onTimeout:(u,d,f)=>{this.handleNetworkError(d,f,!0,void 0,u)}};i.load(e,o,c)}checkAutostartLoad(){if(!this.hls)return;const{config:{autoStartLoad:e,startPosition:r},forceStartLoad:n}=this.hls;(e||n)&&(this.hls.logger.log(`${e?"auto":"force"} startLoad with configured startPosition ${r}`),this.hls.startLoad(r))}handleMasterPlaylist(e,r,n,i){const s=this.hls,a=e.data,o=Gx(e,n),c=Ji.parseMasterPlaylist(a,o);if(c.playlistParsingError){this.handleManifestParsingError(e,n,c.playlistParsingError,i,r);return}const{contentSteering:u,levels:d,sessionData:f,sessionKeys:h,startTimeOffset:m,variableList:p}=c;this.variableList=p;const{AUDIO:g=[],SUBTITLES:v,"CLOSED-CAPTIONS":y}=Ji.parseMasterPlaylistMedia(a,o,c);g.length&&!g.some(b=>!b.url)&&d[0].audioCodec&&!d[0].attrs.AUDIO&&(this.hls.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),g.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new Ut({}),bitrate:0,url:""})),s.trigger(P.MANIFEST_LOADED,{levels:d,audioTracks:g,subtitles:v,captions:y,contentSteering:u,url:o,stats:r,networkDetails:i,sessionData:f,sessionKeys:h,startTimeOffset:m,variableList:p})}handleTrackOrLevelPlaylist(e,r,n,i,s){const a=this.hls,{id:o,level:c,type:u}=n,d=Gx(e,n),f=ye(c)?c:ye(o)?o:0,h=HC(n),m=Ji.parseLevelPlaylist(e.data,d,f,h,0,this.variableList);if(u===et.MANIFEST){const p={attrs:new Ut({}),bitrate:0,details:m,name:"",url:d};m.requestScheduled=r.loading.start+FF(m,0),a.trigger(P.MANIFEST_LOADED,{levels:[p],audioTracks:[],url:d,stats:r,networkDetails:i,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}r.parsing.end=performance.now(),n.levelDetails=m,this.handlePlaylistLoaded(m,e,r,n,i,s)}handleManifestParsingError(e,r,n,i,s){this.hls.trigger(P.ERROR,{type:Ie.NETWORK_ERROR,details:K.MANIFEST_PARSING_ERROR,fatal:r.type===et.MANIFEST,url:e.url,err:n,error:n,reason:n.message,response:e,context:r,networkDetails:i,stats:s})}handleNetworkError(e,r,n=!1,i,s){let a=`A network ${n?"timeout":"error"+(i?" (status "+i.code+")":"")} occurred while loading ${e.type}`;e.type===et.LEVEL?a+=`: ${e.level} id: ${e.id}`:(e.type===et.AUDIO_TRACK||e.type===et.SUBTITLE_TRACK)&&(a+=` id: ${e.id} group-id: "${e.groupId}"`);const o=new Error(a);this.hls.logger.warn(`[playlist-loader]: ${a}`);let c=K.UNKNOWN,u=!1;const d=this.getInternalLoader(e);switch(e.type){case et.MANIFEST:c=n?K.MANIFEST_LOAD_TIMEOUT:K.MANIFEST_LOAD_ERROR,u=!0;break;case et.LEVEL:c=n?K.LEVEL_LOAD_TIMEOUT:K.LEVEL_LOAD_ERROR,u=!1;break;case et.AUDIO_TRACK:c=n?K.AUDIO_TRACK_LOAD_TIMEOUT:K.AUDIO_TRACK_LOAD_ERROR,u=!1;break;case et.SUBTITLE_TRACK:c=n?K.SUBTITLE_TRACK_LOAD_TIMEOUT:K.SUBTITLE_LOAD_ERROR,u=!1;break}d&&this.resetInternalLoader(e.type);const f={type:Ie.NETWORK_ERROR,details:c,fatal:u,url:e.url,loader:d,context:e,error:o,networkDetails:r,stats:s};if(i){const h=(r==null?void 0:r.url)||e.url;f.response=St({url:h,data:void 0},i)}this.hls.trigger(P.ERROR,f)}handlePlaylistLoaded(e,r,n,i,s,a){const o=this.hls,{type:c,level:u,id:d,groupId:f,deliveryDirectives:h}=i,m=Gx(r,i),p=HC(i),g=typeof i.level=="number"&&p===Pe.MAIN?u:void 0;if(!e.fragments.length){const y=e.playlistParsingError=new Error("No Segments found in Playlist");o.trigger(P.ERROR,{type:Ie.NETWORK_ERROR,details:K.LEVEL_EMPTY_ERROR,fatal:!1,url:m,error:y,reason:y.message,response:r,context:i,level:g,parent:p,networkDetails:s,stats:n});return}e.targetduration||(e.playlistParsingError=new Error("Missing Target Duration"));const v=e.playlistParsingError;if(v){if(this.hls.logger.warn(v),!o.config.ignorePlaylistParsingErrors){o.trigger(P.ERROR,{type:Ie.NETWORK_ERROR,details:K.LEVEL_PARSING_ERROR,fatal:!1,url:m,error:v,reason:v.message,response:r,context:i,level:g,parent:p,networkDetails:s,stats:n});return}e.playlistParsingError=null}switch(e.live&&a&&(a.getCacheAge&&(e.ageHeader=a.getCacheAge()||0),(!a.getCacheAge||isNaN(e.ageHeader))&&(e.ageHeader=0)),c){case et.MANIFEST:case et.LEVEL:o.trigger(P.LEVEL_LOADED,{details:e,levelInfo:i.levelOrTrack||o.levels[0],level:g||0,id:d||0,stats:n,networkDetails:s,deliveryDirectives:h,withoutMultiVariant:c===et.MANIFEST});break;case et.AUDIO_TRACK:o.trigger(P.AUDIO_TRACK_LOADED,{details:e,track:i.levelOrTrack,id:d||0,groupId:f||"",stats:n,networkDetails:s,deliveryDirectives:h});break;case et.SUBTITLE_TRACK:o.trigger(P.SUBTITLE_TRACK_LOADED,{details:e,track:i.levelOrTrack,id:d||0,groupId:f||"",stats:n,networkDetails:s,deliveryDirectives:h});break}}}class Rn{static get version(){return Yf}static isMSESupported(){return k4()}static isSupported(){return RJ()}static getMediaSource(){return co()}static get Events(){return P}static get MetadataSchema(){return kn}static get ErrorTypes(){return Ie}static get ErrorDetails(){return K}static get DefaultConfig(){return Rn.defaultConfig?Rn.defaultConfig:SJ}static set DefaultConfig(e){Rn.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.logger=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new UT,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioStreamController=void 0,this.subtititleStreamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.interstitialsController=void 0,this.gapController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this._url=null,this._sessionId=void 0,this.triggeringException=void 0,this.started=!1;const r=this.logger=sY(e.debug||!1,"Hls instance",e.assetPlayerId),n=this.config=TJ(Rn.DefaultConfig,e,r);this.userConfig=e,n.progressive&&AJ(n,r);const{abrController:i,bufferController:s,capLevelController:a,errorController:o,fpsController:c}=n,u=new o(this),d=this.abrController=new i(this),f=new XY(this),h=n.interstitialsController,m=h?this.interstitialsController=new h(this,Rn):null,p=this.bufferController=new s(this,f),g=this.capLevelController=new a(this),v=new c(this),y=new FJ(this),x=n.contentSteeringController,b=x?new x(this):null,S=this.levelController=new kJ(this,b),w=new OJ(this),T=new $J(this.config),A=this.streamController=new MJ(this,f,T),_=this.gapController=new CJ(this,f);g.setStreamController(A),v.setStreamController(A);const N=[y,S,A];m&&N.splice(1,0,m),b&&N.splice(1,0,b),this.networkControllers=N;const C=[d,p,_,g,v,w,f];this.audioTrackController=this.createController(n.audioTrackController,N);const j=n.audioStreamController;j&&N.push(this.audioStreamController=new j(this,f,T)),this.subtitleTrackController=this.createController(n.subtitleTrackController,N);const O=n.subtitleStreamController;O&&N.push(this.subtititleStreamController=new O(this,f,T)),this.createController(n.timelineController,C),T.emeController=this.emeController=this.createController(n.emeController,C),this.cmcdController=this.createController(n.cmcdController,C),this.latencyController=this.createController(IJ,C),this.coreComponents=C,N.push(u);const R=u.onErrorOut;typeof R=="function"&&this.on(P.ERROR,R,u),this.on(P.MANIFEST_LOADED,y.onManifestLoaded,y)}createController(e,r){if(e){const n=new e(this);return r&&r.push(n),n}return null}on(e,r,n=this){this._emitter.on(e,r,n)}once(e,r,n=this){this._emitter.once(e,r,n)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,r,n=this,i){this._emitter.off(e,r,n,i)}listeners(e){return this._emitter.listeners(e)}emit(e,r,n){return this._emitter.emit(e,r,n)}trigger(e,r){if(this.config.debug)return this.emit(e,e,r);try{return this.emit(e,e,r)}catch(n){if(this.logger.error("An internal error happened while handling event "+e+'. Error message: "'+n.message+'". Here is a stacktrace:',n),!this.triggeringException){this.triggeringException=!0;const i=e===P.ERROR;this.trigger(P.ERROR,{type:Ie.OTHER_ERROR,details:K.INTERNAL_EXCEPTION,fatal:i,event:e,error:n}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){this.logger.log("destroy"),this.trigger(P.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this._url=null,this.networkControllers.forEach(r=>r.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(r=>r.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){if(!e||"media"in e&&!e.media){const s=new Error(`attachMedia failed: invalid argument (${e})`);this.trigger(P.ERROR,{type:Ie.OTHER_ERROR,details:K.ATTACH_MEDIA_ERROR,fatal:!0,error:s});return}this.logger.log("attachMedia"),this._media&&(this.logger.warn("media must be detached before attaching"),this.detachMedia());const r="media"in e,n=r?e.media:e,i=r?e:{media:n};this._media=n,this.trigger(P.MEDIA_ATTACHING,i)}detachMedia(){this.logger.log("detachMedia"),this.trigger(P.MEDIA_DETACHING,{}),this._media=null}transferMedia(){this._media=null;const e=this.bufferController.transferMedia();return this.trigger(P.MEDIA_DETACHING,{transferMedia:e}),e}loadSource(e){this.stopLoad();const r=this.media,n=this._url,i=this._url=OT.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.logger.log(`loadSource:${i}`),r&&n&&(n!==i||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(r)),this.trigger(P.MANIFEST_LOADING,{url:e})}get url(){return this._url}get hasEnoughToStart(){return this.streamController.hasEnoughToStart}get startPosition(){return this.streamController.startPositionValue}startLoad(e=-1,r){this.logger.log(`startLoad(${e+(r?", <skip seek to start>":"")})`),this.started=!0,this.resumeBuffering();for(let n=0;n<this.networkControllers.length&&(this.networkControllers[n].startLoad(e,r),!(!this.started||!this.networkControllers));n++);}stopLoad(){this.logger.log("stopLoad"),this.started=!1;for(let e=0;e<this.networkControllers.length&&(this.networkControllers[e].stopLoad(),!(this.started||!this.networkControllers));e++);}get loadingEnabled(){return this.started}get bufferingEnabled(){return this.streamController.bufferingEnabled}resumeBuffering(){this.bufferingEnabled||(this.logger.log("resume buffering"),this.networkControllers.forEach(e=>{e.resumeBuffering&&e.resumeBuffering()}))}pauseBuffering(){this.bufferingEnabled&&(this.logger.log("pause buffering"),this.networkControllers.forEach(e=>{e.pauseBuffering&&e.pauseBuffering()}))}get inFlightFragments(){const e={[Pe.MAIN]:this.streamController.inFlightFrag};return this.audioStreamController&&(e[Pe.AUDIO]=this.audioStreamController.inFlightFrag),this.subtititleStreamController&&(e[Pe.SUBTITLE]=this.subtititleStreamController.inFlightFrag),e}swapAudioCodec(){this.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){this.logger.log("recoverMediaError");const e=this._media,r=e==null?void 0:e.currentTime;this.detachMedia(),e&&(this.attachMedia(e),r&&this.startLoad(r))}removeLevel(e){this.levelController.removeLevel(e)}get sessionId(){let e=this._sessionId;return e||(e=this._sessionId=CZ()),e}get levels(){const e=this.levelController.levels;return e||[]}get latestLevelDetails(){return this.streamController.getLevelDetails()||null}get loadLevelObj(){return this.levelController.loadLevelObj}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){this.logger.log(`set currentLevel:${e}`),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){this.logger.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){this.logger.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){this.logger.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){const e=this.levelController.startLevel;return e===-1&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){this.logger.log(`set startLevel:${e}`),e!==-1&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const r=!!e;r!==this.config.capLevelToPlayerSize&&(r?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=r)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get abrEwmaDefaultEstimate(){const{bwEstimator:e}=this.abrController;return e?e.defaultEstimate:NaN}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(this.logger.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){RY(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:r}}=this;if(!e)return 0;const n=e.length;for(let i=0;i<n;i++)if(e[i].maxBitrate>=r)return i;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:r,maxHdcpLevel:n}=this;let i;if(r===-1&&e!=null&&e.length?i=e.length-1:i=r,n)for(let s=i;s--;){const a=e[s].attrs["HDCP-LEVEL"];if(a&&a<=n)return s}return i}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get maxBufferLength(){return this.streamController.maxBufferLength}setAudioOption(e){var r;return((r=this.audioTrackController)==null?void 0:r.setAudioOption(e))||null}setSubtitleOption(e){var r;return((r=this.subtitleTrackController)==null?void 0:r.setSubtitleOption(e))||null}get allAudioTracks(){const e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const r=this.audioTrackController;r&&(r.audioTrack=e)}get allSubtitleTracks(){const e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const r=this.subtitleTrackController;r&&(r.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return e?e.subtitleDisplay:!1}set subtitleDisplay(e){const r=this.subtitleTrackController;r&&(r.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}set targetLatency(e){this.latencyController.targetLatency=e}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}get pathways(){return this.levelController.pathways}get pathwayPriority(){return this.levelController.pathwayPriority}set pathwayPriority(e){this.levelController.pathwayPriority=e}get bufferedToEnd(){var e;return!!((e=this.bufferController)!=null&&e.bufferedToEnd)}get interstitialsManager(){var e;return((e=this.interstitialsController)==null?void 0:e.interstitialsManager)||null}getMediaDecodingInfo(e,r=this.allAudioTracks){const n=NF(r);return _F(e,n,navigator.mediaCapabilities)}}Rn.defaultConfig=void 0;function BJ({streamType:t,isPlaying:e}){const r=E.useRef(null),n=E.useRef(!1);E.useEffect(()=>{e&&!n.current&&(i(),n.current=!0)},[e,t]),E.useEffect(()=>()=>{n.current&&(s(),n.current=!1)},[t]),E.useEffect(()=>(e&&n.current?o():c(),()=>c()),[e,t]),E.useEffect(()=>{const u=()=>{document.hidden&&n.current?(s(),n.current=!1):!document.hidden&&e&&!n.current&&(i(),n.current=!0)};return document.addEventListener("visibilitychange",u),()=>document.removeEventListener("visibilitychange",u)},[e,t]);const i=async()=>{try{await zt("POST","/api/active-users/join",{streamType:t})}catch(u){console.error("Failed to join stream:",u)}},s=async()=>{try{await zt("POST","/api/active-users/leave",{streamType:t})}catch(u){console.error("Failed to leave stream:",u)}},a=async()=>{try{await zt("POST","/api/active-users/heartbeat",{streamType:t})}catch(u){console.error("Failed to send heartbeat:",u)}},o=()=>{c(),r.current=setInterval(a,3e4)},c=()=>{r.current&&(clearInterval(r.current),r.current=null)}}function UJ({streamUrl:t,isLive:e,title:r}){const n=E.useRef(null),i=E.useRef(null),s=E.useRef(null),[a,o]=E.useState(!1),[c,u]=E.useState(!1),[d,f]=E.useState([75]),[h,m]=E.useState(!0),[p,g]=E.useState(!1),[v,y]=E.useState(0),[x,b]=E.useState(0),[S,w]=E.useState(!0),[T,A]=E.useState(!1),[_,N]=E.useState(!1),[C,j]=E.useState(null),[O,R]=E.useState(null),[k,M]=E.useState(0);BJ({streamType:"tv",isPlaying:a});const D=()=>{const J=new Date,re=new Date;return re.setHours(6,0,0,0),J.getHours()<6&&re.setDate(re.getDate()-1),re};E.useEffect(()=>{const J=n.current;if(!J)return;const re=()=>{if(Rn.isSupported()){const Te=new Rn({enableWorker:!1,lowLatencyMode:!1,backBufferLength:30,maxBufferLength:60,maxMaxBufferLength:120,liveSyncDurationCount:3,liveMaxLatencyDurationCount:10,manifestLoadingTimeOut:3e4,manifestLoadingMaxRetry:5,manifestLoadingRetryDelay:1e3,levelLoadingTimeOut:3e4,levelLoadingMaxRetry:5,fragLoadingTimeOut:3e4,fragLoadingMaxRetry:5,xhrSetup:function(We,bt){We.withCredentials=!1,We.timeout=3e4}});i.current=Te,Te.loadSource(t),Te.attachMedia(J),Te.on(Rn.Events.MANIFEST_PARSED,()=>{console.log("HLS manifest parsed"),w(!1),j(null),e&&!O&&R(D())}),Te.on(Rn.Events.ERROR,(We,bt)=>{console.error("HLS error:",bt),bt.fatal&&(j("Stream connection error - attempting to reconnect..."),setTimeout(()=>{i.current&&(i.current.destroy(),i.current=null),setTimeout(re,3e3)},1e3))}),Te.on(Rn.Events.FRAG_BUFFERED,()=>{N(!1)}),Te.on(Rn.Events.BUFFER_APPENDING,()=>{N(!1)})}else J.canPlayType("application/vnd.apple.mpegurl")?(J.src=t,w(!1),j(null),e&&!O&&R(new Date)):(console.log("HLS not supported, using fallback"),J.src="https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",w(!1),j(null),e&&!O&&R(new Date))};re();const Ee=()=>y(J.currentTime),te=()=>b(J.duration),oe=()=>w(!0),he=()=>w(!1),X=()=>N(!0),Ve=()=>{N(!1),o(!0)},Le=()=>o(!1),lt=()=>j("Failed to load video stream");return J.addEventListener("timeupdate",Ee),J.addEventListener("durationchange",te),J.addEventListener("loadstart",oe),J.addEventListener("canplay",he),J.addEventListener("waiting",X),J.addEventListener("playing",Ve),J.addEventListener("pause",Le),J.addEventListener("error",lt),()=>{J.removeEventListener("timeupdate",Ee),J.removeEventListener("durationchange",te),J.removeEventListener("loadstart",oe),J.removeEventListener("canplay",he),J.removeEventListener("waiting",X),J.removeEventListener("playing",Ve),J.removeEventListener("pause",Le),J.removeEventListener("error",lt),i.current&&i.current.destroy()}},[t]),E.useEffect(()=>{if(!e||!O)return;const J=setInterval(()=>{const Ee=Math.floor((new Date().getTime()-O.getTime())/1e3);M(Ee)},1e3);return()=>clearInterval(J)},[e,O]);const U=async()=>{const J=n.current;if(J)try{a?J.pause():await J.play()}catch(re){console.error("Error playing video:",re),j("Failed to play video")}},I=()=>{const J=n.current;J&&(J.muted=!c,u(!c))},F=J=>{const re=n.current;if(!re)return;const Ee=J[0];re.volume=Ee/100,f([Ee]),Ee===0?(u(!0),re.muted=!0):c&&(u(!1),re.muted=!1)},H=async()=>{const J=s.current;if(J)try{if(document.fullscreenElement)await document.exitFullscreen(),g(!1),"orientation"in screen&&"unlock"in screen.orientation&&screen.orientation.unlock();else if(await J.requestFullscreen(),g(!0),"orientation"in screen&&"lock"in screen.orientation&&/Mobi|Android/i.test(navigator.userAgent))try{await screen.orientation.lock("landscape")}catch(re){console.log("Orientation lock failed:",re)}}catch(re){console.error("Fullscreen toggle failed:",re)}},G=J=>{const re=n.current;re&&(re.currentTime=J)},V=()=>{const J=n.current;!J||!e||(J.currentTime=J.duration,A(!1))},ne=()=>{const J=n.current;!J||!e||(J.currentTime=J.duration,A(!1))},ce=J=>{if(!isFinite(J))return"0:00:00";const re=Math.floor(J/3600),Ee=Math.floor(J%3600/60),te=Math.floor(J%60);return`${re.toString().padStart(2,"0")}:${Ee.toString().padStart(2,"0")}:${te.toString().padStart(2,"0")}`},Se=()=>{j(null),w(!0),i.current&&(i.current.destroy(),i.current=null),n.current&&window.location.reload()};return C?l.jsx("div",{className:"relative bg-black rounded-lg overflow-hidden aspect-video",children:l.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white p-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"⚠️"}),l.jsx("h3",{className:"text-xl font-bold mb-2",children:"Stream Error"}),l.jsx("p",{className:"text-gray-300 mb-4",children:C}),l.jsx(Q,{onClick:Se,className:"bg-red-600 hover:bg-red-700",children:"Try Again"})]})})}):l.jsxs("div",{ref:s,className:"relative bg-black rounded-lg overflow-hidden group",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[l.jsx("video",{ref:n,className:"w-full aspect-video",autoPlay:!0,muted:c,playsInline:!0,controls:!1}),(S||_)&&l.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:l.jsxs("div",{className:"text-white text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),l.jsx("p",{children:S?"Loading stream...":"Buffering..."})]})}),l.jsxs("div",{className:`absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4 transition-opacity duration-300 ${h?"opacity-100":"opacity-0"}`,children:[!e&&x>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx(yg,{value:[v],max:x,step:1,onValueChange:J=>G(J[0]),className:"w-full"}),l.jsxs("div",{className:"flex justify-between text-xs text-white mt-1",children:[l.jsx("span",{children:ce(v)}),l.jsx("span",{children:ce(x)})]})]}),e&&l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"relative",children:l.jsx("div",{className:"w-full h-1 bg-white/20 rounded-full relative",children:l.jsx("div",{className:"h-full bg-red-600 rounded-full relative",style:{width:"100%"},children:l.jsx("button",{onClick:ne,className:"absolute -right-1 -top-1 w-3 h-3 bg-red-600 rounded-full border-2 border-white shadow-lg hover:scale-110 transition-transform cursor-pointer",title:"Jump to Live"})})})}),l.jsxs("div",{className:"flex justify-between text-xs text-white mt-1",children:[l.jsxs("span",{className:"flex items-center",children:[l.jsx("span",{className:"w-2 h-2 bg-red-600 rounded-full mr-2 animate-pulse"}),"LIVE - ",ce(k)," elapsed"]}),l.jsx("span",{className:"text-red-400",children:"• LIVE"})]})]}),e&&T&&l.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center space-x-2",children:l.jsxs(Q,{variant:"ghost",size:"sm",onClick:V,className:"text-white hover:text-red-600",children:[l.jsx(wz,{className:"h-4 w-4 mr-1"}),"Back to Live"]})}),l.jsxs("div",{className:"text-xs text-red-400",children:["Watching ",Math.floor((x-v)/60),"m behind live"]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(Q,{variant:"ghost",size:"sm",onClick:U,className:"text-white hover:text-red-600 p-2",children:a?l.jsx(cy,{className:"h-5 w-5"}):l.jsx(yl,{className:"h-5 w-5"})}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Q,{variant:"ghost",size:"sm",onClick:I,className:"text-white hover:text-red-600 p-2",children:c||d[0]===0?l.jsx(hM,{className:"h-4 w-4"}):l.jsx(fM,{className:"h-4 w-4"})}),l.jsx("div",{className:"w-20",children:l.jsx(yg,{value:d,max:100,step:1,onValueChange:F,className:"w-full"})})]}),l.jsx("div",{className:"text-white text-sm font-medium",children:r})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Q,{variant:"ghost",size:"sm",className:"text-white hover:text-red-600 p-2",children:l.jsx(xl,{className:"h-4 w-4"})}),l.jsx(Q,{variant:"ghost",size:"sm",onClick:H,className:"text-white hover:text-red-600 p-2",children:l.jsx(yz,{className:"h-4 w-4"})})]})]})]})]})}const VJ="/oromatv-logo.png";function GJ({streamUrl:t,title:e,frequency:r,artworkUrl:n,onShare:i}){const s=E.useRef(null),[a,o]=E.useState(!1),[c,u]=E.useState(!1),[d,f]=E.useState([75]),[h,m]=E.useState(!0),[p,g]=E.useState(!1),[v,y]=E.useState("Now Playing"),[x,b]=E.useState(Array(12).fill(0));E.useEffect(()=>{const A=s.current;if(!A)return;const _=()=>m(!0),N=()=>m(!1),C=()=>o(!0),j=()=>o(!1),O=()=>g(!0),R=()=>g(!1);return A.addEventListener("loadstart",_),A.addEventListener("canplay",N),A.addEventListener("play",C),A.addEventListener("pause",j),A.addEventListener("waiting",O),A.addEventListener("playing",R),()=>{A.removeEventListener("loadstart",_),A.removeEventListener("canplay",N),A.removeEventListener("play",C),A.removeEventListener("pause",j),A.removeEventListener("waiting",O),A.removeEventListener("playing",R)}},[]),E.useEffect(()=>{let A;return a&&!p&&(A=setInterval(()=>{b(_=>_.map(()=>Math.random()*100))},150)),()=>clearInterval(A)},[a,p]);const S=async()=>{const A=s.current;if(A)try{a?A.pause():await A.play()}catch(_){console.error("Audio play error:",_)}},w=()=>{const A=s.current;A&&(A.muted=!c,u(!c))},T=A=>{const _=s.current;if(!_)return;const N=A[0];_.volume=N/100,f([N]),N===0?(u(!0),_.muted=!0):c&&(u(!1),_.muted=!1)};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs(Y,{className:"relative bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white border-none shadow-2xl overflow-hidden h-80 md:h-auto",children:[l.jsx("audio",{ref:s,src:t}),l.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(255,255,255,0.03),transparent)] pointer-events-none"}),l.jsxs("div",{className:"relative p-4 md:p-8 h-full flex flex-col justify-center",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 bg-red-700 rounded-full flex items-center justify-center",children:l.jsx(ss,{className:"h-4 w-4 text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-lg",children:e}),l.jsxs("p",{className:"text-red-400 text-sm",children:["FM ",r]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),l.jsx("span",{className:"text-red-400 text-xs font-medium",children:"LIVE"})]})]}),l.jsx("div",{className:"text-center mb-6",children:l.jsxs("div",{className:"relative inline-block",children:[l.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 bg-gradient-to-br from-red-800 to-red-900 rounded-2xl flex items-center justify-center mx-auto shadow-2xl border-4 border-red-700",children:l.jsx("img",{src:VJ,alt:"QFM Radio 94.3",className:"w-24 h-24 md:w-32 md:h-32 object-contain"})}),a&&l.jsx("div",{className:"absolute inset-0 rounded-2xl border-4 border-red-500 animate-ping opacity-20"})]})}),l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h4",{className:"font-semibold text-lg mb-1",children:"Northern Uganda's Funkiest Station"}),l.jsx("p",{className:"text-gray-400 text-sm",children:v})]}),l.jsx("div",{className:"flex items-end justify-center space-x-1 mb-6 h-20",children:x.map((A,_)=>l.jsx("div",{className:"bg-gradient-to-t from-red-800 to-red-600 rounded-full transition-all duration-150 ease-in-out",style:{width:"4px",height:a?`${Math.max(A,10)}%`:"10%",opacity:a?1:.3}},_))}),l.jsxs("div",{className:"flex items-center justify-center space-x-6 mb-6",children:[l.jsx(Q,{variant:"ghost",size:"lg",className:"text-white hover:bg-white/10 rounded-full p-4",children:l.jsx(Tz,{className:"h-6 w-6"})}),l.jsx(Q,{onClick:S,size:"lg",className:"w-16 h-16 rounded-full bg-red-700 hover:bg-red-800 shadow-2xl transform hover:scale-105 transition-all",disabled:h,children:h||p?l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"}):a?l.jsx(cy,{className:"h-8 w-8"}):l.jsx(yl,{className:"h-8 w-8 ml-1"})}),l.jsx(Q,{variant:"ghost",size:"lg",className:"text-white hover:bg-white/10 rounded-full p-4",children:l.jsx(Az,{className:"h-6 w-6"})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Q,{variant:"ghost",size:"sm",onClick:w,className:"text-white hover:bg-white/10 rounded-full p-2",children:c||d[0]===0?l.jsx(hM,{className:"h-4 w-4"}):l.jsx(fM,{className:"h-4 w-4"})}),l.jsx("div",{className:"w-24",children:l.jsx(yg,{value:d,max:100,step:1,onValueChange:T,className:"w-full"})})]}),l.jsx("div",{className:"flex items-center space-x-2",children:l.jsxs("div",{className:"text-xs text-gray-400",children:[l.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full inline-block mr-1"}),"24/7 Live"]})})]})]}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-red-800 via-red-600 to-red-800"})]}),l.jsx(Y,{className:"p-4 bg-gradient-to-r from-red-50 to-red-100 border-red-200",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:"Now Broadcasting"}),l.jsx("p",{className:"text-red-700",children:"Continuous music and entertainment from Lira, Uganda"}),l.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-3 text-sm text-red-600",children:[l.jsxs("span",{children:["📻 FM ",r]}),l.jsx("span",{children:"🌍 Lira City"}),l.jsx("span",{children:"📞 0777676206"})]})]})})]})}function zC({activeTab:t="tv"}){const[e,r]=E.useState([]),n=Bl(),{data:i=[]}=it({queryKey:["/api/live-reactions",t],queryFn:()=>fetch(`/api/live-reactions/${t}?limit=50`).then(m=>m.json()),refetchInterval:3e3}),{data:s}=it({queryKey:["/api/active-users/count",t],queryFn:()=>fetch(`/api/active-users/count/${t}`).then(m=>m.json()),refetchInterval:5e3}),a=Array.isArray(i)?i.reduce((m,p)=>(m[p.emoji]=(m[p.emoji]||0)+1,m),{}):{},u=t==="tv"?[{name:"heart",emoji:"❤️",color:"text-red-500"},{name:"thumbsup",emoji:"👍",color:"text-blue-500"},{name:"eyes",emoji:"👀",color:"text-green-500"},{name:"clap",emoji:"👏",color:"text-yellow-500"},{name:"fire",emoji:"🔥",color:"text-orange-500"}]:[{name:"music",emoji:"🎵",color:"text-green-500"},{name:"headphones",emoji:"🎧",color:"text-blue-500"},{name:"dance",emoji:"💃",color:"text-purple-500"},{name:"microphone",emoji:"🎤",color:"text-red-500"},{name:"speaker",emoji:"🔊",color:"text-orange-500"}],d=Ar({mutationFn:async m=>(await zt("POST","/api/live-reactions",{emoji:m,streamType:t,userSession:Math.random().toString(36).substring(7)})).json(),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/live-reactions",t]})}}),f=Ar({mutationFn:async()=>(await zt("POST","/api/active-users",{streamType:t,sessionId:`user_${Math.random().toString(36).substring(7)}`,lastSeen:new Date().toISOString(),lastActive:new Date().toISOString()})).json()});E.useEffect(()=>{f.mutate();const m=setInterval(()=>{f.mutate()},3e4);return()=>clearInterval(m)},[t]);const h=(m,p)=>{d.mutate(m);const g={id:Math.random().toString(36).substring(7),emoji:m,x:Math.random()*300+20,y:Math.random()*100+50};r(v=>[...v,g]),setTimeout(()=>{r(v=>v.filter(y=>y.id!==g.id))},2e3)};return l.jsxs(Y,{className:"p-4 relative",children:[l.jsxs("h3",{className:"font-semibold mb-3 text-gray-900",children:["Live Reactions ",t==="tv"?"📺 TV":"📻 Radio"]}),l.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:e.map(m=>l.jsx("div",{className:"absolute animate-bounce text-2xl",style:{left:`${m.x}px`,top:`${m.y}px`,animation:"float 2s ease-out forwards"},children:m.emoji},m.id))}),l.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:u.map(m=>l.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>h(m.emoji,m.name),className:"flex items-center space-x-1 hover:scale-110 transition-transform border-red-200 hover:border-red-300",disabled:d.isPending,children:[l.jsx("span",{className:"text-lg",children:m.emoji}),l.jsx("span",{className:`font-medium ${m.color}`,children:a[m.emoji]||0})]},m.name))}),l.jsxs("div",{className:"text-sm text-gray-600",children:[l.jsx("span",{className:"font-medium text-red-600",children:Object.values(a).reduce((m,p)=>m+p,0)})," total reactions from ",(s==null?void 0:s.count)||0," active viewers"]})]})}const HJ=ly("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Qe({className:t,variant:e,...r}){return l.jsx("div",{className:Fe(HJ({variant:e}),t),...r})}function zJ(){return it({queryKey:["/api/news"]})}function WJ(){const{data:t,...e}=zJ();return{...e,data:(t==null?void 0:t.slice(0,6))||[]}}function KJ(){const{data:t,isLoading:e,error:r}=WJ(),[,n]=Wh(),[i,s]=E.useState(!1);if(e)return l.jsx(Y,{className:"p-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"space-y-2",children:[1,2,3].map(o=>l.jsx("div",{className:"h-16 bg-gray-100 rounded animate-pulse"},o))})]})});if(r)return l.jsxs(Y,{className:"p-6",children:[l.jsx("h3",{className:"font-semibold mb-3 text-gray-900",children:"Latest News"}),l.jsx("p",{className:"text-red-600 text-sm",children:"Failed to load news articles"})]});const a=i?t:(t==null?void 0:t.slice(0,3))||[];return l.jsxs(Y,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Latest News"}),l.jsxs(Q,{onClick:()=>n("/newsroom"),variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:["View All ",l.jsx(ZD,{className:"h-4 w-4 ml-1"})]})]}),l.jsx("div",{className:"space-y-4",children:a.map(o=>l.jsx("div",{className:"group cursor-pointer",onClick:()=>n(`/newsroom?article=${o.id}`),children:l.jsxs("div",{className:"flex space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[o.imageUrl&&l.jsx("img",{src:o.imageUrl,alt:o.title,className:"w-16 h-16 object-cover rounded-lg flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsx(Qe,{variant:"secondary",className:"text-xs",children:o.category}),l.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[l.jsx(io,{className:"h-3 w-3 mr-1"}),o.readTime||3," min read"]})]}),l.jsx("h4",{className:"font-medium text-sm text-gray-900 group-hover:text-red-600 line-clamp-2 mb-1",children:o.title}),l.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",children:o.excerpt}),l.jsxs("div",{className:"flex items-center justify-between mt-2",children:[l.jsx("span",{className:"text-xs text-gray-500",children:o.author}),l.jsx("span",{className:"text-xs text-gray-500",children:new Date(o.publishedAt).toLocaleDateString()})]})]})]})},o.id))}),t&&t.length>3&&l.jsx(Q,{onClick:()=>s(!i),variant:"ghost",size:"sm",className:"w-full mt-4 text-red-600 hover:text-red-700 hover:bg-red-50",children:i?"Show Less":`Show ${t.length-3} More Articles`})]})}function qJ({streamType:t}){const[e,r]=E.useState(""),[n,i]=E.useState(""),[s,a]=E.useState(""),[o,c]=E.useState(!1),{toast:u}=Jr(),d=Bl(),{data:f=[]}=it({queryKey:["/api/song-requests",t],queryFn:async()=>{try{const p=await fetch(`/api/song-requests?streamType=${t}`);if(!p.ok)return[];const g=await p.json();return Array.isArray(g)?g:[]}catch{return[]}}}),h=Ar({mutationFn:async p=>(await zt("POST","/api/song-requests",p)).json(),onSuccess:()=>{r(""),i(""),a(""),u({title:"Song Request Submitted!",description:`Your request for "${e}" has been sent to our DJ.`}),d.invalidateQueries({queryKey:["/api/song-requests",t]})},onError:p=>{u({title:"Request Failed",description:"Unable to submit your song request. Please try again.",variant:"destructive"})}}),m=async p=>{if(p.preventDefault(),!e.trim()||!s.trim()){u({title:"Missing Information",description:"Please fill in song title and your name.",variant:"destructive"});return}c(!0);try{await h.mutateAsync({songTitle:e.trim(),artistName:n.trim()||void 0,requesterName:s.trim(),streamType:t})}finally{c(!1)}};return l.jsxs(Y,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[l.jsx(rT,{className:"w-5 h-5 text-red-600"}),l.jsxs("h3",{className:"font-semibold text-gray-900",children:["Request a Song ",t==="radio"?"(QFM Radio)":"(Oroma TV)"]})]}),l.jsxs("form",{onSubmit:m,className:"space-y-3",children:[l.jsx("div",{children:l.jsx(ke,{placeholder:"Song title *",value:e,onChange:p=>r(p.target.value),disabled:o,className:"text-sm"})}),l.jsx("div",{children:l.jsx(ke,{placeholder:"Artist name (optional)",value:n,onChange:p=>i(p.target.value),disabled:o,className:"text-sm"})}),l.jsx("div",{children:l.jsx(ke,{placeholder:"Your name *",value:s,onChange:p=>a(p.target.value),disabled:o,className:"text-sm"})}),l.jsx(Q,{type:"submit",disabled:o||!e.trim()||!s.trim(),className:"w-full bg-red-600 hover:bg-red-700 text-white",size:"sm",children:o?l.jsxs(l.Fragment,{children:[l.jsx(Ds,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):l.jsxs(l.Fragment,{children:[l.jsx(nT,{className:"w-4 h-4 mr-2"}),"Request Song"]})})]}),Array.isArray(f)&&f.length>0&&l.jsxs("div",{className:"mt-4 pt-4 border-t",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Recent Requests:"}),l.jsx("div",{className:"space-y-1",children:f.slice(0,3).map(p=>l.jsxs("div",{className:"text-xs text-gray-600 flex justify-between",children:[l.jsxs("span",{className:"truncate",children:[p.songTitle||p.title||"Unknown Song"," ",(p.artistName||p.artist)&&`by ${p.artistName||p.artist}`]}),l.jsx("span",{className:`text-xs px-1 rounded ${p.status==="played"?"bg-green-100 text-green-800":p.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:p.status||"pending"})]},p.id||Math.random()))})]})]})}function WC({streamType:t}){const[e,r]=E.useState(""),[n,i]=E.useState(""),{toast:s}=Jr(),a=Bl(),{data:o=[],isError:c}=it({queryKey:["/api/live-comments",t],queryFn:async()=>{try{const f=await fetch(`/api/live-comments/${t}?limit=10`);if(!f.ok)return[];const h=await f.json();return Array.isArray(h)?h:[]}catch{return[]}},refetchInterval:5e3}),u=Ar({mutationFn:async f=>{const h={message:f.content,username:f.authorName,streamType:f.streamType,userSession:`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`};return(await zt("POST","/api/live-comments",h)).json()},onSuccess:()=>{r(""),s({title:"Comment Posted!",description:"Your comment is now live in the chat."}),a.invalidateQueries({queryKey:["/api/live-comments",t]})},onError:()=>{s({title:"Comment Failed",description:"Unable to post your comment. Please try again.",variant:"destructive"})}}),d=async f=>{if(f.preventDefault(),!e.trim()||!n.trim()){s({title:"Missing Information",description:"Please enter your name and comment.",variant:"destructive"});return}await u.mutateAsync({content:e.trim(),authorName:n.trim(),streamType:t})};return l.jsxs(Y,{className:"p-3 md:p-4",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-3 md:mb-4",children:[l.jsx(oM,{className:"w-4 h-4 md:w-5 md:h-5 text-red-600 flex-shrink-0"}),l.jsxs("h3",{className:"font-semibold text-gray-900 text-sm md:text-base truncate",children:["Live Chat ",t==="radio"?"(QFM Radio)":"(Oroma TV)"]})]}),l.jsx("div",{className:"space-y-2 mb-3 md:mb-4 max-h-24 md:max-h-32 overflow-y-auto bg-gray-50 rounded-lg p-2",children:!o||o.length===0?l.jsx("p",{className:"text-xs md:text-sm text-gray-500 text-center py-2",children:"No comments yet. Be the first to comment!"}):Array.isArray(o)&&o.map(f=>l.jsxs("div",{className:"bg-white rounded p-2 text-xs md:text-sm border border-gray-100",children:[l.jsx("div",{className:"font-medium text-gray-900 text-xs truncate",children:f.username||f.user_session||"Anonymous"}),l.jsx("div",{className:"text-gray-700 break-words",children:f.message||f.content||""}),l.jsx("div",{className:"text-xs text-gray-400 mt-1",children:f.createdAt?new Date(f.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"Just now"})]},f.id||Math.random()))}),l.jsxs("form",{onSubmit:d,className:"space-y-2",children:[l.jsx(ke,{placeholder:"Your name",value:n,onChange:f=>i(f.target.value),disabled:u.isPending,className:"text-xs md:text-sm h-8 md:h-10"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(ke,{placeholder:`Comment on ${t==="radio"?"QFM Radio":"Oroma TV"}...`,value:e,onChange:f=>r(f.target.value),disabled:u.isPending,className:"text-xs md:text-sm flex-1 h-8 md:h-10"}),l.jsx(Q,{type:"submit",disabled:u.isPending||!e.trim()||!n.trim(),size:"sm",className:"h-8 md:h-10 px-2 md:px-3 flex-shrink-0 bg-red-600 hover:bg-red-700",children:u.isPending?l.jsx(Ds,{className:"h-3 w-3 md:h-4 md:w-4 animate-spin"}):l.jsx(nT,{className:"h-3 w-3 md:h-4 md:w-4"})})]})]})]})}function KC({streamType:t,streamUrl:e}){const[r,n]=E.useState("checking"),[i,s]=E.useState("high");E.useEffect(()=>{const c=()=>{n("online"),s(t==="tv"?"high":"medium")};c();const u=setInterval(c,3e4);return()=>clearInterval(u)},[e,t]);const a=()=>{switch(r){case"online":return"bg-green-500";case"offline":return"bg-red-500";case"checking":return"bg-yellow-500"}},o=()=>{switch(i){case"high":return"text-green-600";case"medium":return"text-yellow-600";case"low":return"text-red-600"}};return l.jsxs(Y,{className:"p-3 bg-white/10 backdrop-blur-sm border-white/20",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${a()} ${r==="online"?"animate-pulse":""}`}),l.jsx("span",{className:"text-sm font-medium text-white",children:t==="tv"?"TV Stream":"Radio Stream"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Qe,{variant:"secondary",className:`text-xs ${o()} bg-white/20 border-white/30`,children:i.toUpperCase()}),r==="online"?l.jsx(jz,{className:"w-4 h-4 text-green-400"}):r==="offline"?l.jsx(Cz,{className:"w-4 h-4 text-red-400"}):l.jsx(JE,{className:"w-4 h-4 text-yellow-400 animate-spin"})]})]}),l.jsxs("div",{className:"mt-2 text-xs text-white/80",children:[r==="online"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Bitrate:"}),l.jsx("span",{children:t==="tv"?"1080p HD":"128 kbps"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Latency:"}),l.jsx("span",{children:"Low (~2s)"})]})]}),r==="offline"&&l.jsx("span",{className:"text-red-300",children:"Stream temporarily offline"}),r==="checking"&&l.jsx("span",{className:"text-yellow-300",children:"Checking stream status..."})]})]})}const Bt={app:{name:"Oroma TV & QFM Radio",greetings:{morning:"Good Morning",afternoon:"Good Afternoon",evening:"Good Evening"}},streams:{tv:{name:"TV Oroma",location:"Uganda",streamUrl:"https://mediaserver.oromatv.com/LiveApp/streams/12345.m3u8",share:{message:"Check out this amazing stream on TV Oroma",url:"https://oromatv.com",title:"Oroma TV Live Stream"},about:{title:"Tv Oroma",description:"Northern Uganda's Versetail Tv Station",fullDescription:"Music, News, and Entertainment in Luo. Northern Uganda's Funkiest Radio Station"}},radio:{name:"QFM Radio",frequency:"94.3",location:"Lira, Uganda",description:"Northern Uganda's Funkiest Radio Station",streamUrl:"https://hoth.alonhosting.com:3975/stream",artworkUrl:"https://assets.mwonya.com/images/artwork/qfm_radio.png"}}};function YJ(){const[t,e]=E.useState("tv"),[r,n]=E.useState("");E.useEffect(()=>{const s=new Date().getHours();s<12?n(Bt.app.greetings.morning):s<18?n(Bt.app.greetings.afternoon):n(Bt.app.greetings.evening)},[]);const i=async()=>{const s={title:Bt.streams.tv.share.title,text:Bt.streams.tv.share.message,url:Bt.streams.tv.share.url};if(navigator.share)try{await navigator.share(s)}catch(a){console.log("Error sharing:",a)}else navigator.clipboard.writeText(s.url),alert("Link copied to clipboard!")};return l.jsx("div",{className:"pt-16 min-h-screen bg-gray-50",children:l.jsxs("div",{className:"fluid-container section-padding",children:[l.jsxs("div",{className:"relative mb-8 rounded-xl overflow-hidden bg-gradient-to-r from-red-600 to-red-800 text-white",children:[l.jsx("div",{className:"absolute inset-0 bg-black/20"}),l.jsxs("div",{className:"relative text-center py-8 px-6",children:[l.jsxs("h1",{className:"text-lg md:text-xl font-bold mb-2 animate-fade-in",children:[r,"! Welcome to ",Bt.app.name]}),l.jsx("p",{className:"text-sm text-red-100",children:"Northern Uganda live TV and QFM Radio 94.3 FM"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-4 md:gap-6 lg:gap-8",children:[l.jsxs("div",{className:"xl:col-span-3 order-1",children:[l.jsxs(vo,{value:t,onValueChange:s=>e(s),className:"w-full",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 md:mb-6 gap-4 sm:gap-0",children:[l.jsxs(oa,{className:"grid w-full sm:max-w-md grid-cols-2",children:[l.jsxs(Ct,{value:"tv",className:"flex items-center space-x-1 md:space-x-2 text-xs md:text-sm",children:[l.jsx(so,{className:"h-3 w-3 md:h-4 md:w-4"}),l.jsx("span",{children:"TV Oroma"})]}),l.jsxs(Ct,{value:"radio",className:"flex items-center space-x-1 md:space-x-2 text-xs md:text-sm",children:[l.jsx(ss,{className:"h-3 w-3 md:h-4 md:w-4"}),l.jsx("span",{children:"QFM Radio"})]})]}),l.jsx("div",{className:"flex items-center justify-center sm:justify-end space-x-2 md:space-x-4 flex-wrap",children:l.jsxs(Q,{onClick:i,className:"bg-green-600 hover:bg-green-700 text-white flex items-center space-x-1",size:"sm",children:[l.jsx(Sz,{className:"h-3 w-3 md:h-4 md:w-4"}),l.jsx("span",{className:"text-xs md:text-sm",children:"Share"})]})})]}),l.jsxs(jt,{value:"tv",className:"space-y-6",children:[l.jsx(UJ,{streamUrl:Bt.streams.tv.streamUrl,isLive:!0,title:Bt.streams.tv.name}),l.jsx(KC,{streamType:"tv",streamUrl:Bt.streams.tv.streamUrl}),l.jsx(Y,{className:"p-6 border-red-200 bg-red-50",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold text-red-800 mb-2",children:Bt.streams.tv.about.title}),l.jsx("p",{className:"text-red-700 mb-1 font-medium",children:Bt.streams.tv.about.description}),l.jsx("p",{className:"text-red-600 text-sm",children:Bt.streams.tv.about.fullDescription})]}),l.jsxs("div",{className:"text-right text-sm text-red-600",children:[l.jsx("div",{children:"Broadcasting from"}),l.jsx("div",{className:"font-medium text-red-800",children:Bt.streams.tv.location})]})]})})]}),l.jsxs(jt,{value:"radio",className:"space-y-6",children:[l.jsx(GJ,{streamUrl:Bt.streams.radio.streamUrl,title:Bt.streams.radio.name,frequency:Bt.streams.radio.frequency,artworkUrl:Bt.streams.radio.artworkUrl,onShare:i}),l.jsx(KC,{streamType:"radio",streamUrl:Bt.streams.radio.streamUrl}),l.jsx(Y,{className:"p-6",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:Bt.streams.radio.name}),l.jsxs("p",{className:"text-red-600 font-medium text-lg mb-2",children:["FM ",Bt.streams.radio.frequency]}),l.jsx("p",{className:"text-gray-600",children:Bt.streams.radio.description})]}),l.jsxs("div",{className:"text-right text-sm text-gray-500",children:[l.jsx("div",{children:"Broadcasting from"}),l.jsx("div",{className:"font-medium",children:Bt.streams.radio.location})]})]})})]})]}),l.jsxs("div",{className:"xl:hidden mt-6 space-y-4",children:[l.jsx(zC,{activeTab:t}),l.jsx(WC,{streamType:t})]})]}),l.jsxs("div",{className:"xl:col-span-1 space-y-6 order-2 xl:order-2",children:[l.jsxs("div",{className:"hidden xl:block space-y-4",children:[l.jsx(zC,{activeTab:t}),l.jsx(WC,{streamType:t})]}),l.jsxs(Y,{className:"p-4",children:[l.jsx("h3",{className:"font-semibold mb-3 text-gray-900",children:"Stream Status"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Connection"}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),l.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Online"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Quality"}),l.jsx("span",{className:"text-sm text-gray-900 font-medium",children:"HD"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Latency"}),l.jsx("span",{className:"text-sm text-gray-900 font-medium",children:"2.3s"})]})]})]}),l.jsx(qJ,{streamType:t}),l.jsxs(Y,{className:"p-4 bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:[l.jsx("h3",{className:"font-semibold mb-3 text-gray-900",children:"Connect with Us"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Q,{className:"w-full justify-start bg-green-600 hover:bg-green-700 text-white",onClick:()=>window.open("https://wa.me/256777676206","_blank"),children:[l.jsx("span",{className:"mr-2",children:"📱"}),"WhatsApp: 0777676206"]}),l.jsxs(Q,{variant:"outline",size:"sm",className:"w-full justify-start border-red-200 text-red-600 hover:bg-red-50",onClick:()=>window.open("/programs","_self"),children:[l.jsx(so,{className:"h-4 w-4 mr-2"}),"Program Schedule"]})]})]})]})]}),l.jsx("div",{className:"h-8"}),l.jsx(KJ,{})]})})}function XJ(){const t=[{time:"6:00 PM",title:"News Bulletin",status:"Now Playing"},{time:"7:00 PM",title:"Cultural Heritage Hour",status:"Up Next"},{time:"8:00 PM",title:"Youth Connect Talk Show",status:"Later"},{time:"9:00 PM",title:"Music & Entertainment",status:"Later"},{time:"10:00 PM",title:"Late Night Update",status:"Later"}];return l.jsx("div",{className:"pt-16 min-h-screen bg-gray-50",children:l.jsx("div",{className:"fluid-container section-padding",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsxs(Qe,{className:"live-indicator bg-red-600 text-white px-4 py-2",children:[l.jsx("span",{className:"live-dot w-2 h-2 bg-white rounded-full mr-2"}),"LIVE NOW"]}),l.jsx("h1",{className:"text-2xl font-bold",children:"News Bulletin"})]}),l.jsx("div",{className:"aspect-video bg-gray-900 rounded-lg overflow-hidden mb-6 relative",children:l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-gray-900 to-red-900",children:l.jsxs("div",{className:"text-center text-white",children:[l.jsx("i",{className:"fas fa-play-circle text-6xl mb-4 opacity-70"}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Live Stream"}),l.jsx("p",{className:"text-gray-300",children:"Click to watch our live broadcast"}),l.jsxs(Q,{className:"mt-4 bg-red-600 hover:bg-red-700",children:[l.jsx("i",{className:"fas fa-play mr-2"}),"Watch Live"]})]})})}),l.jsxs(Y,{className:"card-spacing",children:[l.jsx(me,{children:l.jsx(pe,{children:"About This Program"})}),l.jsxs(ie,{children:[l.jsx("p",{className:"text-gray-600",children:"Our comprehensive news bulletin brings you the latest updates from Northern Uganda and beyond. Covering local politics, community developments, weather updates, and regional news that matters to you."}),l.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[l.jsx(Qe,{variant:"secondary",children:"News"}),l.jsx(Qe,{variant:"secondary",children:"Current Affairs"}),l.jsx(Qe,{variant:"secondary",children:"Local Updates"})]})]})]})]}),l.jsxs("div",{children:[l.jsxs(Y,{className:"card-spacing",children:[l.jsx(me,{children:l.jsx(pe,{children:"Today's Schedule"})}),l.jsx(ie,{className:"space-y-4",children:t.map((e,r)=>l.jsxs("div",{className:`p-3 rounded-lg border ${e.status==="Now Playing"?"bg-red-50 border-red-200":"bg-white"}`,children:[l.jsxs("div",{className:"flex justify-between items-start mb-1",children:[l.jsx("span",{className:"font-semibold text-lg",children:e.time}),l.jsx(Qe,{variant:e.status==="Now Playing"?"default":"secondary",className:e.status==="Now Playing"?"bg-red-600":"",children:e.status})]}),l.jsx("p",{className:"text-gray-700",children:e.title})]},r))})]}),l.jsxs(Y,{className:"mt-6",children:[l.jsx(me,{children:l.jsx(pe,{children:"Missed a Show?"})}),l.jsxs(ie,{children:[l.jsx("p",{className:"text-gray-600 mb-4",children:"Catch up on our recent programs and highlights from past episodes."}),l.jsxs(Q,{variant:"outline",className:"w-full",children:[l.jsx("i",{className:"fas fa-history mr-2"}),"View Archive"]})]})]}),l.jsxs(Y,{className:"mt-6",children:[l.jsx(me,{children:l.jsx(pe,{children:"Program Request"})}),l.jsxs(ie,{children:[l.jsx("p",{className:"text-gray-600 mb-4",children:"Have a program suggestion or want to request specific content?"}),l.jsxs(Q,{variant:"outline",className:"w-full",children:[l.jsx("i",{className:"fas fa-envelope mr-2"}),"Send Request"]})]})]})]})]})})})}var Zh=t=>t.type==="checkbox",Vo=t=>t instanceof Date,an=t=>t==null;const R4=t=>typeof t=="object";var sr=t=>!an(t)&&!Array.isArray(t)&&R4(t)&&!Vo(t),L4=t=>sr(t)&&t.target?Zh(t.target)?t.target.checked:t.target.value:t,QJ=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,D4=(t,e)=>t.has(QJ(e)),ZJ=t=>{const e=t.constructor&&t.constructor.prototype;return sr(e)&&e.hasOwnProperty("isPrototypeOf")},JT=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function yr(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(JT&&(t instanceof Blob||n))&&(r||sr(t)))if(e=r?[]:{},!r&&!ZJ(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=yr(t[i]));else return t;return e}var _y=t=>/^\w*$/.test(t),rr=t=>t===void 0,eA=t=>Array.isArray(t)?t.filter(Boolean):[],tA=t=>eA(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ve=(t,e,r)=>{if(!e||!sr(t))return r;const n=(_y(e)?[e]:tA(e)).reduce((i,s)=>an(i)?i:i[s],t);return rr(n)||n===t?rr(t[e])?r:t[e]:n},On=t=>typeof t=="boolean",gt=(t,e,r)=>{let n=-1;const i=_y(e)?[e]:tA(e),s=i.length,a=s-1;for(;++n<s;){const o=i[n];let c=r;if(n!==a){const u=t[o];c=sr(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=c,t=t[o]}};const Cg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ni={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Es={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},rA=L.createContext(null);rA.displayName="HookFormContext";const Py=()=>L.useContext(rA),JJ=t=>{const{children:e,...r}=t;return L.createElement(rA.Provider,{value:r},e)};var M4=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==Ni.all&&(e._proxyFormState[a]=!n||Ni.all),r&&(r[a]=!0),t[a]}});return i};const nA=typeof window<"u"?L.useLayoutEffect:L.useEffect;function eee(t){const e=Py(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[a,o]=L.useState(r._formState),c=L.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return nA(()=>r._subscribe({name:i,formState:c.current,exact:s,callback:u=>{!n&&o({...r._formState,...u})}}),[i,n,s]),L.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),L.useMemo(()=>M4(a,r,c.current,!1),[a,r])}var es=t=>typeof t=="string",$4=(t,e,r,n,i)=>es(t)?(n&&e.watch.add(t),ve(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),ve(r,s))):(n&&(e.watchAll=!0),r),cS=t=>an(t)||!R4(t);function ks(t,e,r=new WeakSet){if(cS(t)||cS(e))return t===e;if(Vo(t)&&Vo(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const s of n){const a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Vo(a)&&Vo(o)||sr(a)&&sr(o)||Array.isArray(a)&&Array.isArray(o)?!ks(a,o,r):a!==o)return!1}}return!0}function tee(t){const e=Py(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:a,compute:o}=t||{},c=L.useRef(i),u=L.useRef(o),d=L.useRef(void 0);u.current=o;const f=L.useMemo(()=>r._getWatch(n,c.current),[r,n]),[h,m]=L.useState(u.current?u.current(f):f);return nA(()=>r._subscribe({name:n,formState:{values:!0},exact:a,callback:p=>{if(!s){const g=$4(n,r._names,p.values||r._formValues,!1,c.current);if(u.current){const v=u.current(g);ks(v,d.current)||(m(v),d.current=v)}else m(g)}}}),[r,s,n,a]),L.useEffect(()=>r._removeUnmounted()),h}function ree(t){const e=Py(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s,defaultValue:a}=t,o=D4(i._names.array,r),c=L.useMemo(()=>ve(i._formValues,r,ve(i._defaultValues,r,a)),[i,r,a]),u=tee({control:i,name:r,defaultValue:c,exact:!0}),d=eee({control:i,name:r,exact:!0}),f=L.useRef(t),h=L.useRef(i.register(r,{...t.rules,value:u,...On(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const m=L.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ve(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!ve(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ve(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ve(d.validatingFields,r)},error:{enumerable:!0,get:()=>ve(d.errors,r)}}),[d,r]),p=L.useCallback(x=>h.current.onChange({target:{value:L4(x),name:r},type:Cg.CHANGE}),[r]),g=L.useCallback(()=>h.current.onBlur({target:{value:ve(i._formValues,r),name:r},type:Cg.BLUR}),[r,i._formValues]),v=L.useCallback(x=>{const b=ve(i._fields,r);b&&x&&(b._f.ref={focus:()=>x.focus&&x.focus(),select:()=>x.select&&x.select(),setCustomValidity:S=>x.setCustomValidity(S),reportValidity:()=>x.reportValidity()})},[i._fields,r]),y=L.useMemo(()=>({name:r,value:u,...On(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:p,onBlur:g,ref:v}),[r,n,d.disabled,p,g,v,u]);return L.useEffect(()=>{const x=i._options.shouldUnregister||s;i.register(r,{...f.current.rules,...On(f.current.disabled)?{disabled:f.current.disabled}:{}});const b=(S,w)=>{const T=ve(i._fields,S);T&&T._f&&(T._f.mount=w)};if(b(r,!0),x){const S=yr(ve(i._options.defaultValues,r));gt(i._defaultValues,r,S),rr(ve(i._formValues,r))&&gt(i._formValues,r,S)}return!o&&i.register(r),()=>{(o?x&&!i._state.action:x)?i.unregister(r):b(r,!1)}},[r,i,o,s]),L.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),L.useMemo(()=>({field:y,formState:d,fieldState:m}),[y,d,m])}const nee=t=>t.render(ree(t));var F4=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},pf=t=>Array.isArray(t)?t:[t],qC=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},vn=t=>sr(t)&&!Object.keys(t).length,iA=t=>t.type==="file",Ci=t=>typeof t=="function",jg=t=>{if(!JT)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},B4=t=>t.type==="select-multiple",sA=t=>t.type==="radio",iee=t=>sA(t)||Zh(t),Hx=t=>jg(t)&&t.isConnected;function see(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=rr(t)?n++:t[e[n++]];return t}function aee(t){for(const e in t)if(t.hasOwnProperty(e)&&!rr(t[e]))return!1;return!0}function or(t,e){const r=Array.isArray(e)?e:_y(e)?[e]:tA(e),n=r.length===1?t:see(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(sr(n)&&vn(n)||Array.isArray(n)&&aee(n))&&or(t,r.slice(0,-1)),t}var U4=t=>{for(const e in t)if(Ci(t[e]))return!0;return!1};function Og(t,e={}){const r=Array.isArray(t);if(sr(t)||r)for(const n in t)Array.isArray(t[n])||sr(t[n])&&!U4(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Og(t[n],e[n])):an(t[n])||(e[n]=!0);return e}function V4(t,e,r){const n=Array.isArray(t);if(sr(t)||n)for(const i in t)Array.isArray(t[i])||sr(t[i])&&!U4(t[i])?rr(e)||cS(r[i])?r[i]=Array.isArray(t[i])?Og(t[i],[]):{...Og(t[i])}:V4(t[i],an(e)?{}:e[i],r[i]):r[i]=!ks(t[i],e[i]);return r}var Cd=(t,e)=>V4(t,e,Og(e));const YC={value:!1,isValid:!1},XC={value:!0,isValid:!0};var G4=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!rr(t[0].attributes.value)?rr(t[0].value)||t[0].value===""?XC:{value:t[0].value,isValid:!0}:XC:YC}return YC},H4=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>rr(t)?t:e?t===""?NaN:t&&+t:r&&es(t)?new Date(t):n?n(t):t;const QC={isValid:!1,value:null};var z4=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,QC):QC;function ZC(t){const e=t.ref;return iA(e)?e.files:sA(e)?z4(t.refs).value:B4(e)?[...e.selectedOptions].map(({value:r})=>r):Zh(e)?G4(t.refs).value:H4(rr(e.value)?t.ref.value:e.value,t)}var oee=(t,e,r,n)=>{const i={};for(const s of t){const a=ve(e,s);a&&gt(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Ig=t=>t instanceof RegExp,jd=t=>rr(t)?t:Ig(t)?t.source:sr(t)?Ig(t.value)?t.value.source:t.value:t,JC=t=>({isOnSubmit:!t||t===Ni.onSubmit,isOnBlur:t===Ni.onBlur,isOnChange:t===Ni.onChange,isOnAll:t===Ni.all,isOnTouch:t===Ni.onTouched});const ej="AsyncFunction";var lee=t=>!!t&&!!t.validate&&!!(Ci(t.validate)&&t.validate.constructor.name===ej||sr(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===ej)),cee=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),tj=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const gf=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=ve(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(gf(o,e))break}else if(sr(o)&&gf(o,e))break}}};function rj(t,e,r){const n=ve(t,r);if(n||_y(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=ve(e,s),o=ve(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};i.pop()}return{name:r}}var uee=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return vn(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||Ni.all))},dee=(t,e,r)=>!t||!e||t===e||pf(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),fee=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,hee=(t,e)=>!eA(ve(t,e)).length&&or(t,e),mee=(t,e,r)=>{const n=pf(ve(t,r));return gt(n,"root",e[r]),gt(t,r,n),t},Dp=t=>es(t);function nj(t,e,r="validate"){if(Dp(t)||Array.isArray(t)&&t.every(Dp)||On(t)&&!t)return{type:r,message:Dp(t)?t:"",ref:e}}var ec=t=>sr(t)&&!Ig(t)?t:{value:t,message:""},ij=async(t,e,r,n,i,s)=>{const{ref:a,refs:o,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:p,name:g,valueAsNumber:v,mount:y}=t._f,x=ve(r,g);if(!y||e.has(g))return{};const b=o?o[0]:a,S=O=>{i&&b.reportValidity&&(b.setCustomValidity(On(O)?"":O||""),b.reportValidity())},w={},T=sA(a),A=Zh(a),_=T||A,N=(v||iA(a))&&rr(a.value)&&rr(x)||jg(a)&&a.value===""||x===""||Array.isArray(x)&&!x.length,C=F4.bind(null,g,n,w),j=(O,R,k,M=Es.maxLength,D=Es.minLength)=>{const U=O?R:k;w[g]={type:O?M:D,message:U,ref:a,...C(O?M:D,U)}};if(s?!Array.isArray(x)||!x.length:c&&(!_&&(N||an(x))||On(x)&&!x||A&&!G4(o).isValid||T&&!z4(o).isValid)){const{value:O,message:R}=Dp(c)?{value:!!c,message:c}:ec(c);if(O&&(w[g]={type:Es.required,message:R,ref:b,...C(Es.required,R)},!n))return S(R),w}if(!N&&(!an(f)||!an(h))){let O,R;const k=ec(h),M=ec(f);if(!an(x)&&!isNaN(x)){const D=a.valueAsNumber||x&&+x;an(k.value)||(O=D>k.value),an(M.value)||(R=D<M.value)}else{const D=a.valueAsDate||new Date(x),U=H=>new Date(new Date().toDateString()+" "+H),I=a.type=="time",F=a.type=="week";es(k.value)&&x&&(O=I?U(x)>U(k.value):F?x>k.value:D>new Date(k.value)),es(M.value)&&x&&(R=I?U(x)<U(M.value):F?x<M.value:D<new Date(M.value))}if((O||R)&&(j(!!O,k.message,M.message,Es.max,Es.min),!n))return S(w[g].message),w}if((u||d)&&!N&&(es(x)||s&&Array.isArray(x))){const O=ec(u),R=ec(d),k=!an(O.value)&&x.length>+O.value,M=!an(R.value)&&x.length<+R.value;if((k||M)&&(j(k,O.message,R.message),!n))return S(w[g].message),w}if(m&&!N&&es(x)){const{value:O,message:R}=ec(m);if(Ig(O)&&!x.match(O)&&(w[g]={type:Es.pattern,message:R,ref:a,...C(Es.pattern,R)},!n))return S(R),w}if(p){if(Ci(p)){const O=await p(x,r),R=nj(O,b);if(R&&(w[g]={...R,...C(Es.validate,R.message)},!n))return S(R.message),w}else if(sr(p)){let O={};for(const R in p){if(!vn(O)&&!n)break;const k=nj(await p[R](x,r),b,R);k&&(O={...k,...C(R,k.message)},S(k.message),n&&(w[g]=O))}if(!vn(O)&&(w[g]={ref:b,...O},!n))return w}}return S(!0),w};const pee={mode:Ni.onSubmit,reValidateMode:Ni.onChange,shouldFocusError:!0};function gee(t={}){let e={...pee,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ci(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=sr(e.defaultValues)||sr(e.values)?yr(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:yr(i),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:qC(),state:qC()},m=e.criteriaMode===Ni.all,p=$=>W=>{clearTimeout(u),u=setTimeout($,W)},g=async $=>{if(!e.disabled&&(d.isValid||f.isValid||$)){const W=e.resolver?vn((await A()).errors):await N(n,!0);W!==r.isValid&&h.state.next({isValid:W})}},v=($,W)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&(($||Array.from(o.mount)).forEach(q=>{q&&(W?gt(r.validatingFields,q,W):or(r.validatingFields,q))}),h.state.next({validatingFields:r.validatingFields,isValidating:!vn(r.validatingFields)}))},y=($,W=[],q,ge,de=!0,le=!0)=>{if(ge&&q&&!e.disabled){if(a.action=!0,le&&Array.isArray(ve(n,$))){const je=q(ve(n,$),ge.argA,ge.argB);de&&gt(n,$,je)}if(le&&Array.isArray(ve(r.errors,$))){const je=q(ve(r.errors,$),ge.argA,ge.argB);de&&gt(r.errors,$,je),hee(r.errors,$)}if((d.touchedFields||f.touchedFields)&&le&&Array.isArray(ve(r.touchedFields,$))){const je=q(ve(r.touchedFields,$),ge.argA,ge.argB);de&&gt(r.touchedFields,$,je)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Cd(i,s)),h.state.next({name:$,isDirty:j($,W),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else gt(s,$,W)},x=($,W)=>{gt(r.errors,$,W),h.state.next({errors:r.errors})},b=$=>{r.errors=$,h.state.next({errors:r.errors,isValid:!1})},S=($,W,q,ge)=>{const de=ve(n,$);if(de){const le=ve(s,$,rr(q)?ve(i,$):q);rr(le)||ge&&ge.defaultChecked||W?gt(s,$,W?le:ZC(de._f)):k($,le),a.mount&&g()}},w=($,W,q,ge,de)=>{let le=!1,je=!1;const ct={name:$};if(!e.disabled){if(!q||ge){(d.isDirty||f.isDirty)&&(je=r.isDirty,r.isDirty=ct.isDirty=j(),le=je!==ct.isDirty);const wt=ks(ve(i,$),W);je=!!ve(r.dirtyFields,$),wt?or(r.dirtyFields,$):gt(r.dirtyFields,$,!0),ct.dirtyFields=r.dirtyFields,le=le||(d.dirtyFields||f.dirtyFields)&&je!==!wt}if(q){const wt=ve(r.touchedFields,$);wt||(gt(r.touchedFields,$,q),ct.touchedFields=r.touchedFields,le=le||(d.touchedFields||f.touchedFields)&&wt!==q)}le&&de&&h.state.next(ct)}return le?ct:{}},T=($,W,q,ge)=>{const de=ve(r.errors,$),le=(d.isValid||f.isValid)&&On(W)&&r.isValid!==W;if(e.delayError&&q?(c=p(()=>x($,q)),c(e.delayError)):(clearTimeout(u),c=null,q?gt(r.errors,$,q):or(r.errors,$)),(q?!ks(de,q):de)||!vn(ge)||le){const je={...ge,...le&&On(W)?{isValid:W}:{},errors:r.errors,name:$};r={...r,...je},h.state.next(je)}},A=async $=>{v($,!0);const W=await e.resolver(s,e.context,oee($||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return v($),W},_=async $=>{const{errors:W}=await A($);if($)for(const q of $){const ge=ve(W,q);ge?gt(r.errors,q,ge):or(r.errors,q)}else r.errors=W;return W},N=async($,W,q={valid:!0})=>{for(const ge in $){const de=$[ge];if(de){const{_f:le,...je}=de;if(le){const ct=o.array.has(le.name),wt=de._f&&lee(de._f);wt&&d.validatingFields&&v([ge],!0);const en=await ij(de,o.disabled,s,m,e.shouldUseNativeValidation&&!W,ct);if(wt&&d.validatingFields&&v([ge]),en[le.name]&&(q.valid=!1,W))break;!W&&(ve(en,le.name)?ct?mee(r.errors,en,le.name):gt(r.errors,le.name,en[le.name]):or(r.errors,le.name))}!vn(je)&&await N(je,W,q)}}return q.valid},C=()=>{for(const $ of o.unMount){const W=ve(n,$);W&&(W._f.refs?W._f.refs.every(q=>!Hx(q)):!Hx(W._f.ref))&&re($)}o.unMount=new Set},j=($,W)=>!e.disabled&&($&&W&&gt(s,$,W),!ks(H(),i)),O=($,W,q)=>$4($,o,{...a.mount?s:rr(W)?i:es($)?{[$]:W}:W},q,W),R=$=>eA(ve(a.mount?s:i,$,e.shouldUnregister?ve(i,$,[]):[])),k=($,W,q={})=>{const ge=ve(n,$);let de=W;if(ge){const le=ge._f;le&&(!le.disabled&&gt(s,$,H4(W,le)),de=jg(le.ref)&&an(W)?"":W,B4(le.ref)?[...le.ref.options].forEach(je=>je.selected=de.includes(je.value)):le.refs?Zh(le.ref)?le.refs.forEach(je=>{(!je.defaultChecked||!je.disabled)&&(Array.isArray(de)?je.checked=!!de.find(ct=>ct===je.value):je.checked=de===je.value||!!de)}):le.refs.forEach(je=>je.checked=je.value===de):iA(le.ref)?le.ref.value="":(le.ref.value=de,le.ref.type||h.state.next({name:$,values:yr(s)})))}(q.shouldDirty||q.shouldTouch)&&w($,de,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&F($)},M=($,W,q)=>{for(const ge in W){if(!W.hasOwnProperty(ge))return;const de=W[ge],le=$+"."+ge,je=ve(n,le);(o.array.has($)||sr(de)||je&&!je._f)&&!Vo(de)?M(le,de,q):k(le,de,q)}},D=($,W,q={})=>{const ge=ve(n,$),de=o.array.has($),le=yr(W);gt(s,$,le),de?(h.array.next({name:$,values:yr(s)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&q.shouldDirty&&h.state.next({name:$,dirtyFields:Cd(i,s),isDirty:j($,le)})):ge&&!ge._f&&!an(le)?M($,le,q):k($,le,q),tj($,o)&&h.state.next({...r,name:$}),h.state.next({name:a.mount?$:void 0,values:yr(s)})},U=async $=>{a.mount=!0;const W=$.target;let q=W.name,ge=!0;const de=ve(n,q),le=wt=>{ge=Number.isNaN(wt)||Vo(wt)&&isNaN(wt.getTime())||ks(wt,ve(s,q,wt))},je=JC(e.mode),ct=JC(e.reValidateMode);if(de){let wt,en;const _o=W.type?ZC(de._f):L4($),hn=$.type===Cg.BLUR||$.type===Cg.FOCUS_OUT,S8=!cee(de._f)&&!e.resolver&&!ve(r.errors,q)&&!de._f.deps||fee(hn,ve(r.touchedFields,q),r.isSubmitted,ct,je),j0=tj(q,o,hn);gt(s,q,_o),hn?(de._f.onBlur&&de._f.onBlur($),c&&c(0)):de._f.onChange&&de._f.onChange($);const O0=w(q,_o,hn),E8=!vn(O0)||j0;if(!hn&&h.state.next({name:q,type:$.type,values:yr(s)}),S8)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?hn&&g():hn||g()),E8&&h.state.next({name:q,...j0?{}:O0});if(!hn&&j0&&h.state.next({...r}),e.resolver){const{errors:E_}=await A([q]);if(le(_o),ge){const T8=rj(r.errors,n,q),T_=rj(E_,n,T8.name||q);wt=T_.error,q=T_.name,en=vn(E_)}}else v([q],!0),wt=(await ij(de,o.disabled,s,m,e.shouldUseNativeValidation))[q],v([q]),le(_o),ge&&(wt?en=!1:(d.isValid||f.isValid)&&(en=await N(n,!0)));ge&&(de._f.deps&&F(de._f.deps),T(q,en,wt,O0))}},I=($,W)=>{if(ve(r.errors,W)&&$.focus)return $.focus(),1},F=async($,W={})=>{let q,ge;const de=pf($);if(e.resolver){const le=await _(rr($)?$:de);q=vn(le),ge=$?!de.some(je=>ve(le,je)):q}else $?(ge=(await Promise.all(de.map(async le=>{const je=ve(n,le);return await N(je&&je._f?{[le]:je}:je)}))).every(Boolean),!(!ge&&!r.isValid)&&g()):ge=q=await N(n);return h.state.next({...!es($)||(d.isValid||f.isValid)&&q!==r.isValid?{}:{name:$},...e.resolver||!$?{isValid:q}:{},errors:r.errors}),W.shouldFocus&&!ge&&gf(n,I,$?de:o.mount),ge},H=$=>{const W={...a.mount?s:i};return rr($)?W:es($)?ve(W,$):$.map(q=>ve(W,q))},G=($,W)=>({invalid:!!ve((W||r).errors,$),isDirty:!!ve((W||r).dirtyFields,$),error:ve((W||r).errors,$),isValidating:!!ve(r.validatingFields,$),isTouched:!!ve((W||r).touchedFields,$)}),V=$=>{$&&pf($).forEach(W=>or(r.errors,W)),h.state.next({errors:$?r.errors:{}})},ne=($,W,q)=>{const ge=(ve(n,$,{_f:{}})._f||{}).ref,de=ve(r.errors,$)||{},{ref:le,message:je,type:ct,...wt}=de;gt(r.errors,$,{...wt,...W,ref:ge}),h.state.next({name:$,errors:r.errors,isValid:!1}),q&&q.shouldFocus&&ge&&ge.focus&&ge.focus()},ce=($,W)=>Ci($)?h.state.subscribe({next:q=>"values"in q&&$(O(void 0,W),q)}):O($,W,!0),Se=$=>h.state.subscribe({next:W=>{dee($.name,W.name,$.exact)&&uee(W,$.formState||d,We,$.reRenderRoot)&&$.callback({values:{...s},...r,...W,defaultValues:i})}}).unsubscribe,J=$=>(a.mount=!0,f={...f,...$.formState},Se({...$,formState:f})),re=($,W={})=>{for(const q of $?pf($):o.mount)o.mount.delete(q),o.array.delete(q),W.keepValue||(or(n,q),or(s,q)),!W.keepError&&or(r.errors,q),!W.keepDirty&&or(r.dirtyFields,q),!W.keepTouched&&or(r.touchedFields,q),!W.keepIsValidating&&or(r.validatingFields,q),!e.shouldUnregister&&!W.keepDefaultValue&&or(i,q);h.state.next({values:yr(s)}),h.state.next({...r,...W.keepDirty?{isDirty:j()}:{}}),!W.keepIsValid&&g()},Ee=({disabled:$,name:W})=>{(On($)&&a.mount||$||o.disabled.has(W))&&($?o.disabled.add(W):o.disabled.delete(W))},te=($,W={})=>{let q=ve(n,$);const ge=On(W.disabled)||On(e.disabled);return gt(n,$,{...q||{},_f:{...q&&q._f?q._f:{ref:{name:$}},name:$,mount:!0,...W}}),o.mount.add($),q?Ee({disabled:On(W.disabled)?W.disabled:e.disabled,name:$}):S($,!0,W.value),{...ge?{disabled:W.disabled||e.disabled}:{},...e.progressive?{required:!!W.required,min:jd(W.min),max:jd(W.max),minLength:jd(W.minLength),maxLength:jd(W.maxLength),pattern:jd(W.pattern)}:{},name:$,onChange:U,onBlur:U,ref:de=>{if(de){te($,W),q=ve(n,$);const le=rr(de.value)&&de.querySelectorAll&&de.querySelectorAll("input,select,textarea")[0]||de,je=iee(le),ct=q._f.refs||[];if(je?ct.find(wt=>wt===le):le===q._f.ref)return;gt(n,$,{_f:{...q._f,...je?{refs:[...ct.filter(Hx),le,...Array.isArray(ve(i,$))?[{}]:[]],ref:{type:le.type,name:$}}:{ref:le}}}),S($,!1,void 0,le)}else q=ve(n,$,{}),q._f&&(q._f.mount=!1),(e.shouldUnregister||W.shouldUnregister)&&!(D4(o.array,$)&&a.action)&&o.unMount.add($)}}},oe=()=>e.shouldFocusError&&gf(n,I,o.mount),he=$=>{On($)&&(h.state.next({disabled:$}),gf(n,(W,q)=>{const ge=ve(n,q);ge&&(W.disabled=ge._f.disabled||$,Array.isArray(ge._f.refs)&&ge._f.refs.forEach(de=>{de.disabled=ge._f.disabled||$}))},0,!1))},X=($,W)=>async q=>{let ge;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let de=yr(s);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:le,values:je}=await A();r.errors=le,de=yr(je)}else await N(n);if(o.disabled.size)for(const le of o.disabled)or(de,le);if(or(r.errors,"root"),vn(r.errors)){h.state.next({errors:{}});try{await $(de,q)}catch(le){ge=le}}else W&&await W({...r.errors},q),oe(),setTimeout(oe);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:vn(r.errors)&&!ge,submitCount:r.submitCount+1,errors:r.errors}),ge)throw ge},Ve=($,W={})=>{ve(n,$)&&(rr(W.defaultValue)?D($,yr(ve(i,$))):(D($,W.defaultValue),gt(i,$,yr(W.defaultValue))),W.keepTouched||or(r.touchedFields,$),W.keepDirty||(or(r.dirtyFields,$),r.isDirty=W.defaultValue?j($,yr(ve(i,$))):j()),W.keepError||(or(r.errors,$),d.isValid&&g()),h.state.next({...r}))},Le=($,W={})=>{const q=$?yr($):i,ge=yr(q),de=vn($),le=de?i:ge;if(W.keepDefaultValues||(i=q),!W.keepValues){if(W.keepDirtyValues){const je=new Set([...o.mount,...Object.keys(Cd(i,s))]);for(const ct of Array.from(je))ve(r.dirtyFields,ct)?gt(le,ct,ve(s,ct)):D(ct,ve(le,ct))}else{if(JT&&rr($))for(const je of o.mount){const ct=ve(n,je);if(ct&&ct._f){const wt=Array.isArray(ct._f.refs)?ct._f.refs[0]:ct._f.ref;if(jg(wt)){const en=wt.closest("form");if(en){en.reset();break}}}}if(W.keepFieldsRef)for(const je of o.mount)D(je,ve(le,je));else n={}}s=e.shouldUnregister?W.keepDefaultValues?yr(i):{}:yr(le),h.array.next({values:{...le}}),h.state.next({values:{...le}})}o={mount:W.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!W.keepIsValid||!!W.keepDirtyValues,a.watch=!!e.shouldUnregister,h.state.next({submitCount:W.keepSubmitCount?r.submitCount:0,isDirty:de?!1:W.keepDirty?r.isDirty:!!(W.keepDefaultValues&&!ks($,i)),isSubmitted:W.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:de?{}:W.keepDirtyValues?W.keepDefaultValues&&s?Cd(i,s):r.dirtyFields:W.keepDefaultValues&&$?Cd(i,$):W.keepDirty?r.dirtyFields:{},touchedFields:W.keepTouched?r.touchedFields:{},errors:W.keepErrors?r.errors:{},isSubmitSuccessful:W.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},lt=($,W)=>Le(Ci($)?$(s):$,W),Te=($,W={})=>{const q=ve(n,$),ge=q&&q._f;if(ge){const de=ge.refs?ge.refs[0]:ge.ref;de.focus&&(de.focus(),W.shouldSelect&&Ci(de.select)&&de.select())}},We=$=>{r={...r,...$}},Kt={control:{register:te,unregister:re,getFieldState:G,handleSubmit:X,setError:ne,_subscribe:Se,_runSchema:A,_focusError:oe,_getWatch:O,_getDirty:j,_setValid:g,_setFieldArray:y,_setDisabledField:Ee,_setErrors:b,_getFieldArray:R,_reset:Le,_resetDefaultValues:()=>Ci(e.defaultValues)&&e.defaultValues().then($=>{lt($,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:C,_disableForm:he,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state($){a=$},get _defaultValues(){return i},get _names(){return o},set _names($){o=$},get _formState(){return r},get _options(){return e},set _options($){e={...e,...$}}},subscribe:J,trigger:F,register:te,handleSubmit:X,watch:ce,setValue:D,getValues:H,reset:lt,resetField:Ve,clearErrors:V,unregister:re,setError:ne,setFocus:Te,getFieldState:G};return{...Kt,formControl:Kt}}function W4(t={}){const e=L.useRef(void 0),r=L.useRef(void 0),[n,i]=L.useState({isDirty:!1,isValidating:!1,isLoading:Ci(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ci(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Ci(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=gee(t);e.current={...o,formState:n}}const s=e.current.control;return s._options=t,nA(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),L.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),L.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),L.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),L.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),L.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),L.useEffect(()=>{t.values&&!ks(t.values,r.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),r.current=t.values,i(a=>({...a}))):s._resetDefaultValues()},[s,t.values]),L.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=M4(n,s),e.current}const sj=(t,e,r)=>{if(t&&"reportValidity"in t){const n=ve(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},K4=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?sj(n.ref,r,t):n.refs&&n.refs.forEach(i=>sj(i,r,t))}},vee=(t,e)=>{e.shouldUseNativeValidation&&K4(t,e);const r={};for(const n in t){const i=ve(e.fields,n),s=Object.assign(t[n]||{},{ref:i&&i.ref});if(yee(e.names||Object.keys(t),n)){const a=Object.assign({},ve(r,n));gt(a,"root",s),gt(r,n,a)}else gt(r,n,s)}return r},yee=(t,e)=>t.some(r=>r.startsWith(e+"."));var xee=function(t,e){for(var r={};t.length;){var n=t[0],i=n.code,s=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[a]={message:o.message,type:o.code}}else r[a]={message:s,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var c=r[a].types,u=c&&c[n.code];r[a]=F4(a,e,r,i,u?[].concat(u,n.message):n.message)}t.shift()}return r},q4=function(t,e,r){return r===void 0&&(r={}),function(n,i,s){try{return Promise.resolve(function(a,o){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(u){return s.shouldUseNativeValidation&&K4({},s),{errors:{},values:r.raw?n:u}})}catch(u){return o(u)}return c&&c.then?c.then(void 0,o):c}(0,function(a){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(a))return{values:{},errors:vee(xee(a.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw a}))}catch(a){return Promise.reject(a)}}},ut;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(const o of s)a[o]=i[o];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},t.find=(i,s)=>{for(const a of i)if(s(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(ut||(ut={}));var aj;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(aj||(aj={}));const Ne=ut.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ea=t=>{switch(typeof t){case"undefined":return Ne.undefined;case"string":return Ne.string;case"number":return Number.isNaN(t)?Ne.nan:Ne.number;case"boolean":return Ne.boolean;case"function":return Ne.function;case"bigint":return Ne.bigint;case"symbol":return Ne.symbol;case"object":return Array.isArray(t)?Ne.array:t===null?Ne.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ne.promise:typeof Map<"u"&&t instanceof Map?Ne.map:typeof Set<"u"&&t instanceof Set?Ne.set:typeof Date<"u"&&t instanceof Date?Ne.date:Ne.object;default:return Ne.unknown}},ue=ut.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ta extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let o=n,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(r(a))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return i(this),n}static assert(e){if(!(e instanceof ta))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ut.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];r[s]=r[s]||[],r[s].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ta.create=t=>new ta(t);const uS=(t,e)=>{let r;switch(t.code){case ue.invalid_type:t.received===Ne.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case ue.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,ut.jsonStringifyReplacer)}`;break;case ue.unrecognized_keys:r=`Unrecognized key(s) in object: ${ut.joinValues(t.keys,", ")}`;break;case ue.invalid_union:r="Invalid input";break;case ue.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ut.joinValues(t.options)}`;break;case ue.invalid_enum_value:r=`Invalid enum value. Expected ${ut.joinValues(t.options)}, received '${t.received}'`;break;case ue.invalid_arguments:r="Invalid function arguments";break;case ue.invalid_return_type:r="Invalid function return type";break;case ue.invalid_date:r="Invalid date";break;case ue.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:ut.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case ue.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case ue.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case ue.custom:r="Invalid input";break;case ue.invalid_intersection_types:r="Intersection results could not be merged";break;case ue.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case ue.not_finite:r="Number must be finite";break;default:r=e.defaultError,ut.assertNever(t)}return{message:r}};let bee=uS;function wee(){return bee}const See=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let o="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)o=u(a,{data:e,defaultError:o}).message;return{...i,path:s,message:o}};function be(t,e){const r=wee(),n=See({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===uS?void 0:uS].filter(i=>!!i)});t.common.issues.push(n)}class Vn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return He;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const s=await i.key,a=await i.value;n.push({key:s,value:a})}return Vn.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return He;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(n[s.value]=a.value)}return{status:e.value,value:n}}}const He=Object.freeze({status:"aborted"}),Yd=t=>({status:"dirty",value:t}),hi=t=>({status:"valid",value:t}),oj=t=>t.status==="aborted",lj=t=>t.status==="dirty",mu=t=>t.status==="valid",kg=t=>typeof Promise<"u"&&t instanceof Promise;var Oe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Oe||(Oe={}));class fo{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const cj=(t,e)=>{if(mu(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ta(t.common.issues);return this._error=r,this._error}}};function tt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,o)=>{const{message:c}=t;return a.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:c??n??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:c??r??o.defaultError}},description:i}}class ot{get description(){return this._def.description}_getType(e){return Ea(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Ea(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Vn,ctx:{common:e.parent.common,data:e.data,parsedType:Ea(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(kg(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ea(e)},i=this._parseSync({data:e,path:n.path,parent:n});return cj(n,i)}"~validate"(e){var n,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ea(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:r});return mu(s)?{value:s.value}:{issues:r.common.issues}}catch(s){(i=(n=s==null?void 0:s.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(s=>mu(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ea(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(kg(i)?i:Promise.resolve(i));return cj(n,s)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const a=e(i),o=()=>s.addIssue({code:ue.custom,...n(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new gu({schema:this,typeName:ze.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return eo.create(this,this._def)}nullable(){return vu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return os.create(this)}promise(){return Mg.create(this,this._def)}or(e){return Lg.create([this,e],this._def)}and(e){return Dg.create(this,e,this._def)}transform(e){return new gu({...tt(this._def),schema:this,typeName:ze.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new fS({...tt(this._def),innerType:this,defaultValue:r,typeName:ze.ZodDefault})}brand(){return new zee({typeName:ze.ZodBranded,type:this,...tt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new hS({...tt(this._def),innerType:this,catchValue:r,typeName:ze.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return aA.create(this,e)}readonly(){return mS.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Eee=/^c[^\s-]{8,}$/i,Tee=/^[0-9a-z]+$/,Aee=/^[0-9A-HJKMNP-TV-Z]{26}$/i,_ee=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Pee=/^[a-z0-9_-]{21}$/i,Nee=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Cee=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,jee=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Oee="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let zx;const Iee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,kee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Ree=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Lee=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Dee=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Mee=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Y4="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",$ee=new RegExp(`^${Y4}$`);function X4(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function Fee(t){return new RegExp(`^${X4(t)}$`)}function Bee(t){let e=`${Y4}T${X4(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Uee(t,e){return!!((e==="v4"||!e)&&Iee.test(t)||(e==="v6"||!e)&&Ree.test(t))}function Vee(t,e){if(!Nee.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function Gee(t,e){return!!((e==="v4"||!e)&&kee.test(t)||(e==="v6"||!e)&&Lee.test(t))}class Ba extends ot{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ne.string){const s=this._getOrReturnCtx(e);return be(s,{code:ue.invalid_type,expected:Ne.string,received:s.parsedType}),He}const n=new Vn;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),be(i,{code:ue.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),be(i,{code:ue.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,o=e.data.length<s.value;(a||o)&&(i=this._getOrReturnCtx(e,i),a?be(i,{code:ue.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&be(i,{code:ue.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")jee.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"email",code:ue.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")zx||(zx=new RegExp(Oee,"u")),zx.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"emoji",code:ue.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")_ee.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"uuid",code:ue.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")Pee.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"nanoid",code:ue.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")Eee.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"cuid",code:ue.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")Tee.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"cuid2",code:ue.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")Aee.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"ulid",code:ue.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),be(i,{validation:"url",code:ue.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"regex",code:ue.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),be(i,{code:ue.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),be(i,{code:ue.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),be(i,{code:ue.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?Bee(s).test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{code:ue.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?$ee.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{code:ue.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?Fee(s).test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{code:ue.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?Cee.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"duration",code:ue.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?Uee(e.data,s.version)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"ip",code:ue.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?Vee(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"jwt",code:ue.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?Gee(e.data,s.version)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"cidr",code:ue.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?Dee.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"base64",code:ue.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?Mee.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"base64url",code:ue.invalid_string,message:s.message}),n.dirty()):ut.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:ue.invalid_string,...Oe.errToObj(n)})}_addCheck(e){return new Ba({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Oe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Oe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Oe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Oe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Oe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Oe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Oe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Oe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Oe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Oe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Oe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Oe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Oe.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Oe.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Oe.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Oe.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Oe.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...Oe.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Oe.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Oe.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Oe.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Oe.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Oe.errToObj(r)})}nonempty(e){return this.min(1,Oe.errToObj(e))}trim(){return new Ba({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ba({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ba({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ba.create=t=>new Ba({checks:[],typeName:ze.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...tt(t)});function Hee(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=Number.parseInt(t.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return s%a/10**i}class Jf extends ot{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ne.number){const s=this._getOrReturnCtx(e);return be(s,{code:ue.invalid_type,expected:Ne.number,received:s.parsedType}),He}let n;const i=new Vn;for(const s of this._def.checks)s.kind==="int"?ut.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),be(n,{code:ue.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),be(n,{code:ue.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),be(n,{code:ue.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Hee(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),be(n,{code:ue.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),be(n,{code:ue.not_finite,message:s.message}),i.dirty()):ut.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Oe.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Oe.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Oe.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Oe.toString(r))}setLimit(e,r,n,i){return new Jf({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Oe.toString(i)}]})}_addCheck(e){return new Jf({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Oe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Oe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Oe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Oe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Oe.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Oe.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Oe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Oe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Oe.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ut.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Jf.create=t=>new Jf({checks:[],typeName:ze.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...tt(t)});class eh extends ot{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ne.bigint)return this._getInvalidInput(e);let n;const i=new Vn;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),be(n,{code:ue.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),be(n,{code:ue.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),be(n,{code:ue.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):ut.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return be(r,{code:ue.invalid_type,expected:Ne.bigint,received:r.parsedType}),He}gte(e,r){return this.setLimit("min",e,!0,Oe.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Oe.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Oe.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Oe.toString(r))}setLimit(e,r,n,i){return new eh({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Oe.toString(i)}]})}_addCheck(e){return new eh({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Oe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Oe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Oe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Oe.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Oe.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}eh.create=t=>new eh({checks:[],typeName:ze.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...tt(t)});class uj extends ot{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ne.boolean){const n=this._getOrReturnCtx(e);return be(n,{code:ue.invalid_type,expected:Ne.boolean,received:n.parsedType}),He}return hi(e.data)}}uj.create=t=>new uj({typeName:ze.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...tt(t)});class Rg extends ot{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ne.date){const s=this._getOrReturnCtx(e);return be(s,{code:ue.invalid_type,expected:Ne.date,received:s.parsedType}),He}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return be(s,{code:ue.invalid_date}),He}const n=new Vn;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),be(i,{code:ue.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),be(i,{code:ue.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):ut.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Rg({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Oe.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Oe.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Rg.create=t=>new Rg({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ze.ZodDate,...tt(t)});class dj extends ot{_parse(e){if(this._getType(e)!==Ne.symbol){const n=this._getOrReturnCtx(e);return be(n,{code:ue.invalid_type,expected:Ne.symbol,received:n.parsedType}),He}return hi(e.data)}}dj.create=t=>new dj({typeName:ze.ZodSymbol,...tt(t)});class fj extends ot{_parse(e){if(this._getType(e)!==Ne.undefined){const n=this._getOrReturnCtx(e);return be(n,{code:ue.invalid_type,expected:Ne.undefined,received:n.parsedType}),He}return hi(e.data)}}fj.create=t=>new fj({typeName:ze.ZodUndefined,...tt(t)});class hj extends ot{_parse(e){if(this._getType(e)!==Ne.null){const n=this._getOrReturnCtx(e);return be(n,{code:ue.invalid_type,expected:Ne.null,received:n.parsedType}),He}return hi(e.data)}}hj.create=t=>new hj({typeName:ze.ZodNull,...tt(t)});class mj extends ot{constructor(){super(...arguments),this._any=!0}_parse(e){return hi(e.data)}}mj.create=t=>new mj({typeName:ze.ZodAny,...tt(t)});class pj extends ot{constructor(){super(...arguments),this._unknown=!0}_parse(e){return hi(e.data)}}pj.create=t=>new pj({typeName:ze.ZodUnknown,...tt(t)});class ho extends ot{_parse(e){const r=this._getOrReturnCtx(e);return be(r,{code:ue.invalid_type,expected:Ne.never,received:r.parsedType}),He}}ho.create=t=>new ho({typeName:ze.ZodNever,...tt(t)});class gj extends ot{_parse(e){if(this._getType(e)!==Ne.undefined){const n=this._getOrReturnCtx(e);return be(n,{code:ue.invalid_type,expected:Ne.void,received:n.parsedType}),He}return hi(e.data)}}gj.create=t=>new gj({typeName:ze.ZodVoid,...tt(t)});class os extends ot{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==Ne.array)return be(r,{code:ue.invalid_type,expected:Ne.array,received:r.parsedType}),He;if(i.exactLength!==null){const a=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(a||o)&&(be(r,{code:a?ue.too_big:ue.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(be(r,{code:ue.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(be(r,{code:ue.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,o)=>i.type._parseAsync(new fo(r,a,r.path,o)))).then(a=>Vn.mergeArray(n,a));const s=[...r.data].map((a,o)=>i.type._parseSync(new fo(r,a,r.path,o)));return Vn.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new os({...this._def,minLength:{value:e,message:Oe.toString(r)}})}max(e,r){return new os({...this._def,maxLength:{value:e,message:Oe.toString(r)}})}length(e,r){return new os({...this._def,exactLength:{value:e,message:Oe.toString(r)}})}nonempty(e){return this.min(1,e)}}os.create=(t,e)=>new os({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ze.ZodArray,...tt(e)});function sc(t){if(t instanceof dr){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=eo.create(sc(n))}return new dr({...t._def,shape:()=>e})}else return t instanceof os?new os({...t._def,type:sc(t.element)}):t instanceof eo?eo.create(sc(t.unwrap())):t instanceof vu?vu.create(sc(t.unwrap())):t instanceof _l?_l.create(t.items.map(e=>sc(e))):t}class dr extends ot{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=ut.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==Ne.object){const u=this._getOrReturnCtx(e);return be(u,{code:ue.invalid_type,expected:Ne.object,received:u.parsedType}),He}const{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof ho&&this._def.unknownKeys==="strip"))for(const u in i.data)a.includes(u)||o.push(u);const c=[];for(const u of a){const d=s[u],f=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new fo(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof ho){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of o)c.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")o.length>0&&(be(i,{code:ue.unrecognized_keys,keys:o}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of o){const f=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new fo(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>Vn.mergeObjectSync(n,u)):Vn.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return Oe.errToObj,new dr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var s,a;const i=((a=(s=this._def).errorMap)==null?void 0:a.call(s,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Oe.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new dr({...this._def,unknownKeys:"strip"})}passthrough(){return new dr({...this._def,unknownKeys:"passthrough"})}extend(e){return new dr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new dr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ze.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new dr({...this._def,catchall:e})}pick(e){const r={};for(const n of ut.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new dr({...this._def,shape:()=>r})}omit(e){const r={};for(const n of ut.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new dr({...this._def,shape:()=>r})}deepPartial(){return sc(this)}partial(e){const r={};for(const n of ut.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new dr({...this._def,shape:()=>r})}required(e){const r={};for(const n of ut.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof eo;)s=s._def.innerType;r[n]=s}return new dr({...this._def,shape:()=>r})}keyof(){return Q4(ut.objectKeys(this.shape))}}dr.create=(t,e)=>new dr({shape:()=>t,unknownKeys:"strip",catchall:ho.create(),typeName:ze.ZodObject,...tt(e)});dr.strictCreate=(t,e)=>new dr({shape:()=>t,unknownKeys:"strict",catchall:ho.create(),typeName:ze.ZodObject,...tt(e)});dr.lazycreate=(t,e)=>new dr({shape:t,unknownKeys:"strip",catchall:ho.create(),typeName:ze.ZodObject,...tt(e)});class Lg extends ot{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(o=>new ta(o.ctx.common.issues));return be(r,{code:ue.invalid_union,unionErrors:a}),He}if(r.common.async)return Promise.all(n.map(async s=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const o=a.map(c=>new ta(c));return be(r,{code:ue.invalid_union,unionErrors:o}),He}}get options(){return this._def.options}}Lg.create=(t,e)=>new Lg({options:t,typeName:ze.ZodUnion,...tt(e)});function dS(t,e){const r=Ea(t),n=Ea(e);if(t===e)return{valid:!0,data:t};if(r===Ne.object&&n===Ne.object){const i=ut.objectKeys(e),s=ut.objectKeys(t).filter(o=>i.indexOf(o)!==-1),a={...t,...e};for(const o of s){const c=dS(t[o],e[o]);if(!c.valid)return{valid:!1};a[o]=c.data}return{valid:!0,data:a}}else if(r===Ne.array&&n===Ne.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const a=t[s],o=e[s],c=dS(a,o);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===Ne.date&&n===Ne.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Dg extends ot{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(s,a)=>{if(oj(s)||oj(a))return He;const o=dS(s.value,a.value);return o.valid?((lj(s)||lj(a))&&r.dirty(),{status:r.value,value:o.data}):(be(n,{code:ue.invalid_intersection_types}),He)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Dg.create=(t,e,r)=>new Dg({left:t,right:e,typeName:ze.ZodIntersection,...tt(r)});class _l extends ot{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ne.array)return be(n,{code:ue.invalid_type,expected:Ne.array,received:n.parsedType}),He;if(n.data.length<this._def.items.length)return be(n,{code:ue.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),He;!this._def.rest&&n.data.length>this._def.items.length&&(be(n,{code:ue.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((a,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new fo(n,a,n.path,o)):null}).filter(a=>!!a);return n.common.async?Promise.all(s).then(a=>Vn.mergeArray(r,a)):Vn.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new _l({...this._def,rest:e})}}_l.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new _l({items:t,typeName:ze.ZodTuple,rest:null,...tt(e)})};class vj extends ot{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ne.map)return be(n,{code:ue.invalid_type,expected:Ne.map,received:n.parsedType}),He;const i=this._def.keyType,s=this._def.valueType,a=[...n.data.entries()].map(([o,c],u)=>({key:i._parse(new fo(n,o,n.path,[u,"key"])),value:s._parse(new fo(n,c,n.path,[u,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of a){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return He;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const c of a){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return He;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}}}}vj.create=(t,e,r)=>new vj({valueType:e,keyType:t,typeName:ze.ZodMap,...tt(r)});class th extends ot{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ne.set)return be(n,{code:ue.invalid_type,expected:Ne.set,received:n.parsedType}),He;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(be(n,{code:ue.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(be(n,{code:ue.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function a(c){const u=new Set;for(const d of c){if(d.status==="aborted")return He;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const o=[...n.data.values()].map((c,u)=>s._parse(new fo(n,c,n.path,u)));return n.common.async?Promise.all(o).then(c=>a(c)):a(o)}min(e,r){return new th({...this._def,minSize:{value:e,message:Oe.toString(r)}})}max(e,r){return new th({...this._def,maxSize:{value:e,message:Oe.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}th.create=(t,e)=>new th({valueType:t,minSize:null,maxSize:null,typeName:ze.ZodSet,...tt(e)});class yj extends ot{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}yj.create=(t,e)=>new yj({getter:t,typeName:ze.ZodLazy,...tt(e)});class xj extends ot{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return be(r,{received:r.data,code:ue.invalid_literal,expected:this._def.value}),He}return{status:"valid",value:e.data}}get value(){return this._def.value}}xj.create=(t,e)=>new xj({value:t,typeName:ze.ZodLiteral,...tt(e)});function Q4(t,e){return new pu({values:t,typeName:ze.ZodEnum,...tt(e)})}class pu extends ot{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return be(r,{expected:ut.joinValues(n),received:r.parsedType,code:ue.invalid_type}),He}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return be(r,{received:r.data,code:ue.invalid_enum_value,options:n}),He}return hi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return pu.create(e,{...this._def,...r})}exclude(e,r=this._def){return pu.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}pu.create=Q4;class bj extends ot{_parse(e){const r=ut.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Ne.string&&n.parsedType!==Ne.number){const i=ut.objectValues(r);return be(n,{expected:ut.joinValues(i),received:n.parsedType,code:ue.invalid_type}),He}if(this._cache||(this._cache=new Set(ut.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=ut.objectValues(r);return be(n,{received:n.data,code:ue.invalid_enum_value,options:i}),He}return hi(e.data)}get enum(){return this._def.values}}bj.create=(t,e)=>new bj({values:t,typeName:ze.ZodNativeEnum,...tt(e)});class Mg extends ot{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ne.promise&&r.common.async===!1)return be(r,{code:ue.invalid_type,expected:Ne.promise,received:r.parsedType}),He;const n=r.parsedType===Ne.promise?r.data:Promise.resolve(r.data);return hi(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Mg.create=(t,e)=>new Mg({type:t,typeName:ze.ZodPromise,...tt(e)});class gu extends ot{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ze.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:a=>{be(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(n.data,s);if(n.common.async)return Promise.resolve(a).then(async o=>{if(r.value==="aborted")return He;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?He:c.status==="dirty"||r.value==="dirty"?Yd(c.value):c});{if(r.value==="aborted")return He;const o=this._def.schema._parseSync({data:a,path:n.path,parent:n});return o.status==="aborted"?He:o.status==="dirty"||r.value==="dirty"?Yd(o.value):o}}if(i.type==="refinement"){const a=o=>{const c=i.refinement(o,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?He:(o.status==="dirty"&&r.dirty(),a(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?He:(o.status==="dirty"&&r.dirty(),a(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!mu(a))return He;const o=i.transform(a.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>mu(a)?Promise.resolve(i.transform(a.value,s)).then(o=>({status:r.value,value:o})):He);ut.assertNever(i)}}gu.create=(t,e,r)=>new gu({schema:t,typeName:ze.ZodEffects,effect:e,...tt(r)});gu.createWithPreprocess=(t,e,r)=>new gu({schema:e,effect:{type:"preprocess",transform:t},typeName:ze.ZodEffects,...tt(r)});class eo extends ot{_parse(e){return this._getType(e)===Ne.undefined?hi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eo.create=(t,e)=>new eo({innerType:t,typeName:ze.ZodOptional,...tt(e)});class vu extends ot{_parse(e){return this._getType(e)===Ne.null?hi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}vu.create=(t,e)=>new vu({innerType:t,typeName:ze.ZodNullable,...tt(e)});class fS extends ot{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Ne.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}fS.create=(t,e)=>new fS({innerType:t,typeName:ze.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...tt(e)});class hS extends ot{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return kg(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ta(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ta(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}hS.create=(t,e)=>new hS({innerType:t,typeName:ze.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...tt(e)});class wj extends ot{_parse(e){if(this._getType(e)!==Ne.nan){const n=this._getOrReturnCtx(e);return be(n,{code:ue.invalid_type,expected:Ne.nan,received:n.parsedType}),He}return{status:"valid",value:e.data}}}wj.create=t=>new wj({typeName:ze.ZodNaN,...tt(t)});class zee extends ot{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class aA extends ot{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?He:s.status==="dirty"?(r.dirty(),Yd(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?He:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new aA({in:e,out:r,typeName:ze.ZodPipeline})}}class mS extends ot{_parse(e){const r=this._def.innerType._parse(e),n=i=>(mu(i)&&(i.value=Object.freeze(i.value)),i);return kg(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}mS.create=(t,e)=>new mS({innerType:t,typeName:ze.ZodReadonly,...tt(e)});var ze;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ze||(ze={}));const cr=Ba.create;ho.create;os.create;const Z4=dr.create;Lg.create;Dg.create;_l.create;pu.create;Mg.create;eo.create;vu.create;var Wee="Label",J4=E.forwardRef((t,e)=>l.jsx(Re.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));J4.displayName=Wee;var eB=J4;const Kee=ly("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ce=E.forwardRef(({className:t,...e},r)=>l.jsx(eB,{ref:r,className:Fe(Kee(),t),...e}));Ce.displayName=eB.displayName;const tB=JJ,rB=E.createContext({}),ur=({...t})=>l.jsx(rB.Provider,{value:{name:t.name},children:l.jsx(nee,{...t})}),Ny=()=>{const t=E.useContext(rB),e=E.useContext(nB),{getFieldState:r,formState:n}=Py(),i=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},nB=E.createContext({}),Zt=E.forwardRef(({className:t,...e},r)=>{const n=E.useId();return l.jsx(nB.Provider,{value:{id:n},children:l.jsx("div",{ref:r,className:Fe("space-y-2",t),...e})})});Zt.displayName="FormItem";const Jt=E.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:i}=Ny();return l.jsx(Ce,{ref:r,className:Fe(n&&"text-destructive",t),htmlFor:i,...e})});Jt.displayName="FormLabel";const er=E.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:s}=Ny();return l.jsx(TD,{ref:e,id:n,"aria-describedby":r?`${i} ${s}`:`${i}`,"aria-invalid":!!r,...t})});er.displayName="FormControl";const qee=E.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=Ny();return l.jsx("p",{ref:r,id:n,className:Fe("text-sm text-muted-foreground",t),...e})});qee.displayName="FormDescription";const tr=E.forwardRef(({className:t,children:e,...r},n)=>{const{error:i,formMessageId:s}=Ny(),a=i?String((i==null?void 0:i.message)??""):e;return a?l.jsx("p",{ref:n,id:s,className:Fe("text-sm font-medium text-destructive",t),...r,children:a}):null});tr.displayName="FormMessage";const Br=E.forwardRef(({className:t,...e},r)=>l.jsx("textarea",{className:Fe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...e}));Br.displayName="Textarea";const Yee=Z4({name:cr().min(2,"Name must be at least 2 characters"),email:cr().email("Please enter a valid email address"),phone:cr().optional(),organization:cr().optional(),topic:cr().min(5,"Topic must be at least 5 characters"),description:cr().min(20,"Please provide more details (at least 20 characters)"),preferredDate:cr().optional(),preferredTime:cr().optional()});function Xee({isOpen:t,onClose:e}){const{toast:r}=Jr(),n=Bl(),i=W4({resolver:q4(Yee),defaultValues:{name:"",email:"",phone:"",organization:"",topic:"",description:"",preferredDate:"",preferredTime:""}}),s=Ar({mutationFn:async o=>(await zt("POST","/api/interview-requests",o)).json(),onSuccess:()=>{r({title:"Interview Request Submitted",description:"We'll review your request and get back to you soon!"}),i.reset(),e(),n.invalidateQueries({queryKey:["/api/admin/interview-requests"]})},onError:o=>{r({title:"Submission Failed",description:o.message||"Please try again later",variant:"destructive"})}}),a=o=>{s.mutate(o)};return l.jsx(Sl,{open:t,onOpenChange:e,children:l.jsxs(lo,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[l.jsxs(El,{children:[l.jsx(Tl,{className:"text-xl font-bold text-gray-900",children:"Schedule an Interview"}),l.jsx(_T,{className:"text-gray-600",children:"Tell us about yourself and what you'd like to discuss on Oroma TV."})]}),l.jsx(tB,{...i,children:l.jsxs("form",{onSubmit:i.handleSubmit(a),className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(ur,{control:i.control,name:"name",render:({field:o})=>l.jsxs(Zt,{children:[l.jsx(Jt,{children:"Full Name *"}),l.jsx(er,{children:l.jsx(ke,{placeholder:"Your full name",...o})}),l.jsx(tr,{})]})}),l.jsx(ur,{control:i.control,name:"email",render:({field:o})=>l.jsxs(Zt,{children:[l.jsx(Jt,{children:"Email Address *"}),l.jsx(er,{children:l.jsx(ke,{type:"email",placeholder:"your@email.com",...o})}),l.jsx(tr,{})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(ur,{control:i.control,name:"phone",render:({field:o})=>l.jsxs(Zt,{children:[l.jsx(Jt,{children:"Phone Number"}),l.jsx(er,{children:l.jsx(ke,{placeholder:"+256 700 000 000",...o})}),l.jsx(tr,{})]})}),l.jsx(ur,{control:i.control,name:"organization",render:({field:o})=>l.jsxs(Zt,{children:[l.jsx(Jt,{children:"Organization (Optional)"}),l.jsx(er,{children:l.jsx(ke,{placeholder:"Your organization",...o})}),l.jsx(tr,{})]})})]}),l.jsx(ur,{control:i.control,name:"topic",render:({field:o})=>l.jsxs(Zt,{children:[l.jsx(Jt,{children:"Interview Topic *"}),l.jsx(er,{children:l.jsx(ke,{placeholder:"What would you like to discuss?",...o})}),l.jsx(tr,{})]})}),l.jsx(ur,{control:i.control,name:"description",render:({field:o})=>l.jsxs(Zt,{children:[l.jsx(Jt,{children:"Description *"}),l.jsx(er,{children:l.jsx(Br,{placeholder:"Tell us more about the topic, your background, and why this would be interesting for our viewers...",className:"min-h-[100px]",...o})}),l.jsx(tr,{})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(ur,{control:i.control,name:"preferredDate",render:({field:o})=>l.jsxs(Zt,{children:[l.jsx(Jt,{children:"Preferred Date"}),l.jsx(er,{children:l.jsx(ke,{type:"date",...o})}),l.jsx(tr,{})]})}),l.jsx(ur,{control:i.control,name:"preferredTime",render:({field:o})=>l.jsxs(Zt,{children:[l.jsx(Jt,{children:"Preferred Time"}),l.jsx(er,{children:l.jsx(ke,{type:"time",...o})}),l.jsx(tr,{})]})})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx(Q,{type:"button",variant:"outline",onClick:e,disabled:s.isPending,children:"Cancel"}),l.jsx(Q,{type:"submit",className:"bg-red-600 hover:bg-red-700",disabled:s.isPending,children:s.isPending?"Submitting...":"Submit Request"})]})]})})]})})}var Qee=[" ","Enter","ArrowUp","ArrowDown"],Zee=[" ","Enter"],Pl="Select",[Cy,jy,Jee]=sy(Pl),[nd,Fje]=zn(Pl,[Jee,td]),Oy=td(),[ete,yo]=nd(Pl),[tte,rte]=nd(Pl),iB=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:p}=t,g=Oy(e),[v,y]=E.useState(null),[x,b]=E.useState(null),[S,w]=E.useState(!1),T=Xh(u),[A,_]=Zs({prop:n,defaultProp:i??!1,onChange:s,caller:Pl}),[N,C]=Zs({prop:a,defaultProp:o,onChange:c,caller:Pl}),j=E.useRef(null),O=v?p||!!v.closest("form"):!0,[R,k]=E.useState(new Set),M=Array.from(R).map(D=>D.props.value).join(";");return l.jsx(zM,{...g,children:l.jsxs(ete,{required:m,scope:e,trigger:v,onTriggerChange:y,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:w,contentId:Gs(),value:N,onValueChange:C,open:A,onOpenChange:_,dir:T,triggerPointerDownPosRef:j,disabled:h,children:[l.jsx(Cy.Provider,{scope:e,children:l.jsx(tte,{scope:t.__scopeSelect,onNativeOptionAdd:E.useCallback(D=>{k(U=>new Set(U).add(D))},[]),onNativeOptionRemove:E.useCallback(D=>{k(U=>{const I=new Set(U);return I.delete(D),I})},[]),children:r})}),O?l.jsxs(NB,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:D=>C(D.target.value),disabled:h,form:p,children:[N===void 0?l.jsx("option",{value:""}):null,Array.from(R)]},M):null]})})};iB.displayName=Pl;var sB="SelectTrigger",aB=E.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,s=Oy(r),a=yo(sB,r),o=a.disabled||n,c=Ye(e,a.onTriggerChange),u=jy(r),d=E.useRef("touch"),[f,h,m]=jB(g=>{const v=u().filter(b=>!b.disabled),y=v.find(b=>b.value===a.value),x=OB(v,g,y);x!==void 0&&a.onValueChange(x.value)}),p=g=>{o||(a.onOpenChange(!0),m()),g&&(a.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return l.jsx(my,{asChild:!0,...s,children:l.jsx(Re.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":CB(a.value)?"":void 0,...i,ref:c,onClick:we(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&p(g)}),onPointerDown:we(i.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(p(g),g.preventDefault())}),onKeyDown:we(i.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(v&&g.key===" ")&&Qee.includes(g.key)&&(p(),g.preventDefault())})})})});aB.displayName=sB;var oB="SelectValue",lB=E.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:a="",...o}=t,c=yo(oB,r),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=Ye(e,c.onValueNodeChange);return ar(()=>{u(d)},[u,d]),l.jsx(Re.span,{...o,ref:f,style:{pointerEvents:"none"},children:CB(c.value)?l.jsx(l.Fragment,{children:a}):s})});lB.displayName=oB;var nte="SelectIcon",cB=E.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return l.jsx(Re.span,{"aria-hidden":!0,...i,ref:e,children:n||"▼"})});cB.displayName=nte;var ite="SelectPortal",uB=t=>l.jsx(Kh,{asChild:!0,...t});uB.displayName=ite;var Nl="SelectContent",dB=E.forwardRef((t,e)=>{const r=yo(Nl,t.__scopeSelect),[n,i]=E.useState();if(ar(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?Fl.createPortal(l.jsx(fB,{scope:t.__scopeSelect,children:l.jsx(Cy.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),s):null}return l.jsx(hB,{...t,ref:e})});dB.displayName=Nl;var bi=10,[fB,xo]=nd(Nl),ste="SelectContentImpl",ate=gl("SelectContent.RemoveScroll"),hB=E.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:p,hideWhenDetached:g,avoidCollisions:v,...y}=t,x=yo(Nl,r),[b,S]=E.useState(null),[w,T]=E.useState(null),A=Ye(e,re=>S(re)),[_,N]=E.useState(null),[C,j]=E.useState(null),O=jy(r),[R,k]=E.useState(!1),M=E.useRef(!1);E.useEffect(()=>{if(b)return wT(b)},[b]),bT();const D=E.useCallback(re=>{const[Ee,...te]=O().map(X=>X.ref.current),[oe]=te.slice(-1),he=document.activeElement;for(const X of re)if(X===he||(X==null||X.scrollIntoView({block:"nearest"}),X===Ee&&w&&(w.scrollTop=0),X===oe&&w&&(w.scrollTop=w.scrollHeight),X==null||X.focus(),document.activeElement!==he))return},[O,w]),U=E.useCallback(()=>D([_,b]),[D,_,b]);E.useEffect(()=>{R&&U()},[R,U]);const{onOpenChange:I,triggerPointerDownPosRef:F}=x;E.useEffect(()=>{if(b){let re={x:0,y:0};const Ee=oe=>{var he,X;re={x:Math.abs(Math.round(oe.pageX)-(((he=F.current)==null?void 0:he.x)??0)),y:Math.abs(Math.round(oe.pageY)-(((X=F.current)==null?void 0:X.y)??0))}},te=oe=>{re.x<=10&&re.y<=10?oe.preventDefault():b.contains(oe.target)||I(!1),document.removeEventListener("pointermove",Ee),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",Ee),document.addEventListener("pointerup",te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ee),document.removeEventListener("pointerup",te,{capture:!0})}}},[b,I,F]),E.useEffect(()=>{const re=()=>I(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[I]);const[H,G]=jB(re=>{const Ee=O().filter(he=>!he.disabled),te=Ee.find(he=>he.ref.current===document.activeElement),oe=OB(Ee,re,te);oe&&setTimeout(()=>oe.ref.current.focus())}),V=E.useCallback((re,Ee,te)=>{const oe=!M.current&&!te;(x.value!==void 0&&x.value===Ee||oe)&&(N(re),oe&&(M.current=!0))},[x.value]),ne=E.useCallback(()=>b==null?void 0:b.focus(),[b]),ce=E.useCallback((re,Ee,te)=>{const oe=!M.current&&!te;(x.value!==void 0&&x.value===Ee||oe)&&j(re)},[x.value]),Se=n==="popper"?pS:mB,J=Se===pS?{side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:p,hideWhenDetached:g,avoidCollisions:v}:{};return l.jsx(fB,{scope:r,content:b,viewport:w,onViewportChange:T,itemRefCallback:V,selectedItem:_,onItemLeave:ne,itemTextRefCallback:ce,focusSelectedItem:U,selectedItemText:C,position:n,isPositioned:R,searchRef:H,children:l.jsx(xy,{as:ate,allowPinchZoom:!0,children:l.jsx(vy,{asChild:!0,trapped:x.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:we(i,re=>{var Ee;(Ee=x.trigger)==null||Ee.focus({preventScroll:!0}),re.preventDefault()}),children:l.jsx(Qu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:l.jsx(Se,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:re=>re.preventDefault(),...y,...J,onPlaced:()=>k(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:we(y.onKeyDown,re=>{const Ee=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!Ee&&re.key.length===1&&G(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let oe=O().filter(he=>!he.disabled).map(he=>he.ref.current);if(["ArrowUp","End"].includes(re.key)&&(oe=oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const he=re.target,X=oe.indexOf(he);oe=oe.slice(X+1)}setTimeout(()=>D(oe)),re.preventDefault()}})})})})})})});hB.displayName=ste;var ote="SelectItemAlignedPosition",mB=E.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,s=yo(Nl,r),a=xo(Nl,r),[o,c]=E.useState(null),[u,d]=E.useState(null),f=Ye(e,A=>d(A)),h=jy(r),m=E.useRef(!1),p=E.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:y,focusSelectedItem:x}=a,b=E.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&u&&g&&v&&y){const A=s.trigger.getBoundingClientRect(),_=u.getBoundingClientRect(),N=s.valueNode.getBoundingClientRect(),C=y.getBoundingClientRect();if(s.dir!=="rtl"){const he=C.left-_.left,X=N.left-he,Ve=A.left-X,Le=A.width+Ve,lt=Math.max(Le,_.width),Te=window.innerWidth-bi,We=zf(X,[bi,Math.max(bi,Te-lt)]);o.style.minWidth=Le+"px",o.style.left=We+"px"}else{const he=_.right-C.right,X=window.innerWidth-N.right-he,Ve=window.innerWidth-A.right-X,Le=A.width+Ve,lt=Math.max(Le,_.width),Te=window.innerWidth-bi,We=zf(X,[bi,Math.max(bi,Te-lt)]);o.style.minWidth=Le+"px",o.style.right=We+"px"}const j=h(),O=window.innerHeight-bi*2,R=g.scrollHeight,k=window.getComputedStyle(u),M=parseInt(k.borderTopWidth,10),D=parseInt(k.paddingTop,10),U=parseInt(k.borderBottomWidth,10),I=parseInt(k.paddingBottom,10),F=M+D+R+I+U,H=Math.min(v.offsetHeight*5,F),G=window.getComputedStyle(g),V=parseInt(G.paddingTop,10),ne=parseInt(G.paddingBottom,10),ce=A.top+A.height/2-bi,Se=O-ce,J=v.offsetHeight/2,re=v.offsetTop+J,Ee=M+D+re,te=F-Ee;if(Ee<=ce){const he=j.length>0&&v===j[j.length-1].ref.current;o.style.bottom="0px";const X=u.clientHeight-g.offsetTop-g.offsetHeight,Ve=Math.max(Se,J+(he?ne:0)+X+U),Le=Ee+Ve;o.style.height=Le+"px"}else{const he=j.length>0&&v===j[0].ref.current;o.style.top="0px";const Ve=Math.max(ce,M+g.offsetTop+(he?V:0)+J)+te;o.style.height=Ve+"px",g.scrollTop=Ee-ce+g.offsetTop}o.style.margin=`${bi}px 0`,o.style.minHeight=H+"px",o.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,o,u,g,v,y,s.dir,n]);ar(()=>b(),[b]);const[S,w]=E.useState();ar(()=>{u&&w(window.getComputedStyle(u).zIndex)},[u]);const T=E.useCallback(A=>{A&&p.current===!0&&(b(),x==null||x(),p.current=!1)},[b,x]);return l.jsx(cte,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:m,onScrollButtonChange:T,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:l.jsx(Re.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});mB.displayName=ote;var lte="SelectPopperPosition",pS=E.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=bi,...s}=t,a=Oy(r);return l.jsx(gT,{...a,...s,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});pS.displayName=lte;var[cte,oA]=nd(Nl,{}),gS="SelectViewport",pB=E.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,s=xo(gS,r),a=oA(gS,r),o=Ye(e,s.onViewportChange),c=E.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(Cy.Slot,{scope:r,children:l.jsx(Re.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:we(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const p=window.innerHeight-bi*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),y=Math.max(g,v);if(y<p){const x=y+m,b=Math.min(p,x),S=x-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});pB.displayName=gS;var gB="SelectGroup",[ute,dte]=nd(gB),fte=E.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Gs();return l.jsx(ute,{scope:r,id:i,children:l.jsx(Re.div,{role:"group","aria-labelledby":i,...n,ref:e})})});fte.displayName=gB;var vB="SelectLabel",yB=E.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=dte(vB,r);return l.jsx(Re.div,{id:i.id,...n,ref:e})});yB.displayName=vB;var $g="SelectItem",[hte,xB]=nd($g),bB=E.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...a}=t,o=yo($g,r),c=xo($g,r),u=o.value===n,[d,f]=E.useState(s??""),[h,m]=E.useState(!1),p=Ye(e,x=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,x,n,i)}),g=Gs(),v=E.useRef("touch"),y=()=>{i||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(hte,{scope:r,value:n,disabled:i,textId:g,isSelected:u,onItemTextChange:E.useCallback(x=>{f(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:l.jsx(Cy.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:l.jsx(Re.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:p,onFocus:we(a.onFocus,()=>m(!0)),onBlur:we(a.onBlur,()=>m(!1)),onClick:we(a.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:we(a.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:we(a.onPointerDown,x=>{v.current=x.pointerType}),onPointerMove:we(a.onPointerMove,x=>{var b;v.current=x.pointerType,i?(b=c.onItemLeave)==null||b.call(c):v.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:we(a.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:we(a.onKeyDown,x=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&x.key===" "||(Zee.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});bB.displayName=$g;var Xd="SelectItemText",wB=E.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...s}=t,a=yo(Xd,r),o=xo(Xd,r),c=xB(Xd,r),u=rte(Xd,r),[d,f]=E.useState(null),h=Ye(e,y=>f(y),c.onItemTextChange,y=>{var x;return(x=o.itemTextRefCallback)==null?void 0:x.call(o,y,c.value,c.disabled)}),m=d==null?void 0:d.textContent,p=E.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return ar(()=>(g(p),()=>v(p)),[g,v,p]),l.jsxs(l.Fragment,{children:[l.jsx(Re.span,{id:c.textId,...s,ref:h}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Fl.createPortal(s.children,a.valueNode):null]})});wB.displayName=Xd;var SB="SelectItemIndicator",EB=E.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return xB(SB,r).isSelected?l.jsx(Re.span,{"aria-hidden":!0,...n,ref:e}):null});EB.displayName=SB;var vS="SelectScrollUpButton",TB=E.forwardRef((t,e)=>{const r=xo(vS,t.__scopeSelect),n=oA(vS,t.__scopeSelect),[i,s]=E.useState(!1),a=Ye(e,n.onScrollButtonChange);return ar(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?l.jsx(_B,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});TB.displayName=vS;var yS="SelectScrollDownButton",AB=E.forwardRef((t,e)=>{const r=xo(yS,t.__scopeSelect),n=oA(yS,t.__scopeSelect),[i,s]=E.useState(!1),a=Ye(e,n.onScrollButtonChange);return ar(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?l.jsx(_B,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});AB.displayName=yS;var _B=E.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,s=xo("SelectScrollButton",r),a=E.useRef(null),o=jy(r),c=E.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return E.useEffect(()=>()=>c(),[c]),ar(()=>{var d;const u=o().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),l.jsx(Re.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:we(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:we(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:we(i.onPointerLeave,()=>{c()})})}),mte="SelectSeparator",PB=E.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return l.jsx(Re.div,{"aria-hidden":!0,...n,ref:e})});PB.displayName=mte;var xS="SelectArrow",pte=E.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Oy(r),s=yo(xS,r),a=xo(xS,r);return s.open&&a.position==="popper"?l.jsx(vT,{...i,...n,ref:e}):null});pte.displayName=xS;var gte="SelectBubbleInput",NB=E.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=E.useRef(null),s=Ye(n,i),a=CT(e);return E.useEffect(()=>{const o=i.current;if(!o)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&d){const f=new Event("change",{bubbles:!0});d.call(o,e),o.dispatchEvent(f)}},[a,e]),l.jsx(Re.select,{...r,style:{...jD,...r.style},ref:s,defaultValue:e})});NB.displayName=gte;function CB(t){return t===""||t===void 0}function jB(t){const e=mr(t),r=E.useRef(""),n=E.useRef(0),i=E.useCallback(a=>{const o=r.current+a;e(o),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(o)},[e]),s=E.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function OB(t,e,r){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let a=vte(t,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function vte(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var yte=iB,IB=aB,xte=lB,bte=cB,wte=uB,kB=dB,Ste=pB,RB=yB,LB=bB,Ete=wB,Tte=EB,DB=TB,MB=AB,$B=PB;const lA=yte,cA=xte,Iy=E.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(IB,{ref:n,className:Fe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,l.jsx(bte,{asChild:!0,children:l.jsx(rM,{className:"h-4 w-4 opacity-50"})})]}));Iy.displayName=IB.displayName;const FB=E.forwardRef(({className:t,...e},r)=>l.jsx(DB,{ref:r,className:Fe("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(cz,{className:"h-4 w-4"})}));FB.displayName=DB.displayName;const BB=E.forwardRef(({className:t,...e},r)=>l.jsx(MB,{ref:r,className:Fe("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(rM,{className:"h-4 w-4"})}));BB.displayName=MB.displayName;const ky=E.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>l.jsx(wte,{children:l.jsxs(kB,{ref:i,className:Fe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[l.jsx(FB,{}),l.jsx(Ste,{className:Fe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(BB,{})]})}));ky.displayName=kB.displayName;const Ate=E.forwardRef(({className:t,...e},r)=>l.jsx(RB,{ref:r,className:Fe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Ate.displayName=RB.displayName;const Kr=E.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(LB,{ref:n,className:Fe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Tte,{children:l.jsx(tM,{className:"h-4 w-4"})})}),l.jsx(Ete,{children:e})]}));Kr.displayName=LB.displayName;const _te=E.forwardRef(({className:t,...e},r)=>l.jsx($B,{ref:r,className:Fe("-mx-1 my-1 h-px bg-muted",t),...e}));_te.displayName=$B.displayName;const Pte=Z4({proposerName:cr().min(2,"Name must be at least 2 characters"),proposerEmail:cr().email("Please enter a valid email address"),proposerPhone:cr().optional(),organization:cr().optional(),programTitle:cr().min(3,"Program title must be at least 3 characters"),programDescription:cr().min(50,"Please provide a detailed description (at least 50 characters)"),category:cr().min(1,"Please select a category"),duration:cr().optional(),targetAudience:cr().optional(),proposedSchedule:cr().optional(),resources:cr().optional(),experience:cr().optional()}),Nte=["News & Current Affairs","Education","Agriculture","Health","Youth & Entertainment","Culture & Arts","Business & Economy","Sports","Community Development","Technology","Environment","Other"];function Cte({isOpen:t,onClose:e}){const{toast:r}=Jr(),n=Bl(),i=W4({resolver:q4(Pte),defaultValues:{proposerName:"",proposerEmail:"",proposerPhone:"",organization:"",programTitle:"",programDescription:"",category:"",duration:"",targetAudience:"",proposedSchedule:"",resources:"",experience:""}}),s=Ar({mutationFn:async o=>(await zt("POST","/api/program-proposals",o)).json(),onSuccess:()=>{r({title:"Program Proposal Submitted",description:"We'll review your proposal and contact you soon!"}),i.reset(),e(),n.invalidateQueries({queryKey:["/api/admin/program-proposals"]})},onError:o=>{r({title:"Submission Failed",description:o.message||"Please try again later",variant:"destructive"})}}),a=o=>{s.mutate(o)};return l.jsx(Sl,{open:t,onOpenChange:e,children:l.jsxs(lo,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[l.jsxs(El,{children:[l.jsx(Tl,{className:"text-xl font-bold text-gray-900",children:"Propose a Program"}),l.jsx(_T,{className:"text-gray-600",children:"Share your program idea with us. We're always looking for fresh content that serves Northern Uganda."})]}),l.jsx(tB,{...i,children:l.jsxs("form",{onSubmit:i.handleSubmit(a),className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(ur,{control:i.control,name:"proposerName",render:({field:o})=>l.jsxs(Zt,{children:[l.jsx(Jt,{children:"Full Name *"}),l.jsx(er,{children:l.jsx(ke,{placeholder:"Your full name",...o})}),l.jsx(tr,{})]})}),l.jsx(ur,{control:i.control,name:"proposerEmail",render:({field:o})=>l.jsxs(Zt,{children:[l.jsx(Jt,{children:"Email Address *"}),l.jsx(er,{children:l.jsx(ke,{type:"email",placeholder:"your@email.com",...o})}),l.jsx(tr,{})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(ur,{control:i.control,name:"proposerPhone",render:({field:o})=>l.jsxs(Zt,{children:[l.jsx(Jt,{children:"Phone Number"}),l.jsx(er,{children:l.jsx(ke,{placeholder:"+256 700 000 000",...o})}),l.jsx(tr,{})]})}),l.jsx(ur,{control:i.control,name:"organization",render:({field:o})=>l.jsxs(Zt,{children:[l.jsx(Jt,{children:"Organization (Optional)"}),l.jsx(er,{children:l.jsx(ke,{placeholder:"Your organization",...o})}),l.jsx(tr,{})]})})]}),l.jsx(ur,{control:i.control,name:"programTitle",render:({field:o})=>l.jsxs(Zt,{children:[l.jsx(Jt,{children:"Program Title *"}),l.jsx(er,{children:l.jsx(ke,{placeholder:"What's your program called?",...o})}),l.jsx(tr,{})]})}),l.jsx(ur,{control:i.control,name:"category",render:({field:o})=>l.jsxs(Zt,{children:[l.jsx(Jt,{children:"Category *"}),l.jsxs(lA,{onValueChange:o.onChange,defaultValue:o.value,children:[l.jsx(er,{children:l.jsx(Iy,{children:l.jsx(cA,{placeholder:"Select a category"})})}),l.jsx(ky,{children:Nte.map(c=>l.jsx(Kr,{value:c,children:c},c))})]}),l.jsx(tr,{})]})}),l.jsx(ur,{control:i.control,name:"programDescription",render:({field:o})=>l.jsxs(Zt,{children:[l.jsx(Jt,{children:"Program Description *"}),l.jsx(er,{children:l.jsx(Br,{placeholder:"Describe your program concept, format, goals, and how it will benefit the community...",className:"min-h-[120px]",...o})}),l.jsx(tr,{})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(ur,{control:i.control,name:"duration",render:({field:o})=>l.jsxs(Zt,{children:[l.jsx(Jt,{children:"Program Duration"}),l.jsx(er,{children:l.jsx(ke,{placeholder:"e.g., 30 minutes, 1 hour",...o})}),l.jsx(tr,{})]})}),l.jsx(ur,{control:i.control,name:"targetAudience",render:({field:o})=>l.jsxs(Zt,{children:[l.jsx(Jt,{children:"Target Audience"}),l.jsx(er,{children:l.jsx(ke,{placeholder:"e.g., farmers, youth, families",...o})}),l.jsx(tr,{})]})})]}),l.jsx(ur,{control:i.control,name:"proposedSchedule",render:({field:o})=>l.jsxs(Zt,{children:[l.jsx(Jt,{children:"Proposed Schedule"}),l.jsx(er,{children:l.jsx(ke,{placeholder:"e.g., Weekly on Saturdays at 7 PM",...o})}),l.jsx(tr,{})]})}),l.jsx(ur,{control:i.control,name:"resources",render:({field:o})=>l.jsxs(Zt,{children:[l.jsx(Jt,{children:"Resources Needed"}),l.jsx(er,{children:l.jsx(Br,{placeholder:"What equipment, studio time, or support would you need?",className:"min-h-[80px]",...o})}),l.jsx(tr,{})]})}),l.jsx(ur,{control:i.control,name:"experience",render:({field:o})=>l.jsxs(Zt,{children:[l.jsx(Jt,{children:"Broadcasting Experience"}),l.jsx(er,{children:l.jsx(Br,{placeholder:"Tell us about your previous experience in media, broadcasting, or public speaking...",className:"min-h-[80px]",...o})}),l.jsx(tr,{})]})}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx(Q,{type:"button",variant:"outline",onClick:e,disabled:s.isPending,children:"Cancel"}),l.jsx(Q,{type:"submit",className:"bg-red-600 hover:bg-red-700",disabled:s.isPending,children:s.isPending?"Submitting...":"Submit Proposal"})]})]})})]})})}const jte=["All","Magazine","Documentary","Agriculture","Youth","Health","Culture","Business","News","Religious","Entertainment"];function Ote(){const[t,e]=E.useState("All"),[r,n]=E.useState(!1),[i,s]=E.useState(!1),{data:a=[],isLoading:o}=it({queryKey:["/api/programs"]}),c=t==="All"?a:a.filter(u=>u.category===t);return o?l.jsx("div",{className:"pt-16 min-h-screen bg-gray-50",children:l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 max-w-6xl mx-auto",children:[...Array(6)].map((u,d)=>l.jsxs(Y,{className:"overflow-hidden",children:[l.jsx("div",{className:"h-48 bg-gray-200 animate-pulse"}),l.jsxs(ie,{className:"p-6",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2 animate-pulse"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded mb-4 animate-pulse"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"})]})]},d))})})}):l.jsxs("div",{className:"pt-16 min-h-screen bg-gray-50",children:[l.jsxs("div",{className:"fluid-container section-padding",children:[l.jsxs("div",{className:"text-center content-wrapper section-spacing",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Our Programs"}),l.jsx("p",{className:"text-xl text-gray-600",children:"Discover our diverse range of programming that informs, educates, and entertains the communities of Northern Uganda."})]}),l.jsx("div",{className:"flex flex-wrap justify-center gap-2 section-spacing",children:jte.map(u=>l.jsx(Q,{variant:t===u?"default":"outline",onClick:()=>e(u),className:t===u?"bg-red-600 hover:bg-red-700":"",children:u},u))}),c.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(so,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No Programs Found"}),l.jsx("p",{className:"text-gray-500",children:t==="All"?"No programs are currently available.":`No programs found in the ${t} category.`})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:c.map(u=>l.jsxs(Y,{className:"program-card overflow-hidden card-spacing",children:[l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:u.imageUrl||"https://images.unsplash.com/photo-1556075798-4825dfaaf498?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600",alt:u.title,className:"w-full h-48 object-cover"}),l.jsx(Qe,{className:"absolute top-3 left-3 bg-red-600 text-white",children:u.category})]}),l.jsxs(ie,{className:"card-spacing",children:[l.jsx("h3",{className:"text-xl font-semibold mb-3",children:u.title}),l.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:u.description}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[l.jsx(Xr,{className:"h-4 w-4 mr-2"}),l.jsx("span",{className:"font-medium",children:"Schedule:"}),l.jsx("span",{className:"ml-1",children:u.schedule})]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[l.jsx(io,{className:"h-4 w-4 mr-2"}),l.jsx("span",{className:"font-medium",children:"Duration:"}),l.jsx("span",{className:"ml-1",children:"30 minutes"})]})]})]})]},u.id))}),l.jsx("div",{className:"text-center mt-16",children:l.jsxs("div",{className:"bg-white rounded-lg p-8 shadow-lg max-w-2xl mx-auto",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Want to Feature on Our Programs?"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"We're always looking for interesting stories and guests from Northern Uganda. Get in touch with our programming team to learn about opportunities."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs(Q,{className:"bg-red-600 hover:bg-red-700",onClick:()=>n(!0),children:[l.jsx(io,{className:"mr-2 h-4 w-4"}),"Schedule Interview"]}),l.jsxs(Q,{variant:"outline",onClick:()=>s(!0),children:[l.jsx(so,{className:"mr-2 h-4 w-4"}),"Program Proposal"]})]})]})})]}),l.jsx(Xee,{isOpen:r,onClose:()=>n(!1)}),l.jsx(Cte,{isOpen:i,onClose:()=>s(!1)})]})}function Ite({title:t,subtitle:e,backgroundImage:r,children:n,className:i=""}){return l.jsxs("div",{className:`relative bg-gradient-to-r from-red-600 to-red-800 text-white overflow-hidden ${i}`,style:r?{backgroundImage:`linear-gradient(rgba(220, 38, 38, 0.8), rgba(153, 27, 27, 0.8)), url(${r})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:{},children:[l.jsx("div",{className:"absolute inset-0 bg-black/20"}),l.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl md:text-4xl font-bold mb-4",children:t}),l.jsx("p",{className:"text-lg md:text-xl text-red-100 max-w-3xl mx-auto",children:e}),n&&l.jsx("div",{className:"mt-8",children:n})]})})]})}const kte=["All","Agriculture","Education","Health","Politics","Culture","Sports","Business"];function Rte(){const[t,e]=E.useState("All"),[r,n]=E.useState(""),[i,s]=E.useState(""),{toast:a}=Jr(),{data:o=[],isLoading:c}=it({queryKey:["/api/news"]}),u=Ar({mutationFn:async p=>(await zt("POST","/api/subscribe",{email:p})).json(),onSuccess:()=>{a({title:"Success!",description:"Thank you for subscribing to our newsletter!"}),s("")},onError:()=>{a({title:"Error",description:"Failed to subscribe. Please try again.",variant:"destructive"})}}),d=p=>{p.preventDefault(),i&&u.mutate(i)},f=o.filter(p=>{const g=t==="All"||p.category===t,v=p.title.toLowerCase().includes(r.toLowerCase())||p.excerpt.toLowerCase().includes(r.toLowerCase());return g&&v}),h=f[0],m=f.slice(1);return c?l.jsx("div",{className:"pt-16 min-h-screen bg-gray-50",children:l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3 mb-8"}),l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[...Array(6)].map((p,g)=>l.jsxs("div",{className:"bg-white rounded-lg p-6",children:[l.jsx("div",{className:"h-32 bg-gray-200 rounded mb-4"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded"})]},g))})]})})}):l.jsxs("div",{className:"pt-16 min-h-screen bg-gray-50",children:[l.jsx(Ite,{title:"Newsroom",subtitle:"Stay informed with the latest news and developments from Northern Uganda",backgroundImage:"https://images.unsplash.com/photo-1586339949916-3e9457bef6d3?w=1200&auto=format&fit=crop"}),l.jsxs("div",{className:"fluid-container section-padding",children:[l.jsxs("div",{className:"section-spacing",children:[l.jsx("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Ow,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),l.jsx(ke,{placeholder:"Search news articles...",value:r,onChange:p=>n(p.target.value),className:"pl-10"})]})}),l.jsx("div",{className:"flex flex-wrap gap-2",children:kte.map(p=>l.jsx(Q,{variant:t===p?"default":"outline",size:"sm",onClick:()=>e(p),className:t===p?"bg-red-600 hover:bg-red-700":"",children:p},p))})]}),f.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Ow,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No Articles Found"}),l.jsx("p",{className:"text-gray-500",children:"Try adjusting your search terms or category filter."})]}):l.jsxs(l.Fragment,{children:[h&&l.jsx(Y,{className:"mb-8 overflow-hidden hover:shadow-lg transition-shadow",children:l.jsxs("div",{className:"md:flex",children:[l.jsx("div",{className:"md:w-1/2",children:l.jsx("img",{src:h.imageUrl||"https://images.unsplash.com/photo-1500651230702-0e2d8a49d4ad?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=400",alt:h.title,className:"w-full h-64 md:h-full object-cover"})}),l.jsxs("div",{className:"md:w-1/2 p-8",children:[l.jsx(Qe,{className:"bg-red-600 text-white mb-3",children:"Featured"}),l.jsx("h2",{className:"text-2xl font-bold mb-4",children:h.title}),l.jsx("p",{className:"text-gray-600 mb-6",children:h.excerpt}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Xr,{className:"h-4 w-4 mr-1"}),h.createdAt?new Date(h.createdAt).toLocaleDateString():"No date"]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Qt,{className:"h-4 w-4 mr-1"}),h.views||0," views"]})]}),l.jsx(Gt,{href:`/news/${h.id}`,children:l.jsxs(Q,{className:"bg-red-600 hover:bg-red-700",children:["Read More",l.jsx(ZD,{className:"ml-2 h-4 w-4"})]})})]})]})]})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(p=>l.jsxs(Y,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:p.imageUrl||"https://images.unsplash.com/photo-1500651230702-0e2d8a49d4ad?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=400",alt:p.title,className:"w-full h-48 object-cover"}),l.jsx(Qe,{className:"absolute top-3 left-3 bg-white text-gray-800",children:p.category})]}),l.jsxs(ie,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-3 line-clamp-2",children:p.title}),l.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:p.excerpt}),l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Xr,{className:"h-4 w-4 mr-1"}),p.createdAt?new Date(p.createdAt).toLocaleDateString():"No date"]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Qt,{className:"h-4 w-4 mr-1"}),p.views||0," views"]})]})}),l.jsx(Gt,{href:`/news/${p.id}`,children:l.jsx(Q,{size:"sm",variant:"outline",className:"w-full",children:"Read More"})})]})]},p.id))})]}),l.jsx("div",{className:"mt-16",children:l.jsx(Y,{className:"bg-gradient-to-r from-red-600 to-red-700 text-white overflow-hidden",children:l.jsxs(ie,{className:"p-8 text-center",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Stay Updated"}),l.jsx("p",{className:"mb-6 opacity-90",children:"Subscribe to our newsletter and never miss important news from Northern Uganda."}),l.jsxs("form",{onSubmit:d,className:"max-w-md mx-auto flex gap-3",children:[l.jsx(ke,{type:"email",placeholder:"Enter your email",value:i,onChange:p=>s(p.target.value),className:"bg-white text-gray-900",required:!0}),l.jsx(Q,{type:"submit",className:"bg-white text-red-600 hover:bg-gray-100",disabled:u.isPending,children:u.isPending?"...":"Subscribe"})]})]})})})]})]})}const Lte=[{name:"Joseph Okello",role:"Station Manager",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&h=300",bio:"Leading Oroma TV with over 15 years of media experience in Northern Uganda."},{name:"Grace Akello",role:"News Director",image:"https://images.unsplash.com/photo-1494790108755-2616b612b766?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&h=300",bio:"Award-winning journalist committed to bringing authentic stories from our communities."},{name:"Samuel Odongo",role:"Programs Manager",image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&h=300",bio:"Creative director ensuring our programs reflect Northern Uganda's rich cultural diversity."},{name:"Mary Lamuno",role:"Community Relations",image:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&h=300",bio:"Building bridges between Oroma TV and the communities we serve across the region."}],Dte=[{icon:ui,title:"50,000+",subtitle:"Daily Viewers"},{icon:uM,title:"24/7",subtitle:"Broadcasting"},{icon:sz,title:"5+",subtitle:"Awards Won"},{icon:Qt,title:"15+",subtitle:"Years Experience"}];function Mte(){return l.jsxs("div",{className:"pt-16 min-h-screen",children:[l.jsxs("section",{className:"relative py-20 md:py-32",children:[l.jsx("div",{className:"absolute inset-0",children:l.jsx("div",{className:"w-full h-full bg-cover bg-center",style:{backgroundImage:"linear-gradient(45deg, rgba(17, 24, 39, 0.8), rgba(220, 38, 38, 0.6)), url('https://www.kakebe.tech/assets/img/tech%20camp%20closer.jpg')"}})}),l.jsxs("div",{className:"relative z-10 text-center text-white fluid-container",children:[l.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"About Oroma TV"}),l.jsx("p",{className:"text-xl md:text-2xl font-light content-wrapper",children:"Northern Uganda's premier media house, dedicated to amplifying the voices, stories, and culture of our vibrant region."})]})]}),l.jsx("section",{className:"section-padding bg-gray-50",children:l.jsx("div",{className:"fluid-container",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[l.jsx("div",{children:l.jsx("img",{src:"https://www.kakebe.tech/assets/img/visits.jpg",alt:"Oroma TV Studio",className:"rounded-lg shadow-lg"})}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx(uM,{className:"h-8 w-8 text-red-600 mr-3"}),l.jsx("h2",{className:"text-3xl font-bold",children:"Our Mission"})]}),l.jsx("p",{className:"text-gray-600 text-lg leading-relaxed",children:"To be the authentic voice of Northern Uganda, providing quality programming that informs, educates, and entertains while preserving and promoting our rich cultural heritage. We partner with leading organizations like Kakebe Technologies and QFM Radio Station to deliver excellence."})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx(Qt,{className:"h-8 w-8 text-red-600 mr-3"}),l.jsx("h2",{className:"text-3xl font-bold",children:"Our Vision"})]}),l.jsx("p",{className:"text-gray-600 text-lg leading-relaxed",children:"To bridge communities through meaningful content that reflects the true spirit of Northern Uganda, fostering unity, development, and cultural pride."})]})]})]})})}),l.jsx("section",{className:"py-16",children:l.jsxs("div",{className:"fluid-container",children:[l.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Our Impact"}),l.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:Dte.map((t,e)=>{const r=t.icon;return l.jsx(Y,{className:"text-center p-6 hover:shadow-lg transition-shadow",children:l.jsxs(ie,{className:"pt-6",children:[l.jsx(r,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:t.title}),l.jsx("p",{className:"text-gray-600",children:t.subtitle})]})},e)})})]})}),l.jsx("section",{className:"py-16 bg-gray-50",children:l.jsxs("div",{className:"fluid-container",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Meet Our Team"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Dedicated professionals committed to bringing you authentic stories and quality programming."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:Lte.map((t,e)=>l.jsxs(Y,{className:"text-center overflow-hidden hover:shadow-lg transition-shadow",children:[l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:t.image,alt:t.name,className:"w-full h-64 object-cover"}),l.jsx(Qe,{className:"absolute bottom-3 left-3 bg-red-600 text-white",children:t.role})]}),l.jsxs(ie,{className:"p-6",children:[l.jsx("h3",{className:"text-xl font-semibold mb-2",children:t.name}),l.jsx("p",{className:"text-gray-600 text-sm",children:t.bio})]})]},e))})]})}),l.jsx("section",{className:"py-16",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Visit Our Studio"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start",children:[l.jsx(Za,{className:"h-6 w-6 text-red-600 mr-4 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-lg mb-1",children:"Address"}),l.jsxs("p",{className:"text-gray-600",children:["Won Nyaci Road, opposite VH Public Nursery School",l.jsx("br",{}),"Lira City, Northern Uganda"]})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx(vl,{className:"h-6 w-6 text-red-600 mr-4 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-lg mb-1",children:"Phone"}),l.jsxs("p",{className:"text-gray-600",children:["+256 772 123 456",l.jsx("br",{}),"+256 751 789 012"]})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx(tT,{className:"h-6 w-6 text-red-600 mr-4 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-lg mb-1",children:"Email"}),l.jsxs("p",{className:"text-gray-600",children:["info@oromatv.com",l.jsx("br",{}),"news@oromatv.com"]})]})]})]})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Our Story"}),l.jsxs("div",{className:"space-y-4 text-gray-600",children:[l.jsx("p",{children:"Since our establishment, Oroma TV has been committed to delivering quality programming that informs, educates, and entertains our diverse audience across Northern Uganda."}),l.jsx("p",{children:"We believe in the power of authentic storytelling to bring communities together, celebrate our rich cultural heritage, and drive positive change in our region."}),l.jsx("p",{children:"Our dedicated team of journalists, producers, and community relations specialists work tirelessly to ensure that every voice in Northern Uganda has the opportunity to be heard."})]}),l.jsxs("div",{className:"mt-8",children:[l.jsx(Q,{className:"bg-red-600 hover:bg-red-700 mr-4",children:"Join Our Team"}),l.jsx(Q,{variant:"outline",children:"Partnership Opportunities"})]})]})]})})})]})}function $te(){const{data:t=[],isLoading:e}=it({queryKey:["/api/events"]}),r=t.filter(i=>new Date(i.date)>=new Date),n=t.filter(i=>new Date(i.date)<new Date);return e?l.jsx("div",{className:"pt-16 min-h-screen bg-gray-50",children:l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((i,s)=>l.jsxs(Y,{className:"overflow-hidden",children:[l.jsx("div",{className:"h-48 bg-gray-200 animate-pulse"}),l.jsxs(ie,{className:"p-6",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2 animate-pulse"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded mb-4 animate-pulse"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"})]})]},s))})})}):l.jsx("div",{className:"pt-16 min-h-screen bg-gray-50",children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Events"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Join us for exciting community events, cultural celebrations, and educational programs that bring Northern Uganda together."})]}),l.jsxs("section",{className:"mb-16",children:[l.jsxs("div",{className:"flex items-center mb-8",children:[l.jsx(Xr,{className:"h-8 w-8 text-red-600 mr-3"}),l.jsx("h2",{className:"text-3xl font-bold",children:"Upcoming Events"})]}),r.length===0?l.jsxs(Y,{className:"p-8 text-center",children:[l.jsx(Xr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No Upcoming Events"}),l.jsx("p",{className:"text-gray-500",children:"Check back soon for exciting upcoming events and programs."})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map(i=>l.jsxs(Y,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:i.imageUrl||"https://images.unsplash.com/photo-1511632765486-a01980e01a18?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=400",alt:i.title,className:"w-full h-48 object-cover"}),l.jsx(Qe,{className:"absolute top-3 left-3 bg-green-600 text-white",children:"Upcoming"})]}),l.jsxs(ie,{className:"p-6",children:[l.jsx("h3",{className:"text-xl font-semibold mb-3",children:i.title}),l.jsx("p",{className:"text-gray-600 mb-4",children:i.description}),l.jsxs("div",{className:"space-y-2 text-sm text-gray-500 mb-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Xr,{className:"h-4 w-4 mr-2"}),new Date(i.date).toLocaleDateString()]}),i.location&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(Za,{className:"h-4 w-4 mr-2"}),i.location]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Q,{size:"sm",className:"bg-red-600 hover:bg-red-700 flex-1",children:"Register"}),l.jsx(Q,{size:"sm",variant:"outline",children:"Learn More"})]})]})]},i.id))})]}),l.jsxs("section",{className:"mb-16",children:[l.jsxs("div",{className:"flex items-center mb-8",children:[l.jsx(dx,{className:"h-8 w-8 text-red-600 mr-3"}),l.jsx("h2",{className:"text-3xl font-bold",children:"Past Events"})]}),n.length===0?l.jsxs(Y,{className:"p-8 text-center",children:[l.jsx(dx,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No Past Events"}),l.jsx("p",{className:"text-gray-500",children:"Past events and their highlights will appear here."})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(i=>l.jsxs(Y,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:i.imageUrl||"https://images.unsplash.com/photo-1511632765486-a01980e01a18?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=400",alt:i.title,className:"w-full h-48 object-cover"}),l.jsx(Qe,{className:"absolute top-3 left-3 bg-gray-600 text-white",children:"Completed"})]}),l.jsxs(ie,{className:"p-6",children:[l.jsx("h3",{className:"text-xl font-semibold mb-3",children:i.title}),l.jsx("p",{className:"text-gray-600 mb-4",children:i.description}),l.jsxs("div",{className:"space-y-2 text-sm text-gray-500 mb-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Xr,{className:"h-4 w-4 mr-2"}),new Date(i.date).toLocaleDateString()]}),i.location&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(Za,{className:"h-4 w-4 mr-2"}),i.location]})]}),l.jsx(Q,{size:"sm",variant:"outline",className:"w-full",children:"View Gallery"})]})]},i.id))})]}),l.jsxs("section",{className:"mb-16",children:[l.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"Event Categories"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs(Y,{className:"p-6 text-center hover:shadow-lg transition-shadow",children:[l.jsx(ui,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Community Events"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Health fairs, town halls, and community gatherings"})]}),l.jsxs(Y,{className:"p-6 text-center hover:shadow-lg transition-shadow",children:[l.jsx(cM,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Cultural Festivals"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Celebrating Northern Uganda's rich heritage"})]}),l.jsxs(Y,{className:"p-6 text-center hover:shadow-lg transition-shadow",children:[l.jsx(io,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Educational Workshops"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Skills development and training programs"})]}),l.jsxs(Y,{className:"p-6 text-center hover:shadow-lg transition-shadow",children:[l.jsx(dx,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Media Coverage"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Live broadcasts and special programs"})]})]})]}),l.jsx("section",{children:l.jsx(Y,{className:"bg-gradient-to-r from-red-600 to-red-700 text-white overflow-hidden",children:l.jsxs(ie,{className:"p-8 text-center",children:[l.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Host an Event with Us"}),l.jsx("p",{className:"text-xl mb-6 opacity-90",children:"Partner with Oroma TV to bring your community event to life and reach thousands across Northern Uganda."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs(Q,{size:"lg",className:"bg-white text-red-600 hover:bg-gray-100",children:[l.jsx(ui,{className:"mr-2 h-5 w-5"}),"Event Partnership"]}),l.jsxs(Q,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white hover:text-red-600",children:[l.jsx(Xr,{className:"mr-2 h-5 w-5"}),"Submit Event"]})]})]})})})]})})}const Wx={videos:[{id:1,title:"Evening News Bulletin - Latest",thumbnail:"https://images.unsplash.com/photo-1556075798-4825dfaaf498?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=225",duration:"25:30",category:"News",date:"2024-01-25",views:"15.2K"},{id:2,title:"Cultural Heritage Festival Highlights",thumbnail:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=225",duration:"18:45",category:"Culture",date:"2024-01-20",views:"8.7K"},{id:3,title:"Youth Connect: Leadership Discussion",thumbnail:"https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=225",duration:"42:15",category:"Youth",date:"2024-01-18",views:"6.3K"}],photos:[{id:1,title:"Community Health Fair 2024",thumbnail:"https://images.unsplash.com/photo-1511632765486-a01980e01a18?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300",category:"Events",date:"2024-01-15"},{id:2,title:"Studio Behind the Scenes",thumbnail:"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300",category:"Studio",date:"2024-01-10"},{id:3,title:"Agricultural Development Program",thumbnail:"https://images.unsplash.com/photo-1500651230702-0e2d8a49d4ad?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300",category:"Agriculture",date:"2024-01-08"}],audio:[{id:1,title:"Morning Radio Show - Best Moments",duration:"35:20",category:"Radio",date:"2024-01-25"},{id:2,title:"Traditional Music Special",duration:"28:45",category:"Music",date:"2024-01-20"},{id:3,title:"Community Leader Interview",duration:"22:30",category:"Interview",date:"2024-01-18"}]};function Fte(){const[t,e]=E.useState("videos");return l.jsx("div",{className:"pt-16 min-h-screen bg-gray-50",children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Media Gallery"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Explore our collection of videos, photos, and audio content showcasing the stories, culture, and community of Northern Uganda."})]}),l.jsxs(vo,{value:t,onValueChange:e,className:"mb-8",children:[l.jsxs(oa,{className:"grid grid-cols-3 lg:w-96 mx-auto mb-8",children:[l.jsxs(Ct,{value:"videos",className:"flex items-center",children:[l.jsx(Vf,{className:"mr-2 h-4 w-4"}),"Videos"]}),l.jsxs(Ct,{value:"photos",className:"flex items-center",children:[l.jsx(iM,{className:"mr-2 h-4 w-4"}),"Photos"]}),l.jsxs(Ct,{value:"audio",className:"flex items-center",children:[l.jsx(Oc,{className:"mr-2 h-4 w-4"}),"Audio"]})]}),l.jsx(jt,{value:"videos",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Wx.videos.map(r=>l.jsxs(Y,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:r.thumbnail,alt:r.title,className:"w-full h-48 object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:l.jsxs(Q,{size:"lg",className:"bg-red-600 hover:bg-red-700",children:[l.jsx(yl,{className:"mr-2 h-5 w-5"}),"Play"]})}),l.jsx(Qe,{className:"absolute top-3 left-3 bg-black bg-opacity-70 text-white",children:r.duration}),l.jsx(Qe,{className:"absolute top-3 right-3 bg-red-600 text-white",children:r.category})]}),l.jsxs(ie,{className:"p-4",children:[l.jsx("h3",{className:"font-semibold mb-2 line-clamp-2",children:r.title}),l.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[l.jsx("span",{children:r.date}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Qt,{className:"h-4 w-4 mr-1"}),r.views]})]}),l.jsxs("div",{className:"flex gap-2 mt-3",children:[l.jsxs(Q,{size:"sm",variant:"outline",className:"flex-1",children:[l.jsx(yc,{className:"mr-1 h-3 w-3"}),"Share"]}),l.jsx(Q,{size:"sm",variant:"outline",children:l.jsx(Cm,{className:"h-3 w-3"})})]})]})]},r.id))})}),l.jsx(jt,{value:"photos",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Wx.photos.map(r=>l.jsxs(Y,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:r.thumbnail,alt:r.title,className:"w-full h-48 object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:l.jsxs(Q,{size:"sm",className:"bg-white text-black hover:bg-gray-100",children:[l.jsx(Qt,{className:"mr-2 h-4 w-4"}),"View"]})}),l.jsx(Qe,{className:"absolute top-3 right-3 bg-red-600 text-white",children:r.category})]}),l.jsxs(ie,{className:"p-4",children:[l.jsx("h3",{className:"font-semibold mb-2 line-clamp-2",children:r.title}),l.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[l.jsx("span",{children:r.date}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx(Q,{size:"sm",variant:"outline",children:l.jsx(yc,{className:"h-3 w-3"})}),l.jsx(Q,{size:"sm",variant:"outline",children:l.jsx(Cm,{className:"h-3 w-3"})})]})]})]})]},r.id))})}),l.jsx(jt,{value:"audio",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Wx.audio.map(r=>l.jsx(Y,{className:"hover:shadow-lg transition-shadow",children:l.jsxs(ie,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-lg flex items-center justify-center mr-4",children:l.jsx(Oc,{className:"h-8 w-8 text-white"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold mb-1",children:r.title}),l.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[l.jsx("span",{children:r.duration}),l.jsx("span",{className:"mx-2",children:"•"}),l.jsx("span",{children:r.date})]})]}),l.jsx(Qe,{className:"bg-gray-100 text-gray-700",children:r.category})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Q,{size:"sm",className:"bg-red-600 hover:bg-red-700",children:[l.jsx(yl,{className:"mr-2 h-4 w-4"}),"Play"]}),l.jsxs(Q,{size:"sm",variant:"outline",children:[l.jsx(Cm,{className:"mr-2 h-4 w-4"}),"Download"]}),l.jsx(Q,{size:"sm",variant:"outline",children:l.jsx(yc,{className:"h-4 w-4"})})]})]})},r.id))})})]}),l.jsx("section",{className:"mt-16",children:l.jsx(Y,{className:"bg-gradient-to-r from-red-600 to-red-700 text-white",children:l.jsxs(ie,{className:"p-8",children:[l.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"Our Media Impact"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-3xl font-bold mb-2",children:"500+"}),l.jsx("div",{className:"opacity-90",children:"Videos Published"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-3xl font-bold mb-2",children:"2K+"}),l.jsx("div",{className:"opacity-90",children:"Photos Captured"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-3xl font-bold mb-2",children:"100+"}),l.jsx("div",{className:"opacity-90",children:"Audio Programs"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-3xl font-bold mb-2",children:"1M+"}),l.jsx("div",{className:"opacity-90",children:"Total Views"})]})]})]})})}),l.jsx("section",{className:"mt-16",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs(Y,{className:"p-8 text-center",children:[l.jsx(Us,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-bold mb-4",children:"Press Kit"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Download our official logos, brand guidelines, and press materials for media use."}),l.jsxs(Q,{className:"bg-red-600 hover:bg-red-700",children:[l.jsx(Cm,{className:"mr-2 h-4 w-4"}),"Download Press Kit"]})]}),l.jsxs(Y,{className:"p-8 text-center",children:[l.jsx(yc,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-bold mb-4",children:"Media Partnerships"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Collaborate with us for content sharing, cross-promotion, and joint initiatives."}),l.jsxs(Q,{variant:"outline",children:[l.jsx(Us,{className:"mr-2 h-4 w-4"}),"Partnership Inquiry"]})]})]})})]})})}const Bte=[{icon:_z,title:"Mobile Money",subtitle:"Quick & Convenient",methods:[{provider:"MTN Mobile Money",number:"+256 772 123 456"},{provider:"Airtel Money",number:"+256 751 789 012"}],color:"bg-green-600"},{icon:JD,title:"Bank Transfer",subtitle:"Secure Banking",methods:[{provider:"Stanbic Bank",number:"Account: 9030012345678"},{provider:"Centenary Bank",number:"Account: 1234567890123"}],color:"bg-blue-600"},{icon:dz,title:"Online Payment",subtitle:"Coming Soon",methods:[{provider:"Credit/Debit Cards",number:"Visa, Mastercard accepted"},{provider:"PayPal",number:"International donations"}],color:"bg-purple-600"}],Ute=[{icon:az,title:"Educational Programs",description:"Your donations help fund educational content that reaches over 10,000 students monthly across Northern Uganda.",impact:"10,000+ students reached monthly",color:"bg-blue-50 text-blue-700"},{icon:ui,title:"Community Outreach",description:"Support enables us to cover important community events and local development stories that matter to our viewers.",impact:"50+ community events covered yearly",color:"bg-green-50 text-green-700"},{icon:so,title:"Technology Updates",description:"Contributions help maintain and upgrade our broadcasting equipment for better quality programming and wider reach.",impact:"24/7 quality broadcasting maintained",color:"bg-red-50 text-red-700"}],Vte=[{amount:"UGX 10,000",title:"Community Supporter",benefits:["Monthly newsletter","Special acknowledgment"],popular:!1},{amount:"UGX 50,000",title:"Program Sponsor",benefits:["Newsletter","Acknowledgment","Program updates","Invitation to events"],popular:!0},{amount:"UGX 100,000",title:"Media Partner",benefits:["All previous benefits","Quarterly reports","VIP event access","Behind-the-scenes content"],popular:!1}];function Gte(){return l.jsxs("div",{className:"pt-16 min-h-screen",children:[l.jsx("section",{className:"py-16 bg-gradient-to-r from-red-600 to-red-700 text-white",children:l.jsxs("div",{className:"container mx-auto px-4 text-center",children:[l.jsx(uf,{className:"h-16 w-16 mx-auto mb-6"}),l.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Support Our Mission"}),l.jsx("p",{className:"text-xl md:text-2xl font-light max-w-3xl mx-auto mb-8",children:"Help us continue bringing quality programming and valuable information to Northern Uganda. Every contribution makes a difference in our community."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs(Q,{size:"lg",className:"bg-white text-red-600 hover:bg-gray-100",children:[l.jsx(uf,{className:"mr-2 h-5 w-5"}),"Donate Now"]}),l.jsx(Q,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white hover:text-red-600",children:"Learn More"})]})]})}),l.jsx("section",{className:"py-16 bg-gray-50",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ways to Donate"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Choose the most convenient method for you to support Oroma TV's mission."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:Bte.map((t,e)=>{const r=t.icon;return l.jsxs(Y,{className:"hover:shadow-lg transition-shadow",children:[l.jsxs(me,{className:"text-center",children:[l.jsx("div",{className:`w-16 h-16 ${t.color} rounded-full flex items-center justify-center mx-auto mb-4`,children:l.jsx(r,{className:"h-8 w-8 text-white"})}),l.jsx(pe,{className:"text-xl",children:t.title}),l.jsx("p",{className:"text-gray-600",children:t.subtitle})]}),l.jsxs(ie,{children:[l.jsx("div",{className:"space-y-3",children:t.methods.map((n,i)=>l.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"font-semibold text-sm",children:n.provider}),l.jsx("div",{className:"text-gray-600 text-sm",children:n.number})]},i))}),l.jsx(Q,{className:"w-full mt-4 bg-red-600 hover:bg-red-700",children:t.title==="Online Payment"?"Coming Soon":"Donate via "+t.title})]})]},e)})})]})}),l.jsx("section",{className:"py-16",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Support Levels"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Choose a support level that works for you and see the impact you'll make."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:Vte.map((t,e)=>l.jsxs(Y,{className:`relative hover:shadow-lg transition-shadow ${t.popular?"ring-2 ring-red-600":""}`,children:[t.popular&&l.jsx(Qe,{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-red-600 text-white",children:"Most Popular"}),l.jsxs(me,{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:t.amount}),l.jsx(pe,{className:"text-xl",children:t.title})]}),l.jsxs(ie,{children:[l.jsx("ul",{className:"space-y-2 mb-6",children:t.benefits.map((r,n)=>l.jsxs("li",{className:"flex items-center",children:[l.jsx(cM,{className:"h-4 w-4 text-red-600 mr-2"}),l.jsx("span",{className:"text-sm",children:r})]},n))}),l.jsx(Q,{className:`w-full ${t.popular?"bg-red-600 hover:bg-red-700":"bg-gray-600 hover:bg-gray-700"}`,children:"Choose This Level"})]})]},e))})]})}),l.jsx("section",{className:"py-16 bg-gray-50",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Your Impact"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"See how your donations directly contribute to our mission and impact communities across Northern Uganda."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:Ute.map((t,e)=>{const r=t.icon;return l.jsx(Y,{className:"hover:shadow-lg transition-shadow",children:l.jsxs(ie,{className:"p-8",children:[l.jsx("div",{className:`w-16 h-16 ${t.color} rounded-full flex items-center justify-center mb-6`,children:l.jsx(r,{className:"h-8 w-8"})}),l.jsx("h3",{className:"text-xl font-semibold mb-4",children:t.title}),l.jsx("p",{className:"text-gray-600 mb-4",children:t.description}),l.jsx(Qe,{variant:"secondary",className:"bg-red-100 text-red-800",children:t.impact})]})},e)})})]})}),l.jsx("section",{className:"py-16",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Financial Transparency"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"w-2 h-2 bg-red-600 rounded-full mt-2 mr-4"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-2",children:"85% Program Funding"}),l.jsx("p",{className:"text-gray-600",children:"Direct investment in programming, equipment, and community outreach initiatives."})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"w-2 h-2 bg-red-600 rounded-full mt-2 mr-4"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-2",children:"10% Operations"}),l.jsx("p",{className:"text-gray-600",children:"Essential operational costs including utilities, maintenance, and staff support."})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"w-2 h-2 bg-red-600 rounded-full mt-2 mr-4"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-2",children:"5% Administration"}),l.jsx("p",{className:"text-gray-600",children:"Minimal administrative costs to ensure efficient fund management."})]})]})]}),l.jsx(Q,{className:"mt-6 bg-red-600 hover:bg-red-700",children:"View Annual Report"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs(Y,{className:"p-6 text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:"UGX 2.5M"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Raised This Year"})]}),l.jsxs(Y,{className:"p-6 text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:"150+"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Active Supporters"})]}),l.jsxs(Y,{className:"p-6 text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:"95%"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Donor Satisfaction"})]}),l.jsxs(Y,{className:"p-6 text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:"3"}),l.jsx("div",{className:"text-sm text-gray-600",children:"New Programs Funded"})]})]})]})})}),l.jsx("section",{className:"py-16 bg-red-600 text-white",children:l.jsxs("div",{className:"container mx-auto px-4 text-center",children:[l.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Ready to Make a Difference?"}),l.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto",children:"Join our community of supporters and help us continue being the voice of Northern Uganda."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs(Q,{size:"lg",className:"bg-white text-red-600 hover:bg-gray-100",children:[l.jsx(uf,{className:"mr-2 h-5 w-5"}),"Make a Donation"]}),l.jsxs(Q,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white hover:text-red-600",children:[l.jsx(ui,{className:"mr-2 h-5 w-5"}),"Become a Monthly Supporter"]})]})]})})]})}const Hte=[{icon:Za,title:"Address",details:["Plot 000 Semsem Building Won Nyaci Road","Lira City, Northern Uganda"],color:"text-red-600"},{icon:vl,title:"Phone",details:["+256 772 123 456","+256 751 789 012"],color:"text-blue-600"},{icon:tT,title:"Email",details:["info@oromatv.com","news@oromatv.com"],color:"text-green-600"},{icon:io,title:"Office Hours",details:["Mon - Fri: 8:00 AM - 6:00 PM","Sat: 9:00 AM - 4:00 PM"],color:"text-purple-600"}],zte=[{name:"General Inquiries",email:"info@oromatv.com",phone:"+256 772 123 456"},{name:"News & Editorial",email:"news@oromatv.com",phone:"+256 772 123 457"},{name:"Programs & Production",email:"programs@oromatv.com",phone:"+256 772 123 458"},{name:"Advertising & Partnerships",email:"advertising@oromatv.com",phone:"+256 772 123 459"}];function Wte(){const[t,e]=E.useState({name:"",email:"",subject:"",message:""}),{toast:r}=Jr(),n=Ar({mutationFn:async a=>(await zt("POST","/api/contact",a)).json(),onSuccess:()=>{r({title:"Message Sent!",description:"Thank you for your message. We'll get back to you soon."}),e({name:"",email:"",subject:"",message:""})},onError:()=>{r({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"})}}),i=a=>{a.preventDefault(),t.name&&t.email&&t.subject&&t.message&&n.mutate(t)},s=(a,o)=>{e(c=>({...c,[a]:o}))};return l.jsx("div",{className:"pt-16 min-h-screen bg-gray-50",children:l.jsxs("div",{className:"fluid-container section-padding",children:[l.jsxs("div",{className:"text-center content-wrapper section-spacing",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Contact Us"}),l.jsx("p",{className:"text-xl text-gray-600",children:"Get in touch with Oroma TV. We'd love to hear from you and answer any questions you may have."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 section-spacing",children:Hte.map((a,o)=>{const c=a.icon;return l.jsx(Y,{className:"text-center hover:shadow-lg transition-shadow",children:l.jsxs(ie,{className:"card-spacing",children:[l.jsx(c,{className:`h-12 w-12 ${a.color} mx-auto mb-4`}),l.jsx("h3",{className:"text-lg font-semibold mb-3",children:a.title}),l.jsx("div",{className:"space-y-1",children:a.details.map((u,d)=>l.jsx("p",{className:"text-gray-600 text-sm",children:u},d))})]})},o)})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 mb-12",children:[l.jsxs(Y,{children:[l.jsx(me,{children:l.jsxs(pe,{className:"flex items-center",children:[l.jsx(lu,{className:"mr-2 h-5 w-5 text-red-600"}),"Send us a Message"]})}),l.jsx(ie,{children:l.jsxs("form",{onSubmit:i,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Ce,{htmlFor:"name",children:"Your Name"}),l.jsx(ke,{id:"name",type:"text",placeholder:"Enter your name",value:t.name,onChange:a=>s("name",a.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsx(Ce,{htmlFor:"email",children:"Email Address"}),l.jsx(ke,{id:"email",type:"email",placeholder:"Enter your email",value:t.email,onChange:a=>s("email",a.target.value),required:!0})]})]}),l.jsxs("div",{children:[l.jsx(Ce,{htmlFor:"subject",children:"Subject"}),l.jsx(ke,{id:"subject",type:"text",placeholder:"What is this about?",value:t.subject,onChange:a=>s("subject",a.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsx(Ce,{htmlFor:"message",children:"Message"}),l.jsx(Br,{id:"message",placeholder:"Tell us more about your inquiry...",rows:5,value:t.message,onChange:a=>s("message",a.target.value),required:!0})]}),l.jsx(Q,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700",disabled:n.isPending,children:n.isPending?"Sending...":l.jsxs(l.Fragment,{children:[l.jsx(nT,{className:"mr-2 h-4 w-4"}),"Send Message"]})})]})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx(Y,{children:l.jsxs(ie,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-full flex items-center justify-center mr-4",children:l.jsx("i",{className:"fab fa-whatsapp text-white text-xl"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold",children:"WhatsApp"}),l.jsx("p",{className:"text-gray-600",children:"Quick messages and support"})]})]}),l.jsx("p",{className:"text-gray-600 mb-4",children:"+256 777 676 206"}),l.jsx("a",{href:"https://wa.me/256777676206",target:"_blank",rel:"noopener noreferrer",children:l.jsxs(Q,{className:"w-full bg-green-600 hover:bg-green-700",children:[l.jsx("i",{className:"fab fa-whatsapp mr-2"}),"Chat on WhatsApp"]})})]})}),l.jsx(Y,{children:l.jsxs(ie,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Follow Us"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("a",{href:"#",className:"flex items-center p-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx("i",{className:"fab fa-facebook-f mr-2"}),"Facebook"]}),l.jsxs("a",{href:"#",className:"flex items-center p-3 bg-blue-400 text-white rounded-lg hover:bg-blue-500 transition-colors",children:[l.jsx("i",{className:"fab fa-twitter mr-2"}),"Twitter"]}),l.jsxs("a",{href:"#",className:"flex items-center p-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[l.jsx("i",{className:"fab fa-instagram mr-2"}),"Instagram"]}),l.jsxs("a",{href:"#",className:"flex items-center p-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[l.jsx("i",{className:"fab fa-youtube mr-2"}),"YouTube"]})]})]})}),l.jsx(Y,{className:"bg-red-50 border-red-200",children:l.jsxs(ie,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx(vl,{className:"h-6 w-6 text-red-600 mr-3"}),l.jsx("h3",{className:"text-lg font-semibold text-red-800",children:"Breaking News Hotline"})]}),l.jsx("p",{className:"text-red-700 mb-2",children:"For urgent news tips and breaking stories"}),l.jsx("p",{className:"text-red-800 font-semibold",children:"+256 700 123 456"}),l.jsx("p",{className:"text-red-600 text-sm",children:"Available 24/7"})]})})]})]}),l.jsxs(Y,{className:"mb-12",children:[l.jsx(me,{children:l.jsxs(pe,{className:"flex items-center",children:[l.jsx(JD,{className:"mr-2 h-5 w-5 text-red-600"}),"Department Contacts"]})}),l.jsx(ie,{children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:zte.map((a,o)=>l.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[l.jsx("h3",{className:"font-semibold mb-2",children:a.name}),l.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(tT,{className:"h-4 w-4 mr-2"}),l.jsx("a",{href:`mailto:${a.email}`,className:"hover:text-red-600 transition-colors",children:a.email})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(vl,{className:"h-4 w-4 mr-2"}),l.jsx("a",{href:`tel:${a.phone}`,className:"hover:text-red-600 transition-colors",children:a.phone})]})]})]},o))})})]}),l.jsxs(Y,{children:[l.jsx(me,{children:l.jsxs(pe,{className:"flex items-center",children:[l.jsx(Za,{className:"mr-2 h-5 w-5 text-red-600"}),"Find Us"]})}),l.jsx(ie,{children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-1",children:[l.jsx("h3",{className:"font-semibold mb-4",children:"Visit Our Studio"}),l.jsxs("div",{className:"space-y-3 text-gray-600",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Address:"}),l.jsx("br",{}),"Won Nyaci Road, opposite VH Public Nursery School",l.jsx("br",{}),"Lira City, Northern Uganda"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Landmark:"}),l.jsx("br",{}),"Opposite VH Public Nursery School, Won Nyaci Road"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Parking:"}),l.jsx("br",{}),"Free parking available on-site"]})]}),l.jsxs(Q,{className:"mt-4 bg-red-600 hover:bg-red-700",children:[l.jsx(Za,{className:"mr-2 h-4 w-4"}),"Get Directions"]})]}),l.jsx("div",{className:"lg:col-span-2",children:l.jsx("div",{className:"aspect-video bg-gray-200 rounded-lg flex items-center justify-center",children:l.jsxs("div",{className:"text-center text-gray-500",children:[l.jsx(Za,{className:"h-16 w-16 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Interactive Map"}),l.jsx("p",{children:"Google Maps integration will be implemented here"}),l.jsx(Q,{variant:"outline",className:"mt-4",children:"View on Google Maps"})]})})})]})})]})]})})}const Kte="/oromatv-logo.png";function qte(){const[,t]=Wh(),{user:e,loginMutation:r}=xT(),[n,i]=E.useState({username:"",password:""});if(E.useEffect(()=>{e&&t("/admin")},[e,t]),e)return null;const s=a=>{a.preventDefault(),r.mutate(n)};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-gray-100 dark:from-red-950 dark:to-gray-900 p-4",children:l.jsxs(Y,{className:"w-full max-w-md",children:[l.jsxs(me,{className:"text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("img",{src:Kte,alt:"Oroma TV",className:"h-16 w-auto object-contain"})}),l.jsx(Mr,{children:"Enter your credentials to access the admin panel"})]}),l.jsx(ie,{children:l.jsxs("form",{onSubmit:s,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ce,{htmlFor:"username",children:"Username"}),l.jsx(ke,{id:"username",type:"text",value:n.username,onChange:a=>i({...n,username:a.target.value}),placeholder:"Enter username",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ce,{htmlFor:"password",children:"Password"}),l.jsx(ke,{id:"password",type:"password",value:n.password,onChange:a=>i({...n,password:a.target.value}),placeholder:"Enter password",required:!0})]}),l.jsx(Q,{type:"submit",className:"w-full",disabled:r.isPending,children:r.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Ds,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign in"})]})})]})})}function Yte({activeTab:t,onTabChange:e}){const[r,n]=E.useState(!1),{data:i=0}=it({queryKey:["/api/active-users/count/tv"],queryFn:async()=>{const c=await fetch("/api/active-users/count/tv");if(!c.ok)return 0;const u=await c.json();return typeof u.count=="number"?u.count:0},refetchInterval:1e4}),{data:s=0}=it({queryKey:["/api/active-users/count/radio"],queryFn:async()=>{const c=await fetch("/api/active-users/count/radio");if(!c.ok)return 0;const u=await c.json();return typeof u.count=="number"?u.count:0},refetchInterval:1e4}),a=[{id:"overview",label:"Dashboard",icon:eT,color:"text-blue-600"},{id:"programs",label:"Programs",icon:Vf,color:"text-green-600"},{id:"blog",label:"News Articles",icon:iT,color:"text-red-600"},{id:"events",label:"Events",icon:Xr,color:"text-purple-600"},{id:"livestream",label:"TV Stream",icon:Vf,color:"text-red-500",badge:i>0?`${i}`:"0",badgeColor:i>0?"destructive":"secondary"},{id:"radiostream",label:"Radio Stream",icon:ss,color:"text-green-500",badge:s>0?`${s}`:"0",badgeColor:s>0?"destructive":"secondary"},{id:"interview-requests",label:"Interview Requests",icon:Oc,color:"text-blue-600"},{id:"program-proposals",label:"Program Proposals",icon:Tp,color:"text-green-600"},{id:"legal",label:"Legal Pages",icon:lM,color:"text-gray-700"},{id:"homepage",label:"Homepage",icon:dg,color:"text-orange-600"},{id:"analytics",label:"Analytics",icon:eM,color:"text-indigo-600"},{id:"advertising",label:"Advertising",icon:nM,color:"text-yellow-600"},{id:"settings",label:"Settings",icon:xl,color:"text-gray-600"}],o=({mobile:c=!1})=>l.jsxs("div",{className:`flex flex-col h-full bg-white border-r ${c?"":"w-64"}`,children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[l.jsxs("div",{className:`flex items-center gap-3 ${r&&!c?"justify-center":""}`,children:[l.jsx("img",{src:"/oromatv-logo.png",alt:"Oroma TV Logo",className:"w-8 h-8 object-contain"}),(!r||c)&&l.jsxs("div",{children:[l.jsx("h2",{className:"font-bold text-lg",children:"Oroma TV"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Admin Panel"})]})]}),!c&&l.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>n(!r),children:r?l.jsx(lz,{className:"h-4 w-4"}):l.jsx(oz,{className:"h-4 w-4"})})]}),l.jsx("nav",{className:"flex-1 p-4 space-y-2",children:a.map(u=>{const d=u.icon,f=t===u.id;return l.jsxs(Q,{variant:f?"default":"ghost",className:`w-full justify-start gap-3 h-12 ${f?"bg-red-600 hover:bg-red-700 text-white":"hover:bg-gray-100"} ${r&&!c?"px-3":""}`,onClick:()=>e(u.id),children:[l.jsx(d,{className:`h-5 w-5 ${f?"text-white":u.color}`}),(!r||c)&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"flex-1 text-left",children:u.label}),u.badge&&l.jsx(Qe,{variant:u.badgeColor||"destructive",className:"text-xs",children:u.badge})]})]},u.id)})}),l.jsx("div",{className:"p-4 border-t",children:l.jsxs("div",{className:`flex items-center gap-3 ${r&&!c?"justify-center":""}`,children:[l.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-gray-700 font-semibold text-sm",children:"A"})}),(!r||c)&&l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-sm",children:"Admin User"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Super Admin"})]})]})})]});return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"hidden lg:block",children:l.jsx(o,{})}),l.jsx("div",{className:"lg:hidden",children:l.jsxs(I$,{children:[l.jsx(k$,{asChild:!0,children:l.jsx(Q,{variant:"ghost",size:"sm",className:"p-2",children:l.jsx(aM,{className:"h-5 w-5"})})}),l.jsx(PT,{side:"left",className:"p-0 w-64",children:l.jsx(o,{mobile:!0})})]})})]})}var Ry="Popover",[UB,Bje]=zn(Ry,[td]),Jh=td(),[Xte,bo]=UB(Ry),VB=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:a=!1}=t,o=Jh(e),c=E.useRef(null),[u,d]=E.useState(!1),[f,h]=Zs({prop:n,defaultProp:i??!1,onChange:s,caller:Ry});return l.jsx(zM,{...o,children:l.jsx(Xte,{scope:e,contentId:Gs(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:E.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:E.useCallback(()=>d(!0),[]),onCustomAnchorRemove:E.useCallback(()=>d(!1),[]),modal:a,children:r})})};VB.displayName=Ry;var GB="PopoverAnchor",Qte=E.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=bo(GB,r),s=Jh(r),{onCustomAnchorAdd:a,onCustomAnchorRemove:o}=i;return E.useEffect(()=>(a(),()=>o()),[a,o]),l.jsx(my,{...s,...n,ref:e})});Qte.displayName=GB;var HB="PopoverTrigger",zB=E.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=bo(HB,r),s=Jh(r),a=Ye(e,i.triggerRef),o=l.jsx(Re.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":XB(i.open),...n,ref:a,onClick:we(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?o:l.jsx(my,{asChild:!0,...s,children:o})});zB.displayName=HB;var uA="PopoverPortal",[Zte,Jte]=UB(uA,{forceMount:void 0}),WB=t=>{const{__scopePopover:e,forceMount:r,children:n,container:i}=t,s=bo(uA,e);return l.jsx(Zte,{scope:e,forceMount:r,children:l.jsx(Wn,{present:r||s.open,children:l.jsx(Kh,{asChild:!0,container:i,children:n})})})};WB.displayName=uA;var yu="PopoverContent",KB=E.forwardRef((t,e)=>{const r=Jte(yu,t.__scopePopover),{forceMount:n=r.forceMount,...i}=t,s=bo(yu,t.__scopePopover);return l.jsx(Wn,{present:n||s.open,children:s.modal?l.jsx(tre,{...i,ref:e}):l.jsx(rre,{...i,ref:e})})});KB.displayName=yu;var ere=gl("PopoverContent.RemoveScroll"),tre=E.forwardRef((t,e)=>{const r=bo(yu,t.__scopePopover),n=E.useRef(null),i=Ye(e,n),s=E.useRef(!1);return E.useEffect(()=>{const a=n.current;if(a)return wT(a)},[]),l.jsx(xy,{as:ere,allowPinchZoom:!0,children:l.jsx(qB,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:we(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),s.current||(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:we(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0,u=o.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:we(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),rre=E.forwardRef((t,e)=>{const r=bo(yu,t.__scopePopover),n=E.useRef(!1),i=E.useRef(!1);return l.jsx(qB,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),qB=E.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,h=bo(yu,r),m=Jh(r);return bT(),l.jsx(vy,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:l.jsx(Qu,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:l.jsx(gT,{"data-state":XB(h.open),role:"dialog",id:h.contentId,...m,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),YB="PopoverClose",nre=E.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=bo(YB,r);return l.jsx(Re.button,{type:"button",...n,ref:e,onClick:we(t.onClick,()=>i.onOpenChange(!1))})});nre.displayName=YB;var ire="PopoverArrow",sre=E.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Jh(r);return l.jsx(vT,{...i,...n,ref:e})});sre.displayName=ire;function XB(t){return t?"open":"closed"}var are=VB,ore=zB,lre=WB,QB=KB;const cre=are,ure=ore,ZB=E.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},i)=>l.jsx(lre,{children:l.jsx(QB,{ref:i,align:e,sideOffset:r,className:Fe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",t),...n})}));ZB.displayName=QB.displayName;function dre(t,e){return E.useReducer((r,n)=>e[r][n]??r,t)}var dA="ScrollArea",[JB,Uje]=zn(dA),[fre,mi]=JB(dA),e3=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:s=600,...a}=t,[o,c]=E.useState(null),[u,d]=E.useState(null),[f,h]=E.useState(null),[m,p]=E.useState(null),[g,v]=E.useState(null),[y,x]=E.useState(0),[b,S]=E.useState(0),[w,T]=E.useState(!1),[A,_]=E.useState(!1),N=Ye(e,j=>c(j)),C=Xh(i);return l.jsx(fre,{scope:r,type:n,dir:C,scrollHideDelay:s,scrollArea:o,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:p,scrollbarXEnabled:w,onScrollbarXEnabledChange:T,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:A,onScrollbarYEnabledChange:_,onCornerWidthChange:x,onCornerHeightChange:S,children:l.jsx(Re.div,{dir:C,...a,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});e3.displayName=dA;var t3="ScrollAreaViewport",r3=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:i,...s}=t,a=mi(t3,r),o=E.useRef(null),c=Ye(e,o,a.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),l.jsx(Re.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:l.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});r3.displayName=t3;var gs="ScrollAreaScrollbar",fA=E.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=mi(gs,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=i,o=t.orientation==="horizontal";return E.useEffect(()=>(o?s(!0):a(!0),()=>{o?s(!1):a(!1)}),[o,s,a]),i.type==="hover"?l.jsx(hre,{...n,ref:e,forceMount:r}):i.type==="scroll"?l.jsx(mre,{...n,ref:e,forceMount:r}):i.type==="auto"?l.jsx(n3,{...n,ref:e,forceMount:r}):i.type==="always"?l.jsx(hA,{...n,ref:e}):null});fA.displayName=gs;var hre=E.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=mi(gs,t.__scopeScrollArea),[s,a]=E.useState(!1);return E.useEffect(()=>{const o=i.scrollArea;let c=0;if(o){const u=()=>{window.clearTimeout(c),a(!0)},d=()=>{c=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",u),o.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),o.removeEventListener("pointerenter",u),o.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),l.jsx(Wn,{present:r||s,children:l.jsx(n3,{"data-state":s?"visible":"hidden",...n,ref:e})})}),mre=E.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=mi(gs,t.__scopeScrollArea),s=t.orientation==="horizontal",a=Dy(()=>c("SCROLL_END"),100),[o,c]=dre("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return E.useEffect(()=>{if(o==="idle"){const u=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[o,i.scrollHideDelay,c]),E.useEffect(()=>{const u=i.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),a()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[i.viewport,s,c,a]),l.jsx(Wn,{present:r||o!=="hidden",children:l.jsx(hA,{"data-state":o==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:we(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:we(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),n3=E.forwardRef((t,e)=>{const r=mi(gs,t.__scopeScrollArea),{forceMount:n,...i}=t,[s,a]=E.useState(!1),o=t.orientation==="horizontal",c=Dy(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;a(o?u:d)}},10);return xu(r.viewport,c),xu(r.content,c),l.jsx(Wn,{present:n||s,children:l.jsx(hA,{"data-state":s?"visible":"hidden",...i,ref:e})})}),hA=E.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,i=mi(gs,t.__scopeScrollArea),s=E.useRef(null),a=E.useRef(0),[o,c]=E.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=l3(o.viewport,o.content),d={...n,sizes:o,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:h=>a.current=h};function f(h,m){return bre(h,a.current,o,m)}return r==="horizontal"?l.jsx(pre,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollLeft,m=Sj(h,o,i.dir);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):r==="vertical"?l.jsx(gre,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollTop,m=Sj(h,o);s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),pre=E.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,s=mi(gs,t.__scopeScrollArea),[a,o]=E.useState(),c=E.useRef(null),u=Ye(e,c,s.onScrollbarXChange);return E.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),l.jsx(s3,{"data-orientation":"horizontal",...i,ref:u,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ly(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;t.onWheelScroll(h),u3(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&a&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Bg(a.paddingLeft),paddingEnd:Bg(a.paddingRight)}})}})}),gre=E.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,s=mi(gs,t.__scopeScrollArea),[a,o]=E.useState(),c=E.useRef(null),u=Ye(e,c,s.onScrollbarYChange);return E.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),l.jsx(s3,{"data-orientation":"vertical",...i,ref:u,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ly(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;t.onWheelScroll(h),u3(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&a&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Bg(a.paddingTop),paddingEnd:Bg(a.paddingBottom)}})}})}),[vre,i3]=JB(gs),s3=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:o,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=t,m=mi(gs,r),[p,g]=E.useState(null),v=Ye(e,N=>g(N)),y=E.useRef(null),x=E.useRef(""),b=m.viewport,S=n.content-n.viewport,w=mr(d),T=mr(c),A=Dy(f,10);function _(N){if(y.current){const C=N.clientX-y.current.left,j=N.clientY-y.current.top;u({x:C,y:j})}}return E.useEffect(()=>{const N=C=>{const j=C.target;(p==null?void 0:p.contains(j))&&w(C,S)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[b,p,S,w]),E.useEffect(T,[n,T]),xu(p,A),xu(m.content,A),l.jsx(vre,{scope:r,scrollbar:p,hasThumb:i,onThumbChange:mr(s),onThumbPointerUp:mr(a),onThumbPositionChange:T,onThumbPointerDown:mr(o),children:l.jsx(Re.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:we(t.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),y.current=p.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),_(N))}),onPointerMove:we(t.onPointerMove,_),onPointerUp:we(t.onPointerUp,N=>{const C=N.target;C.hasPointerCapture(N.pointerId)&&C.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=x.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),Fg="ScrollAreaThumb",a3=E.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=i3(Fg,t.__scopeScrollArea);return l.jsx(Wn,{present:r||i.hasThumb,children:l.jsx(yre,{ref:e,...n})})}),yre=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...i}=t,s=mi(Fg,r),a=i3(Fg,r),{onThumbPositionChange:o}=a,c=Ye(e,f=>a.onThumbChange(f)),u=E.useRef(void 0),d=Dy(()=>{u.current&&(u.current(),u.current=void 0)},100);return E.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(d(),!u.current){const m=wre(f,o);u.current=m,o()}};return o(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,d,o]),l.jsx(Re.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:we(t.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),p=f.clientX-m.left,g=f.clientY-m.top;a.onThumbPointerDown({x:p,y:g})}),onPointerUp:we(t.onPointerUp,a.onThumbPointerUp)})});a3.displayName=Fg;var mA="ScrollAreaCorner",o3=E.forwardRef((t,e)=>{const r=mi(mA,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?l.jsx(xre,{...t,ref:e}):null});o3.displayName=mA;var xre=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,i=mi(mA,r),[s,a]=E.useState(0),[o,c]=E.useState(0),u=!!(s&&o);return xu(i.scrollbarX,()=>{var f;const d=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(d),c(d)}),xu(i.scrollbarY,()=>{var f;const d=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(d),a(d)}),u?l.jsx(Re.div,{...n,ref:e,style:{width:s,height:o,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Bg(t){return t?parseInt(t,10):0}function l3(t,e){const r=t/e;return isNaN(r)?0:r}function Ly(t){const e=l3(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function bre(t,e,r,n="ltr"){const i=Ly(r),s=i/2,a=e||s,o=i-a,c=r.scrollbar.paddingStart+a,u=r.scrollbar.size-r.scrollbar.paddingEnd-o,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return c3([c,u],f)(t)}function Sj(t,e,r="ltr"){const n=Ly(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,a=e.content-e.viewport,o=s-n,c=r==="ltr"?[0,a]:[a*-1,0],u=zf(t,c);return c3([0,a],[0,o])(u)}function c3(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function u3(t,e){return t>0&&t<e}var wre=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},a=r.left!==s.left,o=r.top!==s.top;(a||o)&&e(),r=s,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function Dy(t,e){const r=mr(t),n=E.useRef(0);return E.useEffect(()=>()=>window.clearTimeout(n.current),[]),E.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function xu(t,e){const r=mr(e);ar(()=>{let n=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(t),()=>{window.cancelAnimationFrame(n),i.unobserve(t)}}},[t,r])}var d3=e3,Sre=r3,Ere=o3;const f3=E.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(d3,{ref:n,className:Fe("relative overflow-hidden",t),...r,children:[l.jsx(Sre,{className:"h-full w-full rounded-[inherit]",children:e}),l.jsx(h3,{}),l.jsx(Ere,{})]}));f3.displayName=d3.displayName;const h3=E.forwardRef(({className:t,orientation:e="vertical",...r},n)=>l.jsx(fA,{ref:n,orientation:e,className:Fe("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:l.jsx(a3,{className:"relative flex-1 rounded-full bg-border"})}));h3.displayName=fA.displayName;function Tre(){const[t,e]=E.useState([]),{data:r=[]}=it({queryKey:["/api/live-comments/tv"],queryFn:async()=>{const d=await fetch("/api/live-comments/tv");return d.ok?await d.json():[]},refetchInterval:1e4}),{data:n=[]}=it({queryKey:["/api/song-requests"],queryFn:async()=>{const d=await fetch("/api/song-requests");return d.ok?await d.json():[]},refetchInterval:15e3}),{data:i=[]}=it({queryKey:["/api/events"],queryFn:async()=>{const d=await fetch("/api/events");return d.ok?await d.json():[]},refetchInterval:3e4}),a=(()=>{const d=[];return r.slice(-5).forEach((p,g)=>{p.content&&d.push({id:`comment-${p.id||g}`,type:"comment",title:"New Live Comment",message:p.content.substring(0,50)+(p.content.length>50?"...":""),timestamp:new Date(p.timestamp||Date.now()),read:!1})}),n.slice(-3).forEach((p,g)=>{p.songName&&d.push({id:`song-${p.id||g}`,type:"song-request",title:"New Song Request",message:`"${p.songName}" by ${p.artistName||"Unknown Artist"}`,timestamp:new Date(p.createdAt||Date.now()),read:!1})}),i.slice(0,2).forEach((p,g)=>{p.title&&d.push({id:`event-${p.id||g}`,type:"event-rsvp",title:"Upcoming Event",message:`${p.title} - ${new Date(p.date).toLocaleDateString()}`,timestamp:new Date(p.date||Date.now()),read:!1})}),d.length===0&&d.push({id:"system-status",type:"system",title:"System Status",message:"All systems operational. No new notifications.",timestamp:new Date,read:!1}),d.sort((p,g)=>g.timestamp.getTime()-p.timestamp.getTime())})(),o=a.filter(d=>!d.read).length,c=d=>{switch(d){case"comment":return l.jsx(lu,{className:"h-4 w-4 text-blue-500"});case"user":return l.jsx(ui,{className:"h-4 w-4 text-green-500"});case"song-request":return l.jsx(ss,{className:"h-4 w-4 text-purple-500"});case"event-rsvp":return l.jsx(Xr,{className:"h-4 w-4 text-orange-500"});default:return l.jsx(ux,{className:"h-4 w-4 text-gray-500"})}},u=d=>{e(f=>f.map(h=>h.id===d?{...h,read:!0}:h))};return l.jsxs(cre,{children:[l.jsx(ure,{asChild:!0,children:l.jsxs(Q,{variant:"ghost",size:"sm",className:"relative p-2",children:[l.jsx(ux,{className:"h-5 w-5"}),o>0&&l.jsx(Qe,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center text-xs p-0",children:o>9?"9+":o})]})}),l.jsxs(ZB,{className:"w-80 p-0",align:"end",children:[l.jsxs("div",{className:"p-4 border-b",children:[l.jsx("h3",{className:"font-semibold",children:"Notifications"}),l.jsx("p",{className:"text-sm text-gray-500",children:o>0?`${o} unread notifications`:"All notifications read"})]}),l.jsx(f3,{className:"h-80",children:l.jsx("div",{className:"p-2",children:a.length>0?a.map(d=>l.jsx("div",{className:`p-3 rounded-lg mb-2 cursor-pointer transition-colors ${d.read?"bg-gray-50 hover:bg-gray-100":"bg-blue-50 hover:bg-blue-100 border-l-2 border-blue-500"}`,onClick:()=>u(d.id),children:l.jsxs("div",{className:"flex items-start gap-3",children:[c(d.type),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium text-sm",children:d.title}),l.jsx("p",{className:"text-sm text-gray-600 truncate",children:d.message}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:d.timestamp.toLocaleTimeString()})]})]})},d.id)):l.jsxs("div",{className:"p-4 text-center text-gray-500",children:[l.jsx(ux,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),l.jsx("p",{children:"No notifications"})]})})}),a.length>0&&l.jsx("div",{className:"p-3 border-t",children:l.jsx(Q,{variant:"ghost",size:"sm",className:"w-full",onClick:()=>e(d=>d.map(f=>({...f,read:!0}))),children:"Mark all as read"})})]})]})}function Are({onLogout:t}){const{theme:e,setTheme:r}=t7(),{data:n=0}=it({queryKey:["/api/active-users/count/tv"],queryFn:async()=>{const a=await fetch("/api/active-users/count/tv");if(!a.ok)return 0;const o=await a.json();return typeof o.count=="number"?o.count:0},refetchInterval:5e3}),{data:i=0}=it({queryKey:["/api/active-users/count/radio"],queryFn:async()=>{const a=await fetch("/api/active-users/count/radio");if(!a.ok)return 0;const o=await a.json();return typeof o.count=="number"?o.count:0},refetchInterval:5e3}),s=n+i;return l.jsxs("header",{className:"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 px-6 py-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ZE,{className:"h-5 w-5 text-red-500"}),l.jsx("span",{className:"text-sm font-medium",children:"Live Viewers:"}),l.jsx(Qe,{variant:s>0?"destructive":"secondary",className:s>0?"animate-pulse":"",children:s.toLocaleString()}),s>0&&l.jsxs("span",{className:"text-xs text-gray-500",children:["(",n," TV, ",i," Radio)"]})]}),l.jsxs("div",{className:"relative max-w-md flex-1",children:[l.jsx(Ow,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(ke,{placeholder:"Search content, users, or analytics...",className:"pl-10"})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(Q,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>window.open("/","_blank"),children:[l.jsx(Qt,{className:"h-4 w-4"}),"View Site"]}),l.jsx(Tre,{}),l.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>r(e==="light"?"dark":"light"),children:e==="dark"?l.jsx(Pz,{className:"h-5 w-5"}):l.jsx(xz,{className:"h-5 w-5"})}),l.jsxs(Q,{variant:"outline",size:"sm",onClick:t,className:"gap-2",children:[l.jsx(vz,{className:"h-4 w-4"}),"Logout"]})]})]})}var _re=Array.isArray,Pn=_re,Pre=typeof lm=="object"&&lm&&lm.Object===Object&&lm,m3=Pre,Nre=m3,Cre=typeof self=="object"&&self&&self.Object===Object&&self,jre=Nre||Cre||Function("return this")(),vs=jre,Ore=vs,Ire=Ore.Symbol,em=Ire,Ej=em,p3=Object.prototype,kre=p3.hasOwnProperty,Rre=p3.toString,Od=Ej?Ej.toStringTag:void 0;function Lre(t){var e=kre.call(t,Od),r=t[Od];try{t[Od]=void 0;var n=!0}catch{}var i=Rre.call(t);return n&&(e?t[Od]=r:delete t[Od]),i}var Dre=Lre,Mre=Object.prototype,$re=Mre.toString;function Fre(t){return $re.call(t)}var Bre=Fre,Tj=em,Ure=Dre,Vre=Bre,Gre="[object Null]",Hre="[object Undefined]",Aj=Tj?Tj.toStringTag:void 0;function zre(t){return t==null?t===void 0?Hre:Gre:Aj&&Aj in Object(t)?Ure(t):Vre(t)}var la=zre;function Wre(t){return t!=null&&typeof t=="object"}var ca=Wre,Kre=la,qre=ca,Yre="[object Symbol]";function Xre(t){return typeof t=="symbol"||qre(t)&&Kre(t)==Yre}var id=Xre,Qre=Pn,Zre=id,Jre=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ene=/^\w*$/;function tne(t,e){if(Qre(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Zre(t)?!0:ene.test(t)||!Jre.test(t)||e!=null&&t in Object(e)}var pA=tne;function rne(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var wo=rne;const sd=pt(wo);var nne=la,ine=wo,sne="[object AsyncFunction]",ane="[object Function]",one="[object GeneratorFunction]",lne="[object Proxy]";function cne(t){if(!ine(t))return!1;var e=nne(t);return e==ane||e==one||e==sne||e==lne}var gA=cne;const Be=pt(gA);var une=vs,dne=une["__core-js_shared__"],fne=dne,Kx=fne,_j=function(){var t=/[^.]+$/.exec(Kx&&Kx.keys&&Kx.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function hne(t){return!!_j&&_j in t}var mne=hne,pne=Function.prototype,gne=pne.toString;function vne(t){if(t!=null){try{return gne.call(t)}catch{}try{return t+""}catch{}}return""}var g3=vne,yne=gA,xne=mne,bne=wo,wne=g3,Sne=/[\\^$.*+?()[\]{}|]/g,Ene=/^\[object .+?Constructor\]$/,Tne=Function.prototype,Ane=Object.prototype,_ne=Tne.toString,Pne=Ane.hasOwnProperty,Nne=RegExp("^"+_ne.call(Pne).replace(Sne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Cne(t){if(!bne(t)||xne(t))return!1;var e=yne(t)?Nne:Ene;return e.test(wne(t))}var jne=Cne;function One(t,e){return t==null?void 0:t[e]}var Ine=One,kne=jne,Rne=Ine;function Lne(t,e){var r=Rne(t,e);return kne(r)?r:void 0}var Ul=Lne,Dne=Ul,Mne=Dne(Object,"create"),My=Mne,Pj=My;function $ne(){this.__data__=Pj?Pj(null):{},this.size=0}var Fne=$ne;function Bne(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Une=Bne,Vne=My,Gne="__lodash_hash_undefined__",Hne=Object.prototype,zne=Hne.hasOwnProperty;function Wne(t){var e=this.__data__;if(Vne){var r=e[t];return r===Gne?void 0:r}return zne.call(e,t)?e[t]:void 0}var Kne=Wne,qne=My,Yne=Object.prototype,Xne=Yne.hasOwnProperty;function Qne(t){var e=this.__data__;return qne?e[t]!==void 0:Xne.call(e,t)}var Zne=Qne,Jne=My,eie="__lodash_hash_undefined__";function tie(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Jne&&e===void 0?eie:e,this}var rie=tie,nie=Fne,iie=Une,sie=Kne,aie=Zne,oie=rie;function ad(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ad.prototype.clear=nie;ad.prototype.delete=iie;ad.prototype.get=sie;ad.prototype.has=aie;ad.prototype.set=oie;var lie=ad;function cie(){this.__data__=[],this.size=0}var uie=cie;function die(t,e){return t===e||t!==t&&e!==e}var vA=die,fie=vA;function hie(t,e){for(var r=t.length;r--;)if(fie(t[r][0],e))return r;return-1}var $y=hie,mie=$y,pie=Array.prototype,gie=pie.splice;function vie(t){var e=this.__data__,r=mie(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():gie.call(e,r,1),--this.size,!0}var yie=vie,xie=$y;function bie(t){var e=this.__data__,r=xie(e,t);return r<0?void 0:e[r][1]}var wie=bie,Sie=$y;function Eie(t){return Sie(this.__data__,t)>-1}var Tie=Eie,Aie=$y;function _ie(t,e){var r=this.__data__,n=Aie(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var Pie=_ie,Nie=uie,Cie=yie,jie=wie,Oie=Tie,Iie=Pie;function od(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}od.prototype.clear=Nie;od.prototype.delete=Cie;od.prototype.get=jie;od.prototype.has=Oie;od.prototype.set=Iie;var Fy=od,kie=Ul,Rie=vs,Lie=kie(Rie,"Map"),yA=Lie,Nj=lie,Die=Fy,Mie=yA;function $ie(){this.size=0,this.__data__={hash:new Nj,map:new(Mie||Die),string:new Nj}}var Fie=$ie;function Bie(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Uie=Bie,Vie=Uie;function Gie(t,e){var r=t.__data__;return Vie(e)?r[typeof e=="string"?"string":"hash"]:r.map}var By=Gie,Hie=By;function zie(t){var e=Hie(this,t).delete(t);return this.size-=e?1:0,e}var Wie=zie,Kie=By;function qie(t){return Kie(this,t).get(t)}var Yie=qie,Xie=By;function Qie(t){return Xie(this,t).has(t)}var Zie=Qie,Jie=By;function ese(t,e){var r=Jie(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var tse=ese,rse=Fie,nse=Wie,ise=Yie,sse=Zie,ase=tse;function ld(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ld.prototype.clear=rse;ld.prototype.delete=nse;ld.prototype.get=ise;ld.prototype.has=sse;ld.prototype.set=ase;var xA=ld,v3=xA,ose="Expected a function";function bA(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(ose);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var a=t.apply(this,n);return r.cache=s.set(i,a)||s,a};return r.cache=new(bA.Cache||v3),r}bA.Cache=v3;var y3=bA;const lse=pt(y3);var cse=y3,use=500;function dse(t){var e=cse(t,function(n){return r.size===use&&r.clear(),n}),r=e.cache;return e}var fse=dse,hse=fse,mse=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pse=/\\(\\)?/g,gse=hse(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(mse,function(r,n,i,s){e.push(i?s.replace(pse,"$1"):n||r)}),e}),vse=gse;function yse(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var wA=yse,Cj=em,xse=wA,bse=Pn,wse=id,jj=Cj?Cj.prototype:void 0,Oj=jj?jj.toString:void 0;function x3(t){if(typeof t=="string")return t;if(bse(t))return xse(t,x3)+"";if(wse(t))return Oj?Oj.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Sse=x3,Ese=Sse;function Tse(t){return t==null?"":Ese(t)}var b3=Tse,Ase=Pn,_se=pA,Pse=vse,Nse=b3;function Cse(t,e){return Ase(t)?t:_se(t,e)?[t]:Pse(Nse(t))}var w3=Cse,jse=id;function Ose(t){if(typeof t=="string"||jse(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Uy=Ose,Ise=w3,kse=Uy;function Rse(t,e){e=Ise(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[kse(e[r++])];return r&&r==n?t:void 0}var SA=Rse,Lse=SA;function Dse(t,e,r){var n=t==null?void 0:Lse(t,e);return n===void 0?r:n}var S3=Dse;const Bn=pt(S3);function Mse(t){return t==null}var $se=Mse;const qe=pt($se);var Fse=la,Bse=Pn,Use=ca,Vse="[object String]";function Gse(t){return typeof t=="string"||!Bse(t)&&Use(t)&&Fse(t)==Vse}var Hse=Gse;const Cl=pt(Hse);var E3={exports:{}},xt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EA=Symbol.for("react.element"),TA=Symbol.for("react.portal"),Vy=Symbol.for("react.fragment"),Gy=Symbol.for("react.strict_mode"),Hy=Symbol.for("react.profiler"),zy=Symbol.for("react.provider"),Wy=Symbol.for("react.context"),zse=Symbol.for("react.server_context"),Ky=Symbol.for("react.forward_ref"),qy=Symbol.for("react.suspense"),Yy=Symbol.for("react.suspense_list"),Xy=Symbol.for("react.memo"),Qy=Symbol.for("react.lazy"),Wse=Symbol.for("react.offscreen"),T3;T3=Symbol.for("react.module.reference");function pi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case EA:switch(t=t.type,t){case Vy:case Hy:case Gy:case qy:case Yy:return t;default:switch(t=t&&t.$$typeof,t){case zse:case Wy:case Ky:case Qy:case Xy:case zy:return t;default:return e}}case TA:return e}}}xt.ContextConsumer=Wy;xt.ContextProvider=zy;xt.Element=EA;xt.ForwardRef=Ky;xt.Fragment=Vy;xt.Lazy=Qy;xt.Memo=Xy;xt.Portal=TA;xt.Profiler=Hy;xt.StrictMode=Gy;xt.Suspense=qy;xt.SuspenseList=Yy;xt.isAsyncMode=function(){return!1};xt.isConcurrentMode=function(){return!1};xt.isContextConsumer=function(t){return pi(t)===Wy};xt.isContextProvider=function(t){return pi(t)===zy};xt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===EA};xt.isForwardRef=function(t){return pi(t)===Ky};xt.isFragment=function(t){return pi(t)===Vy};xt.isLazy=function(t){return pi(t)===Qy};xt.isMemo=function(t){return pi(t)===Xy};xt.isPortal=function(t){return pi(t)===TA};xt.isProfiler=function(t){return pi(t)===Hy};xt.isStrictMode=function(t){return pi(t)===Gy};xt.isSuspense=function(t){return pi(t)===qy};xt.isSuspenseList=function(t){return pi(t)===Yy};xt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Vy||t===Hy||t===Gy||t===qy||t===Yy||t===Wse||typeof t=="object"&&t!==null&&(t.$$typeof===Qy||t.$$typeof===Xy||t.$$typeof===zy||t.$$typeof===Wy||t.$$typeof===Ky||t.$$typeof===T3||t.getModuleId!==void 0)};xt.typeOf=pi;E3.exports=xt;var Kse=E3.exports,qse=la,Yse=ca,Xse="[object Number]";function Qse(t){return typeof t=="number"||Yse(t)&&qse(t)==Xse}var A3=Qse;const Zse=pt(A3);var Jse=A3;function eae(t){return Jse(t)&&t!=+t}var tae=eae;const cd=pt(tae);var on=function(e){return e===0?0:e>0?1:-1},Go=function(e){return Cl(e)&&e.indexOf("%")===e.length-1},se=function(e){return Zse(e)&&!cd(e)},rae=function(e){return qe(e)},Tr=function(e){return se(e)||Cl(e)},nae=0,ud=function(e){var r=++nae;return"".concat(e||"").concat(r)},ln=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!se(e)&&!Cl(e))return n;var s;if(Go(e)){var a=e.indexOf("%");s=r*parseFloat(e.slice(0,a))/100}else s=+e;return cd(s)&&(s=n),i&&s>r&&(s=r),s},Pa=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},iae=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},wn=function(e,r){return se(e)&&se(r)?function(n){return e+n*(r-e)}:function(){return r}};function Ug(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Bn(n,e))===r})}var sae=function(e,r){return se(e)&&se(r)?e-r:Cl(e)&&Cl(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function $c(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function bS(t){"@babel/helpers - typeof";return bS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bS(t)}var aae=["viewBox","children"],oae=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Ij=["points","pathLength"],qx={svg:aae,polygon:Ij,polyline:Ij},AA=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Vg=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(E.isValidElement(e)&&(n=e.props),!sd(n))return null;var i={};return Object.keys(n).forEach(function(s){AA.includes(s)&&(i[s]=r||function(a){return n[s](n,a)})}),i},lae=function(e,r,n){return function(i){return e(r,n,i),null}},jl=function(e,r,n){if(!sd(e)||bS(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var a=e[s];AA.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=lae(a,r,n))}),i},cae=["children"],uae=["children"];function kj(t,e){if(t==null)return{};var r=dae(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wS(t){"@babel/helpers - typeof";return wS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wS(t)}var Rj={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Hs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Lj=null,Yx=null,_A=function t(e){if(e===Lj&&Array.isArray(Yx))return Yx;var r=[];return E.Children.forEach(e,function(n){qe(n)||(Kse.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Yx=r,Lj=e,r};function oi(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Hs(i)}):n=[Hs(e)],_A(t).forEach(function(i){var s=Bn(i,"type.displayName")||Bn(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function jn(t,e){var r=oi(t,e);return r&&r[0]}var Dj=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!se(n)||n<=0||!se(i)||i<=0)},fae=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],hae=function(e){return e&&e.type&&Cl(e.type)&&fae.indexOf(e.type)>=0},mae=function(e){return e&&wS(e)==="object"&&"clipDot"in e},pae=function(e,r,n,i){var s,a=(s=qx==null?void 0:qx[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Be(e)&&(i&&a.includes(r)||oae.includes(r))||n&&AA.includes(r)},De=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(E.isValidElement(e)&&(i=e.props),!sd(i))return null;var s={};return Object.keys(i).forEach(function(a){var o;pae((o=i)===null||o===void 0?void 0:o[a],a,r,n)&&(s[a]=i[a])}),s},SS=function t(e,r){if(e===r)return!0;var n=E.Children.count(e);if(n!==E.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Mj(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=e[i],a=r[i];if(Array.isArray(s)||Array.isArray(a)){if(!t(s,a))return!1}else if(!Mj(s,a))return!1}return!0},Mj=function(e,r){if(qe(e)&&qe(r))return!0;if(!qe(e)&&!qe(r)){var n=e.props||{},i=n.children,s=kj(n,cae),a=r.props||{},o=a.children,c=kj(a,uae);return i&&o?$c(s,c)&&SS(i,o):!i&&!o?$c(s,c):!1}return!1},$j=function(e,r){var n=[],i={};return _A(e).forEach(function(s,a){if(hae(s))n.push(s);else if(s){var o=Hs(s.type),c=r[o]||{},u=c.handler,d=c.once;if(u&&(!d||!i[o])){var f=u(s,o,a);n.push(f),i[o]=!0}}}),n},gae=function(e){var r=e&&e.type;return r&&Rj[r]?Rj[r]:null},vae=function(e,r){return _A(r).indexOf(e)},yae=["children","width","height","viewBox","className","style","title","desc"];function ES(){return ES=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ES.apply(this,arguments)}function xae(t,e){if(t==null)return{};var r=bae(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function TS(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,s=t.className,a=t.style,o=t.title,c=t.desc,u=xae(t,yae),d=i||{width:r,height:n,x:0,y:0},f=Ke("recharts-surface",s);return L.createElement("svg",ES({},De(u,!0,"svg"),{className:f,width:r,height:n,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),L.createElement("title",null,o),L.createElement("desc",null,c),e)}var wae=["children","className"];function AS(){return AS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},AS.apply(this,arguments)}function Sae(t,e){if(t==null)return{};var r=Eae(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Eae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var st=L.forwardRef(function(t,e){var r=t.children,n=t.className,i=Sae(t,wae),s=Ke("recharts-layer",n);return L.createElement("g",AS({className:s},De(i,!0),{ref:e}),r)}),Ri=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function Tae(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var s=Array(i);++n<i;)s[n]=t[n+e];return s}var Aae=Tae,_ae=Aae;function Pae(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:_ae(t,e,r)}var Nae=Pae,Cae="\\ud800-\\udfff",jae="\\u0300-\\u036f",Oae="\\ufe20-\\ufe2f",Iae="\\u20d0-\\u20ff",kae=jae+Oae+Iae,Rae="\\ufe0e\\ufe0f",Lae="\\u200d",Dae=RegExp("["+Lae+Cae+kae+Rae+"]");function Mae(t){return Dae.test(t)}var _3=Mae;function $ae(t){return t.split("")}var Fae=$ae,P3="\\ud800-\\udfff",Bae="\\u0300-\\u036f",Uae="\\ufe20-\\ufe2f",Vae="\\u20d0-\\u20ff",Gae=Bae+Uae+Vae,Hae="\\ufe0e\\ufe0f",zae="["+P3+"]",_S="["+Gae+"]",PS="\\ud83c[\\udffb-\\udfff]",Wae="(?:"+_S+"|"+PS+")",N3="[^"+P3+"]",C3="(?:\\ud83c[\\udde6-\\uddff]){2}",j3="[\\ud800-\\udbff][\\udc00-\\udfff]",Kae="\\u200d",O3=Wae+"?",I3="["+Hae+"]?",qae="(?:"+Kae+"(?:"+[N3,C3,j3].join("|")+")"+I3+O3+")*",Yae=I3+O3+qae,Xae="(?:"+[N3+_S+"?",_S,C3,j3,zae].join("|")+")",Qae=RegExp(PS+"(?="+PS+")|"+Xae+Yae,"g");function Zae(t){return t.match(Qae)||[]}var Jae=Zae,eoe=Fae,toe=_3,roe=Jae;function noe(t){return toe(t)?roe(t):eoe(t)}var ioe=noe,soe=Nae,aoe=_3,ooe=ioe,loe=b3;function coe(t){return function(e){e=loe(e);var r=aoe(e)?ooe(e):void 0,n=r?r[0]:e.charAt(0),i=r?soe(r,1).join(""):e.slice(1);return n[t]()+i}}var uoe=coe,doe=uoe,foe=doe("toUpperCase"),hoe=foe;const Zy=pt(hoe);function Pt(t){return function(){return t}}const k3=Math.cos,Gg=Math.sin,Bi=Math.sqrt,Hg=Math.PI,Jy=2*Hg,NS=Math.PI,CS=2*NS,Ro=1e-6,moe=CS-Ro;function R3(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function poe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return R3;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class goe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?R3:poe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,c=n-e,u=i-r,d=a-e,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>Ro)if(!(Math.abs(f*c-u*d)>Ro)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let m=n-a,p=i-o,g=c*c+u*u,v=m*m+p*p,y=Math.sqrt(g),x=Math.sqrt(h),b=s*Math.tan((NS-Math.acos((g+h-v)/(2*y*x)))/2),S=b/x,w=b/y;Math.abs(S-1)>Ro&&this._append`L${e+S*d},${r+S*f}`,this._append`A${s},${s},0,0,${+(f*m>d*p)},${this._x1=e+w*c},${this._y1=r+w*u}`}}arc(e,r,n,i,s,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),c=n*Math.sin(i),u=e+o,d=r+c,f=1^a,h=a?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ro||Math.abs(this._y1-d)>Ro)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%CS+CS),h>moe?this._append`A${n},${n},0,1,${f},${e-o},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Ro&&this._append`A${n},${n},0,${+(h>=NS)},${f},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function PA(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new goe(e)}function NA(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function L3(t){this._context=t}L3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function e0(t){return new L3(t)}function D3(t){return t[0]}function M3(t){return t[1]}function $3(t,e){var r=Pt(!0),n=null,i=e0,s=null,a=PA(o);t=typeof t=="function"?t:t===void 0?D3:Pt(t),e=typeof e=="function"?e:e===void 0?M3:Pt(e);function o(c){var u,d=(c=NA(c)).length,f,h=!1,m;for(n==null&&(s=i(m=a())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(f,u,c),+e(f,u,c));if(m)return s=null,m+""||null}return o.x=function(c){return arguments.length?(t=typeof c=="function"?c:Pt(+c),o):t},o.y=function(c){return arguments.length?(e=typeof c=="function"?c:Pt(+c),o):e},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Pt(!!c),o):r},o.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),o):i},o.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),o):n},o}function qm(t,e,r){var n=null,i=Pt(!0),s=null,a=e0,o=null,c=PA(u);t=typeof t=="function"?t:t===void 0?D3:Pt(+t),e=typeof e=="function"?e:Pt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?M3:Pt(+r);function u(f){var h,m,p,g=(f=NA(f)).length,v,y=!1,x,b=new Array(g),S=new Array(g);for(s==null&&(o=a(x=c())),h=0;h<=g;++h){if(!(h<g&&i(v=f[h],h,f))===y)if(y=!y)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=h-1;p>=m;--p)o.point(b[p],S[p]);o.lineEnd(),o.areaEnd()}y&&(b[h]=+t(v,h,f),S[h]=+e(v,h,f),o.point(n?+n(v,h,f):b[h],r?+r(v,h,f):S[h]))}if(x)return o=null,x+""||null}function d(){return $3().defined(i).curve(a).context(s)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Pt(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Pt(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Pt(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Pt(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Pt(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Pt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Pt(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,s!=null&&(o=a(s)),u):a},u.context=function(f){return arguments.length?(f==null?s=o=null:o=a(s=f),u):s},u}class F3{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function voe(t){return new F3(t,!0)}function yoe(t){return new F3(t,!1)}const CA={draw(t,e){const r=Bi(e/Hg);t.moveTo(r,0),t.arc(0,0,r,0,Jy)}},xoe={draw(t,e){const r=Bi(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},B3=Bi(1/3),boe=B3*2,woe={draw(t,e){const r=Bi(e/boe),n=r*B3;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Soe={draw(t,e){const r=Bi(e),n=-r/2;t.rect(n,n,r,r)}},Eoe=.8908130915292852,U3=Gg(Hg/10)/Gg(7*Hg/10),Toe=Gg(Jy/10)*U3,Aoe=-k3(Jy/10)*U3,_oe={draw(t,e){const r=Bi(e*Eoe),n=Toe*r,i=Aoe*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const a=Jy*s/5,o=k3(a),c=Gg(a);t.lineTo(c*r,-o*r),t.lineTo(o*n-c*i,c*n+o*i)}t.closePath()}},Xx=Bi(3),Poe={draw(t,e){const r=-Bi(e/(Xx*3));t.moveTo(0,r*2),t.lineTo(-Xx*r,-r),t.lineTo(Xx*r,-r),t.closePath()}},qn=-.5,Yn=Bi(3)/2,jS=1/Bi(12),Noe=(jS/2+1)*3,Coe={draw(t,e){const r=Bi(e/Noe),n=r/2,i=r*jS,s=n,a=r*jS+r,o=-s,c=a;t.moveTo(n,i),t.lineTo(s,a),t.lineTo(o,c),t.lineTo(qn*n-Yn*i,Yn*n+qn*i),t.lineTo(qn*s-Yn*a,Yn*s+qn*a),t.lineTo(qn*o-Yn*c,Yn*o+qn*c),t.lineTo(qn*n+Yn*i,qn*i-Yn*n),t.lineTo(qn*s+Yn*a,qn*a-Yn*s),t.lineTo(qn*o+Yn*c,qn*c-Yn*o),t.closePath()}};function joe(t,e){let r=null,n=PA(i);t=typeof t=="function"?t:Pt(t||CA),e=typeof e=="function"?e:Pt(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Pt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Pt(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function zg(){}function Wg(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function V3(t){this._context=t}V3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ooe(t){return new V3(t)}function G3(t){this._context=t}G3.prototype={areaStart:zg,areaEnd:zg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Wg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ioe(t){return new G3(t)}function H3(t){this._context=t}H3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Wg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function koe(t){return new H3(t)}function z3(t){this._context=t}z3.prototype={areaStart:zg,areaEnd:zg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Roe(t){return new z3(t)}function Fj(t){return t<0?-1:1}function Bj(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),o=(s*i+a*n)/(n+i);return(Fj(s)+Fj(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function Uj(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Qx(t,e,r){var n=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-n)/3;t._context.bezierCurveTo(n+o,i+o*e,s-o,a-o*r,s,a)}function Kg(t){this._context=t}Kg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Qx(this,this._t0,Uj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Qx(this,Uj(this,r=Bj(this,t,e)),r);break;default:Qx(this,this._t0,r=Bj(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function W3(t){this._context=new K3(t)}(W3.prototype=Object.create(Kg.prototype)).point=function(t,e){Kg.prototype.point.call(this,e,t)};function K3(t){this._context=t}K3.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function Loe(t){return new Kg(t)}function Doe(t){return new W3(t)}function q3(t){this._context=t}q3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=Vj(t),i=Vj(e),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Vj(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Moe(t){return new q3(t)}function t0(t,e){this._context=t,this._t=e}t0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function $oe(t){return new t0(t,.5)}function Foe(t){return new t0(t,0)}function Boe(t){return new t0(t,1)}function bu(t,e){if((a=t.length)>1)for(var r=1,n,i,s=t[e[0]],a,o=s.length;r<a;++r)for(i=s,s=t[e[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function OS(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Uoe(t,e){return t[e]}function Voe(t){const e=[];return e.key=t,e}function Goe(){var t=Pt([]),e=OS,r=bu,n=Uoe;function i(s){var a=Array.from(t.apply(this,arguments),Voe),o,c=a.length,u=-1,d;for(const f of s)for(o=0,++u;o<c;++o)(a[o][u]=[0,+n(f,a[o].key,u,s)]).data=f;for(o=0,d=NA(e(a));o<c;++o)a[d[o]].index=o;return r(a,d),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Pt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Pt(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?OS:typeof s=="function"?s:Pt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??bu,i):r},i}function Hoe(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}bu(t,e)}}function zoe(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var a=0,o=0;a<i;++a)o+=t[a][r][1]||0;n[r][1]+=n[r][0]=-o/2}bu(t,e)}}function Woe(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var o=0,c=0,u=0;o<a;++o){for(var d=t[e[o]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,p=0;p<o;++p){var g=t[e[p]],v=g[n][1]||0,y=g[n-1][1]||0;m+=v-y}c+=f,u+=m*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,bu(t,e)}}function rh(t){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}var Koe=["type","size","sizeType"];function IS(){return IS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},IS.apply(this,arguments)}function Gj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gj(Object(r),!0).forEach(function(n){qoe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qoe(t,e,r){return e=Yoe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yoe(t){var e=Xoe(t,"string");return rh(e)=="symbol"?e:e+""}function Xoe(t,e){if(rh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qoe(t,e){if(t==null)return{};var r=Zoe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Zoe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Y3={symbolCircle:CA,symbolCross:xoe,symbolDiamond:woe,symbolSquare:Soe,symbolStar:_oe,symbolTriangle:Poe,symbolWye:Coe},Joe=Math.PI/180,ele=function(e){var r="symbol".concat(Zy(e));return Y3[r]||CA},tle=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Joe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},rle=function(e,r){Y3["symbol".concat(Zy(e))]=r},jA=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,s=i===void 0?64:i,a=e.sizeType,o=a===void 0?"area":a,c=Qoe(e,Koe),u=Hj(Hj({},c),{},{type:n,size:s,sizeType:o}),d=function(){var v=ele(n),y=joe().type(v).size(tle(s,o,n));return y()},f=u.className,h=u.cx,m=u.cy,p=De(u,!0);return h===+h&&m===+m&&s===+s?L.createElement("path",IS({},p,{className:Ke("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};jA.registerSymbol=rle;function wu(t){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(t)}function kS(){return kS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kS.apply(this,arguments)}function zj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nle(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zj(Object(r),!0).forEach(function(n){nh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ile(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sle(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Q3(n.key),n)}}function ale(t,e,r){return e&&sle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ole(t,e,r){return e=qg(e),lle(t,X3()?Reflect.construct(e,r||[],qg(t).constructor):e.apply(t,r))}function lle(t,e){if(e&&(wu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cle(t)}function cle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X3=function(){return!!t})()}function qg(t){return qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qg(t)}function ule(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RS(t,e)}function RS(t,e){return RS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},RS(t,e)}function nh(t,e,r){return e=Q3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q3(t){var e=dle(t,"string");return wu(e)=="symbol"?e:e+""}function dle(t,e){if(wu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xn=32,OA=function(t){function e(){return ile(this,e),ole(this,e,arguments)}return ule(e,t),ale(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=Xn/2,a=Xn/6,o=Xn/3,c=n.inactive?i:n.color;if(n.type==="plainline")return L.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Xn,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return L.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(Xn,"M").concat(2*o,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return L.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Xn/8,"h").concat(Xn,"v").concat(Xn*3/4,"h").concat(-Xn,"z"),className:"recharts-legend-icon"});if(L.isValidElement(n.legendIcon)){var u=nle({},n);return delete u.legendIcon,L.cloneElement(n.legendIcon,u)}return L.createElement(jA,{fill:c,cx:s,cy:s,size:Xn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,a=i.iconSize,o=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Xn,height:Xn},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,p){var g=m.formatter||c,v=Ke(nh(nh({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",m.inactive));if(m.type==="none")return null;var y=Be(m.value)?null:m.value;Ri(!Be(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=m.inactive?u:m.color;return L.createElement("li",kS({className:v,style:f,key:"legend-item-".concat(p)},jl(n.props,m,p)),L.createElement(TS,{width:a,height:a,viewBox:d,style:h},n.renderIcon(m)),L.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},g?g(y,m,p):y))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,a=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return L.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(E.PureComponent);nh(OA,"displayName","Legend");nh(OA,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var fle=Fy;function hle(){this.__data__=new fle,this.size=0}var mle=hle;function ple(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var gle=ple;function vle(t){return this.__data__.get(t)}var yle=vle;function xle(t){return this.__data__.has(t)}var ble=xle,wle=Fy,Sle=yA,Ele=xA,Tle=200;function Ale(t,e){var r=this.__data__;if(r instanceof wle){var n=r.__data__;if(!Sle||n.length<Tle-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Ele(n)}return r.set(t,e),this.size=r.size,this}var _le=Ale,Ple=Fy,Nle=mle,Cle=gle,jle=yle,Ole=ble,Ile=_le;function dd(t){var e=this.__data__=new Ple(t);this.size=e.size}dd.prototype.clear=Nle;dd.prototype.delete=Cle;dd.prototype.get=jle;dd.prototype.has=Ole;dd.prototype.set=Ile;var Z3=dd,kle="__lodash_hash_undefined__";function Rle(t){return this.__data__.set(t,kle),this}var Lle=Rle;function Dle(t){return this.__data__.has(t)}var Mle=Dle,$le=xA,Fle=Lle,Ble=Mle;function Yg(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new $le;++e<r;)this.add(t[e])}Yg.prototype.add=Yg.prototype.push=Fle;Yg.prototype.has=Ble;var J3=Yg;function Ule(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var eU=Ule;function Vle(t,e){return t.has(e)}var tU=Vle,Gle=J3,Hle=eU,zle=tU,Wle=1,Kle=2;function qle(t,e,r,n,i,s){var a=r&Wle,o=t.length,c=e.length;if(o!=c&&!(a&&c>o))return!1;var u=s.get(t),d=s.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,m=r&Kle?new Gle:void 0;for(s.set(t,e),s.set(e,t);++f<o;){var p=t[f],g=e[f];if(n)var v=a?n(g,p,f,e,t,s):n(p,g,f,t,e,s);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!Hle(e,function(y,x){if(!zle(m,x)&&(p===y||i(p,y,r,n,s)))return m.push(x)})){h=!1;break}}else if(!(p===g||i(p,g,r,n,s))){h=!1;break}}return s.delete(t),s.delete(e),h}var rU=qle,Yle=vs,Xle=Yle.Uint8Array,Qle=Xle;function Zle(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var Jle=Zle;function ece(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var IA=ece,Wj=em,Kj=Qle,tce=vA,rce=rU,nce=Jle,ice=IA,sce=1,ace=2,oce="[object Boolean]",lce="[object Date]",cce="[object Error]",uce="[object Map]",dce="[object Number]",fce="[object RegExp]",hce="[object Set]",mce="[object String]",pce="[object Symbol]",gce="[object ArrayBuffer]",vce="[object DataView]",qj=Wj?Wj.prototype:void 0,Zx=qj?qj.valueOf:void 0;function yce(t,e,r,n,i,s,a){switch(r){case vce:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case gce:return!(t.byteLength!=e.byteLength||!s(new Kj(t),new Kj(e)));case oce:case lce:case dce:return tce(+t,+e);case cce:return t.name==e.name&&t.message==e.message;case fce:case mce:return t==e+"";case uce:var o=nce;case hce:var c=n&sce;if(o||(o=ice),t.size!=e.size&&!c)return!1;var u=a.get(t);if(u)return u==e;n|=ace,a.set(t,e);var d=rce(o(t),o(e),n,i,s,a);return a.delete(t),d;case pce:if(Zx)return Zx.call(t)==Zx.call(e)}return!1}var xce=yce;function bce(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var nU=bce,wce=nU,Sce=Pn;function Ece(t,e,r){var n=e(t);return Sce(t)?n:wce(n,r(t))}var Tce=Ece;function Ace(t,e){for(var r=-1,n=t==null?0:t.length,i=0,s=[];++r<n;){var a=t[r];e(a,r,t)&&(s[i++]=a)}return s}var _ce=Ace;function Pce(){return[]}var Nce=Pce,Cce=_ce,jce=Nce,Oce=Object.prototype,Ice=Oce.propertyIsEnumerable,Yj=Object.getOwnPropertySymbols,kce=Yj?function(t){return t==null?[]:(t=Object(t),Cce(Yj(t),function(e){return Ice.call(t,e)}))}:jce,Rce=kce;function Lce(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Dce=Lce,Mce=la,$ce=ca,Fce="[object Arguments]";function Bce(t){return $ce(t)&&Mce(t)==Fce}var Uce=Bce,Xj=Uce,Vce=ca,iU=Object.prototype,Gce=iU.hasOwnProperty,Hce=iU.propertyIsEnumerable,zce=Xj(function(){return arguments}())?Xj:function(t){return Vce(t)&&Gce.call(t,"callee")&&!Hce.call(t,"callee")},kA=zce,Xg={exports:{}};function Wce(){return!1}var Kce=Wce;Xg.exports;(function(t,e){var r=vs,n=Kce,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?r.Buffer:void 0,c=o?o.isBuffer:void 0,u=c||n;t.exports=u})(Xg,Xg.exports);var sU=Xg.exports,qce=9007199254740991,Yce=/^(?:0|[1-9]\d*)$/;function Xce(t,e){var r=typeof t;return e=e??qce,!!e&&(r=="number"||r!="symbol"&&Yce.test(t))&&t>-1&&t%1==0&&t<e}var RA=Xce,Qce=9007199254740991;function Zce(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Qce}var LA=Zce,Jce=la,eue=LA,tue=ca,rue="[object Arguments]",nue="[object Array]",iue="[object Boolean]",sue="[object Date]",aue="[object Error]",oue="[object Function]",lue="[object Map]",cue="[object Number]",uue="[object Object]",due="[object RegExp]",fue="[object Set]",hue="[object String]",mue="[object WeakMap]",pue="[object ArrayBuffer]",gue="[object DataView]",vue="[object Float32Array]",yue="[object Float64Array]",xue="[object Int8Array]",bue="[object Int16Array]",wue="[object Int32Array]",Sue="[object Uint8Array]",Eue="[object Uint8ClampedArray]",Tue="[object Uint16Array]",Aue="[object Uint32Array]",Rt={};Rt[vue]=Rt[yue]=Rt[xue]=Rt[bue]=Rt[wue]=Rt[Sue]=Rt[Eue]=Rt[Tue]=Rt[Aue]=!0;Rt[rue]=Rt[nue]=Rt[pue]=Rt[iue]=Rt[gue]=Rt[sue]=Rt[aue]=Rt[oue]=Rt[lue]=Rt[cue]=Rt[uue]=Rt[due]=Rt[fue]=Rt[hue]=Rt[mue]=!1;function _ue(t){return tue(t)&&eue(t.length)&&!!Rt[Jce(t)]}var Pue=_ue;function Nue(t){return function(e){return t(e)}}var aU=Nue,Qg={exports:{}};Qg.exports;(function(t,e){var r=m3,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===n,a=s&&r.process,o=function(){try{var c=i&&i.require&&i.require("util").types;return c||a&&a.binding&&a.binding("util")}catch{}}();t.exports=o})(Qg,Qg.exports);var Cue=Qg.exports,jue=Pue,Oue=aU,Qj=Cue,Zj=Qj&&Qj.isTypedArray,Iue=Zj?Oue(Zj):jue,oU=Iue,kue=Dce,Rue=kA,Lue=Pn,Due=sU,Mue=RA,$ue=oU,Fue=Object.prototype,Bue=Fue.hasOwnProperty;function Uue(t,e){var r=Lue(t),n=!r&&Rue(t),i=!r&&!n&&Due(t),s=!r&&!n&&!i&&$ue(t),a=r||n||i||s,o=a?kue(t.length,String):[],c=o.length;for(var u in t)(e||Bue.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Mue(u,c)))&&o.push(u);return o}var Vue=Uue,Gue=Object.prototype;function Hue(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Gue;return t===r}var zue=Hue;function Wue(t,e){return function(r){return t(e(r))}}var lU=Wue,Kue=lU,que=Kue(Object.keys,Object),Yue=que,Xue=zue,Que=Yue,Zue=Object.prototype,Jue=Zue.hasOwnProperty;function ede(t){if(!Xue(t))return Que(t);var e=[];for(var r in Object(t))Jue.call(t,r)&&r!="constructor"&&e.push(r);return e}var tde=ede,rde=gA,nde=LA;function ide(t){return t!=null&&nde(t.length)&&!rde(t)}var tm=ide,sde=Vue,ade=tde,ode=tm;function lde(t){return ode(t)?sde(t):ade(t)}var r0=lde,cde=Tce,ude=Rce,dde=r0;function fde(t){return cde(t,dde,ude)}var hde=fde,Jj=hde,mde=1,pde=Object.prototype,gde=pde.hasOwnProperty;function vde(t,e,r,n,i,s){var a=r&mde,o=Jj(t),c=o.length,u=Jj(e),d=u.length;if(c!=d&&!a)return!1;for(var f=c;f--;){var h=o[f];if(!(a?h in e:gde.call(e,h)))return!1}var m=s.get(t),p=s.get(e);if(m&&p)return m==e&&p==t;var g=!0;s.set(t,e),s.set(e,t);for(var v=a;++f<c;){h=o[f];var y=t[h],x=e[h];if(n)var b=a?n(x,y,h,e,t,s):n(y,x,h,t,e,s);if(!(b===void 0?y===x||i(y,x,r,n,s):b)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var S=t.constructor,w=e.constructor;S!=w&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof w=="function"&&w instanceof w)&&(g=!1)}return s.delete(t),s.delete(e),g}var yde=vde,xde=Ul,bde=vs,wde=xde(bde,"DataView"),Sde=wde,Ede=Ul,Tde=vs,Ade=Ede(Tde,"Promise"),_de=Ade,Pde=Ul,Nde=vs,Cde=Pde(Nde,"Set"),cU=Cde,jde=Ul,Ode=vs,Ide=jde(Ode,"WeakMap"),kde=Ide,LS=Sde,DS=yA,MS=_de,$S=cU,FS=kde,uU=la,fd=g3,eO="[object Map]",Rde="[object Object]",tO="[object Promise]",rO="[object Set]",nO="[object WeakMap]",iO="[object DataView]",Lde=fd(LS),Dde=fd(DS),Mde=fd(MS),$de=fd($S),Fde=fd(FS),Lo=uU;(LS&&Lo(new LS(new ArrayBuffer(1)))!=iO||DS&&Lo(new DS)!=eO||MS&&Lo(MS.resolve())!=tO||$S&&Lo(new $S)!=rO||FS&&Lo(new FS)!=nO)&&(Lo=function(t){var e=uU(t),r=e==Rde?t.constructor:void 0,n=r?fd(r):"";if(n)switch(n){case Lde:return iO;case Dde:return eO;case Mde:return tO;case $de:return rO;case Fde:return nO}return e});var Bde=Lo,Jx=Z3,Ude=rU,Vde=xce,Gde=yde,sO=Bde,aO=Pn,oO=sU,Hde=oU,zde=1,lO="[object Arguments]",cO="[object Array]",Ym="[object Object]",Wde=Object.prototype,uO=Wde.hasOwnProperty;function Kde(t,e,r,n,i,s){var a=aO(t),o=aO(e),c=a?cO:sO(t),u=o?cO:sO(e);c=c==lO?Ym:c,u=u==lO?Ym:u;var d=c==Ym,f=u==Ym,h=c==u;if(h&&oO(t)){if(!oO(e))return!1;a=!0,d=!1}if(h&&!d)return s||(s=new Jx),a||Hde(t)?Ude(t,e,r,n,i,s):Vde(t,e,c,r,n,i,s);if(!(r&zde)){var m=d&&uO.call(t,"__wrapped__"),p=f&&uO.call(e,"__wrapped__");if(m||p){var g=m?t.value():t,v=p?e.value():e;return s||(s=new Jx),i(g,v,r,n,s)}}return h?(s||(s=new Jx),Gde(t,e,r,n,i,s)):!1}var qde=Kde,Yde=qde,dO=ca;function dU(t,e,r,n,i){return t===e?!0:t==null||e==null||!dO(t)&&!dO(e)?t!==t&&e!==e:Yde(t,e,r,n,dU,i)}var DA=dU,Xde=Z3,Qde=DA,Zde=1,Jde=2;function efe(t,e,r,n){var i=r.length,s=i,a=!n;if(t==null)return!s;for(t=Object(t);i--;){var o=r[i];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<s;){o=r[i];var c=o[0],u=t[c],d=o[1];if(a&&o[2]){if(u===void 0&&!(c in t))return!1}else{var f=new Xde;if(n)var h=n(u,d,c,t,e,f);if(!(h===void 0?Qde(d,u,Zde|Jde,n,f):h))return!1}}return!0}var tfe=efe,rfe=wo;function nfe(t){return t===t&&!rfe(t)}var fU=nfe,ife=fU,sfe=r0;function afe(t){for(var e=sfe(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,ife(i)]}return e}var ofe=afe;function lfe(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var hU=lfe,cfe=tfe,ufe=ofe,dfe=hU;function ffe(t){var e=ufe(t);return e.length==1&&e[0][2]?dfe(e[0][0],e[0][1]):function(r){return r===t||cfe(r,t,e)}}var hfe=ffe;function mfe(t,e){return t!=null&&e in Object(t)}var pfe=mfe,gfe=w3,vfe=kA,yfe=Pn,xfe=RA,bfe=LA,wfe=Uy;function Sfe(t,e,r){e=gfe(e,t);for(var n=-1,i=e.length,s=!1;++n<i;){var a=wfe(e[n]);if(!(s=t!=null&&r(t,a)))break;t=t[a]}return s||++n!=i?s:(i=t==null?0:t.length,!!i&&bfe(i)&&xfe(a,i)&&(yfe(t)||vfe(t)))}var Efe=Sfe,Tfe=pfe,Afe=Efe;function _fe(t,e){return t!=null&&Afe(t,e,Tfe)}var Pfe=_fe,Nfe=DA,Cfe=S3,jfe=Pfe,Ofe=pA,Ife=fU,kfe=hU,Rfe=Uy,Lfe=1,Dfe=2;function Mfe(t,e){return Ofe(t)&&Ife(e)?kfe(Rfe(t),e):function(r){var n=Cfe(r,t);return n===void 0&&n===e?jfe(r,t):Nfe(e,n,Lfe|Dfe)}}var $fe=Mfe;function Ffe(t){return t}var hd=Ffe;function Bfe(t){return function(e){return e==null?void 0:e[t]}}var Ufe=Bfe,Vfe=SA;function Gfe(t){return function(e){return Vfe(e,t)}}var Hfe=Gfe,zfe=Ufe,Wfe=Hfe,Kfe=pA,qfe=Uy;function Yfe(t){return Kfe(t)?zfe(qfe(t)):Wfe(t)}var Xfe=Yfe,Qfe=hfe,Zfe=$fe,Jfe=hd,ehe=Pn,the=Xfe;function rhe(t){return typeof t=="function"?t:t==null?Jfe:typeof t=="object"?ehe(t)?Zfe(t[0],t[1]):Qfe(t):the(t)}var ys=rhe;function nhe(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var mU=nhe;function ihe(t){return t!==t}var she=ihe;function ahe(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var ohe=ahe,lhe=mU,che=she,uhe=ohe;function dhe(t,e,r){return e===e?uhe(t,e,r):lhe(t,che,r)}var fhe=dhe,hhe=fhe;function mhe(t,e){var r=t==null?0:t.length;return!!r&&hhe(t,e,0)>-1}var phe=mhe;function ghe(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var vhe=ghe;function yhe(){}var xhe=yhe,eb=cU,bhe=xhe,whe=IA,She=1/0,Ehe=eb&&1/whe(new eb([,-0]))[1]==She?function(t){return new eb(t)}:bhe,The=Ehe,Ahe=J3,_he=phe,Phe=vhe,Nhe=tU,Che=The,jhe=IA,Ohe=200;function Ihe(t,e,r){var n=-1,i=_he,s=t.length,a=!0,o=[],c=o;if(r)a=!1,i=Phe;else if(s>=Ohe){var u=e?null:Che(t);if(u)return jhe(u);a=!1,i=Nhe,c=new Ahe}else c=e?[]:o;e:for(;++n<s;){var d=t[n],f=e?e(d):d;if(d=r||d!==0?d:0,a&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),o.push(d)}else i(c,f,r)||(c!==o&&c.push(f),o.push(d))}return o}var khe=Ihe,Rhe=ys,Lhe=khe;function Dhe(t,e){return t&&t.length?Lhe(t,Rhe(e)):[]}var Mhe=Dhe;const fO=pt(Mhe);function pU(t,e,r){return e===!0?fO(t,r):Be(e)?fO(t,e):t}function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}var $he=["ref"];function hO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ts(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(r),!0).forEach(function(n){n0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vU(n.key),n)}}function Bhe(t,e,r){return e&&mO(t.prototype,e),r&&mO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uhe(t,e,r){return e=Zg(e),Vhe(t,gU()?Reflect.construct(e,r||[],Zg(t).constructor):e.apply(t,r))}function Vhe(t,e){if(e&&(Su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ghe(t)}function Ghe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gU=function(){return!!t})()}function Zg(t){return Zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zg(t)}function Hhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BS(t,e)}function BS(t,e){return BS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},BS(t,e)}function n0(t,e,r){return e=vU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vU(t){var e=zhe(t,"string");return Su(e)=="symbol"?e:e+""}function zhe(t,e){if(Su(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Whe(t,e){if(t==null)return{};var r=Khe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Khe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qhe(t){return t.value}function Yhe(t,e){if(L.isValidElement(t))return L.cloneElement(t,e);if(typeof t=="function")return L.createElement(t,e);e.ref;var r=Whe(e,$he);return L.createElement(OA,r)}var pO=1,al=function(t){function e(){var r;Fhe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Uhe(this,e,[].concat(i)),n0(r,"lastBoundingBox",{width:-1,height:-1}),r}return Hhe(e,t),Bhe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>pO||Math.abs(i.height-this.lastBoundingBox.height)>pO)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ts({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,a=i.align,o=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(a==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=a==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var p=this.getBBoxSnapshot();h={top:((d||0)-p.height)/2}}else h=o==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ts(Ts({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,a=i.width,o=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Ts(Ts({position:"absolute",width:a||"auto",height:o||"auto"},this.getDefaultPosition(c)),c);return L.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},Yhe(s,Ts(Ts({},this.props),{},{payload:pU(d,u,qhe)})))}}],[{key:"getWithHeight",value:function(n,i){var s=Ts(Ts({},this.defaultProps),n.props),a=s.layout;return a==="vertical"&&se(n.props.height)?{height:n.props.height}:a==="horizontal"?{width:n.props.width||i}:null}}])}(E.PureComponent);n0(al,"displayName","Legend");n0(al,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var gO=em,Xhe=kA,Qhe=Pn,vO=gO?gO.isConcatSpreadable:void 0;function Zhe(t){return Qhe(t)||Xhe(t)||!!(vO&&t&&t[vO])}var Jhe=Zhe,eme=nU,tme=Jhe;function yU(t,e,r,n,i){var s=-1,a=t.length;for(r||(r=tme),i||(i=[]);++s<a;){var o=t[s];e>0&&r(o)?e>1?yU(o,e-1,r,n,i):eme(i,o):n||(i[i.length]=o)}return i}var xU=yU;function rme(t){return function(e,r,n){for(var i=-1,s=Object(e),a=n(e),o=a.length;o--;){var c=a[t?o:++i];if(r(s[c],c,s)===!1)break}return e}}var nme=rme,ime=nme,sme=ime(),ame=sme,ome=ame,lme=r0;function cme(t,e){return t&&ome(t,e,lme)}var bU=cme,ume=tm;function dme(t,e){return function(r,n){if(r==null)return r;if(!ume(r))return t(r,n);for(var i=r.length,s=e?i:-1,a=Object(r);(e?s--:++s<i)&&n(a[s],s,a)!==!1;);return r}}var fme=dme,hme=bU,mme=fme,pme=mme(hme),MA=pme,gme=MA,vme=tm;function yme(t,e){var r=-1,n=vme(t)?Array(t.length):[];return gme(t,function(i,s,a){n[++r]=e(i,s,a)}),n}var wU=yme;function xme(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var bme=xme,yO=id;function wme(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,s=yO(t),a=e!==void 0,o=e===null,c=e===e,u=yO(e);if(!o&&!u&&!s&&t>e||s&&a&&c&&!o&&!u||n&&a&&c||!r&&c||!i)return 1;if(!n&&!s&&!u&&t<e||u&&r&&i&&!n&&!s||o&&r&&i||!a&&i||!c)return-1}return 0}var Sme=wme,Eme=Sme;function Tme(t,e,r){for(var n=-1,i=t.criteria,s=e.criteria,a=i.length,o=r.length;++n<a;){var c=Eme(i[n],s[n]);if(c){if(n>=o)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return t.index-e.index}var Ame=Tme,tb=wA,_me=SA,Pme=ys,Nme=wU,Cme=bme,jme=aU,Ome=Ame,Ime=hd,kme=Pn;function Rme(t,e,r){e.length?e=tb(e,function(s){return kme(s)?function(a){return _me(a,s.length===1?s[0]:s)}:s}):e=[Ime];var n=-1;e=tb(e,jme(Pme));var i=Nme(t,function(s,a,o){var c=tb(e,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return Cme(i,function(s,a){return Ome(s,a,r)})}var Lme=Rme;function Dme(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var Mme=Dme,$me=Mme,xO=Math.max;function Fme(t,e,r){return e=xO(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=xO(n.length-e,0),a=Array(s);++i<s;)a[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(a),$me(t,this,o)}}var Bme=Fme;function Ume(t){return function(){return t}}var Vme=Ume,Gme=Ul,Hme=function(){try{var t=Gme(Object,"defineProperty");return t({},"",{}),t}catch{}}(),SU=Hme,zme=Vme,bO=SU,Wme=hd,Kme=bO?function(t,e){return bO(t,"toString",{configurable:!0,enumerable:!1,value:zme(e),writable:!0})}:Wme,qme=Kme,Yme=800,Xme=16,Qme=Date.now;function Zme(t){var e=0,r=0;return function(){var n=Qme(),i=Xme-(n-r);if(r=n,i>0){if(++e>=Yme)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Jme=Zme,epe=qme,tpe=Jme,rpe=tpe(epe),npe=rpe,ipe=hd,spe=Bme,ape=npe;function ope(t,e){return ape(spe(t,e,ipe),t+"")}var lpe=ope,cpe=vA,upe=tm,dpe=RA,fpe=wo;function hpe(t,e,r){if(!fpe(r))return!1;var n=typeof e;return(n=="number"?upe(r)&&dpe(e,r.length):n=="string"&&e in r)?cpe(r[e],t):!1}var i0=hpe,mpe=xU,ppe=Lme,gpe=lpe,wO=i0,vpe=gpe(function(t,e){if(t==null)return[];var r=e.length;return r>1&&wO(t,e[0],e[1])?e=[]:r>2&&wO(e[0],e[1],e[2])&&(e=[e[0]]),ppe(t,mpe(e,1),[])}),ype=vpe;const $A=pt(ype);function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function US(){return US=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},US.apply(this,arguments)}function xpe(t,e){return Epe(t)||Spe(t,e)||wpe(t,e)||bpe()}function bpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wpe(t,e){if(t){if(typeof t=="string")return SO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SO(t,e)}}function SO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Spe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Epe(t){if(Array.isArray(t))return t}function EO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EO(Object(r),!0).forEach(function(n){Tpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tpe(t,e,r){return e=Ape(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ape(t){var e=_pe(t,"string");return ih(e)=="symbol"?e:e+""}function _pe(t,e){if(ih(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ppe(t){return Array.isArray(t)&&Tr(t[0])&&Tr(t[1])?t.join(" ~ "):t}var Npe=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,s=i===void 0?{}:i,a=e.itemStyle,o=a===void 0?{}:a,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,h=e.itemSorter,m=e.wrapperClassName,p=e.labelClassName,g=e.label,v=e.labelFormatter,y=e.accessibilityLayer,x=y===void 0?!1:y,b=function(){if(d&&d.length){var O={padding:0,margin:0},R=(h?$A(d,h):d).map(function(k,M){if(k.type==="none")return null;var D=rb({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},o),U=k.formatter||f||Ppe,I=k.value,F=k.name,H=I,G=F;if(U&&H!=null&&G!=null){var V=U(I,F,k,M,d);if(Array.isArray(V)){var ne=xpe(V,2);H=ne[0],G=ne[1]}else H=V}return L.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:D},Tr(G)?L.createElement("span",{className:"recharts-tooltip-item-name"},G):null,Tr(G)?L.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,L.createElement("span",{className:"recharts-tooltip-item-value"},H),L.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return L.createElement("ul",{className:"recharts-tooltip-item-list",style:O},R)}return null},S=rb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),w=rb({margin:0},u),T=!qe(g),A=T?g:"",_=Ke("recharts-default-tooltip",m),N=Ke("recharts-tooltip-label",p);T&&v&&d!==void 0&&d!==null&&(A=v(g,d));var C=x?{role:"status","aria-live":"assertive"}:{};return L.createElement("div",US({className:_,style:S},C),L.createElement("p",{className:N,style:w},L.isValidElement(A)?A:"".concat(A)),b())};function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function Xm(t,e,r){return e=Cpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cpe(t){var e=jpe(t,"string");return sh(e)=="symbol"?e:e+""}function jpe(t,e){if(sh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Id="recharts-tooltip-wrapper",Ope={visibility:"hidden"};function Ipe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Ke(Id,Xm(Xm(Xm(Xm({},"".concat(Id,"-right"),se(r)&&e&&se(e.x)&&r>=e.x),"".concat(Id,"-left"),se(r)&&e&&se(e.x)&&r<e.x),"".concat(Id,"-bottom"),se(n)&&e&&se(e.y)&&n>=e.y),"".concat(Id,"-top"),se(n)&&e&&se(e.y)&&n<e.y))}function TO(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,s=t.position,a=t.reverseDirection,o=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&se(s[n]))return s[n];var d=r[n]-o-i,f=r[n]+i;if(e[n])return a[n]?d:f;if(a[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var p=f+o,g=c[n]+u;return p>g?Math.max(d,c[n]):Math.max(f,c[n])}function kpe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Rpe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,s=t.reverseDirection,a=t.tooltipBox,o=t.useTranslate3d,c=t.viewBox,u,d,f;return a.height>0&&a.width>0&&r?(d=TO({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),f=TO({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),u=kpe({translateX:d,translateY:f,useTranslate3d:o})):u=Ope,{cssProperties:u,cssClasses:Ipe({translateX:d,translateY:f,coordinate:r})}}function Eu(t){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(t)}function AO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _O(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AO(Object(r),!0).forEach(function(n){GS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dpe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TU(n.key),n)}}function Mpe(t,e,r){return e&&Dpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $pe(t,e,r){return e=Jg(e),Fpe(t,EU()?Reflect.construct(e,r||[],Jg(t).constructor):e.apply(t,r))}function Fpe(t,e){if(e&&(Eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bpe(t)}function Bpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EU=function(){return!!t})()}function Jg(t){return Jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jg(t)}function Upe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VS(t,e)}function VS(t,e){return VS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VS(t,e)}function GS(t,e,r){return e=TU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TU(t){var e=Vpe(t,"string");return Eu(e)=="symbol"?e:e+""}function Vpe(t,e){if(Eu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var PO=1,Gpe=function(t){function e(){var r;Lpe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=$pe(this,e,[].concat(i)),GS(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),GS(r,"handleKeyDown",function(a){if(a.key==="Escape"){var o,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&o!==void 0?o:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Upe(e,t),Mpe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>PO||Math.abs(n.height-this.state.lastBoundingBox.height)>PO)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,p=i.position,g=i.reverseDirection,v=i.useTranslate3d,y=i.viewBox,x=i.wrapperStyle,b=Rpe({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:m,position:p,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),S=b.cssClasses,w=b.cssProperties,T=_O(_O({transition:h&&s?"transform ".concat(o,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return L.createElement("div",{tabIndex:-1,className:S,style:T,ref:function(_){n.wrapperNode=_}},u)}}])}(E.PureComponent),Hpe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Vl={isSsr:Hpe()};function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(t)}function NO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function CO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NO(Object(r),!0).forEach(function(n){FA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wpe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_U(n.key),n)}}function Kpe(t,e,r){return e&&Wpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qpe(t,e,r){return e=ev(e),Ype(t,AU()?Reflect.construct(e,r||[],ev(t).constructor):e.apply(t,r))}function Ype(t,e){if(e&&(Tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xpe(t)}function Xpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AU=function(){return!!t})()}function ev(t){return ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ev(t)}function Qpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HS(t,e)}function HS(t,e){return HS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},HS(t,e)}function FA(t,e,r){return e=_U(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _U(t){var e=Zpe(t,"string");return Tu(e)=="symbol"?e:e+""}function Zpe(t,e){if(Tu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Jpe(t){return t.dataKey}function ege(t,e){return L.isValidElement(t)?L.cloneElement(t,e):typeof t=="function"?L.createElement(t,e):L.createElement(Npe,e)}var yn=function(t){function e(){return zpe(this,e),qpe(this,e,arguments)}return Qpe(e,t),Kpe(e,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,p=i.payload,g=i.payloadUniqBy,v=i.position,y=i.reverseDirection,x=i.useTranslate3d,b=i.viewBox,S=i.wrapperStyle,w=p??[];f&&w.length&&(w=pU(p.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),g,Jpe));var T=w.length>0;return L.createElement(Gpe,{allowEscapeViewBox:a,animationDuration:o,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:T,offset:m,position:v,reverseDirection:y,useTranslate3d:x,viewBox:b,wrapperStyle:S},ege(u,CO(CO({},this.props),{},{payload:w})))}}])}(E.PureComponent);FA(yn,"displayName","Tooltip");FA(yn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Vl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var tge=vs,rge=function(){return tge.Date.now()},nge=rge,ige=/\s/;function sge(t){for(var e=t.length;e--&&ige.test(t.charAt(e)););return e}var age=sge,oge=age,lge=/^\s+/;function cge(t){return t&&t.slice(0,oge(t)+1).replace(lge,"")}var uge=cge,dge=uge,jO=wo,fge=id,OO=NaN,hge=/^[-+]0x[0-9a-f]+$/i,mge=/^0b[01]+$/i,pge=/^0o[0-7]+$/i,gge=parseInt;function vge(t){if(typeof t=="number")return t;if(fge(t))return OO;if(jO(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=jO(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=dge(t);var r=mge.test(t);return r||pge.test(t)?gge(t.slice(2),r?2:8):hge.test(t)?OO:+t}var PU=vge,yge=wo,nb=nge,IO=PU,xge="Expected a function",bge=Math.max,wge=Math.min;function Sge(t,e,r){var n,i,s,a,o,c,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(xge);e=IO(e)||0,yge(r)&&(d=!!r.leading,f="maxWait"in r,s=f?bge(IO(r.maxWait)||0,e):s,h="trailing"in r?!!r.trailing:h);function m(T){var A=n,_=i;return n=i=void 0,u=T,a=t.apply(_,A),a}function p(T){return u=T,o=setTimeout(y,e),d?m(T):a}function g(T){var A=T-c,_=T-u,N=e-A;return f?wge(N,s-_):N}function v(T){var A=T-c,_=T-u;return c===void 0||A>=e||A<0||f&&_>=s}function y(){var T=nb();if(v(T))return x(T);o=setTimeout(y,g(T))}function x(T){return o=void 0,h&&n?m(T):(n=i=void 0,a)}function b(){o!==void 0&&clearTimeout(o),u=0,n=c=i=o=void 0}function S(){return o===void 0?a:x(nb())}function w(){var T=nb(),A=v(T);if(n=arguments,i=this,c=T,A){if(o===void 0)return p(c);if(f)return clearTimeout(o),o=setTimeout(y,e),m(c)}return o===void 0&&(o=setTimeout(y,e)),a}return w.cancel=b,w.flush=S,w}var Ege=Sge,Tge=Ege,Age=wo,_ge="Expected a function";function Pge(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(_ge);return Age(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Tge(t,e,{leading:n,maxWait:e,trailing:i})}var Nge=Pge;const NU=pt(Nge);function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function kO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(r),!0).forEach(function(n){Cge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cge(t,e,r){return e=jge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jge(t){var e=Oge(t,"string");return ah(e)=="symbol"?e:e+""}function Oge(t,e){if(ah(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ige(t,e){return Dge(t)||Lge(t,e)||Rge(t,e)||kge()}function kge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rge(t,e){if(t){if(typeof t=="string")return RO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RO(t,e)}}function RO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lge(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Dge(t){if(Array.isArray(t))return t}var vf=E.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=t.width,a=s===void 0?"100%":s,o=t.height,c=o===void 0?"100%":o,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,m=t.children,p=t.debounce,g=p===void 0?0:p,v=t.id,y=t.className,x=t.onResize,b=t.style,S=b===void 0?{}:b,w=E.useRef(null),T=E.useRef();T.current=x,E.useImperativeHandle(e,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var A=E.useState({containerWidth:i.width,containerHeight:i.height}),_=Ige(A,2),N=_[0],C=_[1],j=E.useCallback(function(R,k){C(function(M){var D=Math.round(R),U=Math.round(k);return M.containerWidth===D&&M.containerHeight===U?M:{containerWidth:D,containerHeight:U}})},[]);E.useEffect(function(){var R=function(F){var H,G=F[0].contentRect,V=G.width,ne=G.height;j(V,ne),(H=T.current)===null||H===void 0||H.call(T,V,ne)};g>0&&(R=NU(R,g,{trailing:!0,leading:!1}));var k=new ResizeObserver(R),M=w.current.getBoundingClientRect(),D=M.width,U=M.height;return j(D,U),k.observe(w.current),function(){k.disconnect()}},[j,g]);var O=E.useMemo(function(){var R=N.containerWidth,k=N.containerHeight;if(R<0||k<0)return null;Ri(Go(a)||Go(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,c),Ri(!r||r>0,"The aspect(%s) must be greater than zero.",r);var M=Go(a)?R:a,D=Go(c)?k:c;r&&r>0&&(M?D=M/r:D&&(M=D*r),h&&D>h&&(D=h)),Ri(M>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,D,a,c,d,f,r);var U=!Array.isArray(m)&&Hs(m.type).endsWith("Chart");return L.Children.map(m,function(I){return L.isValidElement(I)?E.cloneElement(I,Qm({width:M,height:D},U?{style:Qm({height:"100%",width:"100%",maxHeight:D,maxWidth:M},I.props.style)}:{})):I})},[r,m,c,h,f,d,N,a]);return L.createElement("div",{id:v?"".concat(v):void 0,className:Ke("recharts-responsive-container",y),style:Qm(Qm({},S),{},{width:a,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:w},O)}),rm=function(e){return null};rm.displayName="Cell";function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function LO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(r),!0).forEach(function(n){Mge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mge(t,e,r){return e=$ge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $ge(t){var e=Fge(t,"string");return oh(e)=="symbol"?e:e+""}function Fge(t,e){if(oh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tc={widthCache:{},cacheCount:0},Bge=2e3,Uge={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},DO="recharts_measurement_span";function Vge(t){var e=zS({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var yf=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Vl.isSsr)return{width:0,height:0};var n=Vge(r),i=JSON.stringify({text:e,copyStyle:n});if(tc.widthCache[i])return tc.widthCache[i];try{var s=document.getElementById(DO);s||(s=document.createElement("span"),s.setAttribute("id",DO),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=zS(zS({},Uge),n);Object.assign(s.style,a),s.textContent="".concat(e);var o=s.getBoundingClientRect(),c={width:o.width,height:o.height};return tc.widthCache[i]=c,++tc.cacheCount>Bge&&(tc.cacheCount=0,tc.widthCache={}),c}catch{return{width:0,height:0}}},Gge=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function lh(t){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lh(t)}function tv(t,e){return Kge(t)||Wge(t,e)||zge(t,e)||Hge()}function Hge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zge(t,e){if(t){if(typeof t=="string")return MO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MO(t,e)}}function MO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Wge(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Kge(t){if(Array.isArray(t))return t}function qge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $O(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Xge(n.key),n)}}function Yge(t,e,r){return e&&$O(t.prototype,e),r&&$O(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xge(t){var e=Qge(t,"string");return lh(e)=="symbol"?e:e+""}function Qge(t,e){if(lh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var FO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,BO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Zge=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Jge=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},eve=Object.keys(CU),bc="NaN";function tve(t,e){return t*CU[e]}var Zm=function(){function t(e,r){qge(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!Zge.test(r)&&(this.num=NaN,this.unit=""),eve.includes(r)&&(this.num=tve(e,r),this.unit="px")}return Yge(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Jge.exec(r))!==null&&n!==void 0?n:[],s=tv(i,3),a=s[1],o=s[2];return new t(parseFloat(a),o??"")}}])}();function jU(t){if(t.includes(bc))return bc;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=FO.exec(e))!==null&&r!==void 0?r:[],i=tv(n,4),s=i[1],a=i[2],o=i[3],c=Zm.parse(s??""),u=Zm.parse(o??""),d=a==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return bc;e=e.replace(FO,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=BO.exec(e))!==null&&f!==void 0?f:[],m=tv(h,4),p=m[1],g=m[2],v=m[3],y=Zm.parse(p??""),x=Zm.parse(v??""),b=g==="+"?y.add(x):y.subtract(x);if(b.isNaN())return bc;e=e.replace(BO,b.toString())}return e}var UO=/\(([^()]*)\)/;function rve(t){for(var e=t;e.includes("(");){var r=UO.exec(e),n=tv(r,2),i=n[1];e=e.replace(UO,jU(i))}return e}function nve(t){var e=t.replace(/\s+/g,"");return e=rve(e),e=jU(e),e}function ive(t){try{return nve(t)}catch{return bc}}function ib(t){var e=ive(t.slice(5,-1));return e===bc?"":e}var sve=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ave=["dx","dy","angle","className","breakAll"];function WS(){return WS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WS.apply(this,arguments)}function VO(t,e){if(t==null)return{};var r=ove(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ove(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function GO(t,e){return dve(t)||uve(t,e)||cve(t,e)||lve()}function lve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cve(t,e){if(t){if(typeof t=="string")return HO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HO(t,e)}}function HO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function dve(t){if(Array.isArray(t))return t}var OU=/[ \f\n\r\t\v\u2028\u2029]+/,IU=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var s=[];qe(r)||(n?s=r.toString().split(""):s=r.toString().split(OU));var a=s.map(function(c){return{word:c,width:yf(c,i).width}}),o=n?0:yf(" ",i).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},fve=function(e,r,n,i,s){var a=e.maxLines,o=e.children,c=e.style,u=e.breakAll,d=se(a),f=o,h=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function(D,U){var I=U.word,F=U.width,H=D[D.length-1];if(H&&(i==null||s||H.width+F+n<Number(i)))H.words.push(I),H.width+=F+n;else{var G={words:[I],width:F};D.push(G)}return D},[])},m=h(r),p=function(M){return M.reduce(function(D,U){return D.width>U.width?D:U})};if(!d)return m;for(var g="…",v=function(M){var D=f.slice(0,M),U=IU({breakAll:u,style:c,children:D+g}).wordsWithComputedWidth,I=h(U),F=I.length>a||p(I).width>Number(i);return[F,I]},y=0,x=f.length-1,b=0,S;y<=x&&b<=f.length-1;){var w=Math.floor((y+x)/2),T=w-1,A=v(T),_=GO(A,2),N=_[0],C=_[1],j=v(w),O=GO(j,1),R=O[0];if(!N&&!R&&(y=w+1),N&&R&&(x=w-1),!N&&R){S=C;break}b++}return S||m},zO=function(e){var r=qe(e)?[]:e.toString().split(OU);return[{words:r}]},hve=function(e){var r=e.width,n=e.scaleToFit,i=e.children,s=e.style,a=e.breakAll,o=e.maxLines;if((r||n)&&!Vl.isSsr){var c,u,d=IU({breakAll:a,children:i,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return zO(i);return fve({breakAll:a,children:i,maxLines:o,style:s},c,u,r,n)}return zO(i)},WO="#808080",Ol=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,a=e.lineHeight,o=a===void 0?"1em":a,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,m=h===void 0?"start":h,p=e.verticalAnchor,g=p===void 0?"end":p,v=e.fill,y=v===void 0?WO:v,x=VO(e,sve),b=E.useMemo(function(){return hve({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),S=x.dx,w=x.dy,T=x.angle,A=x.className,_=x.breakAll,N=VO(x,ave);if(!Tr(n)||!Tr(s))return null;var C=n+(se(S)?S:0),j=s+(se(w)?w:0),O;switch(g){case"start":O=ib("calc(".concat(u,")"));break;case"middle":O=ib("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:O=ib("calc(".concat(b.length-1," * -").concat(o,")"));break}var R=[];if(f){var k=b[0].width,M=x.width;R.push("scale(".concat((se(M)?M/k:1)/k,")"))}return T&&R.push("rotate(".concat(T,", ").concat(C,", ").concat(j,")")),R.length&&(N.transform=R.join(" ")),L.createElement("text",WS({},De(N,!0),{x:C,y:j,className:Ke("recharts-text",A),textAnchor:m,fill:y.includes("url")?WO:y}),b.map(function(D,U){var I=D.words.join(_?"":" ");return L.createElement("tspan",{x:C,dy:U===0?O:o,key:"".concat(I,"-").concat(U)},I)}))};function to(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mve(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function BA(t){let e,r,n;t.length!==2?(e=to,r=(o,c)=>to(t(o),c),n=(o,c)=>t(o)-c):(e=t===to||t===mve?t:pve,r=t,n=t);function i(o,c,u=0,d=o.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(o,c,u=0,d=o.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function a(o,c,u=0,d=o.length){const f=i(o,c,u,d-1);return f>u&&n(o[f-1],c)>-n(o[f],c)?f-1:f}return{left:i,center:a,right:s}}function pve(){return 0}function kU(t){return t===null?NaN:+t}function*gve(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const vve=BA(to),nm=vve.right;BA(kU).center;class KO extends Map{constructor(e,r=bve){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(qO(this,e))}has(e){return super.has(qO(this,e))}set(e,r){return super.set(yve(this,e),r)}delete(e){return super.delete(xve(this,e))}}function qO({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function yve({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function xve({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function bve(t){return t!==null&&typeof t=="object"?t.valueOf():t}function wve(t=to){if(t===to)return RU;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function RU(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Sve=Math.sqrt(50),Eve=Math.sqrt(10),Tve=Math.sqrt(2);function rv(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=Sve?10:s>=Eve?5:s>=Tve?2:1;let o,c,u;return i<0?(u=Math.pow(10,-i)/a,o=Math.round(t*u),c=Math.round(e*u),o/u<t&&++o,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*a,o=Math.round(t/u),c=Math.round(e/u),o*u<t&&++o,c*u>e&&--c),c<o&&.5<=r&&r<2?rv(t,e,r*2):[o,c,u]}function KS(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,a]=n?rv(e,t,r):rv(t,e,r);if(!(s>=i))return[];const o=s-i+1,c=new Array(o);if(n)if(a<0)for(let u=0;u<o;++u)c[u]=(s-u)/-a;else for(let u=0;u<o;++u)c[u]=(s-u)*a;else if(a<0)for(let u=0;u<o;++u)c[u]=(i+u)/-a;else for(let u=0;u<o;++u)c[u]=(i+u)*a;return c}function qS(t,e,r){return e=+e,t=+t,r=+r,rv(t,e,r)[2]}function YS(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?qS(e,t,r):qS(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function YO(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function XO(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function LU(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?RU:wve(i);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(e-u*f/c+h)),p=Math.min(n,Math.floor(e+(c-u)*f/c+h));LU(t,e,m,p,i)}const s=t[e];let a=r,o=n;for(kd(t,r,e),i(t[n],s)>0&&kd(t,r,n);a<o;){for(kd(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[r],s)===0?kd(t,r,o):(++o,kd(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function kd(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Ave(t,e,r){if(t=Float64Array.from(gve(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return XO(t);if(e>=1)return YO(t);var n,i=(n-1)*e,s=Math.floor(i),a=YO(LU(t,s).subarray(0,s+1)),o=XO(t.subarray(s+1));return a+(o-a)*(i-s)}}function _ve(t,e,r=kU){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),a=+r(t[s],s,t),o=+r(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function Pve(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function gi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ua(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const XS=Symbol("implicit");function UA(){var t=new KO,e=[],r=[],n=XS;function i(s){let a=t.get(s);if(a===void 0){if(n!==XS)return n;t.set(s,a=e.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new KO;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return UA(e,r).unknown(n)},gi.apply(i,arguments),i}function ch(){var t=UA().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,a,o=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,m=i<n,p=m?i:n,g=m?n:i;s=(g-p)/Math.max(1,h-c+u*2),o&&(s=Math.floor(s)),p+=(g-p-s*(h-c))*d,a=s*(1-c),o&&(p=Math.round(p),a=Math.round(a));var v=Pve(h).map(function(y){return p+s*y});return r(m?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,o=!0,f()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(h){return arguments.length?(o=!!h,f()):o},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return ch(e(),[n,i]).round(o).paddingInner(c).paddingOuter(u).align(d)},gi.apply(f(),arguments)}function DU(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return DU(e())},t}function xf(){return DU(ch.apply(null,arguments).paddingInner(1))}function VA(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function MU(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function im(){}var uh=.7,nv=1/uh,Fc="\\s*([+-]?\\d+)\\s*",dh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ls="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Nve=/^#([0-9a-f]{3,8})$/,Cve=new RegExp(`^rgb\\(${Fc},${Fc},${Fc}\\)$`),jve=new RegExp(`^rgb\\(${ls},${ls},${ls}\\)$`),Ove=new RegExp(`^rgba\\(${Fc},${Fc},${Fc},${dh}\\)$`),Ive=new RegExp(`^rgba\\(${ls},${ls},${ls},${dh}\\)$`),kve=new RegExp(`^hsl\\(${dh},${ls},${ls}\\)$`),Rve=new RegExp(`^hsla\\(${dh},${ls},${ls},${dh}\\)$`),QO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};VA(im,fh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ZO,formatHex:ZO,formatHex8:Lve,formatHsl:Dve,formatRgb:JO,toString:JO});function ZO(){return this.rgb().formatHex()}function Lve(){return this.rgb().formatHex8()}function Dve(){return $U(this).formatHsl()}function JO(){return this.rgb().formatRgb()}function fh(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Nve.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?eI(e):r===3?new En(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Jm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Jm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Cve.exec(t))?new En(e[1],e[2],e[3],1):(e=jve.exec(t))?new En(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ove.exec(t))?Jm(e[1],e[2],e[3],e[4]):(e=Ive.exec(t))?Jm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=kve.exec(t))?nI(e[1],e[2]/100,e[3]/100,1):(e=Rve.exec(t))?nI(e[1],e[2]/100,e[3]/100,e[4]):QO.hasOwnProperty(t)?eI(QO[t]):t==="transparent"?new En(NaN,NaN,NaN,0):null}function eI(t){return new En(t>>16&255,t>>8&255,t&255,1)}function Jm(t,e,r,n){return n<=0&&(t=e=r=NaN),new En(t,e,r,n)}function Mve(t){return t instanceof im||(t=fh(t)),t?(t=t.rgb(),new En(t.r,t.g,t.b,t.opacity)):new En}function QS(t,e,r,n){return arguments.length===1?Mve(t):new En(t,e,r,n??1)}function En(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}VA(En,QS,MU(im,{brighter(t){return t=t==null?nv:Math.pow(nv,t),new En(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?uh:Math.pow(uh,t),new En(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new En(ol(this.r),ol(this.g),ol(this.b),iv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tI,formatHex:tI,formatHex8:$ve,formatRgb:rI,toString:rI}));function tI(){return`#${Ho(this.r)}${Ho(this.g)}${Ho(this.b)}`}function $ve(){return`#${Ho(this.r)}${Ho(this.g)}${Ho(this.b)}${Ho((isNaN(this.opacity)?1:this.opacity)*255)}`}function rI(){const t=iv(this.opacity);return`${t===1?"rgb(":"rgba("}${ol(this.r)}, ${ol(this.g)}, ${ol(this.b)}${t===1?")":`, ${t})`}`}function iv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ol(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ho(t){return t=ol(t),(t<16?"0":"")+t.toString(16)}function nI(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ji(t,e,r,n)}function $U(t){if(t instanceof ji)return new ji(t.h,t.s,t.l,t.opacity);if(t instanceof im||(t=fh(t)),!t)return new ji;if(t instanceof ji)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=NaN,o=s-i,c=(s+i)/2;return o?(e===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-e)/o+2:a=(e-r)/o+4,o/=c<.5?s+i:2-s-i,a*=60):o=c>0&&c<1?0:a,new ji(a,o,c,t.opacity)}function Fve(t,e,r,n){return arguments.length===1?$U(t):new ji(t,e,r,n??1)}function ji(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}VA(ji,Fve,MU(im,{brighter(t){return t=t==null?nv:Math.pow(nv,t),new ji(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?uh:Math.pow(uh,t),new ji(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new En(sb(t>=240?t-240:t+120,i,n),sb(t,i,n),sb(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new ji(iI(this.h),ep(this.s),ep(this.l),iv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=iv(this.opacity);return`${t===1?"hsl(":"hsla("}${iI(this.h)}, ${ep(this.s)*100}%, ${ep(this.l)*100}%${t===1?")":`, ${t})`}`}}));function iI(t){return t=(t||0)%360,t<0?t+360:t}function ep(t){return Math.max(0,Math.min(1,t||0))}function sb(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const GA=t=>()=>t;function Bve(t,e){return function(r){return t+r*e}}function Uve(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Vve(t){return(t=+t)==1?FU:function(e,r){return r-e?Uve(e,r,t):GA(isNaN(e)?r:e)}}function FU(t,e){var r=e-t;return r?Bve(t,r):GA(isNaN(t)?e:t)}const sI=function t(e){var r=Vve(e);function n(i,s){var a=r((i=QS(i)).r,(s=QS(s)).r),o=r(i.g,s.g),c=r(i.b,s.b),u=FU(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=o(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=t,n}(1);function Gve(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function Hve(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function zve(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=md(t[a],e[a]);for(;a<r;++a)s[a]=e[a];return function(o){for(a=0;a<n;++a)s[a]=i[a](o);return s}}function Wve(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function sv(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Kve(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=md(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var ZS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ab=new RegExp(ZS.source,"g");function qve(t){return function(){return t}}function Yve(t){return function(e){return t(e)+""}}function Xve(t,e){var r=ZS.lastIndex=ab.lastIndex=0,n,i,s,a=-1,o=[],c=[];for(t=t+"",e=e+"";(n=ZS.exec(t))&&(i=ab.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,c.push({i:a,x:sv(n,i)})),r=ab.lastIndex;return r<e.length&&(s=e.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?c[0]?Yve(c[0].x):qve(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)o[(f=c[d]).i]=f.x(u);return o.join("")})}function md(t,e){var r=typeof e,n;return e==null||r==="boolean"?GA(e):(r==="number"?sv:r==="string"?(n=fh(e))?(e=n,sI):Xve:e instanceof fh?sI:e instanceof Date?Wve:Hve(e)?Gve:Array.isArray(e)?zve:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Kve:sv)(t,e)}function HA(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Qve(t,e){e===void 0&&(e=t,t=md);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(a){var o=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[o](a-o)}}function Zve(t){return function(){return t}}function av(t){return+t}var aI=[0,1];function cn(t){return t}function JS(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Zve(isNaN(e)?NaN:.5)}function Jve(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function eye(t,e,r){var n=t[0],i=t[1],s=e[0],a=e[1];return i<n?(n=JS(i,n),s=r(a,s)):(n=JS(n,i),s=r(s,a)),function(o){return s(n(o))}}function tye(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=JS(t[a],t[a+1]),s[a]=r(e[a],e[a+1]);return function(o){var c=nm(t,o,1,n)-1;return s[c](i[c](o))}}function sm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function s0(){var t=aI,e=aI,r=md,n,i,s,a=cn,o,c,u;function d(){var h=Math.min(t.length,e.length);return a!==cn&&(a=Jve(t[0],t[h-1])),o=h>2?tye:eye,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=o(t.map(n),e,r)))(n(a(h)))}return f.invert=function(h){return a(i((u||(u=o(e,t.map(n),sv)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,av),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=HA,d()},f.clamp=function(h){return arguments.length?(a=h?!0:cn,d()):a!==cn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,i=m,d()}}function zA(){return s0()(cn,cn)}function rye(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ov(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Au(t){return t=ov(Math.abs(t)),t?t[1]:NaN}function nye(t,e){return function(r,n){for(var i=r.length,s=[],a=0,o=t[0],c=0;i>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),s.push(r.substring(i-=o,i+o)),!((c+=o+1)>n));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function iye(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var sye=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hh(t){if(!(e=sye.exec(t)))throw new Error("invalid format: "+t);var e;return new WA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}hh.prototype=WA.prototype;function WA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}WA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function aye(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var BU;function oye(t,e){var r=ov(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(BU=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+ov(t,Math.max(0,e+s-1))[0]}function oI(t,e){var r=ov(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const lI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:rye,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>oI(t*100,e),r:oI,s:oye,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function cI(t){return t}var uI=Array.prototype.map,dI=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function lye(t){var e=t.grouping===void 0||t.thousands===void 0?cI:nye(uI.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?cI:iye(uI.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=hh(f);var h=f.fill,m=f.align,p=f.sign,g=f.symbol,v=f.zero,y=f.width,x=f.comma,b=f.precision,S=f.trim,w=f.type;w==="n"?(x=!0,w="g"):lI[w]||(b===void 0&&(b=12),S=!0,w="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var T=g==="$"?r:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",A=g==="$"?n:/[%p]/.test(w)?a:"",_=lI[w],N=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function C(j){var O=T,R=A,k,M,D;if(w==="c")R=_(j)+R,j="";else{j=+j;var U=j<0||1/j<0;if(j=isNaN(j)?c:_(Math.abs(j),b),S&&(j=aye(j)),U&&+j==0&&p!=="+"&&(U=!1),O=(U?p==="("?p:o:p==="-"||p==="("?"":p)+O,R=(w==="s"?dI[8+BU/3]:"")+R+(U&&p==="("?")":""),N){for(k=-1,M=j.length;++k<M;)if(D=j.charCodeAt(k),48>D||D>57){R=(D===46?i+j.slice(k+1):j.slice(k))+R,j=j.slice(0,k);break}}}x&&!v&&(j=e(j,1/0));var I=O.length+j.length+R.length,F=I<y?new Array(y-I+1).join(h):"";switch(x&&v&&(j=e(F+j,F.length?y-R.length:1/0),F=""),m){case"<":j=O+j+R+F;break;case"=":j=O+F+j+R;break;case"^":j=F.slice(0,I=F.length>>1)+O+j+R+F.slice(I);break;default:j=F+O+j+R;break}return s(j)}return C.toString=function(){return f+""},C}function d(f,h){var m=u((f=hh(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Au(h)/3)))*3,g=Math.pow(10,-p),v=dI[8+p/3];return function(y){return m(g*y)+v}}return{format:u,formatPrefix:d}}var tp,KA,UU;cye({thousands:",",grouping:[3],currency:["$",""]});function cye(t){return tp=lye(t),KA=tp.format,UU=tp.formatPrefix,tp}function uye(t){return Math.max(0,-Au(Math.abs(t)))}function dye(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Au(e)/3)))*3-Au(Math.abs(t)))}function fye(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Au(e)-Au(t))+1}function VU(t,e,r,n){var i=YS(t,e,r),s;switch(n=hh(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=dye(i,a))&&(n.precision=s),UU(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=fye(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=uye(i))&&(n.precision=s-(n.type==="%")*2);break}}return KA(n)}function So(t){var e=t.domain;return t.ticks=function(r){var n=e();return KS(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return VU(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,a=n[i],o=n[s],c,u,d=10;for(o<a&&(u=a,a=o,o=u,u=i,i=s,s=u);d-- >0;){if(u=qS(a,o,r),u===c)return n[i]=a,n[s]=o,e(n);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;c=u}return t},t}function lv(){var t=zA();return t.copy=function(){return sm(t,lv())},gi.apply(t,arguments),So(t)}function GU(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,av),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return GU(t).unknown(e)},t=arguments.length?Array.from(t,av):[0,1],So(r)}function HU(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),t[r]=e.floor(i),t[n]=e.ceil(s),t}function fI(t){return Math.log(t)}function hI(t){return Math.exp(t)}function hye(t){return-Math.log(-t)}function mye(t){return-Math.exp(-t)}function pye(t){return isFinite(t)?+("1e"+t):t<0?0:t}function gye(t){return t===10?pye:t===Math.E?Math.exp:e=>Math.pow(t,e)}function vye(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function mI(t){return(e,r)=>-t(-e,r)}function qA(t){const e=t(fI,hI),r=e.domain;let n=10,i,s;function a(){return i=vye(n),s=gye(n),r()[0]<0?(i=mI(i),s=mI(s),t(hye,mye)):t(fI,hI),e}return e.base=function(o){return arguments.length?(n=+o,a()):n},e.domain=function(o){return arguments.length?(r(o),a()):r()},e.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),p,g;const v=o==null?10:+o;let y=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<n;++p)if(g=h<0?p/s(-h):p*s(h),!(g<u)){if(g>d)break;y.push(g)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(g=h>0?p/s(-h):p*s(h),!(g<u)){if(g>d)break;y.push(g)}y.length*2<v&&(y=KS(u,d,v))}else y=KS(h,m,Math.min(m-h,v)).map(s);return f?y.reverse():y},e.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=hh(c)).precision==null&&(c.trim=!0),c=KA(c)),o===1/0)return c;const u=Math.max(1,n*o/e.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},e.nice=()=>r(HU(r(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function zU(){const t=qA(s0()).domain([1,10]);return t.copy=()=>sm(t,zU()).base(t.base()),gi.apply(t,arguments),t}function pI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function gI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function YA(t){var e=1,r=t(pI(e),gI(e));return r.constant=function(n){return arguments.length?t(pI(e=+n),gI(e)):e},So(r)}function WU(){var t=YA(s0());return t.copy=function(){return sm(t,WU()).constant(t.constant())},gi.apply(t,arguments)}function vI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function yye(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function xye(t){return t<0?-t*t:t*t}function XA(t){var e=t(cn,cn),r=1;function n(){return r===1?t(cn,cn):r===.5?t(yye,xye):t(vI(r),vI(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},So(e)}function QA(){var t=XA(s0());return t.copy=function(){return sm(t,QA()).exponent(t.exponent())},gi.apply(t,arguments),t}function bye(){return QA.apply(null,arguments).exponent(.5)}function yI(t){return Math.sign(t)*t*t}function wye(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function KU(){var t=zA(),e=[0,1],r=!1,n;function i(s){var a=wye(t(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return t.invert(yI(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,av)).map(yI)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return KU(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},gi.apply(i,arguments),So(i)}function qU(){var t=[],e=[],r=[],n;function i(){var a=0,o=Math.max(1,e.length);for(r=new Array(o-1);++a<o;)r[a-1]=_ve(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?n:e[nm(r,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(to),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return qU().domain(t).range(e).unknown(n)},gi.apply(s,arguments)}function YU(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[nm(n,c,0,r)]:s}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,o()):[t,e]},a.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,o()):i.slice()},a.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return n.slice()},a.copy=function(){return YU().domain([t,e]).range(i).unknown(s)},gi.apply(So(a),arguments)}function XU(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[nm(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return XU().domain(t).range(e).unknown(r)},gi.apply(i,arguments)}const ob=new Date,lb=new Date;function _r(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const c=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return c;let u;do c.push(u=new Date(+s)),e(s,o),t(s);while(u<s&&s<a);return c},i.filter=s=>_r(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),r&&(i.count=(s,a)=>(ob.setTime(+s),lb.setTime(+a),t(ob),t(lb),Math.floor(r(ob,lb))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const cv=_r(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);cv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?_r(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):cv);cv.range;const Ms=1e3,si=Ms*60,$s=si*60,ra=$s*24,ZA=ra*7,xI=ra*30,cb=ra*365,zo=_r(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ms)},(t,e)=>(e-t)/Ms,t=>t.getUTCSeconds());zo.range;const JA=_r(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ms)},(t,e)=>{t.setTime(+t+e*si)},(t,e)=>(e-t)/si,t=>t.getMinutes());JA.range;const e_=_r(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*si)},(t,e)=>(e-t)/si,t=>t.getUTCMinutes());e_.range;const t_=_r(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ms-t.getMinutes()*si)},(t,e)=>{t.setTime(+t+e*$s)},(t,e)=>(e-t)/$s,t=>t.getHours());t_.range;const r_=_r(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*$s)},(t,e)=>(e-t)/$s,t=>t.getUTCHours());r_.range;const am=_r(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*si)/ra,t=>t.getDate()-1);am.range;const a0=_r(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ra,t=>t.getUTCDate()-1);a0.range;const QU=_r(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ra,t=>Math.floor(t/ra));QU.range;function Gl(t){return _r(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*si)/ZA)}const o0=Gl(0),uv=Gl(1),Sye=Gl(2),Eye=Gl(3),_u=Gl(4),Tye=Gl(5),Aye=Gl(6);o0.range;uv.range;Sye.range;Eye.range;_u.range;Tye.range;Aye.range;function Hl(t){return _r(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/ZA)}const l0=Hl(0),dv=Hl(1),_ye=Hl(2),Pye=Hl(3),Pu=Hl(4),Nye=Hl(5),Cye=Hl(6);l0.range;dv.range;_ye.range;Pye.range;Pu.range;Nye.range;Cye.range;const n_=_r(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());n_.range;const i_=_r(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());i_.range;const na=_r(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());na.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_r(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});na.range;const ia=_r(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ia.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_r(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});ia.range;function ZU(t,e,r,n,i,s){const a=[[zo,1,Ms],[zo,5,5*Ms],[zo,15,15*Ms],[zo,30,30*Ms],[s,1,si],[s,5,5*si],[s,15,15*si],[s,30,30*si],[i,1,$s],[i,3,3*$s],[i,6,6*$s],[i,12,12*$s],[n,1,ra],[n,2,2*ra],[r,1,ZA],[e,1,xI],[e,3,3*xI],[t,1,cb]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function c(u,d,f){const h=Math.abs(d-u)/f,m=BA(([,,v])=>v).right(a,h);if(m===a.length)return t.every(YS(u/cb,d/cb,f));if(m===0)return cv.every(Math.max(YS(u,d,f),1));const[p,g]=a[h/a[m-1][2]<a[m][2]/h?m-1:m];return p.every(g)}return[o,c]}const[jye,Oye]=ZU(ia,i_,l0,QU,r_,e_),[Iye,kye]=ZU(na,n_,o0,am,t_,JA);function ub(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function db(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Rd(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Rye(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,c=t.shortMonths,u=Ld(i),d=Dd(i),f=Ld(s),h=Dd(s),m=Ld(a),p=Dd(a),g=Ld(o),v=Dd(o),y=Ld(c),x=Dd(c),b={a:U,A:I,b:F,B:H,c:null,d:AI,e:AI,f:n0e,g:h0e,G:p0e,H:e0e,I:t0e,j:r0e,L:JU,m:i0e,M:s0e,p:G,q:V,Q:NI,s:CI,S:a0e,u:o0e,U:l0e,V:c0e,w:u0e,W:d0e,x:null,X:null,y:f0e,Y:m0e,Z:g0e,"%":PI},S={a:ne,A:ce,b:Se,B:J,c:null,d:_I,e:_I,f:b0e,g:j0e,G:I0e,H:v0e,I:y0e,j:x0e,L:t6,m:w0e,M:S0e,p:re,q:Ee,Q:NI,s:CI,S:E0e,u:T0e,U:A0e,V:_0e,w:P0e,W:N0e,x:null,X:null,y:C0e,Y:O0e,Z:k0e,"%":PI},w={a:C,A:j,b:O,B:R,c:k,d:EI,e:EI,f:Xye,g:SI,G:wI,H:TI,I:TI,j:Wye,L:Yye,m:zye,M:Kye,p:N,q:Hye,Q:Zye,s:Jye,S:qye,u:Fye,U:Bye,V:Uye,w:$ye,W:Vye,x:M,X:D,y:SI,Y:wI,Z:Gye,"%":Qye};b.x=T(r,b),b.X=T(n,b),b.c=T(e,b),S.x=T(r,S),S.X=T(n,S),S.c=T(e,S);function T(te,oe){return function(he){var X=[],Ve=-1,Le=0,lt=te.length,Te,We,bt;for(he instanceof Date||(he=new Date(+he));++Ve<lt;)te.charCodeAt(Ve)===37&&(X.push(te.slice(Le,Ve)),(We=bI[Te=te.charAt(++Ve)])!=null?Te=te.charAt(++Ve):We=Te==="e"?" ":"0",(bt=oe[Te])&&(Te=bt(he,We)),X.push(Te),Le=Ve+1);return X.push(te.slice(Le,Ve)),X.join("")}}function A(te,oe){return function(he){var X=Rd(1900,void 0,1),Ve=_(X,te,he+="",0),Le,lt;if(Ve!=he.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(oe&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(Le=db(Rd(X.y,0,1)),lt=Le.getUTCDay(),Le=lt>4||lt===0?dv.ceil(Le):dv(Le),Le=a0.offset(Le,(X.V-1)*7),X.y=Le.getUTCFullYear(),X.m=Le.getUTCMonth(),X.d=Le.getUTCDate()+(X.w+6)%7):(Le=ub(Rd(X.y,0,1)),lt=Le.getDay(),Le=lt>4||lt===0?uv.ceil(Le):uv(Le),Le=am.offset(Le,(X.V-1)*7),X.y=Le.getFullYear(),X.m=Le.getMonth(),X.d=Le.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),lt="Z"in X?db(Rd(X.y,0,1)).getUTCDay():ub(Rd(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(lt+5)%7:X.w+X.U*7-(lt+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,db(X)):ub(X)}}function _(te,oe,he,X){for(var Ve=0,Le=oe.length,lt=he.length,Te,We;Ve<Le;){if(X>=lt)return-1;if(Te=oe.charCodeAt(Ve++),Te===37){if(Te=oe.charAt(Ve++),We=w[Te in bI?oe.charAt(Ve++):Te],!We||(X=We(te,he,X))<0)return-1}else if(Te!=he.charCodeAt(X++))return-1}return X}function N(te,oe,he){var X=u.exec(oe.slice(he));return X?(te.p=d.get(X[0].toLowerCase()),he+X[0].length):-1}function C(te,oe,he){var X=m.exec(oe.slice(he));return X?(te.w=p.get(X[0].toLowerCase()),he+X[0].length):-1}function j(te,oe,he){var X=f.exec(oe.slice(he));return X?(te.w=h.get(X[0].toLowerCase()),he+X[0].length):-1}function O(te,oe,he){var X=y.exec(oe.slice(he));return X?(te.m=x.get(X[0].toLowerCase()),he+X[0].length):-1}function R(te,oe,he){var X=g.exec(oe.slice(he));return X?(te.m=v.get(X[0].toLowerCase()),he+X[0].length):-1}function k(te,oe,he){return _(te,e,oe,he)}function M(te,oe,he){return _(te,r,oe,he)}function D(te,oe,he){return _(te,n,oe,he)}function U(te){return a[te.getDay()]}function I(te){return s[te.getDay()]}function F(te){return c[te.getMonth()]}function H(te){return o[te.getMonth()]}function G(te){return i[+(te.getHours()>=12)]}function V(te){return 1+~~(te.getMonth()/3)}function ne(te){return a[te.getUTCDay()]}function ce(te){return s[te.getUTCDay()]}function Se(te){return c[te.getUTCMonth()]}function J(te){return o[te.getUTCMonth()]}function re(te){return i[+(te.getUTCHours()>=12)]}function Ee(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var oe=T(te+="",b);return oe.toString=function(){return te},oe},parse:function(te){var oe=A(te+="",!1);return oe.toString=function(){return te},oe},utcFormat:function(te){var oe=T(te+="",S);return oe.toString=function(){return te},oe},utcParse:function(te){var oe=A(te+="",!0);return oe.toString=function(){return te},oe}}}var bI={"-":"",_:" ",0:"0"},kr=/^\s*\d+/,Lye=/^%/,Dye=/[\\^$*+?|[\]().{}]/g;function ft(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function Mye(t){return t.replace(Dye,"\\$&")}function Ld(t){return new RegExp("^(?:"+t.map(Mye).join("|")+")","i")}function Dd(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function $ye(t,e,r){var n=kr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Fye(t,e,r){var n=kr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Bye(t,e,r){var n=kr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Uye(t,e,r){var n=kr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Vye(t,e,r){var n=kr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function wI(t,e,r){var n=kr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function SI(t,e,r){var n=kr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Gye(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Hye(t,e,r){var n=kr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function zye(t,e,r){var n=kr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function EI(t,e,r){var n=kr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Wye(t,e,r){var n=kr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function TI(t,e,r){var n=kr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Kye(t,e,r){var n=kr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function qye(t,e,r){var n=kr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Yye(t,e,r){var n=kr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Xye(t,e,r){var n=kr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Qye(t,e,r){var n=Lye.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Zye(t,e,r){var n=kr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Jye(t,e,r){var n=kr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function AI(t,e){return ft(t.getDate(),e,2)}function e0e(t,e){return ft(t.getHours(),e,2)}function t0e(t,e){return ft(t.getHours()%12||12,e,2)}function r0e(t,e){return ft(1+am.count(na(t),t),e,3)}function JU(t,e){return ft(t.getMilliseconds(),e,3)}function n0e(t,e){return JU(t,e)+"000"}function i0e(t,e){return ft(t.getMonth()+1,e,2)}function s0e(t,e){return ft(t.getMinutes(),e,2)}function a0e(t,e){return ft(t.getSeconds(),e,2)}function o0e(t){var e=t.getDay();return e===0?7:e}function l0e(t,e){return ft(o0.count(na(t)-1,t),e,2)}function e6(t){var e=t.getDay();return e>=4||e===0?_u(t):_u.ceil(t)}function c0e(t,e){return t=e6(t),ft(_u.count(na(t),t)+(na(t).getDay()===4),e,2)}function u0e(t){return t.getDay()}function d0e(t,e){return ft(uv.count(na(t)-1,t),e,2)}function f0e(t,e){return ft(t.getFullYear()%100,e,2)}function h0e(t,e){return t=e6(t),ft(t.getFullYear()%100,e,2)}function m0e(t,e){return ft(t.getFullYear()%1e4,e,4)}function p0e(t,e){var r=t.getDay();return t=r>=4||r===0?_u(t):_u.ceil(t),ft(t.getFullYear()%1e4,e,4)}function g0e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ft(e/60|0,"0",2)+ft(e%60,"0",2)}function _I(t,e){return ft(t.getUTCDate(),e,2)}function v0e(t,e){return ft(t.getUTCHours(),e,2)}function y0e(t,e){return ft(t.getUTCHours()%12||12,e,2)}function x0e(t,e){return ft(1+a0.count(ia(t),t),e,3)}function t6(t,e){return ft(t.getUTCMilliseconds(),e,3)}function b0e(t,e){return t6(t,e)+"000"}function w0e(t,e){return ft(t.getUTCMonth()+1,e,2)}function S0e(t,e){return ft(t.getUTCMinutes(),e,2)}function E0e(t,e){return ft(t.getUTCSeconds(),e,2)}function T0e(t){var e=t.getUTCDay();return e===0?7:e}function A0e(t,e){return ft(l0.count(ia(t)-1,t),e,2)}function r6(t){var e=t.getUTCDay();return e>=4||e===0?Pu(t):Pu.ceil(t)}function _0e(t,e){return t=r6(t),ft(Pu.count(ia(t),t)+(ia(t).getUTCDay()===4),e,2)}function P0e(t){return t.getUTCDay()}function N0e(t,e){return ft(dv.count(ia(t)-1,t),e,2)}function C0e(t,e){return ft(t.getUTCFullYear()%100,e,2)}function j0e(t,e){return t=r6(t),ft(t.getUTCFullYear()%100,e,2)}function O0e(t,e){return ft(t.getUTCFullYear()%1e4,e,4)}function I0e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Pu(t):Pu.ceil(t),ft(t.getUTCFullYear()%1e4,e,4)}function k0e(){return"+0000"}function PI(){return"%"}function NI(t){return+t}function CI(t){return Math.floor(+t/1e3)}var rc,n6,i6;R0e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function R0e(t){return rc=Rye(t),n6=rc.format,rc.parse,i6=rc.utcFormat,rc.utcParse,rc}function L0e(t){return new Date(t)}function D0e(t){return t instanceof Date?+t:+new Date(+t)}function s_(t,e,r,n,i,s,a,o,c,u){var d=zA(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),g=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),x=u("%b %d"),b=u("%B"),S=u("%Y");function w(T){return(c(T)<T?m:o(T)<T?p:a(T)<T?g:s(T)<T?v:n(T)<T?i(T)<T?y:x:r(T)<T?b:S)(T)}return d.invert=function(T){return new Date(f(T))},d.domain=function(T){return arguments.length?h(Array.from(T,D0e)):h().map(L0e)},d.ticks=function(T){var A=h();return t(A[0],A[A.length-1],T??10)},d.tickFormat=function(T,A){return A==null?w:u(A)},d.nice=function(T){var A=h();return(!T||typeof T.range!="function")&&(T=e(A[0],A[A.length-1],T??10)),T?h(HU(A,T)):d},d.copy=function(){return sm(d,s_(t,e,r,n,i,s,a,o,c,u))},d}function M0e(){return gi.apply(s_(Iye,kye,na,n_,o0,am,t_,JA,zo,n6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $0e(){return gi.apply(s_(jye,Oye,ia,i_,l0,a0,r_,e_,zo,i6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function c0(){var t=0,e=1,r,n,i,s,a=cn,o=!1,c;function u(f){return f==null||isNaN(f=+f)?c:a(i===0?.5:(f=(s(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,a=f(m,p),u):[a(0),a(1)]}}return u.range=d(md),u.rangeRound=d(HA),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),u}}function Eo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function s6(){var t=So(c0()(cn));return t.copy=function(){return Eo(t,s6())},ua.apply(t,arguments)}function a6(){var t=qA(c0()).domain([1,10]);return t.copy=function(){return Eo(t,a6()).base(t.base())},ua.apply(t,arguments)}function o6(){var t=YA(c0());return t.copy=function(){return Eo(t,o6()).constant(t.constant())},ua.apply(t,arguments)}function a_(){var t=XA(c0());return t.copy=function(){return Eo(t,a_()).exponent(t.exponent())},ua.apply(t,arguments)}function F0e(){return a_.apply(null,arguments).exponent(.5)}function l6(){var t=[],e=cn;function r(n){if(n!=null&&!isNaN(n=+n))return e((nm(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(to),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>Ave(t,s/n))},r.copy=function(){return l6(e).domain(t)},ua.apply(r,arguments)}function u0(){var t=0,e=.5,r=1,n=1,i,s,a,o,c,u=cn,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-s)*(n*g<n*s?o:c),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([t,e,r]=g,i=d(t=+t),s=d(e=+e),a=d(r=+r),o=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,m):[t,e,r]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function p(g){return function(v){var y,x,b;return arguments.length?([y,x,b]=v,u=Qve(g,[y,x,b]),m):[u(0),u(.5),u(1)]}}return m.range=p(md),m.rangeRound=p(HA),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,i=g(t),s=g(e),a=g(r),o=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,m}}function c6(){var t=So(u0()(cn));return t.copy=function(){return Eo(t,c6())},ua.apply(t,arguments)}function u6(){var t=qA(u0()).domain([.1,1,10]);return t.copy=function(){return Eo(t,u6()).base(t.base())},ua.apply(t,arguments)}function d6(){var t=YA(u0());return t.copy=function(){return Eo(t,d6()).constant(t.constant())},ua.apply(t,arguments)}function o_(){var t=XA(u0());return t.copy=function(){return Eo(t,o_()).exponent(t.exponent())},ua.apply(t,arguments)}function B0e(){return o_.apply(null,arguments).exponent(.5)}const jI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ch,scaleDiverging:c6,scaleDivergingLog:u6,scaleDivergingPow:o_,scaleDivergingSqrt:B0e,scaleDivergingSymlog:d6,scaleIdentity:GU,scaleImplicit:XS,scaleLinear:lv,scaleLog:zU,scaleOrdinal:UA,scalePoint:xf,scalePow:QA,scaleQuantile:qU,scaleQuantize:YU,scaleRadial:KU,scaleSequential:s6,scaleSequentialLog:a6,scaleSequentialPow:a_,scaleSequentialQuantile:l6,scaleSequentialSqrt:F0e,scaleSequentialSymlog:o6,scaleSqrt:bye,scaleSymlog:WU,scaleThreshold:XU,scaleTime:M0e,scaleUtc:$0e,tickFormat:VU},Symbol.toStringTag,{value:"Module"}));var U0e=id;function V0e(t,e,r){for(var n=-1,i=t.length;++n<i;){var s=t[n],a=e(s);if(a!=null&&(o===void 0?a===a&&!U0e(a):r(a,o)))var o=a,c=s}return c}var d0=V0e;function G0e(t,e){return t>e}var f6=G0e,H0e=d0,z0e=f6,W0e=hd;function K0e(t){return t&&t.length?H0e(t,W0e,z0e):void 0}var q0e=K0e;const Ua=pt(q0e);function Y0e(t,e){return t<e}var h6=Y0e,X0e=d0,Q0e=h6,Z0e=hd;function J0e(t){return t&&t.length?X0e(t,Z0e,Q0e):void 0}var exe=J0e;const f0=pt(exe);var txe=wA,rxe=ys,nxe=wU,ixe=Pn;function sxe(t,e){var r=ixe(t)?txe:nxe;return r(t,rxe(e))}var axe=sxe,oxe=xU,lxe=axe;function cxe(t,e){return oxe(lxe(t,e),1)}var uxe=cxe;const dxe=pt(uxe);var fxe=DA;function hxe(t,e){return fxe(t,e)}var mxe=hxe;const Nu=pt(mxe);var pd=1e9,pxe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},c_,Ft=!0,fi="[DecimalError] ",ll=fi+"Invalid argument: ",l_=fi+"Exponent out of range: ",gd=Math.floor,Do=Math.pow,gxe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ln,Cr=1e7,Lt=7,m6=9007199254740991,fv=gd(m6/Lt),_e={};_e.absoluteValue=_e.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};_e.comparedTo=_e.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};_e.decimalPlaces=_e.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Lt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};_e.dividedBy=_e.div=function(t){return zs(this,new this.constructor(t))};_e.dividedToIntegerBy=_e.idiv=function(t){var e=this,r=e.constructor;return At(zs(e,new r(t),0,1),r.precision)};_e.equals=_e.eq=function(t){return!this.cmp(t)};_e.exponent=function(){return pr(this)};_e.greaterThan=_e.gt=function(t){return this.cmp(t)>0};_e.greaterThanOrEqualTo=_e.gte=function(t){return this.cmp(t)>=0};_e.isInteger=_e.isint=function(){return this.e>this.d.length-2};_e.isNegative=_e.isneg=function(){return this.s<0};_e.isPositive=_e.ispos=function(){return this.s>0};_e.isZero=function(){return this.s===0};_e.lessThan=_e.lt=function(t){return this.cmp(t)<0};_e.lessThanOrEqualTo=_e.lte=function(t){return this.cmp(t)<1};_e.logarithm=_e.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Ln))throw Error(fi+"NaN");if(r.s<1)throw Error(fi+(r.s?"NaN":"-Infinity"));return r.eq(Ln)?new n(0):(Ft=!1,e=zs(mh(r,s),mh(t,s),s),Ft=!0,At(e,i))};_e.minus=_e.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?v6(e,t):p6(e,(t.s=-t.s,t))};_e.modulo=_e.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(fi+"NaN");return r.s?(Ft=!1,e=zs(r,t,0,1).times(t),Ft=!0,r.minus(e)):At(new n(r),i)};_e.naturalExponential=_e.exp=function(){return g6(this)};_e.naturalLogarithm=_e.ln=function(){return mh(this)};_e.negated=_e.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};_e.plus=_e.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?p6(e,t):v6(e,(t.s=-t.s,t))};_e.precision=_e.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ll+t);if(e=pr(i)+1,n=i.d.length-1,r=n*Lt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};_e.squareRoot=_e.sqrt=function(){var t,e,r,n,i,s,a,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(fi+"NaN")}for(t=pr(o),Ft=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=ts(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=gd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=a=r+3;;)if(s=n,n=s.plus(zs(o,s,a+2)).times(.5),ts(s.d).slice(0,a)===(e=ts(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(At(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(e!="9999")break;a+=4}return Ft=!0,At(n,r)};_e.times=_e.mul=function(t){var e,r,n,i,s,a,o,c,u,d=this,f=d.constructor,h=d.d,m=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,a=c,c=u,u=a),s=[],a=c+u,n=a;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,i=c+n;i>n;)o=s[i]+m[n]*h[i-n-1]+e,s[i--]=o%Cr|0,e=o/Cr|0;s[i]=(s[i]+e)%Cr|0}for(;!s[--a];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,Ft?At(t,f.precision):t};_e.toDecimalPlaces=_e.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(hs(t,0,pd),e===void 0?e=n.rounding:hs(e,0,8),At(r,t+pr(r)+1,e))};_e.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Il(n,!0):(hs(t,0,pd),e===void 0?e=i.rounding:hs(e,0,8),n=At(new i(n),t+1,e),r=Il(n,!0,t+1)),r};_e.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?Il(i):(hs(t,0,pd),e===void 0?e=s.rounding:hs(e,0,8),n=At(new s(i),t+pr(i)+1,e),r=Il(n.abs(),!1,t+pr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};_e.toInteger=_e.toint=function(){var t=this,e=t.constructor;return At(new e(t),pr(t)+1,e.rounding)};_e.toNumber=function(){return+this};_e.toPower=_e.pow=function(t){var e,r,n,i,s,a,o=this,c=o.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(Ln);if(o=new c(o),!o.s){if(t.s<1)throw Error(fi+"Infinity");return o}if(o.eq(Ln))return o;if(n=c.precision,t.eq(Ln))return At(o,n);if(e=t.e,r=t.d.length-1,a=e>=r,s=o.s,a){if((r=d<0?-d:d)<=m6){for(i=new c(Ln),e=Math.ceil(n/Lt+4),Ft=!1;r%2&&(i=i.times(o),II(i.d,e)),r=gd(r/2),r!==0;)o=o.times(o),II(o.d,e);return Ft=!0,t.s<0?new c(Ln).div(i):At(i,n)}}else if(s<0)throw Error(fi+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,Ft=!1,i=t.times(mh(o,n+u)),Ft=!0,i=g6(i),i.s=s,i};_e.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=pr(i),n=Il(i,r<=s.toExpNeg||r>=s.toExpPos)):(hs(t,1,pd),e===void 0?e=s.rounding:hs(e,0,8),i=At(new s(i),t,e),r=pr(i),n=Il(i,t<=r||r<=s.toExpNeg,t)),n};_e.toSignificantDigits=_e.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(hs(t,1,pd),e===void 0?e=n.rounding:hs(e,0,8)),At(new n(r),t,e)};_e.toString=_e.valueOf=_e.val=_e.toJSON=_e[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=pr(t),r=t.constructor;return Il(t,e<=r.toExpNeg||e>=r.toExpPos)};function p6(t,e){var r,n,i,s,a,o,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Ft?At(e,f):e;if(c=t.d,u=e.d,a=t.e,i=e.e,c=c.slice(),s=a-i,s){for(s<0?(n=c,s=-s,o=u.length):(n=u,i=a,o=c.length),a=Math.ceil(f/Lt),o=a>o?a+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=c.length,s=u.length,o-s<0&&(s=o,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Cr|0,c[s]%=Cr;for(r&&(c.unshift(r),++i),o=c.length;c[--o]==0;)c.pop();return e.d=c,e.e=i,Ft?At(e,f):e}function hs(t,e,r){if(t!==~~t||t<e||t>r)throw Error(ll+t)}function ts(t){var e,r,n,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)n=t[e]+"",r=Lt-n.length,r&&(s+=Ta(r)),s+=n;a=t[e],n=a+"",r=Lt-n.length,r&&(s+=Ta(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var zs=function(){function t(n,i){var s,a=0,o=n.length;for(n=n.slice();o--;)s=n[o]*i+a,n[o]=s%Cr|0,a=s/Cr|0;return a&&n.unshift(a),n}function e(n,i,s,a){var o,c;if(s!=a)c=s>a?1:-1;else for(o=c=0;o<s;o++)if(n[o]!=i[o]){c=n[o]>i[o]?1:-1;break}return c}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*Cr+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var o,c,u,d,f,h,m,p,g,v,y,x,b,S,w,T,A,_,N=n.constructor,C=n.s==i.s?1:-1,j=n.d,O=i.d;if(!n.s)return new N(n);if(!i.s)throw Error(fi+"Division by zero");for(c=n.e-i.e,A=O.length,w=j.length,m=new N(C),p=m.d=[],u=0;O[u]==(j[u]||0);)++u;if(O[u]>(j[u]||0)&&--c,s==null?x=s=N.precision:a?x=s+(pr(n)-pr(i))+1:x=s,x<0)return new N(0);if(x=x/Lt+2|0,u=0,A==1)for(d=0,O=O[0],x++;(u<w||d)&&x--;u++)b=d*Cr+(j[u]||0),p[u]=b/O|0,d=b%O|0;else{for(d=Cr/(O[0]+1)|0,d>1&&(O=t(O,d),j=t(j,d),A=O.length,w=j.length),S=A,g=j.slice(0,A),v=g.length;v<A;)g[v++]=0;_=O.slice(),_.unshift(0),T=O[0],O[1]>=Cr/2&&++T;do d=0,o=e(O,g,A,v),o<0?(y=g[0],A!=v&&(y=y*Cr+(g[1]||0)),d=y/T|0,d>1?(d>=Cr&&(d=Cr-1),f=t(O,d),h=f.length,v=g.length,o=e(f,g,h,v),o==1&&(d--,r(f,A<h?_:O,h))):(d==0&&(o=d=1),f=O.slice()),h=f.length,h<v&&f.unshift(0),r(g,f,v),o==-1&&(v=g.length,o=e(O,g,A,v),o<1&&(d++,r(g,A<v?_:O,v))),v=g.length):o===0&&(d++,g=[0]),p[u++]=d,o&&g[0]?g[v++]=j[S]||0:(g=[j[S]],v=1);while((S++<w||g[0]!==void 0)&&x--)}return p[0]||p.shift(),m.e=c,At(m,a?s+pr(m)+1:s)}}();function g6(t,e){var r,n,i,s,a,o,c=0,u=0,d=t.constructor,f=d.precision;if(pr(t)>16)throw Error(l_+pr(t));if(!t.s)return new d(Ln);for(Ft=!1,o=f,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(n=Math.log(Do(2,u))/Math.LN10*2+5|0,o+=n,r=i=s=new d(Ln),d.precision=o;;){if(i=At(i.times(t),o),r=r.times(++c),a=s.plus(zs(i,r,o)),ts(a.d).slice(0,o)===ts(s.d).slice(0,o)){for(;u--;)s=At(s.times(s),o);return d.precision=f,e==null?(Ft=!0,At(s,f)):s}s=a}}function pr(t){for(var e=t.e*Lt,r=t.d[0];r>=10;r/=10)e++;return e}function fb(t,e,r){if(e>t.LN10.sd())throw Ft=!0,r&&(t.precision=r),Error(fi+"LN10 precision limit exceeded");return At(new t(t.LN10),e)}function Ta(t){for(var e="";t--;)e+="0";return e}function mh(t,e){var r,n,i,s,a,o,c,u,d,f=1,h=10,m=t,p=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(fi+(m.s?"NaN":"-Infinity"));if(m.eq(Ln))return new g(0);if(e==null?(Ft=!1,u=v):u=e,m.eq(10))return e==null&&(Ft=!0),fb(g,u);if(u+=h,g.precision=u,r=ts(p),n=r.charAt(0),s=pr(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(t),r=ts(m.d),n=r.charAt(0),f++;s=pr(m),n>1?(m=new g("0."+r),s++):m=new g(n+"."+r.slice(1))}else return c=fb(g,u+2,v).times(s+""),m=mh(new g(n+"."+r.slice(1)),u-h).plus(c),g.precision=v,e==null?(Ft=!0,At(m,v)):m;for(o=a=m=zs(m.minus(Ln),m.plus(Ln),u),d=At(m.times(m),u),i=3;;){if(a=At(a.times(d),u),c=o.plus(zs(a,new g(i),u)),ts(c.d).slice(0,u)===ts(o.d).slice(0,u))return o=o.times(2),s!==0&&(o=o.plus(fb(g,u+2,v).times(s+""))),o=zs(o,new g(f),u),g.precision=v,e==null?(Ft=!0,At(o,v)):o;o=c,i+=2}}function OI(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=gd(r/Lt),t.d=[],n=(r+1)%Lt,r<0&&(n+=Lt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Lt;n<i;)t.d.push(+e.slice(n,n+=Lt));e=e.slice(n),n=Lt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Ft&&(t.e>fv||t.e<-fv))throw Error(l_+r)}else t.s=0,t.e=0,t.d=[0];return t}function At(t,e,r){var n,i,s,a,o,c,u,d,f=t.d;for(a=1,s=f[0];s>=10;s/=10)a++;if(n=e-a,n<0)n+=Lt,i=e,u=f[d=0];else{if(d=Math.ceil((n+1)/Lt),s=f.length,d>=s)return t;for(u=s=f[d],a=1;s>=10;s/=10)a++;n%=Lt,i=n-Lt+a}if(r!==void 0&&(s=Do(10,a-i-1),o=u/s%10|0,c=e<0||f[d+1]!==void 0||u%s,c=r<4?(o||c)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?i>0?u/Do(10,a-i):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return c?(s=pr(t),f.length=1,e=e-s-1,f[0]=Do(10,(Lt-e%Lt)%Lt),t.e=gd(-e/Lt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=Do(10,Lt-n),f[d]=i>0?(u/Do(10,a-i)%Do(10,i)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==Cr&&(f[0]=1,++t.e);break}else{if(f[d]+=s,f[d]!=Cr)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Ft&&(t.e>fv||t.e<-fv))throw Error(l_+pr(t));return t}function v6(t,e){var r,n,i,s,a,o,c,u,d,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Ft?At(e,m):e;if(c=t.d,f=e.d,n=e.e,u=t.e,c=c.slice(),a=u-n,a){for(d=a<0,d?(r=c,a=-a,o=f.length):(r=f,n=u,o=c.length),i=Math.max(Math.ceil(m/Lt),o)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=c.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}a=0}for(d&&(r=c,c=f,f=r,e.s=-e.s),o=c.length,i=f.length-o;i>0;--i)c[o++]=0;for(i=f.length;i>a;){if(c[--i]<f[i]){for(s=i;s&&c[--s]===0;)c[s]=Cr-1;--c[s],c[i]+=Cr}c[i]-=f[i]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Ft?At(e,m):e):new h(0)}function Il(t,e,r){var n,i=pr(t),s=ts(t.d),a=s.length;return e?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+Ta(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Ta(-i-1)+s,r&&(n=r-a)>0&&(s+=Ta(n))):i>=a?(s+=Ta(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+Ta(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=Ta(n))),t.s<0?"-"+s:s}function II(t,e){if(t.length>e)return t.length=e,!0}function y6(t){var e,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(ll+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return OI(a,s.toString())}else if(typeof s!="string")throw Error(ll+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,gxe.test(s))OI(a,s);else throw Error(ll+s)}if(i.prototype=_e,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=y6,i.config=i.set=vxe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function vxe(t){if(!t||typeof t!="object")throw Error(fi+"Object expected");var e,r,n,i=["precision",1,pd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(gd(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(ll+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ll+r+": "+n);return this}var c_=y6(pxe);Ln=new c_(1);const Et=c_;function yxe(t){return Sxe(t)||wxe(t)||bxe(t)||xxe()}function xxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bxe(t,e){if(t){if(typeof t=="string")return e1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e1(t,e)}}function wxe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Sxe(t){if(Array.isArray(t))return e1(t)}function e1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Exe=function(e){return e},x6={},b6=function(e){return e===x6},kI=function(e){return function r(){return arguments.length===0||arguments.length===1&&b6(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Txe=function t(e,r){return e===1?r:kI(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var a=i.filter(function(o){return o!==x6}).length;return a>=e?r.apply(void 0,i):t(e-a,kI(function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var d=i.map(function(f){return b6(f)?c.shift():f});return r.apply(void 0,yxe(d).concat(c))}))})},h0=function(e){return Txe(e.length,e)},t1=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},Axe=h0(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),_xe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Exe;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(o,c){return c(o)},s.apply(void 0,arguments))}},r1=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},w6=function(e){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r&&s.every(function(o,c){return o===r[c]})||(r=s,n=e.apply(void 0,s)),n}};function Pxe(t){var e;return t===0?e=1:e=Math.floor(new Et(t).abs().log(10).toNumber())+1,e}function Nxe(t,e,r){for(var n=new Et(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var Cxe=h0(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),jxe=h0(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Oxe=h0(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const m0={rangeStep:Nxe,getDigitCount:Pxe,interpolateNumber:Cxe,uninterpolateNumber:jxe,uninterpolateTruncation:Oxe};function n1(t){return Rxe(t)||kxe(t)||S6(t)||Ixe()}function Ixe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kxe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Rxe(t){if(Array.isArray(t))return i1(t)}function ph(t,e){return Mxe(t)||Dxe(t,e)||S6(t,e)||Lxe()}function Lxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S6(t,e){if(t){if(typeof t=="string")return i1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i1(t,e)}}function i1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Dxe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),o;!(n=(o=a.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,s=c}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw s}}return r}}function Mxe(t){if(Array.isArray(t))return t}function E6(t){var e=ph(t,2),r=e[0],n=e[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function T6(t,e,r){if(t.lte(0))return new Et(0);var n=m0.getDigitCount(t.toNumber()),i=new Et(10).pow(n),s=t.div(i),a=n!==1?.05:.1,o=new Et(Math.ceil(s.div(a).toNumber())).add(r).mul(a),c=o.mul(i);return e?c:new Et(Math.ceil(c))}function $xe(t,e,r){var n=1,i=new Et(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new Et(10).pow(m0.getDigitCount(t)-1),i=new Et(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Et(Math.floor(t)))}else t===0?i=new Et(Math.floor((e-1)/2)):r||(i=new Et(Math.floor(t)));var a=Math.floor((e-1)/2),o=_xe(Axe(function(c){return i.add(new Et(c-a).mul(n)).toNumber()}),t1);return o(0,e)}function A6(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Et(0),tickMin:new Et(0),tickMax:new Et(0)};var s=T6(new Et(e).sub(t).div(r-1),n,i),a;t<=0&&e>=0?a=new Et(0):(a=new Et(t).add(e).div(2),a=a.sub(new Et(a).mod(s)));var o=Math.ceil(a.sub(t).div(s).toNumber()),c=Math.ceil(new Et(e).sub(a).div(s).toNumber()),u=o+c+1;return u>r?A6(t,e,r,n,i+1):(u<r&&(c=e>0?c+(r-u):c,o=e>0?o:o+(r-u)),{step:s,tickMin:a.sub(new Et(o).mul(s)),tickMax:a.add(new Et(c).mul(s))})}function Fxe(t){var e=ph(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),o=E6([r,n]),c=ph(o,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(n1(t1(0,i-1).map(function(){return 1/0}))):[].concat(n1(t1(0,i-1).map(function(){return-1/0})),[d]);return r>n?r1(f):f}if(u===d)return $xe(u,i,s);var h=A6(u,d,a,s),m=h.step,p=h.tickMin,g=h.tickMax,v=m0.rangeStep(p,g.add(new Et(.1).mul(m)),m);return r>n?r1(v):v}function Bxe(t,e){var r=ph(t,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=E6([n,i]),o=ph(a,2),c=o[0],u=o[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var d=Math.max(e,2),f=T6(new Et(u).sub(c).div(d-1),s,0),h=[].concat(n1(m0.rangeStep(new Et(c),new Et(u).sub(new Et(.99).mul(f)),f)),[u]);return n>i?r1(h):h}var Uxe=w6(Fxe),Vxe=w6(Bxe),Gxe="Invariant failed";function kl(t,e){throw new Error(Gxe)}var Hxe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Cu(t){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(t)}function hv(){return hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hv.apply(this,arguments)}function zxe(t,e){return Yxe(t)||qxe(t,e)||Kxe(t,e)||Wxe()}function Wxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kxe(t,e){if(t){if(typeof t=="string")return RI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RI(t,e)}}function RI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qxe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Yxe(t){if(Array.isArray(t))return t}function Xxe(t,e){if(t==null)return{};var r=Qxe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Zxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jxe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,N6(n.key),n)}}function ebe(t,e,r){return e&&Jxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tbe(t,e,r){return e=mv(e),rbe(t,_6()?Reflect.construct(e,r||[],mv(t).constructor):e.apply(t,r))}function rbe(t,e){if(e&&(Cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nbe(t)}function nbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_6=function(){return!!t})()}function mv(t){return mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mv(t)}function ibe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s1(t,e)}function s1(t,e){return s1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},s1(t,e)}function P6(t,e,r){return e=N6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N6(t){var e=sbe(t,"string");return Cu(e)=="symbol"?e:e+""}function sbe(t,e){if(Cu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var p0=function(t){function e(){return Zxe(this,e),tbe(this,e,arguments)}return ibe(e,t),ebe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,a=n.width,o=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=Xxe(n,Hxe),m=De(h,!1);this.props.direction==="x"&&d.type!=="number"&&kl();var p=c.map(function(g){var v=u(g,o),y=v.x,x=v.y,b=v.value,S=v.errorVal;if(!S)return null;var w=[],T,A;if(Array.isArray(S)){var _=zxe(S,2);T=_[0],A=_[1]}else T=A=S;if(s==="vertical"){var N=d.scale,C=x+i,j=C+a,O=C-a,R=N(b-T),k=N(b+A);w.push({x1:k,y1:j,x2:k,y2:O}),w.push({x1:R,y1:C,x2:k,y2:C}),w.push({x1:R,y1:j,x2:R,y2:O})}else if(s==="horizontal"){var M=f.scale,D=y+i,U=D-a,I=D+a,F=M(b-T),H=M(b+A);w.push({x1:U,y1:H,x2:I,y2:H}),w.push({x1:D,y1:F,x2:D,y2:H}),w.push({x1:U,y1:F,x2:I,y2:F})}return L.createElement(st,hv({className:"recharts-errorBar",key:"bar-".concat(w.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},m),w.map(function(G){return L.createElement("line",hv({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return L.createElement(st,{className:"recharts-errorBars"},p)}}])}(L.Component);P6(p0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});P6(p0,"displayName","ErrorBar");function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}function LI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function No(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LI(Object(r),!0).forEach(function(n){abe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function abe(t,e,r){return e=obe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function obe(t){var e=lbe(t,"string");return gh(e)=="symbol"?e:e+""}function lbe(t,e){if(gh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C6=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,a=jn(r,al);if(!a)return null;var o=al.defaultProps,c=o!==void 0?No(No({},o),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,p=m.sectors||m.data||[];return d.concat(p.map(function(g){return{type:a.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?No(No({},h),f.props):{},p=m.dataKey,g=m.name,v=m.legendType,y=m.hide;return{inactive:y,dataKey:p,type:c.iconType||v||"square",color:u_(f),value:g||p,payload:m}}),No(No(No({},c),al.getWithHeight(a,i)),{},{payload:u,item:a})};function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}function DI(t){return fbe(t)||dbe(t)||ube(t)||cbe()}function cbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ube(t,e){if(t){if(typeof t=="string")return a1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a1(t,e)}}function dbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fbe(t){if(Array.isArray(t))return a1(t)}function a1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function MI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MI(Object(r),!0).forEach(function(n){Bc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bc(t,e,r){return e=hbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hbe(t){var e=mbe(t,"string");return vh(e)=="symbol"?e:e+""}function mbe(t,e){if(vh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sr(t,e,r){return qe(t)||qe(e)?r:Tr(e)?Bn(t,e,r):Be(e)?e(t):r}function bf(t,e,r,n){var i=dxe(t,function(o){return Sr(o,e)});if(r==="number"){var s=i.filter(function(o){return se(o)||parseFloat(o)});return s.length?[f0(s),Ua(s)]:[1/0,-1/0]}var a=n?i.filter(function(o){return!qe(o)}):i;return a.map(function(o){return Tr(o)||o instanceof Date?o:""})}var pbe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<o;u++){var d=u>0?i[u-1].coordinate:i[o-1].coordinate,f=i[u].coordinate,h=u>=o-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(on(f-d)!==on(h-f)){var p=[];if(on(h-f)===on(c[1]-c[0])){m=h;var g=f+c[1]-c[0];p[0]=Math.min(g,(g+d)/2),p[1]=Math.max(g,(g+d)/2)}else{m=d;var v=h+c[1]-c[0];p[0]=Math.min(f,(v+f)/2),p[1]=Math.max(f,(v+f)/2)}var y=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>y[0]&&e<=y[1]||e>=p[0]&&e<=p[1]){a=i[u].index;break}}else{var x=Math.min(d,h),b=Math.max(d,h);if(e>(x+f)/2&&e<=(b+f)/2){a=i[u].index;break}}}else for(var S=0;S<o;S++)if(S===0&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<o-1&&e>(n[S].coordinate+n[S-1].coordinate)/2&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S===o-1&&e>(n[S].coordinate+n[S-1].coordinate)/2){a=n[S].index;break}return a},u_=function(e){var r,n=e,i=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Xt(Xt({},e.type.defaultProps),e.props):e.props,a=s.stroke,o=s.fill,c;switch(i){case"Line":c=a;break;case"Area":case"Radar":c=a&&a!=="none"?a:o;break;default:c=o;break}return c},gbe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},o=Object.keys(s),c=0,u=o.length;c<u;c++)for(var d=s[o[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var p=d[f[h]],g=p.items,v=p.cateAxisId,y=g.filter(function(A){return Hs(A.type).indexOf("Bar")>=0});if(y&&y.length){var x=y[0].type.defaultProps,b=x!==void 0?Xt(Xt({},x),y[0].props):y[0].props,S=b.barSize,w=b[v];a[w]||(a[w]=[]);var T=qe(S)?r:S;a[w].push({item:y[0],stackList:y.slice(1),barSize:qe(T)?void 0:ln(T,n,0)})}}return a},vbe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,s=e.sizeList,a=s===void 0?[]:s,o=e.maxBarSize,c=a.length;if(c<1)return null;var u=ln(r,i,0,!0),d,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,m=i/c,p=a.reduce(function(S,w){return S+w.barSize||0},0);p+=(c-1)*u,p>=i&&(p-=(c-1)*u,u=0),p>=i&&m>0&&(h=!0,m*=.9,p=c*m);var g=(i-p)/2>>0,v={offset:g-u,size:0};d=a.reduce(function(S,w){var T={item:w.item,position:{offset:v.offset+v.size+u,size:h?m:w.barSize}},A=[].concat(DI(S),[T]);return v=A[A.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(_){A.push({item:_,position:v})}),A},f)}else{var y=ln(n,i,0,!0);i-2*y-(c-1)*u<=0&&(u=0);var x=(i-2*y-(c-1)*u)/c;x>1&&(x>>=0);var b=o===+o?Math.min(x,o):x;d=a.reduce(function(S,w,T){var A=[].concat(DI(S),[{item:w.item,position:{offset:y+(x+u)*T+(x-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(_){A.push({item:_,position:A[A.length-1].position})}),A},f)}return d},ybe=function(e,r,n,i){var s=n.children,a=n.width,o=n.margin,c=a-(o.left||0)-(o.right||0),u=C6({children:s,legendWidth:c});if(u){var d=i||{},f=d.width,h=d.height,m=u.align,p=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&p==="middle")&&m!=="center"&&se(e[m]))return Xt(Xt({},e),{},Bc({},m,e[m]+(f||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&p!=="middle"&&se(e[p]))return Xt(Xt({},e),{},Bc({},p,e[p]+(h||0)))}return e},xbe=function(e,r,n){return qe(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},j6=function(e,r,n,i,s){var a=r.props.children,o=oi(a,p0).filter(function(u){return xbe(i,s,u.props.direction)});if(o&&o.length){var c=o.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Sr(d,n);if(qe(f))return u;var h=Array.isArray(f)?[f0(f),Ua(f)]:[f,f],m=c.reduce(function(p,g){var v=Sr(d,g,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),x=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,p[0]),Math.max(x,p[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},bbe=function(e,r,n,i,s){var a=r.map(function(o){return j6(e,o,n,s,i)}).filter(function(o){return!qe(o)});return a&&a.length?a.reduce(function(o,c){return[Math.min(o[0],c[0]),Math.max(o[1],c[1])]},[1/0,-1/0]):null},O6=function(e,r,n,i,s){var a=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&j6(e,c,u,i)||bf(e,u,n,s)});if(n==="number")return a.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var o={};return a.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)o[u[d]]||(o[u[d]]=!0,c.push(u[d]));return c},[])},I6=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},k6=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var s,a,o=e.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(a=!0),c.coordinate});return s||o.push(r),a||o.push(n),o},Fs=function(e,r,n){if(!e)return null;var i=e.scale,s=e.duplicateDomain,a=e.type,o=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&a==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?on(o[0]-o[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!cd(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:s?s[f]:f,index:h,offset:u}})},hb=new WeakMap,rp=function(e,r){if(typeof r!="function")return e;hb.has(e)||hb.set(e,new WeakMap);var n=hb.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},R6=function(e,r,n){var i=e.scale,s=e.type,a=e.layout,o=e.axisType;if(i==="auto")return a==="radial"&&o==="radiusAxis"?{scale:ch(),realScaleType:"band"}:a==="radial"&&o==="angleAxis"?{scale:lv(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:xf(),realScaleType:"point"}:s==="category"?{scale:ch(),realScaleType:"band"}:{scale:lv(),realScaleType:"linear"};if(Cl(i)){var c="scale".concat(Zy(i));return{scale:(jI[c]||xf)(),realScaleType:jI[c]?c:"point"}}return Be(i)?{scale:i}:{scale:xf(),realScaleType:"point"}},$I=1e-4,L6=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),s=Math.min(i[0],i[1])-$I,a=Math.max(i[0],i[1])+$I,o=e(r[0]),c=e(r[n-1]);(o<s||o>a||c<s||c>a)&&e.domain([r[0],r[n-1]])}},wbe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Sbe=function(e,r){if(!r||r.length!==2||!se(r[0])||!se(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!se(e[0])||e[0]<n)&&(s[0]=n),(!se(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},Ebe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,a=0,o=0;o<r;++o){var c=cd(e[o][n][1])?e[o][n][0]:e[o][n][1];c>=0?(e[o][n][0]=s,e[o][n][1]=s+c,s=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+c,a=e[o][n][1])}},Tbe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,a=0;a<r;++a){var o=cd(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=s,e[a][n][1]=s+o,s=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},Abe={sign:Ebe,expand:Hoe,none:bu,silhouette:zoe,wiggle:Woe,positive:Tbe},_be=function(e,r,n){var i=r.map(function(o){return o.props.dataKey}),s=Abe[n],a=Goe().keys(i).value(function(o,c){return+Sr(o,c,0)}).order(OS).offset(s);return a(e)},Pbe=function(e,r,n,i,s,a){if(!e)return null;var o=a?r.reverse():r,c={},u=o.reduce(function(f,h){var m,p=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Xt(Xt({},h.type.defaultProps),h.props):h.props,g=p.stackId,v=p.hide;if(v)return f;var y=p[n],x=f[y]||{hasStack:!1,stackGroups:{}};if(Tr(g)){var b=x.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};b.items.push(h),x.hasStack=!0,x.stackGroups[g]=b}else x.stackGroups[ud("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return Xt(Xt({},f),{},Bc({},y,x))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var p={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,v){var y=m.stackGroups[v];return Xt(Xt({},g),{},Bc({},v,{numericAxisId:n,cateAxisId:i,items:y.items,stackedData:_be(e,y.items,s)}))},p)}return Xt(Xt({},f),{},Bc({},h,m))},d)},D6=function(e,r){var n=r.realScaleType,i=r.type,s=r.tickCount,a=r.originalDomain,o=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=Uxe(u,s,o);return e.domain([f0(d),Ua(d)]),{niceTicks:d}}if(s&&i==="number"){var f=e.domain(),h=Vxe(f,s,o);return{niceTicks:h}}return null};function FI(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,s=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!qe(i[e.dataKey])){var o=Ug(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=Sr(i,qe(a)?e.dataKey:a);return qe(c)?null:e.scale(c)}var BI=function(e){var r=e.axis,n=e.ticks,i=e.offset,s=e.bandSize,a=e.entry,o=e.index;if(r.type==="category")return n[o]?n[o].coordinate+i:null;var c=Sr(a,r.dataKey,r.domain[o]);return qe(c)?null:r.scale(c)-s/2+i},Nbe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},Cbe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Xt(Xt({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Tr(s)){var a=r[s];if(a){var o=a.items.indexOf(e);return o>=0?a.stackedData[o]:null}}return null},jbe=function(e){return e.reduce(function(r,n){return[f0(n.concat([r[0]]).filter(se)),Ua(n.concat([r[1]]).filter(se))]},[1/0,-1/0])},M6=function(e,r,n){return Object.keys(e).reduce(function(i,s){var a=e[s],o=a.stackedData,c=o.reduce(function(u,d){var f=jbe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},UI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,VI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,o1=function(e,r,n){if(Be(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(se(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(UI.test(e[0])){var s=+UI.exec(e[0])[1];i[0]=r[0]-s}else Be(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(se(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(VI.test(e[1])){var a=+VI.exec(e[1])[1];i[1]=r[1]+a}else Be(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},pv=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var s=$A(r,function(f){return f.coordinate}),a=1/0,o=1,c=s.length;o<c;o++){var u=s[o],d=s[o-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0},GI=function(e,r,n){return!e||!e.length||Nu(e,Bn(n,"type.defaultProps.domain"))?r:e},$6=function(e,r){var n=e.type.defaultProps?Xt(Xt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,s=n.name,a=n.unit,o=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Xt(Xt({},De(e,!1)),{},{dataKey:i,unit:a,formatter:o,name:s||i,color:u_(e),value:Sr(r,i),type:c,payload:r,chartType:u,hide:d})};function yh(t){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}function HI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HI(Object(r),!0).forEach(function(n){F6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function F6(t,e,r){return e=Obe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Obe(t){var e=Ibe(t,"string");return yh(e)=="symbol"?e:e+""}function Ibe(t,e){if(yh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kbe(t,e){return Mbe(t)||Dbe(t,e)||Lbe(t,e)||Rbe()}function Rbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lbe(t,e){if(t){if(typeof t=="string")return zI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zI(t,e)}}function zI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Dbe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Mbe(t){if(Array.isArray(t))return t}var gv=Math.PI/180,$be=function(e){return e*180/Math.PI},Ot=function(e,r,n,i){return{x:e+Math.cos(-gv*i)*n,y:r+Math.sin(-gv*i)*n}},B6=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Fbe=function(e,r,n,i,s){var a=e.width,o=e.height,c=e.startAngle,u=e.endAngle,d=ln(e.cx,a,a/2),f=ln(e.cy,o,o/2),h=B6(a,o,n),m=ln(e.innerRadius,h,0),p=ln(e.outerRadius,h,h*.8),g=Object.keys(r);return g.reduce(function(v,y){var x=r[y],b=x.domain,S=x.reversed,w;if(qe(x.range))i==="angleAxis"?w=[c,u]:i==="radiusAxis"&&(w=[m,p]),S&&(w=[w[1],w[0]]);else{w=x.range;var T=w,A=kbe(T,2);c=A[0],u=A[1]}var _=R6(x,s),N=_.realScaleType,C=_.scale;C.domain(b).range(w),L6(C);var j=D6(C,Cs(Cs({},x),{},{realScaleType:N})),O=Cs(Cs(Cs({},x),j),{},{range:w,radius:p,realScaleType:N,scale:C,cx:d,cy:f,innerRadius:m,outerRadius:p,startAngle:c,endAngle:u});return Cs(Cs({},v),{},F6({},y,O))},{})},Bbe=function(e,r){var n=e.x,i=e.y,s=r.x,a=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-a,2))},Ube=function(e,r){var n=e.x,i=e.y,s=r.cx,a=r.cy,o=Bbe({x:n,y:i},{x:s,y:a});if(o<=0)return{radius:o};var c=(n-s)/o,u=Math.acos(c);return i>a&&(u=2*Math.PI-u),{radius:o,angle:$be(u),angleInRadian:u}},Vbe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return{startAngle:r-a*360,endAngle:n-a*360}},Gbe=function(e,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),a=Math.floor(i/360),o=Math.min(s,a);return e+o*360},WI=function(e,r){var n=e.x,i=e.y,s=Ube({x:n,y:i},r),a=s.radius,o=s.angle,c=r.innerRadius,u=r.outerRadius;if(a<c||a>u)return!1;if(a===0)return!0;var d=Vbe(r),f=d.startAngle,h=d.endAngle,m=o,p;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;p=m>=h&&m<=f}return p?Cs(Cs({},r),{},{radius:a,angle:Gbe(m,r)}):null},U6=function(e){return!E.isValidElement(e)&&!Be(e)&&typeof e!="boolean"?e.className:""};function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}var Hbe=["offset"];function zbe(t){return Ybe(t)||qbe(t)||Kbe(t)||Wbe()}function Wbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kbe(t,e){if(t){if(typeof t=="string")return l1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l1(t,e)}}function qbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ybe(t){if(Array.isArray(t))return l1(t)}function l1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Xbe(t,e){if(t==null)return{};var r=Qbe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qbe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function KI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(r),!0).forEach(function(n){Zbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zbe(t,e,r){return e=Jbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jbe(t){var e=ewe(t,"string");return xh(e)=="symbol"?e:e+""}function ewe(t,e){if(xh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bh(){return bh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bh.apply(this,arguments)}var twe=function(e){var r=e.value,n=e.formatter,i=qe(e.children)?r:e.children;return Be(n)?n(i):i},rwe=function(e,r){var n=on(r-e),i=Math.min(Math.abs(r-e),360);return n*i},nwe=function(e,r,n){var i=e.position,s=e.viewBox,a=e.offset,o=e.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,p=c.endAngle,g=c.clockWise,v=(f+h)/2,y=rwe(m,p),x=y>=0?1:-1,b,S;i==="insideStart"?(b=m+x*a,S=g):i==="insideEnd"?(b=p-x*a,S=!g):i==="end"&&(b=p+x*a,S=g),S=y<=0?S:!S;var w=Ot(u,d,v,b),T=Ot(u,d,v,b+(S?1:-1)*359),A="M".concat(w.x,",").concat(w.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(S?0:1,`,
    `).concat(T.x,",").concat(T.y),_=qe(e.id)?ud("recharts-radial-line-"):e.id;return L.createElement("text",bh({},n,{dominantBaseline:"central",className:Ke("recharts-radial-bar-label",o)}),L.createElement("defs",null,L.createElement("path",{id:_,d:A})),L.createElement("textPath",{xlinkHref:"#".concat(_)},r))},iwe=function(e){var r=e.viewBox,n=e.offset,i=e.position,s=r,a=s.cx,o=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(i==="outside"){var m=Ot(a,o,u+n,h),p=m.x,g=m.y;return{x:p,y:g,textAnchor:p>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,y=Ot(a,o,v,h),x=y.x,b=y.y;return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},swe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,s=e.position,a=r,o=a.x,c=a.y,u=a.width,d=a.height,f=d>=0?1:-1,h=f*i,m=f>0?"end":"start",p=f>0?"start":"end",g=u>=0?1:-1,v=g*i,y=g>0?"end":"start",x=g>0?"start":"end";if(s==="top"){var b={x:o+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:m};return vr(vr({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var S={x:o+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:p};return vr(vr({},S),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var w={x:o-v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return vr(vr({},w),n?{width:Math.max(w.x-n.x,0),height:d}:{})}if(s==="right"){var T={x:o+u+v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return vr(vr({},T),n?{width:Math.max(n.x+n.width-T.x,0),height:d}:{})}var A=n?{width:u,height:d}:{};return s==="insideLeft"?vr({x:o+v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},A):s==="insideRight"?vr({x:o+u-v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},A):s==="insideTop"?vr({x:o+u/2,y:c+h,textAnchor:"middle",verticalAnchor:p},A):s==="insideBottom"?vr({x:o+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},A):s==="insideTopLeft"?vr({x:o+v,y:c+h,textAnchor:x,verticalAnchor:p},A):s==="insideTopRight"?vr({x:o+u-v,y:c+h,textAnchor:y,verticalAnchor:p},A):s==="insideBottomLeft"?vr({x:o+v,y:c+d-h,textAnchor:x,verticalAnchor:m},A):s==="insideBottomRight"?vr({x:o+u-v,y:c+d-h,textAnchor:y,verticalAnchor:m},A):sd(s)&&(se(s.x)||Go(s.x))&&(se(s.y)||Go(s.y))?vr({x:o+ln(s.x,u),y:c+ln(s.y,d),textAnchor:"end",verticalAnchor:"end"},A):vr({x:o+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},awe=function(e){return"cx"in e&&se(e.cx)};function Or(t){var e=t.offset,r=e===void 0?5:e,n=Xbe(t,Hbe),i=vr({offset:r},n),s=i.viewBox,a=i.position,o=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!s||qe(o)&&qe(c)&&!E.isValidElement(u)&&!Be(u))return null;if(E.isValidElement(u))return E.cloneElement(u,i);var m;if(Be(u)){if(m=E.createElement(u,i),E.isValidElement(m))return m}else m=twe(i);var p=awe(s),g=De(i,!0);if(p&&(a==="insideStart"||a==="insideEnd"||a==="end"))return nwe(i,m,g);var v=p?iwe(i):swe(i);return L.createElement(Ol,bh({className:Ke("recharts-label",f)},g,v,{breakAll:h}),m)}Or.displayName="Label";var V6=function(e){var r=e.cx,n=e.cy,i=e.angle,s=e.startAngle,a=e.endAngle,o=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,m=e.top,p=e.left,g=e.width,v=e.height,y=e.clockWise,x=e.labelViewBox;if(x)return x;if(se(g)&&se(v)){if(se(f)&&se(h))return{x:f,y:h,width:g,height:v};if(se(m)&&se(p))return{x:m,y:p,width:g,height:v}}return se(f)&&se(h)?{x:f,y:h,width:0,height:0}:se(r)&&se(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:d||c||o||0,clockWise:y}:e.viewBox?e.viewBox:{}},owe=function(e,r){return e?e===!0?L.createElement(Or,{key:"label-implicit",viewBox:r}):Tr(e)?L.createElement(Or,{key:"label-implicit",viewBox:r,value:e}):E.isValidElement(e)?e.type===Or?E.cloneElement(e,{key:"label-implicit",viewBox:r}):L.createElement(Or,{key:"label-implicit",content:e,viewBox:r}):Be(e)?L.createElement(Or,{key:"label-implicit",content:e,viewBox:r}):sd(e)?L.createElement(Or,bh({viewBox:r},e,{key:"label-implicit"})):null:null},lwe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,s=V6(e),a=oi(i,Or).map(function(c,u){return E.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return a;var o=owe(e.label,r||s);return[o].concat(zbe(a))};Or.parseViewBox=V6;Or.renderCallByParent=lwe;function cwe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var uwe=cwe;const dwe=pt(uwe);function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}var fwe=["valueAccessor"],hwe=["data","dataKey","clockWise","id","textBreakAll"];function mwe(t){return ywe(t)||vwe(t)||gwe(t)||pwe()}function pwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gwe(t,e){if(t){if(typeof t=="string")return c1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c1(t,e)}}function vwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ywe(t){if(Array.isArray(t))return c1(t)}function c1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vv(){return vv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vv.apply(this,arguments)}function qI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function YI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qI(Object(r),!0).forEach(function(n){xwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xwe(t,e,r){return e=bwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bwe(t){var e=wwe(t,"string");return wh(e)=="symbol"?e:e+""}function wwe(t,e){if(wh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XI(t,e){if(t==null)return{};var r=Swe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Swe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ewe=function(e){return Array.isArray(e.value)?dwe(e.value):e.value};function Ws(t){var e=t.valueAccessor,r=e===void 0?Ewe:e,n=XI(t,fwe),i=n.data,s=n.dataKey,a=n.clockWise,o=n.id,c=n.textBreakAll,u=XI(n,hwe);return!i||!i.length?null:L.createElement(st,{className:"recharts-label-list"},i.map(function(d,f){var h=qe(s)?r(d,f):Sr(d&&d.payload,s),m=qe(o)?{}:{id:"".concat(o,"-").concat(f)};return L.createElement(Or,vv({},De(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Or.parseViewBox(qe(a)?d:YI(YI({},d),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}Ws.displayName="LabelList";function Twe(t,e){return t?t===!0?L.createElement(Ws,{key:"labelList-implicit",data:e}):L.isValidElement(t)||Be(t)?L.createElement(Ws,{key:"labelList-implicit",data:e,content:t}):sd(t)?L.createElement(Ws,vv({data:e},t,{key:"labelList-implicit"})):null:null}function Awe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=oi(n,Ws).map(function(a,o){return E.cloneElement(a,{data:e,key:"labelList-".concat(o)})});if(!r)return i;var s=Twe(t.label,e);return[s].concat(mwe(i))}Ws.renderCallByParent=Awe;function Sh(t){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}function u1(){return u1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u1.apply(this,arguments)}function QI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ZI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(r),!0).forEach(function(n){_we(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _we(t,e,r){return e=Pwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pwe(t){var e=Nwe(t,"string");return Sh(e)=="symbol"?e:e+""}function Nwe(t,e){if(Sh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cwe=function(e,r){var n=on(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},np=function(e){var r=e.cx,n=e.cy,i=e.radius,s=e.angle,a=e.sign,o=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(o?1:-1)+i,f=Math.asin(c/d)/gv,h=u?s:s+a*f,m=Ot(r,n,d,h),p=Ot(r,n,i,h),g=u?s-a*f:s,v=Ot(r,n,d*Math.cos(f*gv),g);return{center:m,circleTangency:p,lineTangency:v,theta:f}},G6=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.startAngle,o=e.endAngle,c=Cwe(a,o),u=a+c,d=Ot(r,n,s,a),f=Ot(r,n,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=Ot(r,n,i,a),p=Ot(r,n,i,u);h+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},jwe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,o=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=on(d-u),h=np({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:a,cornerIsExternal:c}),m=h.circleTangency,p=h.lineTangency,g=h.theta,v=np({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:c}),y=v.circleTangency,x=v.lineTangency,b=v.theta,S=c?Math.abs(u-d):Math.abs(u-d)-g-b;if(S<0)return o?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):G6({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d});var w="M ".concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var T=np({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),A=T.circleTangency,_=T.lineTangency,N=T.theta,C=np({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),j=C.circleTangency,O=C.lineTangency,R=C.theta,k=c?Math.abs(u-d):Math.abs(u-d)-N-R;if(k<0&&a===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(k>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},Owe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},H6=function(e){var r=ZI(ZI({},Owe),e),n=r.cx,i=r.cy,s=r.innerRadius,a=r.outerRadius,o=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(a<s||d===f)return null;var m=Ke("recharts-sector",h),p=a-s,g=ln(o,p,0,!0),v;return g>0&&Math.abs(d-f)<360?v=jwe({cx:n,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(g,p/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=G6({cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:d,endAngle:f}),L.createElement("path",u1({},De(r,!0),{className:m,d:v,role:"img"}))};function Eh(t){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}function d1(){return d1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},d1.apply(this,arguments)}function JI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ek(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(r),!0).forEach(function(n){Iwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Iwe(t,e,r){return e=kwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kwe(t){var e=Rwe(t,"string");return Eh(e)=="symbol"?e:e+""}function Rwe(t,e){if(Eh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tk={curveBasisClosed:Ioe,curveBasisOpen:koe,curveBasis:Ooe,curveBumpX:voe,curveBumpY:yoe,curveLinearClosed:Roe,curveLinear:e0,curveMonotoneX:Loe,curveMonotoneY:Doe,curveNatural:Moe,curveStep:$oe,curveStepAfter:Boe,curveStepBefore:Foe},ip=function(e){return e.x===+e.x&&e.y===+e.y},Md=function(e){return e.x},$d=function(e){return e.y},Lwe=function(e,r){if(Be(e))return e;var n="curve".concat(Zy(e));return(n==="curveMonotone"||n==="curveBump")&&r?tk["".concat(n).concat(r==="vertical"?"Y":"X")]:tk[n]||e0},Dwe=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,s=i===void 0?[]:i,a=e.baseLine,o=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=Lwe(n,o),f=u?s.filter(function(g){return ip(g)}):s,h;if(Array.isArray(a)){var m=u?a.filter(function(g){return ip(g)}):a,p=f.map(function(g,v){return ek(ek({},g),{},{base:m[v]})});return o==="vertical"?h=qm().y($d).x1(Md).x0(function(g){return g.base.x}):h=qm().x(Md).y1($d).y0(function(g){return g.base.y}),h.defined(ip).curve(d),h(p)}return o==="vertical"&&se(a)?h=qm().y($d).x1(Md).x0(a):se(a)?h=qm().x(Md).y1($d).y0(a):h=$3().x(Md).y($d),h.defined(ip).curve(d),h(f)},Uc=function(e){var r=e.className,n=e.points,i=e.path,s=e.pathRef;if((!n||!n.length)&&!i)return null;var a=n&&n.length?Dwe(e):i;return E.createElement("path",d1({},De(e,!1),Vg(e),{className:Ke("recharts-curve",r),d:a,ref:s}))},z6={exports:{}},Mwe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$we=Mwe,Fwe=$we;function W6(){}function K6(){}K6.resetWarningCache=W6;var Bwe=function(){function t(n,i,s,a,o,c){if(c!==Fwe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:K6,resetWarningCache:W6};return r.PropTypes=r,r};z6.exports=Bwe();var Uwe=z6.exports;const ht=pt(Uwe);var Vwe=Object.getOwnPropertyNames,Gwe=Object.getOwnPropertySymbols,Hwe=Object.prototype.hasOwnProperty;function rk(t,e){return function(n,i,s){return t(n,i,s)&&e(n,i,s)}}function sp(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var s=i.cache,a=s.get(r),o=s.get(n);if(a&&o)return a===n&&o===r;s.set(r,n),s.set(n,r);var c=t(r,n,i);return s.delete(r),s.delete(n),c}}function nk(t){return Vwe(t).concat(Gwe(t))}var zwe=Object.hasOwn||function(t,e){return Hwe.call(t,e)};function zl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Wwe="__v",Kwe="__o",qwe="_owner",ik=Object.getOwnPropertyDescriptor,sk=Object.keys;function Ywe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Xwe(t,e){return zl(t.getTime(),e.getTime())}function Qwe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Zwe(t,e){return t===e}function ak(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.entries(),a,o,c=0;(a=s.next())&&!a.done;){for(var u=e.entries(),d=!1,f=0;(o=u.next())&&!o.done;){if(i[f]){f++;continue}var h=a.value,m=o.value;if(r.equals(h[0],m[0],c,f,t,e,r)&&r.equals(h[1],m[1],h[0],m[0],t,e,r)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var Jwe=zl;function eSe(t,e,r){var n=sk(t),i=n.length;if(sk(e).length!==i)return!1;for(;i-- >0;)if(!q6(t,e,r,n[i]))return!1;return!0}function Fd(t,e,r){var n=nk(t),i=n.length;if(nk(e).length!==i)return!1;for(var s,a,o;i-- >0;)if(s=n[i],!q6(t,e,r,s)||(a=ik(t,s),o=ik(e,s),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable)))return!1;return!0}function tSe(t,e){return zl(t.valueOf(),e.valueOf())}function rSe(t,e){return t.source===e.source&&t.flags===e.flags}function ok(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.values(),a,o;(a=s.next())&&!a.done;){for(var c=e.values(),u=!1,d=0;(o=c.next())&&!o.done;){if(!i[d]&&r.equals(a.value,o.value,a.value,o.value,t,e,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function nSe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function iSe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function q6(t,e,r,n){return(n===qwe||n===Kwe||n===Wwe)&&(t.$$typeof||e.$$typeof)?!0:zwe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var sSe="[object Arguments]",aSe="[object Boolean]",oSe="[object Date]",lSe="[object Error]",cSe="[object Map]",uSe="[object Number]",dSe="[object Object]",fSe="[object RegExp]",hSe="[object Set]",mSe="[object String]",pSe="[object URL]",gSe=Array.isArray,lk=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,ck=Object.assign,vSe=Object.prototype.toString.call.bind(Object.prototype.toString);function ySe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,a=t.areNumbersEqual,o=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(p,g,v){if(p===g)return!0;if(p==null||g==null)return!1;var y=typeof p;if(y!==typeof g)return!1;if(y!=="object")return y==="number"?a(p,g,v):y==="function"?i(p,g,v):!1;var x=p.constructor;if(x!==g.constructor)return!1;if(x===Object)return o(p,g,v);if(gSe(p))return e(p,g,v);if(lk!=null&&lk(p))return f(p,g,v);if(x===Date)return r(p,g,v);if(x===RegExp)return u(p,g,v);if(x===Map)return s(p,g,v);if(x===Set)return d(p,g,v);var b=vSe(p);return b===oSe?r(p,g,v):b===fSe?u(p,g,v):b===cSe?s(p,g,v):b===hSe?d(p,g,v):b===dSe?typeof p.then!="function"&&typeof g.then!="function"&&o(p,g,v):b===pSe?h(p,g,v):b===lSe?n(p,g,v):b===sSe?o(p,g,v):b===aSe||b===uSe||b===mSe?c(p,g,v):!1}}function xSe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Fd:Ywe,areDatesEqual:Xwe,areErrorsEqual:Qwe,areFunctionsEqual:Zwe,areMapsEqual:n?rk(ak,Fd):ak,areNumbersEqual:Jwe,areObjectsEqual:n?Fd:eSe,arePrimitiveWrappersEqual:tSe,areRegExpsEqual:rSe,areSetsEqual:n?rk(ok,Fd):ok,areTypedArraysEqual:n?Fd:nSe,areUrlsEqual:iSe};if(r&&(i=ck({},i,r(i))),e){var s=sp(i.areArraysEqual),a=sp(i.areMapsEqual),o=sp(i.areObjectsEqual),c=sp(i.areSetsEqual);i=ck({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:c})}return i}function bSe(t){return function(e,r,n,i,s,a,o){return t(e,r,o)}}function wSe(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,s=t.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:i,meta:m,strict:s})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var a={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,u){return r(c,u,a)}}var SSe=To();To({strict:!0});To({circular:!0});To({circular:!0,strict:!0});To({createInternalComparator:function(){return zl}});To({strict:!0,createInternalComparator:function(){return zl}});To({circular:!0,createInternalComparator:function(){return zl}});To({circular:!0,createInternalComparator:function(){return zl},strict:!0});function To(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,s=t.strict,a=s===void 0?!1:s,o=xSe(t),c=ySe(o),u=n?n(c):bSe(c);return wSe({circular:r,comparator:c,createState:i,equals:u,strict:a})}function ESe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function uk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>e?(t(s),r=-1):ESe(i)};requestAnimationFrame(n)}function f1(t){"@babel/helpers - typeof";return f1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f1(t)}function TSe(t){return NSe(t)||PSe(t)||_Se(t)||ASe()}function ASe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Se(t,e){if(t){if(typeof t=="string")return dk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dk(t,e)}}function dk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function PSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NSe(t){if(Array.isArray(t))return t}function CSe(){var t={},e=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var a=s,o=TSe(a),c=o[0],u=o.slice(1);if(typeof c=="number"){uk(i.bind(null,u),c);return}i(c),uk(i.bind(null,u));return}f1(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function fk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fk(Object(r),!0).forEach(function(n){Y6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y6(t,e,r){return e=jSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jSe(t){var e=OSe(t,"string");return Th(e)==="symbol"?e:String(e)}function OSe(t,e){if(Th(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Th(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ISe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},kSe=function(e){return e},RSe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},wf=function(e,r){return Object.keys(r).reduce(function(n,i){return hk(hk({},n),{},Y6({},i,e(i,r[i])))},{})},mk=function(e,r,n){return e.map(function(i){return"".concat(RSe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function LSe(t,e){return $Se(t)||MSe(t,e)||X6(t,e)||DSe()}function DSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MSe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function $Se(t){if(Array.isArray(t))return t}function FSe(t){return VSe(t)||USe(t)||X6(t)||BSe()}function BSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X6(t,e){if(t){if(typeof t=="string")return h1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h1(t,e)}}function USe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function VSe(t){if(Array.isArray(t))return h1(t)}function h1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var yv=1e-4,Q6=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},Z6=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},pk=function(e,r){return function(n){var i=Q6(e,r);return Z6(i,n)}},GSe=function(e,r){return function(n){var i=Q6(e,r),s=[].concat(FSe(i.map(function(a,o){return a*o}).slice(1)),[0]);return Z6(s,n)}},gk=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],s=r[1],a=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,a=1,o=1;break;case"ease":i=.25,s=.1,a=.25,o=1;break;case"ease-in":i=.42,s=0,a=1,o=1;break;case"ease-out":i=.42,s=0,a=.58,o=1;break;case"ease-in-out":i=0,s=0,a=.58,o=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=LSe(u,4);i=d[0],s=d[1],a=d[2],o=d[3]}}}var f=pk(i,a),h=pk(s,o),m=GSe(i,a),p=function(y){return y>1?1:y<0?0:y},g=function(y){for(var x=y>1?1:y,b=x,S=0;S<8;++S){var w=f(b)-x,T=m(b);if(Math.abs(w-x)<yv||T<yv)return h(b);b=p(b-w/T)}return h(b)};return g.isStepper=!1,g},HSe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,s=i===void 0?8:i,a=e.dt,o=a===void 0?17:a,c=function(d,f,h){var m=-(d-f)*n,p=h*s,g=h+(m-p)*o/1e3,v=h*o/1e3+d;return Math.abs(v-f)<yv&&Math.abs(g)<yv?[f,0]:[v,g]};return c.isStepper=!0,c.dt=o,c},zSe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gk(i);case"spring":return HSe();default:if(i.split("(")[0]==="cubic-bezier")return gk(i)}return typeof i=="function"?i:null};function Ah(t){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}function vk(t){return qSe(t)||KSe(t)||J6(t)||WSe()}function WSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qSe(t){if(Array.isArray(t))return p1(t)}function yk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(r),!0).forEach(function(n){m1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function m1(t,e,r){return e=YSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YSe(t){var e=XSe(t,"string");return Ah(e)==="symbol"?e:String(e)}function XSe(t,e){if(Ah(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ah(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QSe(t,e){return e1e(t)||JSe(t,e)||J6(t,e)||ZSe()}function ZSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J6(t,e){if(t){if(typeof t=="string")return p1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p1(t,e)}}function p1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JSe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function e1e(t){if(Array.isArray(t))return t}var xv=function(e,r,n){return e+(r-e)*n},g1=function(e){var r=e.from,n=e.to;return r!==n},t1e=function t(e,r,n){var i=wf(function(s,a){if(g1(a)){var o=e(a.from,a.to,a.velocity),c=QSe(o,2),u=c[0],d=c[1];return Lr(Lr({},a),{},{from:u,velocity:d})}return a},r);return n<1?wf(function(s,a){return g1(a)?Lr(Lr({},a),{},{velocity:xv(a.velocity,i[s].velocity,n),from:xv(a.from,i[s].from,n)}):a},r):t(e,i,n-1)};const r1e=function(t,e,r,n,i){var s=ISe(t,e),a=s.reduce(function(v,y){return Lr(Lr({},v),{},m1({},y,[t[y],e[y]]))},{}),o=s.reduce(function(v,y){return Lr(Lr({},v),{},m1({},y,{from:t[y],velocity:0,to:e[y]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return wf(function(y,x){return x.from},o)},m=function(){return!Object.values(o).filter(g1).length},p=function(y){u||(u=y);var x=y-u,b=x/r.dt;o=t1e(r,o,b),i(Lr(Lr(Lr({},t),e),h())),u=y,m()||(c=requestAnimationFrame(f))},g=function(y){d||(d=y);var x=(y-d)/n,b=wf(function(w,T){return xv.apply(void 0,vk(T).concat([r(x)]))},a);if(i(Lr(Lr(Lr({},t),e),b)),x<1)c=requestAnimationFrame(f);else{var S=wf(function(w,T){return xv.apply(void 0,vk(T).concat([r(1)]))},a);i(Lr(Lr(Lr({},t),e),S))}};return f=r.isStepper?p:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function ju(t){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}var n1e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function i1e(t,e){if(t==null)return{};var r=s1e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function s1e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function mb(t){return c1e(t)||l1e(t)||o1e(t)||a1e()}function a1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o1e(t,e){if(t){if(typeof t=="string")return v1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v1(t,e)}}function l1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function c1e(t){if(Array.isArray(t))return v1(t)}function v1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xk(Object(r),!0).forEach(function(n){Qd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qd(t,e,r){return e=e5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d1e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,e5(n.key),n)}}function f1e(t,e,r){return e&&d1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function e5(t){var e=h1e(t,"string");return ju(e)==="symbol"?e:String(e)}function h1e(t,e){if(ju(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ju(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y1(t,e)}function y1(t,e){return y1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},y1(t,e)}function p1e(t){var e=g1e();return function(){var n=bv(t),i;if(e){var s=bv(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return x1(this,i)}}function x1(t,e){if(e&&(ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b1(t)}function b1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g1e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bv(t){return bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bv(t)}var ms=function(t){m1e(r,t);var e=p1e(r);function r(n,i){var s;u1e(this,r),s=e.call(this,n,i);var a=s.props,o=a.isActive,c=a.attributeName,u=a.from,d=a.to,f=a.steps,h=a.children,m=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(b1(s)),s.changeStyle=s.changeStyle.bind(b1(s)),!o||m<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),x1(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},x1(s);s.state={style:c?Qd({},c,u):u}}else s.state={style:{}};return s}return f1e(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,o=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(o){if(!a){var m={style:c?Qd({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(SSe(i.to,d)&&i.canBegin&&i.isActive)){var p=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=p||u?f:i.to;if(this.state&&h){var v={style:c?Qd({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(v)}this.runAnimation(yi(yi({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,o=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=r1e(a,o,zSe(u),c,this.changeStyle),p=function(){s.stopJSAnimation=m()};this.manager.start([h,d,p,c,f])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,o=i.begin,c=i.onAnimationStart,u=a[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(g,v,y){if(y===0)return g;var x=v.duration,b=v.easing,S=b===void 0?"ease":b,w=v.style,T=v.properties,A=v.onAnimationEnd,_=y>0?a[y-1]:v,N=T||Object.keys(w);if(typeof S=="function"||S==="spring")return[].concat(mb(g),[s.runJSAnimation.bind(s,{from:_.style,to:w,duration:x,easing:S}),x]);var C=mk(N,x,S),j=yi(yi(yi({},_.style),w),{},{transition:C});return[].concat(mb(g),[j,x,A]).filter(kSe)};return this.manager.start([c].concat(mb(a.reduce(m,[d,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=CSe());var s=i.begin,a=i.duration,o=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=o?Qd({},o,c):c,v=mk(Object.keys(g),a,u);p.start([d,s,yi(yi({},g),{},{transition:v}),a,f])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=i1e(i,n1e),u=E.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!o||u===0||a<=0)return s;var f=function(m){var p=m.props,g=p.style,v=g===void 0?{}:g,y=p.className,x=E.cloneElement(m,yi(yi({},c),{},{style:yi(yi({},v),d),className:y}));return x};return u===1?f(E.Children.only(s)):L.createElement("div",null,E.Children.map(s,function(h){return f(h)}))}}]),r}(E.PureComponent);ms.displayName="Animate";ms.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ms.propTypes={from:ht.oneOfType([ht.object,ht.string]),to:ht.oneOfType([ht.object,ht.string]),attributeName:ht.string,duration:ht.number,begin:ht.number,easing:ht.oneOfType([ht.string,ht.func]),steps:ht.arrayOf(ht.shape({duration:ht.number.isRequired,style:ht.object.isRequired,easing:ht.oneOfType([ht.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ht.func]),properties:ht.arrayOf("string"),onAnimationEnd:ht.func})),children:ht.oneOfType([ht.node,ht.func]),isActive:ht.bool,canBegin:ht.bool,onAnimationEnd:ht.func,shouldReAnimate:ht.bool,onAnimationStart:ht.func,onAnimationReStart:ht.func};function _h(t){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}function wv(){return wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wv.apply(this,arguments)}function v1e(t,e){return w1e(t)||b1e(t,e)||x1e(t,e)||y1e()}function y1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x1e(t,e){if(t){if(typeof t=="string")return bk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bk(t,e)}}function bk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function b1e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function w1e(t){if(Array.isArray(t))return t}function wk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wk(Object(r),!0).forEach(function(n){S1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function S1e(t,e,r){return e=E1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E1e(t){var e=T1e(t,"string");return _h(e)=="symbol"?e:e+""}function T1e(t,e){if(_h(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ek=function(e,r,n,i,s){var a=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(a>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=s[h]>a?a:s[h];d="M".concat(e,",").concat(r+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(r)),d+="L ".concat(e+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+o*f[1])),d+="L ".concat(e+n,",").concat(r+i-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-c*f[2],",").concat(r+i)),d+="L ".concat(e+c*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-o*f[3])),d+="Z"}else if(a>0&&s===+s&&s>0){var p=Math.min(a,s);d="M ".concat(e,",").concat(r+o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+c*p,",").concat(r,`
            L `).concat(e+n-c*p,",").concat(r,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+n,",").concat(r+o*p,`
            L `).concat(e+n,",").concat(r+i-o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+n-c*p,",").concat(r+i,`
            L `).concat(e+c*p,",").concat(r+i,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e,",").concat(r+i-o*p," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},A1e=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,s=r.x,a=r.y,o=r.width,c=r.height;if(Math.abs(o)>0&&Math.abs(c)>0){var u=Math.min(s,s+o),d=Math.max(s,s+o),f=Math.min(a,a+c),h=Math.max(a,a+c);return n>=u&&n<=d&&i>=f&&i<=h}return!1},_1e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},d_=function(e){var r=Sk(Sk({},_1e),e),n=E.useRef(),i=E.useState(-1),s=v1e(i,2),a=s[0],o=s[1];E.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&o(S)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,p=r.animationEasing,g=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=Ke("recharts-rectangle",m);return x?L.createElement(ms,{canBegin:a>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:p,isActive:x},function(S){var w=S.width,T=S.height,A=S.x,_=S.y;return L.createElement(ms,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:y,easing:p},L.createElement("path",wv({},De(r,!0),{className:b,d:Ek(A,_,w,T,h),ref:n})))}):L.createElement("path",wv({},De(r,!0),{className:b,d:Ek(c,u,d,f,h)}))},P1e=["points","className","baseLinePoints","connectNulls"];function wc(){return wc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wc.apply(this,arguments)}function N1e(t,e){if(t==null)return{};var r=C1e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function C1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Tk(t){return k1e(t)||I1e(t)||O1e(t)||j1e()}function j1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O1e(t,e){if(t){if(typeof t=="string")return w1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w1(t,e)}}function I1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function k1e(t){if(Array.isArray(t))return w1(t)}function w1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Ak=function(e){return e&&e.x===+e.x&&e.y===+e.y},R1e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){Ak(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),Ak(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Sf=function(e,r){var n=R1e(e);r&&(n=[n.reduce(function(s,a){return[].concat(Tk(s),Tk(a))},[])]);var i=n.map(function(s){return s.reduce(function(a,o,c){return"".concat(a).concat(c===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},L1e=function(e,r,n){var i=Sf(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Sf(r.reverse(),n).slice(1))},D1e=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,s=e.connectNulls,a=N1e(e,P1e);if(!r||!r.length)return null;var o=Ke("recharts-polygon",n);if(i&&i.length){var c=a.stroke&&a.stroke!=="none",u=L1e(r,i,s);return L.createElement("g",{className:o},L.createElement("path",wc({},De(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:u})),c?L.createElement("path",wc({},De(a,!0),{fill:"none",d:Sf(r,s)})):null,c?L.createElement("path",wc({},De(a,!0),{fill:"none",d:Sf(i,s)})):null)}var d=Sf(r,s);return L.createElement("path",wc({},De(a,!0),{fill:d.slice(-1)==="Z"?a.fill:"none",className:o,d}))};function S1(){return S1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},S1.apply(this,arguments)}var g0=function(e){var r=e.cx,n=e.cy,i=e.r,s=e.className,a=Ke("recharts-dot",s);return r===+r&&n===+n&&i===+i?E.createElement("circle",S1({},De(e,!1),Vg(e),{className:a,cx:r,cy:n,r:i})):null};function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}var M1e=["x","y","top","left","width","height","className"];function E1(){return E1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},E1.apply(this,arguments)}function _k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $1e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_k(Object(r),!0).forEach(function(n){F1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_k(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function F1e(t,e,r){return e=B1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function B1e(t){var e=U1e(t,"string");return Ph(e)=="symbol"?e:e+""}function U1e(t,e){if(Ph(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V1e(t,e){if(t==null)return{};var r=G1e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function G1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var H1e=function(e,r,n,i,s,a){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(a,",").concat(r,"h").concat(n)},z1e=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,a=e.top,o=a===void 0?0:a,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,h=e.height,m=h===void 0?0:h,p=e.className,g=V1e(e,M1e),v=$1e({x:n,y:s,top:o,left:u,width:f,height:m},g);return!se(n)||!se(s)||!se(f)||!se(m)||!se(o)||!se(u)?null:L.createElement("path",E1({},De(v,!0),{className:Ke("recharts-cross",p),d:H1e(n,s,f,m,o,u)}))},W1e=d0,K1e=f6,q1e=ys;function Y1e(t,e){return t&&t.length?W1e(t,q1e(e),K1e):void 0}var X1e=Y1e;const Q1e=pt(X1e);var Z1e=d0,J1e=ys,eEe=h6;function tEe(t,e){return t&&t.length?Z1e(t,J1e(e),eEe):void 0}var rEe=tEe;const nEe=pt(rEe);var iEe=["cx","cy","angle","ticks","axisLine"],sEe=["ticks","tick","angle","tickFormatter","stroke"];function Ou(t){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ou(t)}function Ef(){return Ef=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ef.apply(this,arguments)}function Pk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Co(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(r),!0).forEach(function(n){v0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nk(t,e){if(t==null)return{};var r=aEe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aEe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function oEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ck(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r5(n.key),n)}}function lEe(t,e,r){return e&&Ck(t.prototype,e),r&&Ck(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function cEe(t,e,r){return e=Sv(e),uEe(t,t5()?Reflect.construct(e,r||[],Sv(t).constructor):e.apply(t,r))}function uEe(t,e){if(e&&(Ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dEe(t)}function dEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t5=function(){return!!t})()}function Sv(t){return Sv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sv(t)}function fEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T1(t,e)}function T1(t,e){return T1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},T1(t,e)}function v0(t,e,r){return e=r5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r5(t){var e=hEe(t,"string");return Ou(e)=="symbol"?e:e+""}function hEe(t,e){if(Ou(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var y0=function(t){function e(){return oEe(this,e),cEe(this,e,arguments)}return fEe(e,t),lEe(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,s=this.props,a=s.angle,o=s.cx,c=s.cy;return Ot(o,c,i,a)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,s=n.cy,a=n.angle,o=n.ticks,c=Q1e(o,function(d){return d.coordinate||0}),u=nEe(o,function(d){return d.coordinate||0});return{cx:i,cy:s,startAngle:a,endAngle:a,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,a=n.angle,o=n.ticks,c=n.axisLine,u=Nk(n,iEe),d=o.reduce(function(p,g){return[Math.min(p[0],g.coordinate),Math.max(p[1],g.coordinate)]},[1/0,-1/0]),f=Ot(i,s,d[0],a),h=Ot(i,s,d[1],a),m=Co(Co(Co({},De(u,!1)),{},{fill:"none"},De(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return L.createElement("line",Ef({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,a=i.tick,o=i.angle,c=i.tickFormatter,u=i.stroke,d=Nk(i,sEe),f=this.getTickTextAnchor(),h=De(d,!1),m=De(a,!1),p=s.map(function(g,v){var y=n.getTickValueCoord(g),x=Co(Co(Co(Co({textAnchor:f,transform:"rotate(".concat(90-o,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:v},y),{},{payload:g});return L.createElement(st,Ef({className:Ke("recharts-polar-radius-axis-tick",U6(a)),key:"tick-".concat(g.coordinate)},jl(n.props,g,v)),e.renderTickItem(a,x,c?c(g.value,v):g.value))});return L.createElement(st,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.axisLine,a=n.tick;return!i||!i.length?null:L.createElement(st,{className:Ke("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),a&&this.renderTicks(),Or.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,s){var a;return L.isValidElement(n)?a=L.cloneElement(n,i):Be(n)?a=n(i):a=L.createElement(Ol,Ef({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),a}}])}(E.PureComponent);v0(y0,"displayName","PolarRadiusAxis");v0(y0,"axisType","radiusAxis");v0(y0,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Iu(t){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iu(t)}function $o(){return $o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$o.apply(this,arguments)}function jk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jk(Object(r),!0).forEach(function(n){x0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ok(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i5(n.key),n)}}function pEe(t,e,r){return e&&Ok(t.prototype,e),r&&Ok(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gEe(t,e,r){return e=Ev(e),vEe(t,n5()?Reflect.construct(e,r||[],Ev(t).constructor):e.apply(t,r))}function vEe(t,e){if(e&&(Iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yEe(t)}function yEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n5=function(){return!!t})()}function Ev(t){return Ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ev(t)}function xEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A1(t,e)}function A1(t,e){return A1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},A1(t,e)}function x0(t,e,r){return e=i5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i5(t){var e=bEe(t,"string");return Iu(e)=="symbol"?e:e+""}function bEe(t,e){if(Iu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wEe=Math.PI/180,Ik=1e-5,b0=function(t){function e(){return mEe(this,e),gEe(this,e,arguments)}return xEe(e,t),pEe(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.cx,a=i.cy,o=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=Ot(s,a,o,n.coordinate),h=Ot(s,a,o+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,s=Math.cos(-n.coordinate*wEe),a;return s>Ik?a=i==="outer"?"start":"end":s<-Ik?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,a=n.radius,o=n.axisLine,c=n.axisLineType,u=jo(jo({},De(this.props,!1)),{},{fill:"none"},De(o,!1));if(c==="circle")return L.createElement(g0,$o({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:s,r:a}));var d=this.props.ticks,f=d.map(function(h){return Ot(i,s,a,h.coordinate)});return L.createElement(D1e,$o({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,a=i.tick,o=i.tickLine,c=i.tickFormatter,u=i.stroke,d=De(this.props,!1),f=De(a,!1),h=jo(jo({},d),{},{fill:"none"},De(o,!1)),m=s.map(function(p,g){var v=n.getTickLineCoord(p),y=n.getTickTextAnchor(p),x=jo(jo(jo({textAnchor:y},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:p,x:v.x2,y:v.y2});return L.createElement(st,$o({className:Ke("recharts-polar-angle-axis-tick",U6(a)),key:"tick-".concat(p.coordinate)},jl(n.props,p,g)),o&&L.createElement("line",$o({className:"recharts-polar-angle-axis-tick-line"},h,v)),a&&e.renderTickItem(a,x,c?c(p.value,g):p.value))});return L.createElement(st,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.radius,a=n.axisLine;return s<=0||!i||!i.length?null:L.createElement(st,{className:Ke("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,s){var a;return L.isValidElement(n)?a=L.cloneElement(n,i):Be(n)?a=n(i):a=L.createElement(Ol,$o({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),a}}])}(E.PureComponent);x0(b0,"displayName","PolarAngleAxis");x0(b0,"axisType","angleAxis");x0(b0,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var SEe=lU,EEe=SEe(Object.getPrototypeOf,Object),TEe=EEe,AEe=la,_Ee=TEe,PEe=ca,NEe="[object Object]",CEe=Function.prototype,jEe=Object.prototype,s5=CEe.toString,OEe=jEe.hasOwnProperty,IEe=s5.call(Object);function kEe(t){if(!PEe(t)||AEe(t)!=NEe)return!1;var e=_Ee(t);if(e===null)return!0;var r=OEe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&s5.call(r)==IEe}var REe=kEe;const LEe=pt(REe);var DEe=la,MEe=ca,$Ee="[object Boolean]";function FEe(t){return t===!0||t===!1||MEe(t)&&DEe(t)==$Ee}var BEe=FEe;const UEe=pt(BEe);function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function Tv(){return Tv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tv.apply(this,arguments)}function VEe(t,e){return WEe(t)||zEe(t,e)||HEe(t,e)||GEe()}function GEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HEe(t,e){if(t){if(typeof t=="string")return kk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kk(t,e)}}function kk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zEe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function WEe(t){if(Array.isArray(t))return t}function Rk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Rk(Object(r),!0).forEach(function(n){KEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KEe(t,e,r){return e=qEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qEe(t){var e=YEe(t,"string");return Nh(e)=="symbol"?e:e+""}function YEe(t,e){if(Nh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dk=function(e,r,n,i,s){var a=n-i,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-a/2,",").concat(r+s),o+="L ".concat(e+n-a/2-i,",").concat(r+s),o+="L ".concat(e,",").concat(r," Z"),o},XEe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},QEe=function(e){var r=Lk(Lk({},XEe),e),n=E.useRef(),i=E.useState(-1),s=VEe(i,2),a=s[0],o=s[1];E.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&o(b)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,p=r.animationEasing,g=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=Ke("recharts-trapezoid",m);return y?L.createElement(ms,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:g,animationEasing:p,isActive:y},function(b){var S=b.upperWidth,w=b.lowerWidth,T=b.height,A=b.x,_=b.y;return L.createElement(ms,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:p},L.createElement("path",Tv({},De(r,!0),{className:x,d:Dk(A,_,S,w,T),ref:n})))}):L.createElement("g",null,L.createElement("path",Tv({},De(r,!0),{className:x,d:Dk(c,u,d,f,h)})))},ZEe=["option","shapeType","propTransformer","activeClassName","isActive"];function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function JEe(t,e){if(t==null)return{};var r=eTe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Mk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Av(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Mk(Object(r),!0).forEach(function(n){tTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Mk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tTe(t,e,r){return e=rTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rTe(t){var e=nTe(t,"string");return Ch(e)=="symbol"?e:e+""}function nTe(t,e){if(Ch(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iTe(t,e){return Av(Av({},e),t)}function sTe(t,e){return t==="symbols"}function $k(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return L.createElement(d_,r);case"trapezoid":return L.createElement(QEe,r);case"sector":return L.createElement(H6,r);case"symbols":if(sTe(e))return L.createElement(jA,r);break;default:return null}}function aTe(t){return E.isValidElement(t)?t.props:t}function a5(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?iTe:n,s=t.activeClassName,a=s===void 0?"recharts-active-shape":s,o=t.isActive,c=JEe(t,ZEe),u;if(E.isValidElement(e))u=E.cloneElement(e,Av(Av({},c),aTe(e)));else if(Be(e))u=e(c);else if(LEe(e)&&!UEe(e)){var d=i(e,c);u=L.createElement($k,{shapeType:r,elementProps:d})}else{var f=c;u=L.createElement($k,{shapeType:r,elementProps:f})}return o?L.createElement(st,{className:a},u):u}function w0(t,e){return e!=null&&"trapezoids"in t.props}function S0(t,e){return e!=null&&"sectors"in t.props}function jh(t,e){return e!=null&&"points"in t.props}function oTe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&s}function lTe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function cTe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function uTe(t,e){var r;return w0(t,e)?r=oTe:S0(t,e)?r=lTe:jh(t,e)&&(r=cTe),r}function dTe(t,e){var r;return w0(t,e)?r="trapezoids":S0(t,e)?r="sectors":jh(t,e)&&(r="points"),r}function fTe(t,e){if(w0(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(S0(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return jh(t,e)?e.payload:{}}function hTe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=dTe(r,e),s=fTe(r,e),a=n.filter(function(c,u){var d=Nu(s,c),f=r.props[i].filter(function(p){var g=uTe(r,e);return g(p,e)}),h=r.props[i].indexOf(f[f.length-1]),m=u===h;return d&&m}),o=n.indexOf(a[a.length-1]);return o}var Mp;function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}function Sc(){return Sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sc.apply(this,arguments)}function Fk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _t(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Fk(Object(r),!0).forEach(function(n){ri(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l5(n.key),n)}}function pTe(t,e,r){return e&&Bk(t.prototype,e),r&&Bk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gTe(t,e,r){return e=_v(e),vTe(t,o5()?Reflect.construct(e,r||[],_v(t).constructor):e.apply(t,r))}function vTe(t,e){if(e&&(ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yTe(t)}function yTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o5=function(){return!!t})()}function _v(t){return _v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_v(t)}function xTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_1(t,e)}function _1(t,e){return _1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_1(t,e)}function ri(t,e,r){return e=l5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l5(t){var e=bTe(t,"string");return ku(e)=="symbol"?e:e+""}function bTe(t,e){if(ku(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xs=function(t){function e(r){var n;return mTe(this,e),n=gTe(this,e,[r]),ri(n,"pieRef",null),ri(n,"sectorRefs",[]),ri(n,"id",ud("recharts-pie-")),ri(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Be(i)&&i()}),ri(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Be(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return xTe(e,t),pTe(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.label,o=s.labelLine,c=s.dataKey,u=s.valueKey,d=De(this.props,!1),f=De(a,!1),h=De(o,!1),m=a&&a.offsetRadius||20,p=n.map(function(g,v){var y=(g.startAngle+g.endAngle)/2,x=Ot(g.cx,g.cy,g.outerRadius+m,y),b=_t(_t(_t(_t({},d),g),{},{stroke:"none"},f),{},{index:v,textAnchor:e.getTextAnchor(x.x,g.cx)},x),S=_t(_t(_t(_t({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:v,points:[Ot(g.cx,g.cy,g.outerRadius,y),x]}),w=c;return qe(c)&&qe(u)?w="value":qe(c)&&(w=u),L.createElement(st,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},o&&e.renderLabelLineItem(o,S,"line"),e.renderLabelItem(a,b,Sr(g,w)))});return L.createElement(st,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(n){var i=this,s=this.props,a=s.activeShape,o=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(d),h=c&&i.hasActiveIndex()?c:null,m=f?a:h,p=_t(_t({},u),{},{stroke:o?u.fill:u.stroke,tabIndex:-1});return L.createElement(st,Sc({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},jl(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),L.createElement(a5,Sc({option:m,isActive:f,shapeType:"sector"},p)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,s=i.sectors,a=i.isAnimationActive,o=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return L.createElement(ms,{begin:o,duration:c,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(p){var g=p.t,v=[],y=s&&s[0],x=y.startAngle;return s.forEach(function(b,S){var w=h&&h[S],T=S>0?Bn(b,"paddingAngle",0):0;if(w){var A=wn(w.endAngle-w.startAngle,b.endAngle-b.startAngle),_=_t(_t({},b),{},{startAngle:x+T,endAngle:x+A(g)+T});v.push(_),x=_.endAngle}else{var N=b.endAngle,C=b.startAngle,j=wn(0,N-C),O=j(g),R=_t(_t({},b),{},{startAngle:x+T,endAngle:x+O+T});v.push(R),x=R.endAngle}}),L.createElement(st,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,s=n.isAnimationActive,a=this.state.prevSectors;return s&&i&&i.length&&(!a||!Nu(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,s=i.hide,a=i.sectors,o=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,m=i.isAnimationActive,p=this.state.isAnimationFinished;if(s||!a||!a.length||!se(u)||!se(d)||!se(f)||!se(h))return null;var g=Ke("recharts-pie",o);return L.createElement(st,{tabIndex:this.props.rootTabIndex,className:g,ref:function(y){n.pieRef=y}},this.renderSectors(),c&&this.renderLabels(a),Or.renderCallByParent(this.props,null,!1),(!m||p)&&Ws.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,s){if(L.isValidElement(n))return L.cloneElement(n,i);if(Be(n))return n(i);var a=Ke("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return L.createElement(Uc,Sc({},i,{key:s,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(n,i,s){if(L.isValidElement(n))return L.cloneElement(n,i);var a=s;if(Be(n)&&(a=n(i),L.isValidElement(a)))return a;var o=Ke("recharts-pie-label-text",typeof n!="boolean"&&!Be(n)?n.className:"");return L.createElement(Ol,Sc({},i,{alignmentBaseline:"middle",className:o}),a)}}])}(E.PureComponent);Mp=xs;ri(xs,"displayName","Pie");ri(xs,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Vl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ri(xs,"parseDeltaAngle",function(t,e){var r=on(e-t),n=Math.min(Math.abs(e-t),360);return r*n});ri(xs,"getRealPieData",function(t){var e=t.data,r=t.children,n=De(t,!1),i=oi(r,rm);return e&&e.length?e.map(function(s,a){return _t(_t(_t({payload:s},n),s),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(s){return _t(_t({},n),s.props)}):[]});ri(xs,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,s=e.height,a=B6(i,s),o=n+ln(t.cx,i,i/2),c=r+ln(t.cy,s,s/2),u=ln(t.innerRadius,a,0),d=ln(t.outerRadius,a,a*.8),f=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:o,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});ri(xs,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?_t(_t({},e.type.defaultProps),e.props):e.props,i=Mp.getRealPieData(n);if(!i||!i.length)return null;var s=n.cornerRadius,a=n.startAngle,o=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),p=Mp.parseCoordinateOfPie(n,r),g=Mp.parseDeltaAngle(a,o),v=Math.abs(g),y=u;qe(u)&&qe(f)?(Ri(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):qe(u)&&(Ri(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var x=i.filter(function(_){return Sr(_,y,0)!==0}).length,b=(v>=360?x:x-1)*c,S=v-x*m-b,w=i.reduce(function(_,N){var C=Sr(N,y,0);return _+(se(C)?C:0)},0),T;if(w>0){var A;T=i.map(function(_,N){var C=Sr(_,y,0),j=Sr(_,d,N),O=(se(C)?C:0)/w,R;N?R=A.endAngle+on(g)*c*(C!==0?1:0):R=a;var k=R+on(g)*((C!==0?m:0)+O*S),M=(R+k)/2,D=(p.innerRadius+p.outerRadius)/2,U=[{name:j,value:C,payload:_,dataKey:y,type:h}],I=Ot(p.cx,p.cy,D,M);return A=_t(_t(_t({percent:O,cornerRadius:s,name:j,tooltipPayload:U,midAngle:M,middleRadius:D,tooltipPosition:I},_),p),{},{value:Sr(_,y),startAngle:R,endAngle:k,payload:_,paddingAngle:on(g)*c}),A})}return _t(_t({},p),{},{sectors:T,data:i})});var wTe=Math.ceil,STe=Math.max;function ETe(t,e,r,n){for(var i=-1,s=STe(wTe((e-t)/(r||1)),0),a=Array(s);s--;)a[n?s:++i]=t,t+=r;return a}var TTe=ETe,ATe=PU,Uk=1/0,_Te=17976931348623157e292;function PTe(t){if(!t)return t===0?t:0;if(t=ATe(t),t===Uk||t===-Uk){var e=t<0?-1:1;return e*_Te}return t===t?t:0}var c5=PTe,NTe=TTe,CTe=i0,pb=c5;function jTe(t){return function(e,r,n){return n&&typeof n!="number"&&CTe(e,r,n)&&(r=n=void 0),e=pb(e),r===void 0?(r=e,e=0):r=pb(r),n=n===void 0?e<r?1:-1:pb(n),NTe(e,r,n,t)}}var OTe=jTe,ITe=OTe,kTe=ITe(),RTe=kTe;const Pv=pt(RTe);function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function Vk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Vk(Object(r),!0).forEach(function(n){u5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u5(t,e,r){return e=LTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LTe(t){var e=DTe(t,"string");return Oh(e)=="symbol"?e:e+""}function DTe(t,e){if(Oh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MTe=["Webkit","Moz","O","ms"],$Te=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=MTe.reduce(function(s,a){return Gk(Gk({},s),{},u5({},a+n,r))},{});return i[e]=r,i};function Ru(t){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ru(t)}function Nv(){return Nv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nv.apply(this,arguments)}function Hk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Hk(Object(r),!0).forEach(function(n){Nn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f5(n.key),n)}}function BTe(t,e,r){return e&&zk(t.prototype,e),r&&zk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function UTe(t,e,r){return e=Cv(e),VTe(t,d5()?Reflect.construct(e,r||[],Cv(t).constructor):e.apply(t,r))}function VTe(t,e){if(e&&(Ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GTe(t)}function GTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d5=function(){return!!t})()}function Cv(t){return Cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cv(t)}function HTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P1(t,e)}function P1(t,e){return P1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},P1(t,e)}function Nn(t,e,r){return e=f5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f5(t){var e=zTe(t,"string");return Ru(e)=="symbol"?e:e+""}function zTe(t,e){if(Ru(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var WTe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,s=e.x,a=e.width,o=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=xf().domain(Pv(0,c)).range([s,s+a-o]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},Wk=function(e){return e.changedTouches&&!!e.changedTouches.length},Lu=function(t){function e(r){var n;return FTe(this,e),n=UTe(this,e,[r]),Nn(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Nn(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Nn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,a=i.onDragEnd,o=i.startIndex;a==null||a({endIndex:s,startIndex:o})}),n.detachDragEndListener()}),Nn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Nn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Nn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Nn(n,"handleSlideDragStart",function(i){var s=Wk(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return HTe(e,t),BTe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,a=this.state.scaleValues,o=this.props,c=o.gap,u=o.data,d=u.length-1,f=Math.min(i,s),h=Math.max(i,s),m=e.getIndexInRange(a,f),p=e.getIndexInRange(a,h);return{startIndex:m-m%c,endIndex:p===d?d:p-p%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,a=i.tickFormatter,o=i.dataKey,c=Sr(s[n],o,n);return Be(a)?a(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,a=i.startX,o=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,p=c.onChange,g=n.pageX-s;g>0?g=Math.min(g,u+d-f-o,u+d-f-a):g<0&&(g=Math.max(g,u-a,u-o));var v=this.getIndex({startX:a+g,endX:o+g});(v.startIndex!==h||v.endIndex!==m)&&p&&p(v),this.setState({startX:a+g,endX:o+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=Wk(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,o=i.endX,c=i.startX,u=this.state[a],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,p=d.onChange,g=d.gap,v=d.data,y={startX:this.state.startX,endX:this.state.endX},x=n.pageX-s;x>0?x=Math.min(x,f+h-m-u):x<0&&(x=Math.max(x,f-u)),y[a]=u+x;var b=this.getIndex(y),S=b.startIndex,w=b.endIndex,T=function(){var _=v.length-1;return a==="startX"&&(o>c?S%g===0:w%g===0)||o<c&&w===_||a==="endX"&&(o>c?w%g===0:S%g===0)||o>c&&w===_};this.setState(Nn(Nn({},a,u+x),"brushMoveStartX",n.pageX),function(){p&&T()&&p(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,a=this.state,o=a.scaleValues,c=a.startX,u=a.endX,d=this.state[i],f=o.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=o.length)){var m=o[h];i==="startX"&&m>=u||i==="endX"&&m<=c||this.setState(Nn({},i,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,o=n.height,c=n.fill,u=n.stroke;return L.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:a,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,o=n.height,c=n.data,u=n.children,d=n.padding,f=E.Children.only(u);return f?L.cloneElement(f,{x:i,y:s,width:a,height:o,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,a,o=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,p=c.data,g=c.startIndex,v=c.endIndex,y=Math.max(n,this.props.x),x=gb(gb({},De(this.props,!1)),{},{x:y,y:u,width:d,height:f}),b=m||"Min value: ".concat((s=p[g])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=p[v])===null||a===void 0?void 0:a.name);return L.createElement(st,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),o.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,i){var s=this.props,a=s.y,o=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return L.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:a,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,a=n.y,o=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,p={pointerEvents:"none",fill:u};return L.createElement(st,{className:"recharts-brush-texts"},L.createElement(Ol,Nv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:a+o/2},p),this.getTextOfTick(i)),L.createElement(Ol,Nv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:a+o/2},p),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,a=n.children,o=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,p=h.endX,g=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!se(o)||!se(c)||!se(u)||!se(d)||u<=0||d<=0)return null;var b=Ke("recharts-brush",s),S=L.Children.count(a)===1,w=$Te("userSelect","none");return L.createElement(st,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(m,p),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(p,"endX"),(g||v||y||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,a=n.width,o=n.height,c=n.stroke,u=Math.floor(s+o/2)-1;return L.createElement(L.Fragment,null,L.createElement("rect",{x:i,y:s,width:a,height:o,fill:c,stroke:"none"}),L.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),L.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return L.isValidElement(n)?s=L.cloneElement(n,i):Be(n)?s=n(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,a=n.width,o=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return gb({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:a},s&&s.length?WTe({data:s,width:a,x:o,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||o!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([o,o+a-c]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:a,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,a=0,o=s-1;o-a>1;){var c=Math.floor((a+o)/2);n[c]>i?o=c:a=c}return i>=n[o]?o:a}}])}(E.PureComponent);Nn(Lu,"displayName","Brush");Nn(Lu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var KTe=MA;function qTe(t,e){var r;return KTe(t,function(n,i,s){return r=e(n,i,s),!r}),!!r}var YTe=qTe,XTe=eU,QTe=ys,ZTe=YTe,JTe=Pn,eAe=i0;function tAe(t,e,r){var n=JTe(t)?XTe:ZTe;return r&&eAe(t,e,r)&&(e=void 0),n(t,QTe(e))}var rAe=tAe;const nAe=pt(rAe);var cs=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},Kk=SU;function iAe(t,e,r){e=="__proto__"&&Kk?Kk(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var sAe=iAe,aAe=sAe,oAe=bU,lAe=ys;function cAe(t,e){var r={};return e=lAe(e),oAe(t,function(n,i,s){aAe(r,i,e(n,i,s))}),r}var uAe=cAe;const dAe=pt(uAe);function fAe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var hAe=fAe,mAe=MA;function pAe(t,e){var r=!0;return mAe(t,function(n,i,s){return r=!!e(n,i,s),r}),r}var gAe=pAe,vAe=hAe,yAe=gAe,xAe=ys,bAe=Pn,wAe=i0;function SAe(t,e,r){var n=bAe(t)?vAe:yAe;return r&&wAe(t,e,r)&&(e=void 0),n(t,xAe(e))}var EAe=SAe;const h5=pt(EAe);var TAe=["x","y"];function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function N1(){return N1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},N1.apply(this,arguments)}function qk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qk(Object(r),!0).forEach(function(n){AAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AAe(t,e,r){return e=_Ae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Ae(t){var e=PAe(t,"string");return Ih(e)=="symbol"?e:e+""}function PAe(t,e){if(Ih(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NAe(t,e){if(t==null)return{};var r=CAe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function CAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jAe(t,e){var r=t.x,n=t.y,i=NAe(t,TAe),s="".concat(r),a=parseInt(s,10),o="".concat(n),c=parseInt(o,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Bd(Bd(Bd(Bd(Bd({},e),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function Yk(t){return L.createElement(a5,N1({shapeType:"rectangle",propTransformer:jAe,activeClassName:"recharts-active-bar"},t))}var OAe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var s=se(n)||rae(n);return s?e(n,i):(s||kl(),r)}},IAe=["value","background"],m5;function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function kAe(t,e){if(t==null)return{};var r=RAe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jv(){return jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jv.apply(this,arguments)}function Xk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xk(Object(r),!0).forEach(function(n){Va(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g5(n.key),n)}}function DAe(t,e,r){return e&&Qk(t.prototype,e),r&&Qk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function MAe(t,e,r){return e=Ov(e),$Ae(t,p5()?Reflect.construct(e,r||[],Ov(t).constructor):e.apply(t,r))}function $Ae(t,e){if(e&&(Du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FAe(t)}function FAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p5=function(){return!!t})()}function Ov(t){return Ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ov(t)}function BAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C1(t,e)}function C1(t,e){return C1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},C1(t,e)}function Va(t,e,r){return e=g5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g5(t){var e=UAe(t,"string");return Du(e)=="symbol"?e:e+""}function UAe(t,e){if(Du(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ao=function(t){function e(){var r;LAe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=MAe(this,e,[].concat(i)),Va(r,"state",{isAnimationFinished:!1}),Va(r,"id",ud("recharts-bar-")),Va(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),a&&a()}),Va(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),a&&a()}),r}return BAe(e,t),DAe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,a=s.shape,o=s.dataKey,c=s.activeIndex,u=s.activeBar,d=De(this.props,!1);return n&&n.map(function(f,h){var m=h===c,p=m?u:a,g=lr(lr(lr({},d),f),{},{isActive:m,option:p,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return L.createElement(st,jv({className:"recharts-bar-rectangle"},jl(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),L.createElement(Yk,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,a=i.layout,o=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return L.createElement(ms,{begin:c,duration:u,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var p=m.t,g=s.map(function(v,y){var x=h&&h[y];if(x){var b=wn(x.x,v.x),S=wn(x.y,v.y),w=wn(x.width,v.width),T=wn(x.height,v.height);return lr(lr({},v),{},{x:b(p),y:S(p),width:w(p),height:T(p)})}if(a==="horizontal"){var A=wn(0,v.height),_=A(p);return lr(lr({},v),{},{y:v.y+v.height-_,height:_})}var N=wn(0,v.width),C=N(p);return lr(lr({},v),{},{width:C})});return L.createElement(st,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,a=this.state.prevData;return s&&i&&i.length&&(!a||!Nu(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,a=i.dataKey,o=i.activeIndex,c=De(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=kAe(u,IAe);if(!f)return null;var m=lr(lr(lr(lr(lr({},h),{},{fill:"#eee"},f),c),jl(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:a,index:d,className:"recharts-bar-background-rectangle"});return L.createElement(Yk,jv({key:"background-bar-".concat(d),option:n.props.background,isActive:d===o},m))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,o=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=oi(d,p0);if(!f)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,m=function(v,y){var x=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:x,errorVal:Sr(v,y)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return L.createElement(st,p,f.map(function(g){return L.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:a,xAxis:o,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,a=n.className,o=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,p=n.background,g=n.id;if(i||!s||!s.length)return null;var v=this.state.isAnimationFinished,y=Ke("recharts-bar",a),x=o&&o.allowDataOverflow,b=c&&c.allowDataOverflow,S=x||b,w=qe(g)?this.id:g;return L.createElement(st,{className:y},x||b?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(w)},L.createElement("rect",{x:x?u:u-f/2,y:b?d:d-h/2,width:x?f:f*2,height:b?h:h*2}))):null,L.createElement(st,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(w,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,w),(!m||v)&&Ws.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(E.PureComponent);m5=Ao;Va(Ao,"displayName","Bar");Va(Ao,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Vl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Va(Ao,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,s=t.xAxis,a=t.yAxis,o=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,m=wbe(n,r);if(!m)return null;var p=e.layout,g=r.type.defaultProps,v=g!==void 0?lr(lr({},g),r.props):r.props,y=v.dataKey,x=v.children,b=v.minPointSize,S=p==="horizontal"?a:s,w=u?S.scale.domain():null,T=Nbe({numericAxis:S}),A=oi(x,rm),_=f.map(function(N,C){var j,O,R,k,M,D;u?j=Sbe(u[d+C],w):(j=Sr(N,y),Array.isArray(j)||(j=[T,j]));var U=OAe(b,m5.defaultProps.minPointSize)(j[1],C);if(p==="horizontal"){var I,F=[a.scale(j[0]),a.scale(j[1])],H=F[0],G=F[1];O=BI({axis:s,ticks:o,bandSize:i,offset:m.offset,entry:N,index:C}),R=(I=G??H)!==null&&I!==void 0?I:void 0,k=m.size;var V=H-G;if(M=Number.isNaN(V)?0:V,D={x:O,y:a.y,width:k,height:a.height},Math.abs(U)>0&&Math.abs(M)<Math.abs(U)){var ne=on(M||U)*(Math.abs(U)-Math.abs(M));R-=ne,M+=ne}}else{var ce=[s.scale(j[0]),s.scale(j[1])],Se=ce[0],J=ce[1];if(O=Se,R=BI({axis:a,ticks:c,bandSize:i,offset:m.offset,entry:N,index:C}),k=J-Se,M=m.size,D={x:s.x,y:R,width:s.width,height:M},Math.abs(U)>0&&Math.abs(k)<Math.abs(U)){var re=on(k||U)*(Math.abs(U)-Math.abs(k));k+=re}}return lr(lr(lr({},N),{},{x:O,y:R,width:k,height:M,value:u?j:j[1],payload:N,background:D},A&&A[C]&&A[C].props),{},{tooltipPayload:[$6(r,N)],tooltipPosition:{x:O+k/2,y:R+M/2}})});return lr({data:_,layout:p},h)});function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function VAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v5(n.key),n)}}function GAe(t,e,r){return e&&Zk(t.prototype,e),r&&Zk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _i(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jk(Object(r),!0).forEach(function(n){E0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function E0(t,e,r){return e=v5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v5(t){var e=HAe(t,"string");return kh(e)=="symbol"?e:e+""}function HAe(t,e){if(kh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y5=function(e,r,n,i,s){var a=e.width,o=e.height,c=e.layout,u=e.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:a-n.right,rightMirror:a-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!jn(u,Ao);return d.reduce(function(m,p){var g=r[p],v=g.orientation,y=g.domain,x=g.padding,b=x===void 0?{}:x,S=g.mirror,w=g.reversed,T="".concat(v).concat(S?"Mirror":""),A,_,N,C,j;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var O=y[1]-y[0],R=1/0,k=g.categoricalDomain.sort(sae);if(k.forEach(function(ce,Se){Se>0&&(R=Math.min((ce||0)-(k[Se-1]||0),R))}),Number.isFinite(R)){var M=R/O,D=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(A=M*D/2),g.padding==="no-gap"){var U=ln(e.barCategoryGap,M*D),I=M*D/2;A=I-U-(I-U)/D*U}}}i==="xAxis"?_=[n.left+(b.left||0)+(A||0),n.left+n.width-(b.right||0)-(A||0)]:i==="yAxis"?_=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(A||0),n.top+n.height-(b.bottom||0)-(A||0)]:_=g.range,w&&(_=[_[1],_[0]]);var F=R6(g,s,h),H=F.scale,G=F.realScaleType;H.domain(y).range(_),L6(H);var V=D6(H,_i(_i({},g),{},{realScaleType:G}));i==="xAxis"?(j=v==="top"&&!S||v==="bottom"&&S,N=n.left,C=f[T]-j*g.height):i==="yAxis"&&(j=v==="left"&&!S||v==="right"&&S,N=f[T]-j*g.width,C=n.top);var ne=_i(_i(_i({},g),V),{},{realScaleType:G,x:N,y:C,scale:H,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return ne.bandSize=pv(ne,V),!g.hide&&i==="xAxis"?f[T]+=(j?-1:1)*ne.height:g.hide||(f[T]+=(j?-1:1)*ne.width),_i(_i({},m),{},E0({},p,ne))},{})},x5=function(e,r){var n=e.x,i=e.y,s=r.x,a=r.y;return{x:Math.min(n,s),y:Math.min(i,a),width:Math.abs(s-n),height:Math.abs(a-i)}},zAe=function(e){var r=e.x1,n=e.y1,i=e.x2,s=e.y2;return x5({x:r,y:n},{x:i,y:s})},b5=function(){function t(e){VAe(this,t),this.scale=e}return GAe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();E0(b5,"EPS",1e-4);var f_=function(e){var r=Object.keys(e).reduce(function(n,i){return _i(_i({},n),{},E0({},i,b5.create(e[i])))},{});return _i(_i({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,o=s.position;return dAe(i,function(c,u){return r[u].apply(c,{bandAware:a,position:o})})},isInRange:function(i){return h5(i,function(s,a){return r[a].isInRange(s)})}})};function WAe(t){return(t%180+180)%180}var KAe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=WAe(i),a=s*Math.PI/180,o=Math.atan(n/r),c=a>o&&a<Math.PI-o?n/Math.sin(a):r/Math.cos(a);return Math.abs(c)},qAe=ys,YAe=tm,XAe=r0;function QAe(t){return function(e,r,n){var i=Object(e);if(!YAe(e)){var s=qAe(r);e=XAe(e),r=function(o){return s(i[o],o,i)}}var a=t(e,r,n);return a>-1?i[s?e[a]:a]:void 0}}var ZAe=QAe,JAe=c5;function e_e(t){var e=JAe(t),r=e%1;return e===e?r?e-r:e:0}var t_e=e_e,r_e=mU,n_e=ys,i_e=t_e,s_e=Math.max;function a_e(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:i_e(r);return i<0&&(i=s_e(n+i,0)),r_e(t,n_e(e),i)}var o_e=a_e,l_e=ZAe,c_e=o_e,u_e=l_e(c_e),d_e=u_e;const f_e=pt(d_e);var h_e=lse(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),h_=E.createContext(void 0),m_=E.createContext(void 0),w5=E.createContext(void 0),S5=E.createContext({}),E5=E.createContext(void 0),T5=E.createContext(0),A5=E.createContext(0),eR=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,a=e.clipPathId,o=e.children,c=e.width,u=e.height,d=h_e(s);return L.createElement(h_.Provider,{value:n},L.createElement(m_.Provider,{value:i},L.createElement(S5.Provider,{value:s},L.createElement(w5.Provider,{value:d},L.createElement(E5.Provider,{value:a},L.createElement(T5.Provider,{value:u},L.createElement(A5.Provider,{value:c},o)))))))},m_e=function(){return E.useContext(E5)},_5=function(e){var r=E.useContext(h_);r==null&&kl();var n=r[e];return n==null&&kl(),n},p_e=function(){var e=E.useContext(h_);return Pa(e)},g_e=function(){var e=E.useContext(m_),r=f_e(e,function(n){return h5(n.domain,Number.isFinite)});return r||Pa(e)},P5=function(e){var r=E.useContext(m_);r==null&&kl();var n=r[e];return n==null&&kl(),n},v_e=function(){var e=E.useContext(w5);return e},y_e=function(){return E.useContext(S5)},p_=function(){return E.useContext(A5)},g_=function(){return E.useContext(T5)};function Mu(t){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mu(t)}function x_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,C5(n.key),n)}}function w_e(t,e,r){return e&&b_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function S_e(t,e,r){return e=Iv(e),E_e(t,N5()?Reflect.construct(e,r||[],Iv(t).constructor):e.apply(t,r))}function E_e(t,e){if(e&&(Mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T_e(t)}function T_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N5=function(){return!!t})()}function Iv(t){return Iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iv(t)}function A_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j1(t,e)}function j1(t,e){return j1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},j1(t,e)}function tR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(r),!0).forEach(function(n){v_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function v_(t,e,r){return e=C5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C5(t){var e=__e(t,"string");return Mu(e)=="symbol"?e:e+""}function __e(t,e){if(Mu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function P_e(t,e){return O_e(t)||j_e(t,e)||C_e(t,e)||N_e()}function N_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C_e(t,e){if(t){if(typeof t=="string")return nR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nR(t,e)}}function nR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function j_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function O_e(t){if(Array.isArray(t))return t}function O1(){return O1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},O1.apply(this,arguments)}var I_e=function(e,r){var n;return L.isValidElement(e)?n=L.cloneElement(e,r):Be(e)?n=e(r):n=L.createElement("line",O1({},r,{className:"recharts-reference-line-line"})),n},k_e=function(e,r,n,i,s,a,o,c,u){var d=s.x,f=s.y,h=s.width,m=s.height;if(n){var p=u.y,g=e.y.apply(p,{position:a});if(cs(u,"discard")&&!e.y.isInRange(g))return null;var v=[{x:d+h,y:g},{x:d,y:g}];return c==="left"?v.reverse():v}if(r){var y=u.x,x=e.x.apply(y,{position:a});if(cs(u,"discard")&&!e.x.isInRange(x))return null;var b=[{x,y:f+m},{x,y:f}];return o==="top"?b.reverse():b}if(i){var S=u.segment,w=S.map(function(T){return e.apply(T,{position:a})});return cs(u,"discard")&&nAe(w,function(T){return!e.isInRange(T)})?null:w}return null};function R_e(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,s=t.yAxisId,a=t.shape,o=t.className,c=t.alwaysShow,u=m_e(),d=_5(i),f=P5(s),h=v_e();if(!u||!h)return null;Ri(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=f_({x:d.scale,y:f.scale}),p=Tr(e),g=Tr(r),v=n&&n.length===2,y=k_e(m,p,g,v,h,t.position,d.orientation,f.orientation,t);if(!y)return null;var x=P_e(y,2),b=x[0],S=b.x,w=b.y,T=x[1],A=T.x,_=T.y,N=cs(t,"hidden")?"url(#".concat(u,")"):void 0,C=rR(rR({clipPath:N},De(t,!0)),{},{x1:S,y1:w,x2:A,y2:_});return L.createElement(st,{className:Ke("recharts-reference-line",o)},I_e(a,C),Or.renderCallByParent(t,zAe({x1:S,y1:w,x2:A,y2:_})))}var y_=function(t){function e(){return x_e(this,e),S_e(this,e,arguments)}return A_e(e,t),w_e(e,[{key:"render",value:function(){return L.createElement(R_e,this.props)}}])}(L.Component);v_(y_,"displayName","ReferenceLine");v_(y_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function I1(){return I1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},I1.apply(this,arguments)}function $u(t){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$u(t)}function iR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(r),!0).forEach(function(n){T0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function L_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O5(n.key),n)}}function M_e(t,e,r){return e&&D_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $_e(t,e,r){return e=kv(e),F_e(t,j5()?Reflect.construct(e,r||[],kv(t).constructor):e.apply(t,r))}function F_e(t,e){if(e&&($u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B_e(t)}function B_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j5=function(){return!!t})()}function kv(t){return kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kv(t)}function U_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k1(t,e)}function k1(t,e){return k1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},k1(t,e)}function T0(t,e,r){return e=O5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O5(t){var e=V_e(t,"string");return $u(e)=="symbol"?e:e+""}function V_e(t,e){if($u(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var G_e=function(e){var r=e.x,n=e.y,i=e.xAxis,s=e.yAxis,a=f_({x:i.scale,y:s.scale}),o=a.apply({x:r,y:n},{bandAware:!0});return cs(e,"discard")&&!a.isInRange(o)?null:o},A0=function(t){function e(){return L_e(this,e),$_e(this,e,arguments)}return U_e(e,t),M_e(e,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,a=n.r,o=n.alwaysShow,c=n.clipPathId,u=Tr(i),d=Tr(s);if(Ri(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=G_e(this.props);if(!f)return null;var h=f.x,m=f.y,p=this.props,g=p.shape,v=p.className,y=cs(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=sR(sR({clipPath:y},De(this.props,!0)),{},{cx:h,cy:m});return L.createElement(st,{className:Ke("recharts-reference-dot",v)},e.renderDot(g,x),Or.renderCallByParent(this.props,{x:h-a,y:m-a,width:2*a,height:2*a}))}}])}(L.Component);T0(A0,"displayName","ReferenceDot");T0(A0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});T0(A0,"renderDot",function(t,e){var r;return L.isValidElement(t)?r=L.cloneElement(t,e):Be(t)?r=t(e):r=L.createElement(g0,I1({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function R1(){return R1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R1.apply(this,arguments)}function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}function aR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aR(Object(r),!0).forEach(function(n){_0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function H_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,k5(n.key),n)}}function W_e(t,e,r){return e&&z_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function K_e(t,e,r){return e=Rv(e),q_e(t,I5()?Reflect.construct(e,r||[],Rv(t).constructor):e.apply(t,r))}function q_e(t,e){if(e&&(Fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y_e(t)}function Y_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I5=function(){return!!t})()}function Rv(t){return Rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rv(t)}function X_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L1(t,e)}function L1(t,e){return L1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},L1(t,e)}function _0(t,e,r){return e=k5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k5(t){var e=Q_e(t,"string");return Fu(e)=="symbol"?e:e+""}function Q_e(t,e){if(Fu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Z_e=function(e,r,n,i,s){var a=s.x1,o=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=f_({x:d.scale,y:f.scale}),m={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},p={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return cs(s,"discard")&&(!h.isInRange(m)||!h.isInRange(p))?null:x5(m,p)},P0=function(t){function e(){return H_e(this,e),K_e(this,e,arguments)}return X_e(e,t),W_e(e,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,a=n.y1,o=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Ri(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Tr(i),h=Tr(s),m=Tr(a),p=Tr(o),g=this.props.shape;if(!f&&!h&&!m&&!p&&!g)return null;var v=Z_e(f,h,m,p,this.props);if(!v&&!g)return null;var y=cs(this.props,"hidden")?"url(#".concat(d,")"):void 0;return L.createElement(st,{className:Ke("recharts-reference-area",c)},e.renderRect(g,oR(oR({clipPath:y},De(this.props,!0)),v)),Or.renderCallByParent(this.props,v))}}])}(L.Component);_0(P0,"displayName","ReferenceArea");_0(P0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});_0(P0,"renderRect",function(t,e){var r;return L.isValidElement(t)?r=L.cloneElement(t,e):Be(t)?r=t(e):r=L.createElement(d_,R1({},e,{className:"recharts-reference-area-rect"})),r});function R5(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function J_e(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return KAe(n,r)}function ePe(t,e,r){var n=r==="width",i=t.x,s=t.y,a=t.width,o=t.height;return e===1?{start:n?i:s,end:n?i+a:s+o}:{start:n?i+a:s+o,end:n?i:s}}function Lv(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function tPe(t,e){return R5(t,e+1)}function rPe(t,e,r,n,i){for(var s=(n||[]).slice(),a=e.start,o=e.end,c=0,u=1,d=a,f=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:R5(n,u)};var g=c,v,y=function(){return v===void 0&&(v=r(p,g)),v},x=p.coordinate,b=c===0||Lv(t,x,y,d,o);b||(c=0,d=a,u+=1),b&&(d=x+t*(y()/2+i),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function lR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lR(Object(r),!0).forEach(function(n){nPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nPe(t,e,r){return e=iPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iPe(t){var e=sPe(t,"string");return Rh(e)=="symbol"?e:e+""}function sPe(t,e){if(Rh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aPe(t,e,r,n,i){for(var s=(n||[]).slice(),a=s.length,o=e.start,c=e.end,u=function(h){var m=s[h],p,g=function(){return p===void 0&&(p=r(m,h)),p};if(h===a-1){var v=t*(m.coordinate+t*g()/2-c);s[h]=m=zr(zr({},m),{},{tickCoord:v>0?m.coordinate-v*t:m.coordinate})}else s[h]=m=zr(zr({},m),{},{tickCoord:m.coordinate});var y=Lv(t,m.tickCoord,g,o,c);y&&(c=m.tickCoord-t*(g()/2+i),s[h]=zr(zr({},m),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return s}function oPe(t,e,r,n,i,s){var a=(n||[]).slice(),o=a.length,c=e.start,u=e.end;if(s){var d=n[o-1],f=r(d,o-1),h=t*(d.coordinate+t*f/2-u);a[o-1]=d=zr(zr({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var m=Lv(t,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-t*(f/2+i),a[o-1]=zr(zr({},d),{},{isShow:!0}))}for(var p=s?o-1:o,g=function(x){var b=a[x],S,w=function(){return S===void 0&&(S=r(b,x)),S};if(x===0){var T=t*(b.coordinate-t*w()/2-c);a[x]=b=zr(zr({},b),{},{tickCoord:T<0?b.coordinate-T*t:b.coordinate})}else a[x]=b=zr(zr({},b),{},{tickCoord:b.coordinate});var A=Lv(t,b.tickCoord,w,c,u);A&&(c=b.tickCoord+t*(w()/2+i),a[x]=zr(zr({},b),{},{isShow:!0}))},v=0;v<p;v++)g(v);return a}function x_(t,e,r){var n=t.tick,i=t.ticks,s=t.viewBox,a=t.minTickGap,o=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(se(c)||Vl.isSsr)return tPe(i,typeof c=="number"&&se(c)?c:0);var h=[],m=o==="top"||o==="bottom"?"width":"height",p=d&&m==="width"?yf(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},g=function(b,S){var w=Be(u)?u(b.value,S):b.value;return m==="width"?J_e(yf(w,{fontSize:e,letterSpacing:r}),p,f):yf(w,{fontSize:e,letterSpacing:r})[m]},v=i.length>=2?on(i[1].coordinate-i[0].coordinate):1,y=ePe(s,v,m);return c==="equidistantPreserveStart"?rPe(v,y,g,i,a):(c==="preserveStart"||c==="preserveStartEnd"?h=oPe(v,y,g,i,a,c==="preserveStartEnd"):h=aPe(v,y,g,i,a),h.filter(function(x){return x.isShow}))}var lPe=["viewBox"],cPe=["viewBox"],uPe=["ticks"];function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(t)}function Ec(){return Ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ec.apply(this,arguments)}function cR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(r),!0).forEach(function(n){b_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vb(t,e){if(t==null)return{};var r=dPe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D5(n.key),n)}}function hPe(t,e,r){return e&&uR(t.prototype,e),r&&uR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function mPe(t,e,r){return e=Dv(e),pPe(t,L5()?Reflect.construct(e,r||[],Dv(t).constructor):e.apply(t,r))}function pPe(t,e){if(e&&(Bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gPe(t)}function gPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L5=function(){return!!t})()}function Dv(t){return Dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dv(t)}function vPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D1(t,e)}function D1(t,e){return D1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},D1(t,e)}function b_(t,e,r){return e=D5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D5(t){var e=yPe(t,"string");return Bu(e)=="symbol"?e:e+""}function yPe(t,e){if(Bu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vd=function(t){function e(r){var n;return fPe(this,e),n=mPe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return vPe(e,t),hPe(e,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,a=vb(n,lPe),o=this.props,c=o.viewBox,u=vb(o,cPe);return!$c(s,c)||!$c(a,u)||!$c(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,a=i.y,o=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,m,p,g,v,y,x,b=f?-1:1,S=n.tickSize||d,w=se(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=p=n.coordinate,v=a+ +!f*c,g=v-b*S,x=g-b*h,y=w;break;case"left":g=v=n.coordinate,p=s+ +!f*o,m=p-b*S,y=m-b*h,x=w;break;case"right":g=v=n.coordinate,p=s+ +f*o,m=p+b*S,y=m+b*h,x=w;break;default:m=p=n.coordinate,v=a+ +f*c,g=v+b*S,x=g+b*h,y=w;break}return{line:{x1:m,y1:g,x2:p,y2:v},tick:{x:y,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,a;switch(i){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,o=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=gr(gr(gr({},De(this.props,!1)),De(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=gr(gr({},f),{},{x1:i,y1:s+h*o,x2:i+a,y2:s+h*o})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=gr(gr({},f),{},{x1:i+m*a,y1:s,x2:i+m*a,y2:s+o})}return L.createElement("line",Ec({},f,{className:Ke("recharts-cartesian-axis-line",Bn(d,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var a=this,o=this.props,c=o.tickLine,u=o.stroke,d=o.tick,f=o.tickFormatter,h=o.unit,m=x_(gr(gr({},this.props),{},{ticks:n}),i,s),p=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=De(this.props,!1),y=De(d,!1),x=gr(gr({},v),{},{fill:"none"},De(c,!1)),b=m.map(function(S,w){var T=a.getTickLineCoord(S),A=T.line,_=T.tick,N=gr(gr(gr(gr({textAnchor:p,verticalAnchor:g},v),{},{stroke:"none",fill:u},y),_),{},{index:w,payload:S,visibleTicksCount:m.length,tickFormatter:f});return L.createElement(st,Ec({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},jl(a.props,S,w)),c&&L.createElement("line",Ec({},x,A,{className:Ke("recharts-cartesian-axis-tick-line",Bn(c,"className"))})),d&&e.renderTickItem(d,N,"".concat(Be(f)?f(S.value,w):S.value).concat(h||"")))});return L.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,a=i.width,o=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,m=vb(f,uPe),p=h;return Be(c)&&(p=h&&h.length>0?c(this.props):c(m)),a<=0||o<=0||!p||!p.length?null:L.createElement(st,{className:Ke("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(p,this.state.fontSize,this.state.letterSpacing),Or.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var a,o=Ke(i.className,"recharts-cartesian-axis-tick-value");return L.isValidElement(n)?a=L.cloneElement(n,gr(gr({},i),{},{className:o})):Be(n)?a=n(gr(gr({},i),{},{className:o})):a=L.createElement(Ol,Ec({},i,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])}(E.Component);b_(vd,"displayName","CartesianAxis");b_(vd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var xPe=["x1","y1","x2","y2","key"],bPe=["offset"];function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function dR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(r),!0).forEach(function(n){wPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wPe(t,e,r){return e=SPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SPe(t){var e=EPe(t,"string");return Rl(e)=="symbol"?e:e+""}function EPe(t,e){if(Rl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wo(){return Wo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wo.apply(this,arguments)}function fR(t,e){if(t==null)return{};var r=TPe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function TPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var APe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,s=e.y,a=e.width,o=e.height,c=e.ry;return L.createElement("rect",{x:i,y:s,ry:c,width:a,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function M5(t,e){var r;if(L.isValidElement(t))r=L.cloneElement(t,e);else if(Be(t))r=t(e);else{var n=e.x1,i=e.y1,s=e.x2,a=e.y2,o=e.key,c=fR(e,xPe),u=De(c,!1);u.offset;var d=fR(u,bPe);r=L.createElement("line",Wo({},d,{x1:n,y1:i,x2:s,y2:a,fill:"none",key:o}))}return r}function _Pe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,c){var u=Yr(Yr({},t),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(c),index:c});return M5(i,u)});return L.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function PPe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,s=t.verticalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,c){var u=Yr(Yr({},t),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(c),index:c});return M5(i,u)});return L.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function NPe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,s=t.width,a=t.height,o=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var p=!d[m+1],g=p?i+a-h:d[m+1]-h;if(g<=0)return null;var v=m%e.length;return L.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:g,width:s,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function CPe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,s=t.x,a=t.y,o=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var p=!d[m+1],g=p?s+o-h:d[m+1]-h;if(g<=0)return null;var v=m%n.length;return L.createElement("rect",{key:"react-".concat(m),x:h,y:a,width:g,height:c,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var jPe=function(e,r){var n=e.xAxis,i=e.width,s=e.height,a=e.offset;return k6(x_(Yr(Yr(Yr({},vd.defaultProps),n),{},{ticks:Fs(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.left,a.left+a.width,r)},OPe=function(e,r){var n=e.yAxis,i=e.width,s=e.height,a=e.offset;return k6(x_(Yr(Yr(Yr({},vd.defaultProps),n),{},{ticks:Fs(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.top,a.top+a.height,r)},nc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Mv(t){var e,r,n,i,s,a,o=p_(),c=g_(),u=y_e(),d=Yr(Yr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:nc.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:nc.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:nc.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:nc.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:nc.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:nc.verticalFill,x:se(t.x)?t.x:u.left,y:se(t.y)?t.y:u.top,width:se(t.width)?t.width:u.width,height:se(t.height)?t.height:u.height}),f=d.x,h=d.y,m=d.width,p=d.height,g=d.syncWithTicks,v=d.horizontalValues,y=d.verticalValues,x=p_e(),b=g_e();if(!se(m)||m<=0||!se(p)||p<=0||!se(f)||f!==+f||!se(h)||h!==+h)return null;var S=d.verticalCoordinatesGenerator||jPe,w=d.horizontalCoordinatesGenerator||OPe,T=d.horizontalPoints,A=d.verticalPoints;if((!T||!T.length)&&Be(w)){var _=v&&v.length,N=w({yAxis:b?Yr(Yr({},b),{},{ticks:_?v:b.ticks}):void 0,width:o,height:c,offset:u},_?!0:g);Ri(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Rl(N),"]")),Array.isArray(N)&&(T=N)}if((!A||!A.length)&&Be(S)){var C=y&&y.length,j=S({xAxis:x?Yr(Yr({},x),{},{ticks:C?y:x.ticks}):void 0,width:o,height:c,offset:u},C?!0:g);Ri(Array.isArray(j),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Rl(j),"]")),Array.isArray(j)&&(A=j)}return L.createElement("g",{className:"recharts-cartesian-grid"},L.createElement(APe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),L.createElement(_Pe,Wo({},d,{offset:u,horizontalPoints:T,xAxis:x,yAxis:b})),L.createElement(PPe,Wo({},d,{offset:u,verticalPoints:A,xAxis:x,yAxis:b})),L.createElement(NPe,Wo({},d,{horizontalPoints:T})),L.createElement(CPe,Wo({},d,{verticalPoints:A})))}Mv.displayName="CartesianGrid";var IPe=["layout","type","stroke","connectNulls","isRange","ref"],kPe=["key"],$5;function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}function F5(t,e){if(t==null)return{};var r=RPe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ko(){return Ko=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ko.apply(this,arguments)}function hR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ya(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hR(Object(r),!0).forEach(function(n){rs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,U5(n.key),n)}}function DPe(t,e,r){return e&&mR(t.prototype,e),r&&mR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function MPe(t,e,r){return e=$v(e),$Pe(t,B5()?Reflect.construct(e,r||[],$v(t).constructor):e.apply(t,r))}function $Pe(t,e){if(e&&(Uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FPe(t)}function FPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B5=function(){return!!t})()}function $v(t){return $v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$v(t)}function BPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M1(t,e)}function M1(t,e){return M1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},M1(t,e)}function rs(t,e,r){return e=U5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U5(t){var e=UPe(t,"string");return Uu(e)=="symbol"?e:e+""}function UPe(t,e){if(Uu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sa=function(t){function e(){var r;LPe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=MPe(this,e,[].concat(i)),rs(r,"state",{isAnimationFinished:!0}),rs(r,"id",ud("recharts-area-")),rs(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Be(a)&&a()}),rs(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Be(a)&&a()}),r}return BPe(e,t),DPe(e,[{key:"renderDots",value:function(n,i,s){var a=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(a&&!o)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=De(this.props,!1),m=De(u,!0),p=d.map(function(v,y){var x=ya(ya(ya({key:"dot-".concat(y),r:3},h),m),{},{index:y,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return e.renderDotItem(u,x)}),g={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return L.createElement(st,Ko({className:"recharts-area-dots"},g),p)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,s=i.baseLine,a=i.points,o=i.strokeWidth,c=a[0].x,u=a[a.length-1].x,d=n*Math.abs(c-u),f=Ua(a.map(function(h){return h.y||0}));return se(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(Ua(s.map(function(h){return h.y||0})),f)),se(f)?L.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,s=i.baseLine,a=i.points,o=i.strokeWidth,c=a[0].y,u=a[a.length-1].y,d=n*Math.abs(c-u),f=Ua(a.map(function(h){return h.x||0}));return se(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(Ua(s.map(function(h){return h.x||0})),f)),se(f)?L.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(o?parseInt("".concat(o),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,s,a){var o=this.props,c=o.layout,u=o.type,d=o.stroke,f=o.connectNulls,h=o.isRange;o.ref;var m=F5(o,IPe);return L.createElement(st,{clipPath:s?"url(#clipPath-".concat(a,")"):null},L.createElement(Uc,Ko({},De(m,!0),{points:n,connectNulls:f,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&L.createElement(Uc,Ko({},De(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&L.createElement(Uc,Ko({},De(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var s=this,a=this.props,o=a.points,c=a.baseLine,u=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,h=a.animationEasing,m=a.animationId,p=this.state,g=p.prevPoints,v=p.prevBaseLine;return L.createElement(ms,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var x=y.t;if(g){var b=g.length/o.length,S=o.map(function(_,N){var C=Math.floor(N*b);if(g[C]){var j=g[C],O=wn(j.x,_.x),R=wn(j.y,_.y);return ya(ya({},_),{},{x:O(x),y:R(x)})}return _}),w;if(se(c)&&typeof c=="number"){var T=wn(v,c);w=T(x)}else if(qe(c)||cd(c)){var A=wn(v,0);w=A(x)}else w=c.map(function(_,N){var C=Math.floor(N*b);if(v[C]){var j=v[C],O=wn(j.x,_.x),R=wn(j.y,_.y);return ya(ya({},_),{},{x:O(x),y:R(x)})}return _});return s.renderAreaStatically(S,w,n,i)}return L.createElement(st,null,L.createElement("defs",null,L.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(x))),L.createElement(st,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(o,c,n,i)))})}},{key:"renderArea",value:function(n,i){var s=this.props,a=s.points,o=s.baseLine,c=s.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&a&&a.length&&(!d&&h>0||!Nu(d,a)||!Nu(f,o))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(a,o,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,a=i.dot,o=i.points,c=i.className,u=i.top,d=i.left,f=i.xAxis,h=i.yAxis,m=i.width,p=i.height,g=i.isAnimationActive,v=i.id;if(s||!o||!o.length)return null;var y=this.state.isAnimationFinished,x=o.length===1,b=Ke("recharts-area",c),S=f&&f.allowDataOverflow,w=h&&h.allowDataOverflow,T=S||w,A=qe(v)?this.id:v,_=(n=De(a,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},N=_.r,C=N===void 0?3:N,j=_.strokeWidth,O=j===void 0?2:j,R=mae(a)?a:{},k=R.clipDot,M=k===void 0?!0:k,D=C*2+O;return L.createElement(st,{className:b},S||w?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(A)},L.createElement("rect",{x:S?d:d-m/2,y:w?u:u-p/2,width:S?m:m*2,height:w?p:p*2})),!M&&L.createElement("clipPath",{id:"clipPath-dots-".concat(A)},L.createElement("rect",{x:d-D/2,y:u-D/2,width:m+D,height:p+D}))):null,x?null:this.renderArea(T,A),(a||x)&&this.renderDots(T,M,A),(!g||y)&&Ws.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(E.PureComponent);$5=sa;rs(sa,"displayName","Area");rs(sa,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Vl.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});rs(sa,"getBaseValue",function(t,e,r,n){var i=t.layout,s=t.baseValue,a=e.props.baseValue,o=a??s;if(se(o)&&typeof o=="number")return o;var c=i==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return o==="dataMin"?f:o==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return o==="dataMin"?u[0]:o==="dataMax"?u[1]:u[0]});rs(sa,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,s=t.xAxisTicks,a=t.yAxisTicks,o=t.bandSize,c=t.dataKey,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,m=e.layout,p=u&&u.length,g=$5.getBaseValue(e,r,n,i),v=m==="horizontal",y=!1,x=f.map(function(S,w){var T;p?T=u[d+w]:(T=Sr(S,c),Array.isArray(T)?y=!0:T=[g,T]);var A=T[1]==null||p&&Sr(S,c)==null;return v?{x:FI({axis:n,ticks:s,bandSize:o,entry:S,index:w}),y:A?null:i.scale(T[1]),value:T,payload:S}:{x:A?null:n.scale(T[1]),y:FI({axis:i,ticks:a,bandSize:o,entry:S,index:w}),value:T,payload:S}}),b;return p||y?b=x.map(function(S){var w=Array.isArray(S.value)?S.value[0]:null;return v?{x:S.x,y:w!=null&&S.y!=null?i.scale(w):null}:{x:w!=null?n.scale(w):null,y:S.y}}):b=v?i.scale(g):n.scale(g),ya({points:x,baseLine:b,layout:m,isRange:y},h)});rs(sa,"renderDotItem",function(t,e){var r;if(L.isValidElement(t))r=L.cloneElement(t,e);else if(Be(t))r=t(e);else{var n=Ke("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,s=F5(e,kPe);r=L.createElement(g0,Ko({},s,{key:i,className:n}))}return r});function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}function VPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GPe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,H5(n.key),n)}}function HPe(t,e,r){return e&&GPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zPe(t,e,r){return e=Fv(e),WPe(t,V5()?Reflect.construct(e,r||[],Fv(t).constructor):e.apply(t,r))}function WPe(t,e){if(e&&(Vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KPe(t)}function KPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V5=function(){return!!t})()}function Fv(t){return Fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fv(t)}function qPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$1(t,e)}function $1(t,e){return $1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$1(t,e)}function G5(t,e,r){return e=H5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H5(t){var e=YPe(t,"string");return Vu(e)=="symbol"?e:e+""}function YPe(t,e){if(Vu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function F1(){return F1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F1.apply(this,arguments)}function XPe(t){var e=t.xAxisId,r=p_(),n=g_(),i=_5(e);return i==null?null:E.createElement(vd,F1({},i,{className:Ke("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(a){return Fs(a,!0)}}))}var Ll=function(t){function e(){return VPe(this,e),zPe(this,e,arguments)}return qPe(e,t),HPe(e,[{key:"render",value:function(){return E.createElement(XPe,this.props)}}])}(E.Component);G5(Ll,"displayName","XAxis");G5(Ll,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}function QPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZPe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,K5(n.key),n)}}function JPe(t,e,r){return e&&ZPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eNe(t,e,r){return e=Bv(e),tNe(t,z5()?Reflect.construct(e,r||[],Bv(t).constructor):e.apply(t,r))}function tNe(t,e){if(e&&(Gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rNe(t)}function rNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z5=function(){return!!t})()}function Bv(t){return Bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bv(t)}function nNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B1(t,e)}function B1(t,e){return B1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},B1(t,e)}function W5(t,e,r){return e=K5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K5(t){var e=iNe(t,"string");return Gu(e)=="symbol"?e:e+""}function iNe(t,e){if(Gu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function U1(){return U1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},U1.apply(this,arguments)}var sNe=function(e){var r=e.yAxisId,n=p_(),i=g_(),s=P5(r);return s==null?null:E.createElement(vd,U1({},s,{className:Ke("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return Fs(o,!0)}}))},Dl=function(t){function e(){return QPe(this,e),eNe(this,e,arguments)}return nNe(e,t),JPe(e,[{key:"render",value:function(){return E.createElement(sNe,this.props)}}])}(E.Component);W5(Dl,"displayName","YAxis");W5(Dl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function pR(t){return cNe(t)||lNe(t)||oNe(t)||aNe()}function aNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oNe(t,e){if(t){if(typeof t=="string")return V1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V1(t,e)}}function lNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cNe(t){if(Array.isArray(t))return V1(t)}function V1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var G1=function(e,r,n,i,s){var a=oi(e,y_),o=oi(e,A0),c=[].concat(pR(a),pR(o)),u=oi(e,P0),d="".concat(i,"Id"),f=i[0],h=r;if(c.length&&(h=c.reduce(function(g,v){if(v.props[d]===n&&cs(v.props,"extendDomain")&&se(v.props[f])){var y=v.props[f];return[Math.min(g[0],y),Math.max(g[1],y)]}return g},h)),u.length){var m="".concat(f,"1"),p="".concat(f,"2");h=u.reduce(function(g,v){if(v.props[d]===n&&cs(v.props,"extendDomain")&&se(v.props[m])&&se(v.props[p])){var y=v.props[m],x=v.props[p];return[Math.min(g[0],y,x),Math.max(g[1],y,x)]}return g},h)}return s&&s.length&&(h=s.reduce(function(g,v){return se(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},q5={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,h),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,m,p){var g=r?r+u:u;if(!this._events[g])return!1;var v=this._events[g],y=arguments.length,x,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,p),!0}for(b=1,x=new Array(y-1);b<y;b++)x[b-1]=arguments[b];v.fn.apply(v.context,x)}else{var S=v.length,w;for(b=0;b<S;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),y){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,d);break;case 3:v[b].fn.call(v[b].context,d,f);break;case 4:v[b].fn.call(v[b].context,d,f,h);break;default:if(!x)for(w=1,x=new Array(y-1);w<y;w++)x[w-1]=arguments[w];v[b].fn.apply(v[b].context,x)}}return!0},o.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return a(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&a(this,m);else{for(var g=0,v=[],y=p.length;g<y;g++)(p[g].fn!==d||h&&!p[g].once||f&&p[g].context!==f)&&v.push(p[g]);v.length?this._events[m]=v.length===1?v[0]:v:a(this,m)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(q5);var uNe=q5.exports;const dNe=pt(uNe);var yb=new dNe,xb="recharts.syncMouseEvents";function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function fNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hNe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Y5(n.key),n)}}function mNe(t,e,r){return e&&hNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bb(t,e,r){return e=Y5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y5(t){var e=pNe(t,"string");return Lh(e)=="symbol"?e:e+""}function pNe(t,e){if(Lh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gNe=function(){function t(){fNe(this,t),bb(this,"activeIndex",0),bb(this,"coordinateList",[]),bb(this,"layout","horizontal")}return mNe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,a=r.container,o=a===void 0?null:a,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,o=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,h=a+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function vNe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&se(n)&&se(i))return!0}return!1}function yNe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function X5(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,s=t.endAngle,a=Ot(e,r,n,i),o=Ot(e,r,n,s);return{points:[a,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function xNe(t,e,r){var n,i,s,a;if(t==="horizontal")n=e.x,s=n,i=r.top,a=r.top+r.height;else if(t==="vertical")i=e.y,a=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=Ot(o,c,u,f),m=Ot(o,c,d,f);n=h.x,i=h.y,s=m.x,a=m.y}else return X5(e);return[{x:n,y:i},{x:s,y:a}]}function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function gR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ap(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(r),!0).forEach(function(n){bNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bNe(t,e,r){return e=wNe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wNe(t){var e=SNe(t,"string");return Dh(e)=="symbol"?e:e+""}function SNe(t,e){if(Dh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ENe(t){var e,r,n=t.element,i=t.tooltipEventType,s=t.isActive,a=t.activeCoordinate,o=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,m=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!s||!a||h!=="ScatterChart"&&i!=="axis")return null;var p,g=Uc;if(h==="ScatterChart")p=a,g=z1e;else if(h==="BarChart")p=yNe(f,a,c,d),g=d_;else if(f==="radial"){var v=X5(a),y=v.cx,x=v.cy,b=v.radius,S=v.startAngle,w=v.endAngle;p={cx:y,cy:x,startAngle:S,endAngle:w,innerRadius:b,outerRadius:b},g=H6}else p={points:xNe(f,a,c)},g=Uc;var T=ap(ap(ap(ap({stroke:"#ccc",pointerEvents:"none"},c),p),De(m,!1)),{},{payload:o,payloadIndex:u,className:Ke("recharts-tooltip-cursor",m.className)});return E.isValidElement(m)?E.cloneElement(m,T):E.createElement(g,T)}var TNe=["item"],ANe=["children","className","width","height","style","compact","title","desc"];function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}function Tc(){return Tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tc.apply(this,arguments)}function vR(t,e){return NNe(t)||PNe(t,e)||Z5(t,e)||_Ne()}function _Ne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PNe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function NNe(t){if(Array.isArray(t))return t}function yR(t,e){if(t==null)return{};var r=CNe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function CNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ONe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,J5(n.key),n)}}function INe(t,e,r){return e&&ONe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kNe(t,e,r){return e=Uv(e),RNe(t,Q5()?Reflect.construct(e,r||[],Uv(t).constructor):e.apply(t,r))}function RNe(t,e){if(e&&(Hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LNe(t)}function LNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q5=function(){return!!t})()}function Uv(t){return Uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uv(t)}function DNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H1(t,e)}function H1(t,e){return H1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},H1(t,e)}function zu(t){return FNe(t)||$Ne(t)||Z5(t)||MNe()}function MNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z5(t,e){if(t){if(typeof t=="string")return z1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z1(t,e)}}function $Ne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FNe(t){if(Array.isArray(t))return z1(t)}function z1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Z(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xR(Object(r),!0).forEach(function(n){$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $e(t,e,r){return e=J5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J5(t){var e=BNe(t,"string");return Hu(e)=="symbol"?e:e+""}function BNe(t,e){if(Hu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UNe={xAxis:["bottom","top"],yAxis:["left","right"]},VNe={width:"100%",height:"100%"},e8={x:0,y:0};function op(t){return t}var GNe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},HNe=function(e,r,n,i){var s=r.find(function(d){return d&&d.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var a=s.coordinate,o=i.radius;return Z(Z(Z({},i),Ot(i.cx,i.cy,o,a)),{},{angle:a,radius:o})}var c=s.coordinate,u=i.angle;return Z(Z(Z({},i),Ot(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return e8},N0=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,a=(n??[]).reduce(function(o,c){var u=c.props.data;return u&&u.length?[].concat(zu(o),zu(u)):o},[]);return a.length>0?a:e&&e.length&&se(i)&&se(s)?e.slice(i,s+1):[]};function t8(t){return t==="number"?[0,"auto"]:void 0}var W1=function(e,r,n,i){var s=e.graphicalItems,a=e.tooltipAxis,o=N0(r,e);return n<0||!s||!s.length||n>=o.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var m=f===void 0?o:f;h=Ug(m,a.dataKey,i)}else h=f&&f[n]||o[n];return h?[].concat(zu(c),[$6(u,h)]):c},[])},bR=function(e,r,n,i){var s=i||{x:e.chartX,y:e.chartY},a=GNe(s,n),o=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=pbe(a,o,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=W1(e,r,d,f),m=HNe(n,o,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},zNe=function(e,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,a=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,m=I6(d,s);return n.reduce(function(p,g){var v,y=g.type.defaultProps!==void 0?Z(Z({},g.type.defaultProps),g.props):g.props,x=y.type,b=y.dataKey,S=y.allowDataOverflow,w=y.allowDuplicatedCategory,T=y.scale,A=y.ticks,_=y.includeHidden,N=y[a];if(p[N])return p;var C=N0(e.data,{graphicalItems:i.filter(function(V){var ne,ce=a in V.props?V.props[a]:(ne=V.type.defaultProps)===null||ne===void 0?void 0:ne[a];return ce===N}),dataStartIndex:c,dataEndIndex:u}),j=C.length,O,R,k;vNe(y.domain,S,x)&&(O=o1(y.domain,null,S),m&&(x==="number"||T!=="auto")&&(k=bf(C,b,"category")));var M=t8(x);if(!O||O.length===0){var D,U=(D=y.domain)!==null&&D!==void 0?D:M;if(b){if(O=bf(C,b,x),x==="category"&&m){var I=iae(O);w&&I?(R=O,O=Pv(0,j)):w||(O=GI(U,O,g).reduce(function(V,ne){return V.indexOf(ne)>=0?V:[].concat(zu(V),[ne])},[]))}else if(x==="category")w?O=O.filter(function(V){return V!==""&&!qe(V)}):O=GI(U,O,g).reduce(function(V,ne){return V.indexOf(ne)>=0||ne===""||qe(ne)?V:[].concat(zu(V),[ne])},[]);else if(x==="number"){var F=bbe(C,i.filter(function(V){var ne,ce,Se=a in V.props?V.props[a]:(ne=V.type.defaultProps)===null||ne===void 0?void 0:ne[a],J="hide"in V.props?V.props.hide:(ce=V.type.defaultProps)===null||ce===void 0?void 0:ce.hide;return Se===N&&(_||!J)}),b,s,d);F&&(O=F)}m&&(x==="number"||T!=="auto")&&(k=bf(C,b,"category"))}else m?O=Pv(0,j):o&&o[N]&&o[N].hasStack&&x==="number"?O=h==="expand"?[0,1]:M6(o[N].stackGroups,c,u):O=O6(C,i.filter(function(V){var ne=a in V.props?V.props[a]:V.type.defaultProps[a],ce="hide"in V.props?V.props.hide:V.type.defaultProps.hide;return ne===N&&(_||!ce)}),x,d,!0);if(x==="number")O=G1(f,O,N,s,A),U&&(O=o1(U,O,S));else if(x==="category"&&U){var H=U,G=O.every(function(V){return H.indexOf(V)>=0});G&&(O=H)}}return Z(Z({},p),{},$e({},N,Z(Z({},y),{},{axisType:s,domain:O,categoricalDomain:k,duplicateDomain:R,originalDomain:(v=y.domain)!==null&&v!==void 0?v:M,isCategorical:m,layout:d})))},{})},WNe=function(e,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,a=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,h=N0(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,p=I6(d,s),g=-1;return n.reduce(function(v,y){var x=y.type.defaultProps!==void 0?Z(Z({},y.type.defaultProps),y.props):y.props,b=x[a],S=t8("number");if(!v[b]){g++;var w;return p?w=Pv(0,m):o&&o[b]&&o[b].hasStack?(w=M6(o[b].stackGroups,c,u),w=G1(f,w,b,s)):(w=o1(S,O6(h,n.filter(function(T){var A,_,N=a in T.props?T.props[a]:(A=T.type.defaultProps)===null||A===void 0?void 0:A[a],C="hide"in T.props?T.props.hide:(_=T.type.defaultProps)===null||_===void 0?void 0:_.hide;return N===b&&!C}),"number",d),i.defaultProps.allowDataOverflow),w=G1(f,w,b,s)),Z(Z({},v),{},$e({},b,Z(Z({axisType:s},i.defaultProps),{},{hide:!0,orientation:Bn(UNe,"".concat(s,".").concat(g%2),null),domain:w,originalDomain:S,isCategorical:p,layout:d})))}return v},{})},KNe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,a=r.graphicalItems,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=oi(d,s),m={};return h&&h.length?m=zNe(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:c,dataEndIndex:u}):a&&a.length&&(m=WNe(e,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:c,dataEndIndex:u})),m},qNe=function(e){var r=Pa(e),n=Fs(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:$A(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:pv(r,n)}},wR=function(e){var r=e.children,n=e.defaultShowTooltip,i=jn(r,Lu),s=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!n}},YNe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Hs(r&&r.type);return n&&n.indexOf("Bar")>=0})},SR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},XNe=function(e,r){var n=e.props,i=e.graphicalItems,s=e.xAxisMap,a=s===void 0?{}:s,o=e.yAxisMap,c=o===void 0?{}:o,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=jn(f,Lu),p=jn(f,al),g=Object.keys(c).reduce(function(w,T){var A=c[T],_=A.orientation;return!A.mirror&&!A.hide?Z(Z({},w),{},$e({},_,w[_]+A.width)):w},{left:h.left||0,right:h.right||0}),v=Object.keys(a).reduce(function(w,T){var A=a[T],_=A.orientation;return!A.mirror&&!A.hide?Z(Z({},w),{},$e({},_,Bn(w,"".concat(_))+A.height)):w},{top:h.top||0,bottom:h.bottom||0}),y=Z(Z({},v),g),x=y.bottom;m&&(y.bottom+=m.props.height||Lu.defaultProps.height),p&&r&&(y=ybe(y,i,n,r));var b=u-y.left-y.right,S=d-y.top-y.bottom;return Z(Z({brushBottom:x},y),{},{width:Math.max(b,0),height:Math.max(S,0)})},QNe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},w_=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,a=e.validateTooltipEventTypes,o=a===void 0?["axis"]:a,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(y,x){var b=x.graphicalItems,S=x.stackGroups,w=x.offset,T=x.updateId,A=x.dataStartIndex,_=x.dataEndIndex,N=y.barSize,C=y.layout,j=y.barGap,O=y.barCategoryGap,R=y.maxBarSize,k=SR(C),M=k.numericAxisName,D=k.cateAxisName,U=YNe(b),I=[];return b.forEach(function(F,H){var G=N0(y.data,{graphicalItems:[F],dataStartIndex:A,dataEndIndex:_}),V=F.type.defaultProps!==void 0?Z(Z({},F.type.defaultProps),F.props):F.props,ne=V.dataKey,ce=V.maxBarSize,Se=V["".concat(M,"Id")],J=V["".concat(D,"Id")],re={},Ee=c.reduce(function(W,q){var ge=x["".concat(q.axisType,"Map")],de=V["".concat(q.axisType,"Id")];ge&&ge[de]||q.axisType==="zAxis"||kl();var le=ge[de];return Z(Z({},W),{},$e($e({},q.axisType,le),"".concat(q.axisType,"Ticks"),Fs(le)))},re),te=Ee[D],oe=Ee["".concat(D,"Ticks")],he=S&&S[Se]&&S[Se].hasStack&&Cbe(F,S[Se].stackGroups),X=Hs(F.type).indexOf("Bar")>=0,Ve=pv(te,oe),Le=[],lt=U&&gbe({barSize:N,stackGroups:S,totalSize:QNe(Ee,D)});if(X){var Te,We,bt=qe(ce)?R:ce,Kt=(Te=(We=pv(te,oe,!0))!==null&&We!==void 0?We:bt)!==null&&Te!==void 0?Te:0;Le=vbe({barGap:j,barCategoryGap:O,bandSize:Kt!==Ve?Kt:Ve,sizeList:lt[J],maxBarSize:bt}),Kt!==Ve&&(Le=Le.map(function(W){return Z(Z({},W),{},{position:Z(Z({},W.position),{},{offset:W.position.offset-Kt/2})})}))}var $=F&&F.type&&F.type.getComposedData;$&&I.push({props:Z(Z({},$(Z(Z({},Ee),{},{displayedData:G,props:y,dataKey:ne,item:F,bandSize:Ve,barPosition:Le,offset:w,stackedData:he,layout:C,dataStartIndex:A,dataEndIndex:_}))),{},$e($e($e({key:F.key||"item-".concat(H)},M,Ee[M]),D,Ee[D]),"animationId",T)),childIndex:vae(F,y.children),item:F})}),I},m=function(y,x){var b=y.props,S=y.dataStartIndex,w=y.dataEndIndex,T=y.updateId;if(!Dj({props:b}))return null;var A=b.children,_=b.layout,N=b.stackOffset,C=b.data,j=b.reverseStackOrder,O=SR(_),R=O.numericAxisName,k=O.cateAxisName,M=oi(A,n),D=Pbe(C,M,"".concat(R,"Id"),"".concat(k,"Id"),N,j),U=c.reduce(function(V,ne){var ce="".concat(ne.axisType,"Map");return Z(Z({},V),{},$e({},ce,KNe(b,Z(Z({},ne),{},{graphicalItems:M,stackGroups:ne.axisType===R&&D,dataStartIndex:S,dataEndIndex:w}))))},{}),I=XNe(Z(Z({},U),{},{props:b,graphicalItems:M}),x==null?void 0:x.legendBBox);Object.keys(U).forEach(function(V){U[V]=d(b,U[V],I,V.replace("Map",""),r)});var F=U["".concat(k,"Map")],H=qNe(F),G=h(b,Z(Z({},U),{},{dataStartIndex:S,dataEndIndex:w,updateId:T,graphicalItems:M,stackGroups:D,offset:I}));return Z(Z({formattedGraphicalItems:G,graphicalItems:M,offset:I,stackGroups:D},H),U)},p=function(v){function y(x){var b,S,w;return jNe(this,y),w=kNe(this,y,[x]),$e(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),$e(w,"accessibilityManager",new gNe),$e(w,"handleLegendBBoxUpdate",function(T){if(T){var A=w.state,_=A.dataStartIndex,N=A.dataEndIndex,C=A.updateId;w.setState(Z({legendBBox:T},m({props:w.props,dataStartIndex:_,dataEndIndex:N,updateId:C},Z(Z({},w.state),{},{legendBBox:T}))))}}),$e(w,"handleReceiveSyncEvent",function(T,A,_){if(w.props.syncId===T){if(_===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(A)}}),$e(w,"handleBrushChange",function(T){var A=T.startIndex,_=T.endIndex;if(A!==w.state.dataStartIndex||_!==w.state.dataEndIndex){var N=w.state.updateId;w.setState(function(){return Z({dataStartIndex:A,dataEndIndex:_},m({props:w.props,dataStartIndex:A,dataEndIndex:_,updateId:N},w.state))}),w.triggerSyncEvent({dataStartIndex:A,dataEndIndex:_})}}),$e(w,"handleMouseEnter",function(T){var A=w.getMouseInfo(T);if(A){var _=Z(Z({},A),{},{isTooltipActive:!0});w.setState(_),w.triggerSyncEvent(_);var N=w.props.onMouseEnter;Be(N)&&N(_,T)}}),$e(w,"triggeredAfterMouseMove",function(T){var A=w.getMouseInfo(T),_=A?Z(Z({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(_),w.triggerSyncEvent(_);var N=w.props.onMouseMove;Be(N)&&N(_,T)}),$e(w,"handleItemMouseEnter",function(T){w.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),$e(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),$e(w,"handleMouseMove",function(T){T.persist(),w.throttleTriggeredAfterMouseMove(T)}),$e(w,"handleMouseLeave",function(T){w.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};w.setState(A),w.triggerSyncEvent(A);var _=w.props.onMouseLeave;Be(_)&&_(A,T)}),$e(w,"handleOuterEvent",function(T){var A=gae(T),_=Bn(w.props,"".concat(A));if(A&&Be(_)){var N,C;/.*touch.*/i.test(A)?C=w.getMouseInfo(T.changedTouches[0]):C=w.getMouseInfo(T),_((N=C)!==null&&N!==void 0?N:{},T)}}),$e(w,"handleClick",function(T){var A=w.getMouseInfo(T);if(A){var _=Z(Z({},A),{},{isTooltipActive:!0});w.setState(_),w.triggerSyncEvent(_);var N=w.props.onClick;Be(N)&&N(_,T)}}),$e(w,"handleMouseDown",function(T){var A=w.props.onMouseDown;if(Be(A)){var _=w.getMouseInfo(T);A(_,T)}}),$e(w,"handleMouseUp",function(T){var A=w.props.onMouseUp;if(Be(A)){var _=w.getMouseInfo(T);A(_,T)}}),$e(w,"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),$e(w,"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&w.handleMouseDown(T.changedTouches[0])}),$e(w,"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&w.handleMouseUp(T.changedTouches[0])}),$e(w,"handleDoubleClick",function(T){var A=w.props.onDoubleClick;if(Be(A)){var _=w.getMouseInfo(T);A(_,T)}}),$e(w,"handleContextMenu",function(T){var A=w.props.onContextMenu;if(Be(A)){var _=w.getMouseInfo(T);A(_,T)}}),$e(w,"triggerSyncEvent",function(T){w.props.syncId!==void 0&&yb.emit(xb,w.props.syncId,T,w.eventEmitterSymbol)}),$e(w,"applySyncEvent",function(T){var A=w.props,_=A.layout,N=A.syncMethod,C=w.state.updateId,j=T.dataStartIndex,O=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)w.setState(Z({dataStartIndex:j,dataEndIndex:O},m({props:w.props,dataStartIndex:j,dataEndIndex:O,updateId:C},w.state)));else if(T.activeTooltipIndex!==void 0){var R=T.chartX,k=T.chartY,M=T.activeTooltipIndex,D=w.state,U=D.offset,I=D.tooltipTicks;if(!U)return;if(typeof N=="function")M=N(I,T);else if(N==="value"){M=-1;for(var F=0;F<I.length;F++)if(I[F].value===T.activeLabel){M=F;break}}var H=Z(Z({},U),{},{x:U.left,y:U.top}),G=Math.min(R,H.x+H.width),V=Math.min(k,H.y+H.height),ne=I[M]&&I[M].value,ce=W1(w.state,w.props.data,M),Se=I[M]?{x:_==="horizontal"?I[M].coordinate:G,y:_==="horizontal"?V:I[M].coordinate}:e8;w.setState(Z(Z({},T),{},{activeLabel:ne,activeCoordinate:Se,activePayload:ce,activeTooltipIndex:M}))}else w.setState(T)}),$e(w,"renderCursor",function(T){var A,_=w.state,N=_.isTooltipActive,C=_.activeCoordinate,j=_.activePayload,O=_.offset,R=_.activeTooltipIndex,k=_.tooltipAxisBandSize,M=w.getTooltipEventType(),D=(A=T.props.active)!==null&&A!==void 0?A:N,U=w.props.layout,I=T.key||"_recharts-cursor";return L.createElement(ENe,{key:I,activeCoordinate:C,activePayload:j,activeTooltipIndex:R,chartName:r,element:T,isActive:D,layout:U,offset:O,tooltipAxisBandSize:k,tooltipEventType:M})}),$e(w,"renderPolarAxis",function(T,A,_){var N=Bn(T,"type.axisType"),C=Bn(w.state,"".concat(N,"Map")),j=T.type.defaultProps,O=j!==void 0?Z(Z({},j),T.props):T.props,R=C&&C[O["".concat(N,"Id")]];return E.cloneElement(T,Z(Z({},R),{},{className:Ke(N,R.className),key:T.key||"".concat(A,"-").concat(_),ticks:Fs(R,!0)}))}),$e(w,"renderPolarGrid",function(T){var A=T.props,_=A.radialLines,N=A.polarAngles,C=A.polarRadius,j=w.state,O=j.radiusAxisMap,R=j.angleAxisMap,k=Pa(O),M=Pa(R),D=M.cx,U=M.cy,I=M.innerRadius,F=M.outerRadius;return E.cloneElement(T,{polarAngles:Array.isArray(N)?N:Fs(M,!0).map(function(H){return H.coordinate}),polarRadius:Array.isArray(C)?C:Fs(k,!0).map(function(H){return H.coordinate}),cx:D,cy:U,innerRadius:I,outerRadius:F,key:T.key||"polar-grid",radialLines:_})}),$e(w,"renderLegend",function(){var T=w.state.formattedGraphicalItems,A=w.props,_=A.children,N=A.width,C=A.height,j=w.props.margin||{},O=N-(j.left||0)-(j.right||0),R=C6({children:_,formattedGraphicalItems:T,legendWidth:O,legendContent:u});if(!R)return null;var k=R.item,M=yR(R,TNe);return E.cloneElement(k,Z(Z({},M),{},{chartWidth:N,chartHeight:C,margin:j,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),$e(w,"renderTooltip",function(){var T,A=w.props,_=A.children,N=A.accessibilityLayer,C=jn(_,yn);if(!C)return null;var j=w.state,O=j.isTooltipActive,R=j.activeCoordinate,k=j.activePayload,M=j.activeLabel,D=j.offset,U=(T=C.props.active)!==null&&T!==void 0?T:O;return E.cloneElement(C,{viewBox:Z(Z({},D),{},{x:D.left,y:D.top}),active:U,label:M,payload:U?k:[],coordinate:R,accessibilityLayer:N})}),$e(w,"renderBrush",function(T){var A=w.props,_=A.margin,N=A.data,C=w.state,j=C.offset,O=C.dataStartIndex,R=C.dataEndIndex,k=C.updateId;return E.cloneElement(T,{key:T.key||"_recharts-brush",onChange:rp(w.handleBrushChange,T.props.onChange),data:N,x:se(T.props.x)?T.props.x:j.left,y:se(T.props.y)?T.props.y:j.top+j.height+j.brushBottom-(_.bottom||0),width:se(T.props.width)?T.props.width:j.width,startIndex:O,endIndex:R,updateId:"brush-".concat(k)})}),$e(w,"renderReferenceElement",function(T,A,_){if(!T)return null;var N=w,C=N.clipPathId,j=w.state,O=j.xAxisMap,R=j.yAxisMap,k=j.offset,M=T.type.defaultProps||{},D=T.props,U=D.xAxisId,I=U===void 0?M.xAxisId:U,F=D.yAxisId,H=F===void 0?M.yAxisId:F;return E.cloneElement(T,{key:T.key||"".concat(A,"-").concat(_),xAxis:O[I],yAxis:R[H],viewBox:{x:k.left,y:k.top,width:k.width,height:k.height},clipPathId:C})}),$e(w,"renderActivePoints",function(T){var A=T.item,_=T.activePoint,N=T.basePoint,C=T.childIndex,j=T.isRange,O=[],R=A.props.key,k=A.item.type.defaultProps!==void 0?Z(Z({},A.item.type.defaultProps),A.item.props):A.item.props,M=k.activeDot,D=k.dataKey,U=Z(Z({index:C,dataKey:D,cx:_.x,cy:_.y,r:4,fill:u_(A.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},De(M,!1)),Vg(M));return O.push(y.renderActiveDot(M,U,"".concat(R,"-activePoint-").concat(C))),N?O.push(y.renderActiveDot(M,Z(Z({},U),{},{cx:N.x,cy:N.y}),"".concat(R,"-basePoint-").concat(C))):j&&O.push(null),O}),$e(w,"renderGraphicChild",function(T,A,_){var N=w.filterFormatItem(T,A,_);if(!N)return null;var C=w.getTooltipEventType(),j=w.state,O=j.isTooltipActive,R=j.tooltipAxis,k=j.activeTooltipIndex,M=j.activeLabel,D=w.props.children,U=jn(D,yn),I=N.props,F=I.points,H=I.isRange,G=I.baseLine,V=N.item.type.defaultProps!==void 0?Z(Z({},N.item.type.defaultProps),N.item.props):N.item.props,ne=V.activeDot,ce=V.hide,Se=V.activeBar,J=V.activeShape,re=!!(!ce&&O&&U&&(ne||Se||J)),Ee={};C!=="axis"&&U&&U.props.trigger==="click"?Ee={onClick:rp(w.handleItemMouseEnter,T.props.onClick)}:C!=="axis"&&(Ee={onMouseLeave:rp(w.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:rp(w.handleItemMouseEnter,T.props.onMouseEnter)});var te=E.cloneElement(T,Z(Z({},N.props),Ee));function oe(q){return typeof R.dataKey=="function"?R.dataKey(q.payload):null}if(re)if(k>=0){var he,X;if(R.dataKey&&!R.allowDuplicatedCategory){var Ve=typeof R.dataKey=="function"?oe:"payload.".concat(R.dataKey.toString());he=Ug(F,Ve,M),X=H&&G&&Ug(G,Ve,M)}else he=F==null?void 0:F[k],X=H&&G&&G[k];if(J||Se){var Le=T.props.activeIndex!==void 0?T.props.activeIndex:k;return[E.cloneElement(T,Z(Z(Z({},N.props),Ee),{},{activeIndex:Le})),null,null]}if(!qe(he))return[te].concat(zu(w.renderActivePoints({item:N,activePoint:he,basePoint:X,childIndex:k,isRange:H})))}else{var lt,Te=(lt=w.getItemByXY(w.state.activeCoordinate))!==null&&lt!==void 0?lt:{graphicalItem:te},We=Te.graphicalItem,bt=We.item,Kt=bt===void 0?T:bt,$=We.childIndex,W=Z(Z(Z({},N.props),Ee),{},{activeIndex:$});return[E.cloneElement(Kt,W),null,null]}return H?[te,null,null]:[te,null]}),$e(w,"renderCustomized",function(T,A,_){return E.cloneElement(T,Z(Z({key:"recharts-customized-".concat(_)},w.props),w.state))}),$e(w,"renderMap",{CartesianGrid:{handler:op,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:op},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:op},YAxis:{handler:op},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=x.id)!==null&&b!==void 0?b:ud("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=NU(w.triggeredAfterMouseMove,(S=x.throttleDelay)!==null&&S!==void 0?S:1e3/60),w.state={},w}return DNe(y,v),INe(y,[{key:"componentDidMount",value:function(){var b,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,S=b.children,w=b.data,T=b.height,A=b.layout,_=jn(S,yn);if(_){var N=_.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var C=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,j=W1(this.state,w,N,C),O=this.state.tooltipTicks[N].coordinate,R=(this.state.offset.top+T)/2,k=A==="horizontal",M=k?{x:O,y:R}:{y:O,x:R},D=this.state.formattedGraphicalItems.find(function(I){var F=I.item;return F.type.name==="Scatter"});D&&(M=Z(Z({},M),D.props.points[N].tooltipPosition),j=D.props.points[N].tooltipPayload);var U={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:C,activePayload:j,activeCoordinate:M};this.setState(U),this.renderCursor(_),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,T;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(b){SS([jn(b.children,yn)],[jn(this.props.children,yn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=jn(this.props.children,yn);if(b&&typeof b.props.shared=="boolean"){var S=b.props.shared?"axis":"item";return o.indexOf(S)>=0?S:s}return s}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var S=this.container,w=S.getBoundingClientRect(),T=Gge(w),A={chartX:Math.round(b.pageX-T.left),chartY:Math.round(b.pageY-T.top)},_=w.width/S.offsetWidth||1,N=this.inRange(A.chartX,A.chartY,_);if(!N)return null;var C=this.state,j=C.xAxisMap,O=C.yAxisMap,R=this.getTooltipEventType(),k=bR(this.state,this.props.data,this.props.layout,N);if(R!=="axis"&&j&&O){var M=Pa(j).scale,D=Pa(O).scale,U=M&&M.invert?M.invert(A.chartX):null,I=D&&D.invert?D.invert(A.chartY):null;return Z(Z({},A),{},{xValue:U,yValue:I},k)}return k?Z(Z({},A),k):null}},{key:"inRange",value:function(b,S){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,A=b/w,_=S/w;if(T==="horizontal"||T==="vertical"){var N=this.state.offset,C=A>=N.left&&A<=N.left+N.width&&_>=N.top&&_<=N.top+N.height;return C?{x:A,y:_}:null}var j=this.state,O=j.angleAxisMap,R=j.radiusAxisMap;if(O&&R){var k=Pa(O);return WI({x:A,y:_},k)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,S=this.getTooltipEventType(),w=jn(b,yn),T={};w&&S==="axis"&&(w.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=Vg(this.props,this.handleOuterEvent);return Z(Z({},A),T)}},{key:"addListener",value:function(){yb.on(xb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){yb.removeListener(xb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,S,w){for(var T=this.state.formattedGraphicalItems,A=0,_=T.length;A<_;A++){var N=T[A];if(N.item===b||N.props.key===b.key||S===Hs(N.item.type)&&w===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,S=this.state.offset,w=S.left,T=S.top,A=S.height,_=S.width;return L.createElement("defs",null,L.createElement("clipPath",{id:b},L.createElement("rect",{x:w,y:T,height:A,width:_})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(S,w){var T=vR(w,2),A=T[0],_=T[1];return Z(Z({},S),{},$e({},A,_.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(S,w){var T=vR(w,2),A=T[0],_=T[1];return Z(Z({},S),{},$e({},A,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(b){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(b){var S=this.state,w=S.formattedGraphicalItems,T=S.activeItem;if(w&&w.length)for(var A=0,_=w.length;A<_;A++){var N=w[A],C=N.props,j=N.item,O=j.type.defaultProps!==void 0?Z(Z({},j.type.defaultProps),j.props):j.props,R=Hs(j.type);if(R==="Bar"){var k=(C.data||[]).find(function(I){return A1e(b,I)});if(k)return{graphicalItem:N,payload:k}}else if(R==="RadialBar"){var M=(C.data||[]).find(function(I){return WI(b,I)});if(M)return{graphicalItem:N,payload:M}}else if(w0(N,T)||S0(N,T)||jh(N,T)){var D=hTe({graphicalItem:N,activeTooltipItem:T,itemData:O.data}),U=O.activeIndex===void 0?D:O.activeIndex;return{graphicalItem:Z(Z({},N),{},{childIndex:U}),payload:jh(N,T)?O.data[D]:N.props.data[D]}}}return null}},{key:"render",value:function(){var b=this;if(!Dj(this))return null;var S=this.props,w=S.children,T=S.className,A=S.width,_=S.height,N=S.style,C=S.compact,j=S.title,O=S.desc,R=yR(S,ANe),k=De(R,!1);if(C)return L.createElement(eR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement(TS,Tc({},k,{width:A,height:_,title:j,desc:O}),this.renderClipPath(),$j(w,this.renderMap)));if(this.props.accessibilityLayer){var M,D;k.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,k.role=(D=this.props.role)!==null&&D!==void 0?D:"application",k.onKeyDown=function(I){b.accessibilityManager.keyboardEvent(I)},k.onFocus=function(){b.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return L.createElement(eR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement("div",Tc({className:Ke("recharts-wrapper",T),style:Z({position:"relative",cursor:"default",width:A,height:_},N)},U,{ref:function(F){b.container=F}}),L.createElement(TS,Tc({},k,{width:A,height:_,title:j,desc:O,style:VNe}),this.renderClipPath(),$j(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(E.Component);$e(p,"displayName",r),$e(p,"defaultProps",Z({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),$e(p,"getDerivedStateFromProps",function(v,y){var x=v.dataKey,b=v.data,S=v.children,w=v.width,T=v.height,A=v.layout,_=v.stackOffset,N=v.margin,C=y.dataStartIndex,j=y.dataEndIndex;if(y.updateId===void 0){var O=wR(v);return Z(Z(Z({},O),{},{updateId:0},m(Z(Z({props:v},O),{},{updateId:0}),y)),{},{prevDataKey:x,prevData:b,prevWidth:w,prevHeight:T,prevLayout:A,prevStackOffset:_,prevMargin:N,prevChildren:S})}if(x!==y.prevDataKey||b!==y.prevData||w!==y.prevWidth||T!==y.prevHeight||A!==y.prevLayout||_!==y.prevStackOffset||!$c(N,y.prevMargin)){var R=wR(v),k={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},M=Z(Z({},bR(y,b,A)),{},{updateId:y.updateId+1}),D=Z(Z(Z({},R),k),M);return Z(Z(Z({},D),m(Z({props:v},D),y)),{},{prevDataKey:x,prevData:b,prevWidth:w,prevHeight:T,prevLayout:A,prevStackOffset:_,prevMargin:N,prevChildren:S})}if(!SS(S,y.prevChildren)){var U,I,F,H,G=jn(S,Lu),V=G&&(U=(I=G.props)===null||I===void 0?void 0:I.startIndex)!==null&&U!==void 0?U:C,ne=G&&(F=(H=G.props)===null||H===void 0?void 0:H.endIndex)!==null&&F!==void 0?F:j,ce=V!==C||ne!==j,Se=!qe(b),J=Se&&!ce?y.updateId:y.updateId+1;return Z(Z({updateId:J},m(Z(Z({props:v},y),{},{updateId:J,dataStartIndex:V,dataEndIndex:ne}),y)),{},{prevChildren:S,dataStartIndex:V,dataEndIndex:ne})}return null}),$e(p,"renderActiveDot",function(v,y,x){var b;return E.isValidElement(v)?b=E.cloneElement(v,y):Be(v)?b=v(y):b=L.createElement(g0,y),L.createElement(st,{className:"recharts-active-dot",key:x},b)});var g=E.forwardRef(function(y,x){return L.createElement(p,Tc({},y,{ref:x}))});return g.displayName=p.displayName,g},r8=w_({chartName:"BarChart",GraphicalChild:Ao,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ll},{axisType:"yAxis",AxisComp:Dl}],formatAxisMap:y5}),n8=w_({chartName:"PieChart",GraphicalChild:xs,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:b0},{axisType:"radiusAxis",AxisComp:y0}],formatAxisMap:Fbe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),ZNe=w_({chartName:"AreaChart",GraphicalChild:sa,axisComponents:[{axisType:"xAxis",AxisComp:Ll},{axisType:"yAxis",AxisComp:Dl}],formatAxisMap:y5});function ER(){const{data:t=[]}=it({queryKey:["/api/programs"]}),{data:e=[]}=it({queryKey:["/api/news"]}),{data:r=[]}=it({queryKey:["/api/events"]}),{data:n=0}=it({queryKey:["/api/active-users/count/tv"],queryFn:async()=>{const h=await fetch("/api/active-users/count/tv");if(!h.ok)throw new Error("Failed to fetch TV viewer count");const m=await h.json();return typeof m.count=="number"?m.count:0},refetchInterval:1e4}),{data:i=0}=it({queryKey:["/api/active-users/count/radio"],queryFn:async()=>{const h=await fetch("/api/active-users/count/radio");if(!h.ok)throw new Error("Failed to fetch radio listener count");const m=await h.json();return typeof m.count=="number"?m.count:0},refetchInterval:1e4}),s=n+i,{data:a}=it({queryKey:["/api/analytics/overview"],queryFn:async()=>{const h=await fetch("/api/analytics/overview");return h.ok?h.json():{totalViews:0,dailyViews:0,monthlyGrowth:0,totalComments:0,engagement:0}},refetchInterval:3e4}),{data:o}=it({queryKey:["/api/analytics/top-shows"],queryFn:async()=>{const h=await fetch("/api/analytics/top-shows");return h.ok?h.json():[]},refetchInterval:3e4}),c=o||[],u=[{name:"TV Viewers",current:n,color:"#ef4444"},{name:"Radio Listeners",current:i,color:"#3b82f6"}],d=c.length>0?c.map((h,m)=>({name:h.name,value:h.views,fill:["#ef4444","#f97316","#eab308","#22c55e","#3b82f6"][m%5]})):[],f=["#ef4444","#f97316","#eab308","#22c55e","#3b82f6"];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs(Y,{children:[l.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(pe,{className:"text-sm font-medium",children:"Total Programs"}),l.jsx(Vf,{className:"h-4 w-4 text-blue-600"})]}),l.jsxs(ie,{children:[l.jsx("div",{className:"text-2xl font-bold",children:t.length}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Active shows"})]})]}),l.jsxs(Y,{children:[l.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(pe,{className:"text-sm font-medium",children:"News Articles"}),l.jsx(Us,{className:"h-4 w-4 text-green-600"})]}),l.jsxs(ie,{children:[l.jsx("div",{className:"text-2xl font-bold",children:e.length}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Published articles"})]})]}),l.jsxs(Y,{children:[l.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(pe,{className:"text-sm font-medium",children:"Upcoming Events"}),l.jsx(Xr,{className:"h-4 w-4 text-purple-600"})]}),l.jsxs(ie,{children:[l.jsx("div",{className:"text-2xl font-bold",children:r.length}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Scheduled events"})]})]}),l.jsxs(Y,{children:[l.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(pe,{className:"text-sm font-medium",children:"Live Viewers"}),l.jsx(ZE,{className:"h-4 w-4 text-red-500"})]}),l.jsxs(ie,{children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:s.toLocaleString()}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently watching"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(Y,{children:[l.jsx(me,{children:l.jsxs(pe,{className:"flex items-center gap-2",children:[l.jsx(Iw,{className:"h-5 w-5"}),"Live Viewership Analytics"]})}),l.jsx(ie,{children:s>0?l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"h-64",children:l.jsx(vf,{width:"100%",height:"100%",children:l.jsxs(r8,{data:u,children:[l.jsx(Mv,{strokeDasharray:"3 3"}),l.jsx(Ll,{dataKey:"name"}),l.jsx(Dl,{}),l.jsx(yn,{}),l.jsx(Ao,{dataKey:"current",fill:"#3b82f6"})]})})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:n}),l.jsx("div",{className:"text-sm text-gray-600",children:"TV Viewers"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:i}),l.jsx("div",{className:"text-sm text-gray-600",children:"Radio Listeners"})]})]})]}):l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(Iw,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),l.jsx("p",{children:"No active viewers"}),l.jsx("p",{className:"text-sm",children:"Analytics will appear when users start watching"})]})})]}),l.jsxs(Y,{children:[l.jsx(me,{children:l.jsxs(pe,{className:"flex items-center gap-2",children:[l.jsx(Qt,{className:"h-5 w-5"}),"Top Performing Shows"]})}),l.jsx(ie,{children:c.length>0?l.jsxs("div",{children:[l.jsx("div",{className:"h-80 mb-4",children:l.jsx(vf,{width:"100%",height:"100%",children:l.jsxs(n8,{children:[l.jsx(xs,{data:d,cx:"50%",cy:"50%",innerRadius:60,outerRadius:120,paddingAngle:5,dataKey:"value",children:d.map((h,m)=>l.jsx(rm,{fill:f[m%f.length]},`cell-${m}`))}),l.jsx(yn,{formatter:h=>[h.toLocaleString(),"Views"]}),l.jsx(al,{})]})})}),l.jsx("div",{className:"space-y-3",children:c.map((h,m)=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:f[m%f.length]}}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:h.name}),l.jsxs("p",{className:"text-xs text-gray-500",children:[h.views.toLocaleString()," views"]})]})]}),l.jsxs(Qe,{variant:h.growth>0?"secondary":"destructive",className:h.growth>0?"bg-green-100 text-green-700":"",children:[h.growth>0?"+":"",h.growth,"%"]})]},h.name))})]}):l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(Qt,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),l.jsx("p",{children:"No show analytics yet"}),l.jsx("p",{className:"text-sm",children:"Performance data will appear when shows are watched"})]})})]})]}),l.jsxs(Y,{children:[l.jsx(me,{children:l.jsxs(pe,{className:"flex items-center gap-2",children:[l.jsx(io,{className:"h-5 w-5"}),"Recent Activity"]})}),l.jsx(ie,{children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 rounded-lg",children:[l.jsx(Vf,{className:"h-4 w-4 text-blue-600"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium",children:"New episode uploaded"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Northern Pulse - Episode 45"})]}),l.jsx("span",{className:"text-xs text-gray-500",children:"2 min ago"})]}),l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg",children:[l.jsx(Us,{className:"h-4 w-4 text-green-600"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium",children:"News article published"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Local elections coverage"})]}),l.jsx("span",{className:"text-xs text-gray-500",children:"15 min ago"})]}),l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-purple-50 rounded-lg",children:[l.jsx(lu,{className:"h-4 w-4 text-purple-600"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium",children:"New comment awaiting moderation"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Youth Spotlight discussion"})]}),l.jsx("span",{className:"text-xs text-gray-500",children:"1 hour ago"})]})]})})]})]})}var C0="Switch",[JNe,Vje]=zn(C0),[eCe,tCe]=JNe(C0),i8=E.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:a,disabled:o,value:c="on",onCheckedChange:u,form:d,...f}=t,[h,m]=E.useState(null),p=Ye(e,b=>m(b)),g=E.useRef(!1),v=h?d||!!h.closest("form"):!0,[y,x]=Zs({prop:i,defaultProp:s??!1,onChange:u,caller:C0});return l.jsxs(eCe,{scope:r,checked:y,disabled:o,children:[l.jsx(Re.button,{type:"button",role:"switch","aria-checked":y,"aria-required":a,"data-state":l8(y),"data-disabled":o?"":void 0,disabled:o,value:c,...f,ref:p,onClick:we(t.onClick,b=>{x(S=>!S),v&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),v&&l.jsx(o8,{control:h,bubbles:!g.current,name:n,value:c,checked:y,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});i8.displayName=C0;var s8="SwitchThumb",a8=E.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=tCe(s8,r);return l.jsx(Re.span,{"data-state":l8(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});a8.displayName=s8;var rCe="SwitchBubbleInput",o8=E.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...i},s)=>{const a=E.useRef(null),o=Ye(a,s),c=CT(r),u=hT(e);return E.useEffect(()=>{const d=a.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const p=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(p)}},[c,r,n]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:o,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});o8.displayName=rCe;function l8(t){return t?"checked":"unchecked"}var c8=i8,nCe=a8;const Qr=E.forwardRef(({className:t,...e},r)=>l.jsx(c8,{className:Fe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:l.jsx(nCe,{className:Fe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Qr.displayName=c8.displayName;function iCe(){const[t,e]=E.useState(!0),[r,n]=E.useState({title:"Northern Pulse Live",description:"Live coverage of community events in Northern Uganda",yoloStreamUrl:"https://yolo.tv/stream/oroma-tv-northern-pulse",embedCode:'<iframe src="https://yolo.tv/embed/oroma-tv" width="100%" height="400"></iframe>',isActive:!0,scheduledStart:"",scheduledEnd:""}),[i]=E.useState("HD 1080p"),[s]=E.useState("Stable"),{data:a=0}=it({queryKey:["/api/active-users/count/tv"],queryFn:async()=>{const u=await fetch("/api/active-users/count/tv");if(!u.ok)throw new Error("Failed to fetch viewer count");const d=await u.json();return typeof d.count=="number"?d.count:0},refetchInterval:1e4}),o=()=>{n({...r,isActive:!r.isActive})},c=()=>{console.log("Saving stream settings:",r)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs(Y,{children:[l.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(pe,{className:"text-sm font-medium",children:"Stream Status"}),l.jsx(ss,{className:`h-4 w-4 ${t?"text-red-500":"text-gray-400"}`})]}),l.jsx(ie,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Qe,{variant:t?"destructive":"secondary",children:t?"LIVE":"OFFLINE"}),t&&l.jsx("span",{className:"text-sm text-gray-600",children:"Broadcasting"})]})})]}),l.jsxs(Y,{children:[l.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(pe,{className:"text-sm font-medium",children:"Live Viewers"}),l.jsx(Qt,{className:"h-4 w-4 text-blue-600"})]}),l.jsxs(ie,{children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.toLocaleString()}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently watching"})]})]}),l.jsxs(Y,{children:[l.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(pe,{className:"text-sm font-medium",children:"Connection"}),l.jsx(uz,{className:"h-4 w-4 text-green-600"})]}),l.jsxs(ie,{children:[l.jsx("div",{className:"text-sm font-medium text-green-600",children:s}),l.jsx("p",{className:"text-xs text-muted-foreground",children:i})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(Y,{children:[l.jsx(me,{children:l.jsxs(pe,{className:"flex items-center gap-2",children:[l.jsx(xl,{className:"h-5 w-5"}),"Stream Configuration"]})}),l.jsxs(ie,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ce,{htmlFor:"streamTitle",children:"Stream Title"}),l.jsx(ke,{id:"streamTitle",value:r.title,onChange:u=>n({...r,title:u.target.value}),placeholder:"Enter stream title"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ce,{htmlFor:"streamDescription",children:"Description"}),l.jsx(Br,{id:"streamDescription",value:r.description,onChange:u=>n({...r,description:u.target.value}),placeholder:"Describe your live stream",rows:3})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ce,{htmlFor:"yoloUrl",children:"Yolo Stream URL"}),l.jsx(ke,{id:"yoloUrl",value:r.yoloStreamUrl,onChange:u=>n({...r,yoloStreamUrl:u.target.value}),placeholder:"https://yolo.tv/stream/your-channel"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Enter your Yolo stream channel URL for integration"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(Ce,{htmlFor:"activeToggle",children:"Stream Active"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Enable/disable live streaming"})]}),l.jsx(Qr,{id:"activeToggle",checked:r.isActive,onCheckedChange:o})]}),l.jsxs("div",{className:"flex gap-2 pt-4",children:[l.jsx(Q,{onClick:c,className:"flex-1",children:"Save Settings"}),l.jsxs(Q,{variant:t?"destructive":"default",onClick:()=>e(!t),className:"gap-2",children:[t?l.jsx(cy,{className:"h-4 w-4"}):l.jsx(yl,{className:"h-4 w-4"}),t?"Stop Stream":"Start Stream"]})]})]})]}),l.jsxs(Y,{children:[l.jsx(me,{children:l.jsxs(pe,{className:"flex items-center gap-2",children:[l.jsx(Qt,{className:"h-5 w-5"}),"Stream Preview"]})}),l.jsxs(ie,{children:[l.jsx("div",{className:"bg-black rounded-lg aspect-video flex items-center justify-center mb-4",children:t?l.jsxs("div",{className:"text-center text-white",children:[l.jsx(ss,{className:"h-12 w-12 mx-auto mb-2 animate-pulse text-red-500"}),l.jsx("p",{className:"text-sm",children:"Live Stream Active"}),l.jsx("p",{className:"text-xs text-gray-300",children:"Preview not available in demo"})]}):l.jsxs("div",{className:"text-center text-gray-400",children:[l.jsx(JE,{className:"h-12 w-12 mx-auto mb-2"}),l.jsx("p",{className:"text-sm",children:"Stream Offline"}),l.jsx("p",{className:"text-xs",children:"Start streaming to see preview"})]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ce,{children:"Embed Code"}),l.jsx(Br,{value:r.embedCode,onChange:u=>n({...r,embedCode:u.target.value}),rows:3,className:"text-xs font-mono"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Use this code to embed the stream on your website"})]})]})]})]}),l.jsxs(Y,{children:[l.jsx(me,{children:l.jsxs(pe,{className:"flex items-center gap-2",children:[l.jsx(Xr,{className:"h-5 w-5"}),"Stream Scheduling"]})}),l.jsxs(ie,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ce,{htmlFor:"scheduledStart",children:"Scheduled Start Time"}),l.jsx(ke,{id:"scheduledStart",type:"datetime-local",value:r.scheduledStart,onChange:u=>n({...r,scheduledStart:u.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ce,{htmlFor:"scheduledEnd",children:"Scheduled End Time"}),l.jsx(ke,{id:"scheduledEnd",type:"datetime-local",value:r.scheduledEnd,onChange:u=>n({...r,scheduledEnd:u.target.value})})]})]}),l.jsx(Q,{variant:"outline",className:"mt-4",children:"Schedule Stream"})]})]}),l.jsxs(Y,{children:[l.jsx(me,{children:l.jsx(pe,{children:"Quick Actions"})}),l.jsx(ie,{children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs(Q,{variant:"outline",className:"h-20 flex-col gap-2",children:[l.jsx(yl,{className:"h-6 w-6"}),"Test Stream"]}),l.jsxs(Q,{variant:"outline",className:"h-20 flex-col gap-2",children:[l.jsx(xl,{className:"h-6 w-6"}),"Advanced Settings"]}),l.jsxs(Q,{variant:"outline",className:"h-20 flex-col gap-2",children:[l.jsx(Qt,{className:"h-6 w-6"}),"Analytics"]}),l.jsxs(Q,{variant:"outline",className:"h-20 flex-col gap-2",children:[l.jsx(ss,{className:"h-6 w-6"}),"Stream History"]})]})})]})]})}function sCe(){const{toast:t}=Jr(),[e,r]=E.useState({streamUrl:"https://hoth.alonhosting.com:3975/stream",streamTitle:"QFM Radio 94.3 FM",streamDescription:"Northern Uganda's Voice - Broadcasting live from Lira City",isLive:!0,maxBitrate:"128",audioQuality:"high",enableChat:!0,enableRequests:!0,autoStart:!0}),{data:n=0}=it({queryKey:["/api/active-users/count/radio"],queryFn:async()=>{const f=await fetch("/api/active-users/count/radio");if(!f.ok)throw new Error("Failed to fetch listener count");const h=await f.json();return typeof h.count=="number"?h.count:0},refetchInterval:1e4}),[i,s]=E.useState({peakListeners:89,uptime:"2h 34m",currentSong:"Akello Grace - Dwon Me",bitrate:"128 kbps",status:"live"}),[a,o]=E.useState(!1);E.useEffect(()=>{const f=setInterval(()=>{s(h=>({...h,uptime:c()}))},3e4);return()=>clearInterval(f)},[]);const c=()=>{const f=new Date;f.setHours(f.getHours()-2,f.getMinutes()-34);const m=new Date().getTime()-f.getTime(),p=Math.floor(m/(1e3*60*60)),g=Math.floor(m%(1e3*60*60)/(1e3*60));return`${p}h ${g}m`},u=async()=>{o(!0);try{await new Promise(f=>setTimeout(f,1500)),t({title:"Settings Updated",description:"Radio stream settings have been saved successfully."})}catch{t({title:"Update Failed",description:"Failed to update radio stream settings.",variant:"destructive"})}finally{o(!1)}},d=async()=>{o(!0);try{await new Promise(f=>setTimeout(f,1e3)),r(f=>({...f,isLive:!f.isLive})),s(f=>({...f,status:e.isLive?"offline":"live"})),t({title:e.isLive?"Stream Stopped":"Stream Started",description:`Radio stream is now ${e.isLive?"offline":"live"}.`})}catch{t({title:"Stream Control Failed",description:"Failed to control radio stream.",variant:"destructive"})}finally{o(!1)}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Radio Stream Manager"}),l.jsx("p",{className:"text-gray-600",children:"Manage QFM Radio 94.3 FM live streaming"})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(Qe,{variant:i.status==="live"?"default":"secondary",className:i.status==="live"?"bg-green-500":"bg-gray-500",children:[l.jsx(ss,{className:"w-3 h-3 mr-1"}),i.status==="live"?"LIVE":"OFFLINE"]}),l.jsxs(Q,{onClick:d,disabled:a,variant:e.isLive?"destructive":"default",children:[e.isLive?l.jsx(cy,{className:"w-4 h-4 mr-2"}):l.jsx(yl,{className:"w-4 h-4 mr-2"}),e.isLive?"Stop Stream":"Start Stream"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs(Y,{children:[l.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(pe,{className:"text-sm font-medium",children:"Current Listeners"}),l.jsx(gz,{className:"h-4 w-4 text-green-600"})]}),l.jsxs(ie,{children:[l.jsx("div",{className:"text-2xl font-bold",children:n}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Peak: ",i.peakListeners," today"]})]})]}),l.jsxs(Y,{children:[l.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(pe,{className:"text-sm font-medium",children:"Stream Uptime"}),l.jsx(io,{className:"h-4 w-4 text-blue-600"})]}),l.jsxs(ie,{children:[l.jsx("div",{className:"text-2xl font-bold",children:i.uptime}),l.jsx("p",{className:"text-xs text-gray-500",children:"Continuous streaming"})]})]}),l.jsxs(Y,{children:[l.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(pe,{className:"text-sm font-medium",children:"Audio Quality"}),l.jsx(Ez,{className:"h-4 w-4 text-purple-600"})]}),l.jsxs(ie,{children:[l.jsx("div",{className:"text-2xl font-bold",children:i.bitrate}),l.jsx("p",{className:"text-xs text-gray-500",children:"High quality audio"})]})]}),l.jsxs(Y,{children:[l.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(pe,{className:"text-sm font-medium",children:"Now Playing"}),l.jsx(rT,{className:"h-4 w-4 text-red-600"})]}),l.jsxs(ie,{children:[l.jsx("div",{className:"text-sm font-bold",children:i.currentSong}),l.jsx("p",{className:"text-xs text-gray-500",children:"Local artist"})]})]})]}),l.jsxs(vo,{defaultValue:"stream",className:"space-y-4",children:[l.jsxs(oa,{children:[l.jsx(Ct,{value:"stream",children:"Stream Settings"}),l.jsx(Ct,{value:"audio",children:"Audio Quality"}),l.jsx(Ct,{value:"features",children:"Features"}),l.jsx(Ct,{value:"analytics",children:"Analytics"})]}),l.jsx(jt,{value:"stream",className:"space-y-4",children:l.jsxs(Y,{children:[l.jsxs(me,{children:[l.jsx(pe,{children:"Stream Configuration"}),l.jsx(Mr,{children:"Configure your radio stream settings"})]}),l.jsxs(ie,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ce,{htmlFor:"streamUrl",children:"Stream URL"}),l.jsx(ke,{id:"streamUrl",value:e.streamUrl,onChange:f=>r(h=>({...h,streamUrl:f.target.value})),placeholder:"https://your-stream-url.com/stream"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ce,{htmlFor:"streamTitle",children:"Stream Title"}),l.jsx(ke,{id:"streamTitle",value:e.streamTitle,onChange:f=>r(h=>({...h,streamTitle:f.target.value})),placeholder:"Radio Station Name"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ce,{htmlFor:"streamDescription",children:"Stream Description"}),l.jsx(Br,{id:"streamDescription",value:e.streamDescription,onChange:f=>r(h=>({...h,streamDescription:f.target.value})),placeholder:"Describe your radio station..."})]})]})]})}),l.jsx(jt,{value:"audio",className:"space-y-4",children:l.jsxs(Y,{children:[l.jsxs(me,{children:[l.jsx(pe,{children:"Audio Quality Settings"}),l.jsx(Mr,{children:"Configure audio streaming quality"})]}),l.jsx(ie,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ce,{htmlFor:"maxBitrate",children:"Maximum Bitrate"}),l.jsxs("select",{id:"maxBitrate",value:e.maxBitrate,onChange:f=>r(h=>({...h,maxBitrate:f.target.value})),className:"w-full p-2 border rounded-md",children:[l.jsx("option",{value:"64",children:"64 kbps"}),l.jsx("option",{value:"128",children:"128 kbps"}),l.jsx("option",{value:"192",children:"192 kbps"}),l.jsx("option",{value:"256",children:"256 kbps"}),l.jsx("option",{value:"320",children:"320 kbps"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ce,{htmlFor:"audioQuality",children:"Audio Quality"}),l.jsxs("select",{id:"audioQuality",value:e.audioQuality,onChange:f=>r(h=>({...h,audioQuality:f.target.value})),className:"w-full p-2 border rounded-md",children:[l.jsx("option",{value:"low",children:"Low Quality"}),l.jsx("option",{value:"medium",children:"Medium Quality"}),l.jsx("option",{value:"high",children:"High Quality"}),l.jsx("option",{value:"ultra",children:"Ultra Quality"})]})]})]})})]})}),l.jsx(jt,{value:"features",className:"space-y-4",children:l.jsxs(Y,{children:[l.jsxs(me,{children:[l.jsx(pe,{children:"Feature Settings"}),l.jsx(Mr,{children:"Enable or disable radio features"})]}),l.jsxs(ie,{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(Ce,{className:"text-base",children:"Enable Live Chat"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Allow listeners to chat during live streams"})]}),l.jsx(Qr,{checked:e.enableChat,onCheckedChange:f=>r(h=>({...h,enableChat:f}))})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(Ce,{className:"text-base",children:"Song Requests"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Allow listeners to request songs"})]}),l.jsx(Qr,{checked:e.enableRequests,onCheckedChange:f=>r(h=>({...h,enableRequests:f}))})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(Ce,{className:"text-base",children:"Auto Start Stream"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Automatically start stream on server restart"})]}),l.jsx(Qr,{checked:e.autoStart,onCheckedChange:f=>r(h=>({...h,autoStart:f}))})]})]})]})}),l.jsx(jt,{value:"analytics",className:"space-y-4",children:l.jsxs(Y,{children:[l.jsxs(me,{children:[l.jsx(pe,{children:"Stream Analytics"}),l.jsx(Mr,{children:"Monitor your radio stream performance"})]}),l.jsx(ie,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ce,{className:"text-sm font-medium",children:"Total Stream Time"}),l.jsx("div",{className:"text-2xl font-bold",children:"847h 32m"}),l.jsx("p",{className:"text-xs text-gray-500",children:"This month"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ce,{className:"text-sm font-medium",children:"Average Listeners"}),l.jsx("div",{className:"text-2xl font-bold",children:"43"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Per hour"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ce,{className:"text-sm font-medium",children:"Peak Hour"}),l.jsx("div",{className:"text-2xl font-bold",children:"7-8 PM"}),l.jsx("p",{className:"text-xs text-gray-500",children:"89 listeners"})]})]})})]})})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx(Q,{onClick:u,disabled:a,children:a?"Saving...":"Save Settings"})})]})}function aCe({images:t,onImagesChange:e,maxImages:r=10}){const[n,i]=E.useState(!1),s=E.useRef(null),a=c=>{if(!c||n)return;i(!0);const u=r-t.length,d=Array.from(c).slice(0,u);let f=0;const h=[];d.forEach(m=>{if(m.type.startsWith("image/")){const p=new FileReader;p.onload=g=>{var y;const v=(y=g.target)==null?void 0:y.result;v&&h.push(v),f++,f===d.length&&(e([...t,...h]),i(!1))},p.onerror=()=>{f++,f===d.length&&(e([...t,...h]),i(!1))},p.readAsDataURL(m)}else f++,f===d.length&&(e([...t,...h]),i(!1))})},o=c=>{const u=t.filter((d,f)=>f!==c);e(u)};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(Q,{type:"button",variant:"outline",onClick:()=>{var c;return(c=s.current)==null?void 0:c.click()},disabled:n||t.length>=r,children:[l.jsx(dM,{className:"h-4 w-4 mr-2"}),n?"Processing...":"Choose Images"]}),l.jsxs("span",{className:"text-sm text-gray-500",children:[t.length,"/",r," images selected"]})]}),l.jsx("input",{ref:s,type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:c=>a(c.target.files)}),t.length>0&&l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.map((c,u)=>l.jsx(Y,{className:"relative group overflow-hidden",children:l.jsxs("div",{className:"aspect-square",children:[l.jsx("img",{src:c,alt:`Upload ${u+1}`,className:"w-full h-full object-cover"}),l.jsx(Q,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>o(u),children:l.jsx(uy,{className:"h-4 w-4"})})]})},u))})]})}function $r(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function oCe(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const lp=43200,TR=1440;let lCe={};function cCe(){return lCe}function AR(t){const e=$r(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function $p(t,e){const r=$r(t),n=$r(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function uCe(t){return oCe(t,Date.now())}function dCe(t,e){const r=$r(t),n=$r(e),i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return i*12+s}function fCe(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function hCe(t,e){return+$r(t)-+$r(e)}function mCe(t){const e=$r(t);return e.setHours(23,59,59,999),e}function pCe(t){const e=$r(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function gCe(t){const e=$r(t);return+mCe(e)==+pCe(e)}function vCe(t,e){const r=$r(t),n=$r(e),i=$p(r,n),s=Math.abs(dCe(r,n));let a;if(s<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*s);let o=$p(r,n)===-i;gCe($r(t))&&s===1&&$p(t,n)===1&&(o=!1),a=i*(s-Number(o))}return a===0?0:a}function yCe(t,e,r){const n=hCe(t,e)/1e3;return fCe(r==null?void 0:r.roundingMethod)(n)}const xCe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},bCe=(t,e,r)=>{let n;const i=xCe[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function wb(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const wCe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},SCe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ECe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},TCe={date:wb({formats:wCe,defaultWidth:"full"}),time:wb({formats:SCe,defaultWidth:"full"}),dateTime:wb({formats:ECe,defaultWidth:"full"})},ACe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},_Ce=(t,e,r,n)=>ACe[t];function Ud(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const PCe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},NCe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},CCe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jCe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},OCe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ICe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},kCe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},RCe={ordinalNumber:kCe,era:Ud({values:PCe,defaultWidth:"wide"}),quarter:Ud({values:NCe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ud({values:CCe,defaultWidth:"wide"}),day:Ud({values:jCe,defaultWidth:"wide"}),dayPeriod:Ud({values:OCe,defaultWidth:"wide",formattingValues:ICe,defaultFormattingWidth:"wide"})};function Vd(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(o)?DCe(o,f=>f.test(a)):LCe(o,f=>f.test(a));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function LCe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function DCe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function MCe(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=r.valueCallback?r.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const $Ce=/^(\d+)(th|st|nd|rd)?/i,FCe=/\d+/i,BCe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},UCe={any:[/^b/i,/^(a|c)/i]},VCe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},GCe={any:[/1/i,/2/i,/3/i,/4/i]},HCe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},zCe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},WCe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},KCe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},qCe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},YCe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},XCe={ordinalNumber:MCe({matchPattern:$Ce,parsePattern:FCe,valueCallback:t=>parseInt(t,10)}),era:Vd({matchPatterns:BCe,defaultMatchWidth:"wide",parsePatterns:UCe,defaultParseWidth:"any"}),quarter:Vd({matchPatterns:VCe,defaultMatchWidth:"wide",parsePatterns:GCe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Vd({matchPatterns:HCe,defaultMatchWidth:"wide",parsePatterns:zCe,defaultParseWidth:"any"}),day:Vd({matchPatterns:WCe,defaultMatchWidth:"wide",parsePatterns:KCe,defaultParseWidth:"any"}),dayPeriod:Vd({matchPatterns:qCe,defaultMatchWidth:"any",parsePatterns:YCe,defaultParseWidth:"any"})},QCe={code:"en-US",formatDistance:bCe,formatLong:TCe,formatRelative:_Ce,localize:RCe,match:XCe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ZCe(t,e,r){const n=cCe(),i=(r==null?void 0:r.locale)??n.locale??QCe,s=2520,a=$p(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:a});let c,u;a>0?(c=$r(e),u=$r(t)):(c=$r(t),u=$r(e));const d=yCe(u,c),f=(AR(u)-AR(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,o):d<10?i.formatDistance("lessThanXSeconds",10,o):d<20?i.formatDistance("lessThanXSeconds",20,o):d<40?i.formatDistance("halfAMinute",0,o):d<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):h===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",h,o);if(h<45)return i.formatDistance("xMinutes",h,o);if(h<90)return i.formatDistance("aboutXHours",1,o);if(h<TR){const p=Math.round(h/60);return i.formatDistance("aboutXHours",p,o)}else{if(h<s)return i.formatDistance("xDays",1,o);if(h<lp){const p=Math.round(h/TR);return i.formatDistance("xDays",p,o)}else if(h<lp*2)return m=Math.round(h/lp),i.formatDistance("aboutXMonths",m,o)}if(m=vCe(u,c),m<12){const p=Math.round(h/lp);return i.formatDistance("xMonths",p,o)}else{const p=m%12,g=Math.trunc(m/12);return p<3?i.formatDistance("aboutXYears",g,o):p<9?i.formatDistance("overXYears",g,o):i.formatDistance("almostXYears",g+1,o)}}function JCe(t,e){return ZCe(t,uCe(t),e)}function eje(){const{toast:t}=Jr(),[e,r]=E.useState(!1),[n,i]=E.useState(null),{data:s=[],isLoading:a}=it({queryKey:["/api/news"]}),o=Ar({mutationFn:async u=>(await zt("POST","/api/admin/news",u)).json(),onSuccess:()=>{us.invalidateQueries({queryKey:["/api/news"]}),r(!1),t({title:"Success",description:"News article created successfully"})},onError:u=>{t({title:"Error",description:u.message,variant:"destructive"})}}),c=Ar({mutationFn:async({id:u,data:d})=>(await zt("PUT",`/api/admin/news/${u}`,d)).json(),onSuccess:()=>{us.invalidateQueries({queryKey:["/api/news"]}),i(null),t({title:"Success",description:"News article updated successfully"})},onError:u=>{t({title:"Error",description:u.message,variant:"destructive"})}});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"News Management"}),l.jsx("p",{className:"text-gray-600",children:"Create and manage news articles"})]}),l.jsxs(Sl,{open:e,onOpenChange:r,children:[l.jsx(AT,{asChild:!0,children:l.jsxs(Q,{className:"bg-red-600 hover:bg-red-700",children:[l.jsx(df,{className:"h-4 w-4 mr-2"}),"Add Article"]})}),l.jsxs(lo,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[l.jsx(El,{children:l.jsx(Tl,{children:"Create News Article"})}),l.jsx(_R,{onSubmit:u=>o.mutate(u),isLoading:o.isPending})]})]})]}),l.jsx("div",{className:"grid gap-6",children:a?l.jsx("div",{className:"space-y-4",children:[...Array(3)].map((u,d)=>l.jsx("div",{className:"h-32 bg-gray-200 rounded-lg animate-pulse"},d))}):s.length===0?l.jsxs(Y,{className:"p-12 text-center",children:[l.jsx(df,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No News Articles Yet"}),l.jsx("p",{className:"text-gray-500 mb-6",children:"Start by creating your first news article"}),l.jsxs(Q,{onClick:()=>r(!0),className:"bg-red-600 hover:bg-red-700",children:[l.jsx(df,{className:"h-4 w-4 mr-2"}),"Create Article"]})]}):s.map(u=>l.jsx(Y,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:l.jsxs("div",{className:"md:flex",children:[u.imageUrl&&l.jsx("div",{className:"md:w-1/3",children:l.jsx("img",{src:u.imageUrl,alt:u.title,className:"w-full h-48 md:h-full object-cover"})}),l.jsx("div",{className:`p-6 ${u.imageUrl?"md:w-2/3":"w-full"}`,children:l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-xl font-semibold mb-2",children:u.title}),l.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:u.excerpt}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[l.jsx(Qe,{variant:"secondary",children:u.category}),l.jsx(Qe,{variant:u.published?"default":"outline",children:u.published?"Published":"Draft"}),l.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[l.jsx(Qt,{className:"h-4 w-4 mr-1"}),u.views||0," views"]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[l.jsx(lu,{className:"h-4 w-4 mr-1"}),"Comments ",u.commentsEnabled?"enabled":"disabled"]})]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[l.jsx(Xr,{className:"h-4 w-4 mr-1"}),"Created ",u.createdAt&&JCe(new Date(u.createdAt),{addSuffix:!0})]})]}),l.jsx("div",{className:"flex gap-2 ml-4",children:l.jsx(Q,{variant:"outline",size:"sm",onClick:()=>i(u),children:l.jsx(iT,{className:"h-4 w-4"})})})]})})]})},u.id))}),l.jsx(Sl,{open:!!n,onOpenChange:()=>i(null),children:l.jsxs(lo,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[l.jsx(El,{children:l.jsx(Tl,{children:"Edit News Article"})}),n&&l.jsx(_R,{initialData:n,onSubmit:u=>c.mutate({id:n.id,data:u}),isLoading:c.isPending})]})})]})}function _R({initialData:t,onSubmit:e,isLoading:r}){const[n,i]=E.useState({title:(t==null?void 0:t.title)||"",content:(t==null?void 0:t.content)||"",excerpt:(t==null?void 0:t.excerpt)||"",category:(t==null?void 0:t.category)||"",published:(t==null?void 0:t.published)||!1,views:(t==null?void 0:t.views)||0,commentsEnabled:(t==null?void 0:t.commentsEnabled)??!0}),[s,a]=E.useState(t!=null&&t.imageUrl?[t.imageUrl]:[]),o=c=>{c.preventDefault(),console.log("Form submission with images:",s.length),console.log("Form data:",{...n,imageUrl:s[0]||"",images:s.length}),e({...n,imageUrl:s[0]||"",images:s})};return l.jsxs("form",{onSubmit:o,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Ce,{htmlFor:"title",className:"text-sm font-medium",children:"Article Title"}),l.jsx(ke,{id:"title",value:n.title,onChange:c=>i({...n,title:c.target.value}),placeholder:"Enter compelling article title",className:"mt-1",required:!0})]}),l.jsxs("div",{children:[l.jsx(Ce,{htmlFor:"category",className:"text-sm font-medium",children:"Category"}),l.jsxs(lA,{value:n.category,onValueChange:c=>i({...n,category:c}),children:[l.jsx(Iy,{className:"mt-1",children:l.jsx(cA,{placeholder:"Select article category"})}),l.jsxs(ky,{children:[l.jsx(Kr,{value:"News",children:"News"}),l.jsx(Kr,{value:"Sports",children:"Sports"}),l.jsx(Kr,{value:"Education",children:"Education"}),l.jsx(Kr,{value:"Health",children:"Health"}),l.jsx(Kr,{value:"Agriculture",children:"Agriculture"}),l.jsx(Kr,{value:"Culture",children:"Culture"}),l.jsx(Kr,{value:"Politics",children:"Politics"})]})]})]}),l.jsxs("div",{children:[l.jsx(Ce,{htmlFor:"excerpt",className:"text-sm font-medium",children:"Article Excerpt"}),l.jsx(Br,{id:"excerpt",value:n.excerpt,onChange:c=>i({...n,excerpt:c.target.value}),rows:3,placeholder:"Brief summary that appears in article previews...",className:"mt-1",required:!0})]}),l.jsxs("div",{className:"flex items-center space-x-6",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Qr,{id:"published",checked:n.published,onCheckedChange:c=>i({...n,published:c})}),l.jsx(Ce,{htmlFor:"published",className:"text-sm",children:"Publish immediately"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Qr,{id:"commentsEnabled",checked:n.commentsEnabled,onCheckedChange:c=>i({...n,commentsEnabled:c})}),l.jsx(Ce,{htmlFor:"commentsEnabled",className:"text-sm",children:"Enable comments"})]})]})]}),l.jsxs("div",{children:[l.jsx(Ce,{htmlFor:"content",className:"text-sm font-medium",children:"Article Content"}),l.jsx(Br,{id:"content",value:n.content,onChange:c=>i({...n,content:c.target.value}),rows:10,placeholder:"Write your article content here...",className:"mt-1",required:!0})]})]}),l.jsxs("div",{children:[l.jsxs(Ce,{className:"flex items-center gap-2 text-sm font-medium mb-3",children:[l.jsx(iM,{className:"h-4 w-4"}),"Article Images (up to 10)"]}),l.jsx(aCe,{images:s,onImagesChange:a,maxImages:10})]}),l.jsx("div",{className:"flex justify-end gap-3 pt-4 border-t",children:l.jsx(Q,{type:"submit",disabled:r,className:"bg-red-600 hover:bg-red-700 px-8",children:r?"Saving...":t?"Update Article":"Create Article"})})]})}function tje(){const{toast:t}=Jr(),[e,r]=E.useState(!1),[n,i]=E.useState(null),{data:s=[],isLoading:a}=it({queryKey:["/api/programs"]}),o=Ar({mutationFn:async u=>(await zt("POST","/api/admin/programs",u)).json(),onSuccess:()=>{us.invalidateQueries({queryKey:["/api/programs"]}),r(!1),t({title:"Success",description:"Program created successfully"})},onError:u=>{t({title:"Error",description:u.message,variant:"destructive"})}}),c=Ar({mutationFn:async({id:u,data:d})=>(await zt("PUT",`/api/admin/programs/${u}`,d)).json(),onSuccess:()=>{us.invalidateQueries({queryKey:["/api/programs"]}),i(null),t({title:"Success",description:"Program updated successfully"})},onError:u=>{t({title:"Error",description:u.message,variant:"destructive"})}});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"TV Programs"}),l.jsxs(Sl,{open:e,onOpenChange:r,children:[l.jsx(AT,{asChild:!0,children:l.jsxs(Q,{children:[l.jsx(df,{className:"h-4 w-4 mr-2"}),"Create Program"]})}),l.jsxs(lo,{className:"max-w-2xl",children:[l.jsx(El,{children:l.jsx(Tl,{children:"Create TV Program"})}),l.jsx(PR,{onSubmit:u=>o.mutate(u),isLoading:o.isPending})]})]})]}),l.jsx("div",{className:"grid gap-4",children:a?l.jsx("div",{children:"Loading programs..."}):s.map(u=>l.jsx(Y,{children:l.jsx(me,{className:"pb-3",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(pe,{className:"text-lg",children:u.title}),u.isLive&&l.jsxs(Qe,{variant:"destructive",className:"animate-pulse",children:[l.jsx(ss,{className:"h-3 w-3 mr-1"}),"LIVE"]})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:u.description}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[l.jsxs("span",{children:["Category: ",u.category]}),l.jsxs("span",{children:["Schedule: ",u.schedule]})]})]}),l.jsx("div",{className:"flex gap-2",children:l.jsx(Q,{variant:"outline",size:"sm",onClick:()=>i(u),children:l.jsx(iT,{className:"h-4 w-4"})})})]})})},u.id))}),l.jsx(Sl,{open:!!n,onOpenChange:()=>i(null),children:l.jsxs(lo,{className:"max-w-2xl",children:[l.jsx(El,{children:l.jsx(Tl,{children:"Edit TV Program"})}),n&&l.jsx(PR,{initialData:n,onSubmit:u=>c.mutate({id:n.id,data:u}),isLoading:c.isPending})]})})]})}function PR({initialData:t,onSubmit:e,isLoading:r}){const[n,i]=E.useState({title:(t==null?void 0:t.title)||"",description:(t==null?void 0:t.description)||"",category:(t==null?void 0:t.category)||"",schedule:(t==null?void 0:t.schedule)||"",imageUrl:(t==null?void 0:t.imageUrl)||"",isLive:(t==null?void 0:t.isLive)||!1}),s=a=>{a.preventDefault(),e(n)};return l.jsxs("form",{onSubmit:s,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Ce,{htmlFor:"title",children:"Program Title"}),l.jsx(ke,{id:"title",value:n.title,onChange:a=>i({...n,title:a.target.value}),required:!0})]}),l.jsxs("div",{children:[l.jsx(Ce,{htmlFor:"description",children:"Description"}),l.jsx(Br,{id:"description",value:n.description,onChange:a=>i({...n,description:a.target.value}),rows:3,required:!0})]}),l.jsxs("div",{children:[l.jsx(Ce,{htmlFor:"category",children:"Category"}),l.jsxs(lA,{value:n.category,onValueChange:a=>i({...n,category:a}),children:[l.jsx(Iy,{children:l.jsx(cA,{placeholder:"Select category"})}),l.jsxs(ky,{children:[l.jsx(Kr,{value:"News",children:"News"}),l.jsx(Kr,{value:"Entertainment",children:"Entertainment"}),l.jsx(Kr,{value:"Education",children:"Education"}),l.jsx(Kr,{value:"Sports",children:"Sports"}),l.jsx(Kr,{value:"Culture",children:"Culture"}),l.jsx(Kr,{value:"Youth",children:"Youth"}),l.jsx(Kr,{value:"Talk Show",children:"Talk Show"})]})]})]}),l.jsxs("div",{children:[l.jsx(Ce,{htmlFor:"schedule",children:"Schedule"}),l.jsx(ke,{id:"schedule",value:n.schedule,onChange:a=>i({...n,schedule:a.target.value}),placeholder:"e.g. Mon-Fri 6:00 PM",required:!0})]}),l.jsxs("div",{children:[l.jsx(Ce,{htmlFor:"imageUrl",children:"Image URL"}),l.jsx(ke,{id:"imageUrl",type:"url",value:n.imageUrl,onChange:a=>i({...n,imageUrl:a.target.value}),placeholder:"https://example.com/image.jpg"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Qr,{id:"isLive",checked:n.isLive,onCheckedChange:a=>i({...n,isLive:a})}),l.jsx(Ce,{htmlFor:"isLive",children:"Currently Live"})]}),l.jsx(Q,{type:"submit",disabled:r,children:r?"Saving...":t?"Update Program":"Create Program"})]})}function rje(){const{toast:t}=Jr(),[e,r]=E.useState("content"),{data:n,isLoading:i}=it({queryKey:["/api/admin/home-settings"],queryFn:async()=>{const u=await fetch("/api/admin/home-settings");if(!u.ok)throw new Error("Failed to fetch settings");return u.json()}}),s=Ar({mutationFn:async u=>(await zt("PUT","/api/admin/home-settings",u)).json(),onSuccess:()=>{us.invalidateQueries({queryKey:["/api/admin/home-settings"]}),t({title:"Settings Updated",description:"Home page settings have been saved successfully."})},onError:()=>{t({title:"Update Failed",description:"Failed to update home page settings.",variant:"destructive"})}}),[a,o]=E.useState({heroTitle:(n==null?void 0:n.heroTitle)||"Welcome to Oroma TV",heroSubtitle:(n==null?void 0:n.heroSubtitle)||"Dwon tumalo me Uganda",primaryColor:(n==null?void 0:n.primaryColor)||"#dc2626",secondaryColor:(n==null?void 0:n.secondaryColor)||"#000000",featuredNews:(n==null?void 0:n.featuredNews)??!0,featuredEvents:(n==null?void 0:n.featuredEvents)??!0,liveStreamDefault:(n==null?void 0:n.liveStreamDefault)||"tv",showViewerCount:(n==null?void 0:n.showViewerCount)??!0,enableReactions:(n==null?void 0:n.enableReactions)??!0,enableComments:(n==null?void 0:n.enableComments)??!0}),c=u=>{u==="all"?s.mutate(a):s.mutate({[u]:a[u]})};return i?l.jsx("div",{className:"flex items-center justify-center p-8",children:l.jsx(fg,{className:"h-8 w-8 animate-spin"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(eT,{className:"h-6 w-6 text-blue-600"}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Home Page Settings"}),l.jsx("p",{className:"text-muted-foreground",children:"Customize your website's home page appearance and functionality"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Q,{variant:"outline",size:"sm",children:[l.jsx(Qt,{className:"h-4 w-4 mr-2"}),"Preview"]}),l.jsxs(Q,{onClick:()=>c("all"),disabled:s.isPending,className:"gap-2",children:[l.jsx(Ja,{className:"h-4 w-4"}),"Save All Changes"]})]})]}),l.jsxs(vo,{value:e,onValueChange:r,className:"space-y-6",children:[l.jsxs(oa,{className:"grid w-full grid-cols-4",children:[l.jsxs(Ct,{value:"content",className:"gap-2",children:[l.jsx(nN,{className:"h-4 w-4"}),"Content"]}),l.jsxs(Ct,{value:"design",className:"gap-2",children:[l.jsx(dg,{className:"h-4 w-4"}),"Design"]}),l.jsxs(Ct,{value:"features",className:"gap-2",children:[l.jsx(xl,{className:"h-4 w-4"}),"Features"]}),l.jsxs(Ct,{value:"streaming",className:"gap-2",children:[l.jsx(nN,{className:"h-4 w-4"}),"Streaming"]})]}),l.jsx(jt,{value:"content",className:"space-y-6",children:l.jsxs(Y,{children:[l.jsx(me,{children:l.jsx(pe,{children:"Hero Section Content"})}),l.jsxs(ie,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Ce,{htmlFor:"heroTitle",children:"Main Title"}),l.jsx(ke,{id:"heroTitle",value:a.heroTitle,onChange:u=>o({...a,heroTitle:u.target.value}),placeholder:"Welcome to Oroma TV"})]}),l.jsxs("div",{children:[l.jsx(Ce,{htmlFor:"heroSubtitle",children:"Subtitle"}),l.jsx(ke,{id:"heroSubtitle",value:a.heroSubtitle,onChange:u=>o({...a,heroSubtitle:u.target.value}),placeholder:"Dwon tumalo me Uganda"})]}),l.jsx(Q,{onClick:()=>c("heroTitle"),disabled:s.isPending,size:"sm",children:"Update Content"})]})]})}),l.jsx(jt,{value:"design",className:"space-y-6",children:l.jsxs(Y,{children:[l.jsx(me,{children:l.jsx(pe,{children:"Color Scheme"})}),l.jsxs(ie,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Ce,{htmlFor:"primaryColor",children:"Primary Color"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ke,{id:"primaryColor",type:"color",value:a.primaryColor,onChange:u=>o({...a,primaryColor:u.target.value}),className:"w-16 h-10 p-1"}),l.jsx(ke,{value:a.primaryColor,onChange:u=>o({...a,primaryColor:u.target.value}),placeholder:"#dc2626"})]})]}),l.jsxs("div",{children:[l.jsx(Ce,{htmlFor:"secondaryColor",children:"Secondary Color"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ke,{id:"secondaryColor",type:"color",value:a.secondaryColor,onChange:u=>o({...a,secondaryColor:u.target.value}),className:"w-16 h-10 p-1"}),l.jsx(ke,{value:a.secondaryColor,onChange:u=>o({...a,secondaryColor:u.target.value}),placeholder:"#000000"})]})]})]}),l.jsx(Q,{onClick:()=>c("primaryColor"),disabled:s.isPending,size:"sm",children:"Apply Colors"})]})]})}),l.jsx(jt,{value:"features",className:"space-y-6",children:l.jsxs(Y,{children:[l.jsx(me,{children:l.jsx(pe,{children:"Page Features"})}),l.jsxs(ie,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Featured News"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Show latest news on home page"})]}),l.jsx(Qr,{checked:a.featuredNews,onCheckedChange:u=>o({...a,featuredNews:u})})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Featured Events"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Show upcoming events"})]}),l.jsx(Qr,{checked:a.featuredEvents,onCheckedChange:u=>o({...a,featuredEvents:u})})]})]}),l.jsx(Q,{onClick:()=>c("featuredNews"),disabled:s.isPending,size:"sm",children:"Update Features"})]})]})}),l.jsx(jt,{value:"streaming",className:"space-y-6",children:l.jsxs(Y,{children:[l.jsx(me,{children:l.jsx(pe,{children:"Live Streaming Settings"})}),l.jsxs(ie,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Ce,{children:"Default Stream"}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[l.jsx(Q,{variant:a.liveStreamDefault==="tv"?"default":"outline",onClick:()=>o({...a,liveStreamDefault:"tv"}),size:"sm",children:"TV Stream"}),l.jsx(Q,{variant:a.liveStreamDefault==="radio"?"default":"outline",onClick:()=>o({...a,liveStreamDefault:"radio"}),size:"sm",children:"Radio Stream"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Show Viewer Count"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Display live viewer numbers"})]}),l.jsx(Qr,{checked:a.showViewerCount,onCheckedChange:u=>o({...a,showViewerCount:u})})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Enable Reactions"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Allow emoji reactions"})]}),l.jsx(Qr,{checked:a.enableReactions,onCheckedChange:u=>o({...a,enableReactions:u})})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Enable Comments"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Allow live comments"})]}),l.jsx(Qr,{checked:a.enableComments,onCheckedChange:u=>o({...a,enableComments:u})})]})]}),l.jsx(Q,{onClick:()=>c("showViewerCount"),disabled:s.isPending,size:"sm",children:"Update Streaming Settings"})]})]})})]})]})}function nje(){const{toast:t}=Jr(),[e,r]=E.useState("google-ads"),n=[{id:"google-ads",name:"Google Ads",description:"Integrate Google AdSense for display advertisements",status:"disconnected",icon:hz,fields:[{key:"googleAdsenseId",label:"AdSense Publisher ID",type:"text",placeholder:"ca-pub-1234567890123456",required:!0},{key:"adUnit1",label:"Header Ad Unit ID",type:"text",placeholder:"1234567890",required:!1},{key:"adUnit2",label:"Sidebar Ad Unit ID",type:"text",placeholder:"1234567890",required:!1},{key:"adUnit3",label:"Footer Ad Unit ID",type:"text",placeholder:"1234567890",required:!1}]},{id:"twilio",name:"Twilio",description:"SMS notifications and marketing campaigns",status:"disconnected",icon:vl,fields:[{key:"twilioAccountSid",label:"Account SID",type:"text",placeholder:"ACxxxxxxxxxxxxx",required:!0},{key:"twilioAuthToken",label:"Auth Token",type:"password",placeholder:"your_auth_token",required:!0},{key:"twilioPhoneNumber",label:"Phone Number",type:"text",placeholder:"+1234567890",required:!0}]},{id:"africas-talking",name:"Africa's Talking",description:"SMS and voice services for African markets",status:"disconnected",icon:lu,fields:[{key:"africasTalkingApiKey",label:"API Key",type:"password",placeholder:"your_api_key",required:!0},{key:"africasTalkingUsername",label:"Username",type:"text",placeholder:"sandbox",required:!0},{key:"africasTalkingSender",label:"Sender ID",type:"text",placeholder:"OROMA_TV",required:!1}]},{id:"sendchamp",name:"SendChamp",description:"Multi-channel messaging platform",status:"disconnected",icon:lu,fields:[{key:"sendChampApiKey",label:"API Key",type:"password",placeholder:"your_api_key",required:!0},{key:"sendChampSender",label:"Sender Name",type:"text",placeholder:"Oroma TV",required:!1}]}],{data:i,isLoading:s}=it({queryKey:["/api/admin/advertising"],queryFn:async()=>{const m=await fetch("/api/admin/advertising");if(!m.ok)throw new Error("Failed to fetch settings");return m.json()}}),a=Ar({mutationFn:async m=>(await zt("PUT","/api/admin/advertising",m)).json(),onSuccess:()=>{us.invalidateQueries({queryKey:["/api/admin/advertising"]}),t({title:"Settings Updated",description:"Advertising integration settings have been saved successfully."})},onError:()=>{t({title:"Update Failed",description:"Failed to update advertising settings.",variant:"destructive"})}}),o=Ar({mutationFn:async m=>(await zt("POST",`/api/admin/advertising/test/${m}`)).json(),onSuccess:(m,p)=>{t({title:"Connection Test",description:m.success?"Connection successful!":"Connection failed. Please check your credentials.",variant:m.success?"default":"destructive"})}}),[c,u]=E.useState(i||{}),d=(m,p)=>{u(g=>({...g,[m]:p}))},f=m=>{const p=n.find(v=>v.id===m);if(!p)return;const g=p.fields.reduce((v,y)=>(v[y.key]=c[y.key]||"",v),{});a.mutate({[m]:g})},h=m=>{switch(m){case"connected":return l.jsxs(Qe,{className:"bg-green-500",children:[l.jsx(tM,{className:"h-3 w-3 mr-1"}),"Connected"]});case"pending":return l.jsxs(Qe,{variant:"secondary",children:[l.jsx(fg,{className:"h-3 w-3 mr-1"}),"Pending"]});default:return l.jsxs(Qe,{variant:"destructive",children:[l.jsx(uy,{className:"h-3 w-3 mr-1"}),"Disconnected"]})}};return s?l.jsx("div",{className:"flex items-center justify-center p-8",children:l.jsx(fg,{className:"h-8 w-8 animate-spin"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(nM,{className:"h-6 w-6 text-green-600"}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Advertising & Integrations"}),l.jsx("p",{className:"text-muted-foreground",children:"Manage advertising platforms and communication services"})]})]}),l.jsxs(Q,{variant:"outline",size:"sm",children:[l.jsx(Qt,{className:"h-4 w-4 mr-2"}),"View Analytics"]})]}),l.jsxs(vo,{value:e,onValueChange:r,className:"space-y-6",children:[l.jsx(oa,{className:"grid w-full grid-cols-4",children:n.map(m=>l.jsxs(Ct,{value:m.id,className:"gap-2",children:[l.jsx(m.icon,{className:"h-4 w-4"}),m.name]},m.id))}),n.map(m=>l.jsx(jt,{value:m.id,className:"space-y-6",children:l.jsxs(Y,{children:[l.jsx(me,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(m.icon,{className:"h-6 w-6"}),l.jsxs("div",{children:[l.jsxs(pe,{children:[m.name," Integration"]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:m.description})]})]}),h(m.status)]})}),l.jsxs(ie,{className:"space-y-4",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:m.fields.map(p=>l.jsxs("div",{children:[l.jsxs(Ce,{htmlFor:p.key,children:[p.label,p.required&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),p.type==="textarea"?l.jsx(Br,{id:p.key,value:c[p.key]||"",onChange:g=>d(p.key,g.target.value),placeholder:p.placeholder,required:p.required}):l.jsx(ke,{id:p.key,type:p.type,value:c[p.key]||"",onChange:g=>d(p.key,g.target.value),placeholder:p.placeholder,required:p.required})]},p.key))}),l.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t",children:[l.jsxs(Q,{onClick:()=>f(m.id),disabled:a.isPending,className:"gap-2",children:[l.jsx(Ja,{className:"h-4 w-4"}),"Save Configuration"]}),l.jsxs(Q,{variant:"outline",onClick:()=>o.mutate(m.id),disabled:o.isPending,className:"gap-2",children:[l.jsx(xl,{className:"h-4 w-4"}),"Test Connection"]})]}),l.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[l.jsx("h4",{className:"font-medium mb-2",children:"Setup Instructions:"}),m.id==="google-ads"&&l.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[l.jsx("li",{children:"• Create a Google AdSense account at adsense.google.com"}),l.jsx("li",{children:"• Get your Publisher ID from your AdSense dashboard"}),l.jsx("li",{children:"• Create ad units for different placements on your website"}),l.jsx("li",{children:"• Copy the ad unit IDs to the fields above"})]}),m.id==="twilio"&&l.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[l.jsx("li",{children:"• Sign up for a Twilio account at twilio.com"}),l.jsx("li",{children:"• Find your Account SID and Auth Token in the console"}),l.jsx("li",{children:"• Purchase a phone number for sending SMS"}),l.jsx("li",{children:"• Test the connection to verify setup"})]}),m.id==="africas-talking"&&l.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[l.jsx("li",{children:"• Create an account at africastalking.com"}),l.jsx("li",{children:"• Get your API key from the dashboard"}),l.jsx("li",{children:"• Set up your sender ID for branded SMS"}),l.jsx("li",{children:"• Add credits to your account for sending messages"})]}),m.id==="sendchamp"&&l.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[l.jsx("li",{children:"• Register at sendchamp.com"}),l.jsx("li",{children:"• Generate an API key in your dashboard"}),l.jsx("li",{children:"• Configure your sender name"}),l.jsx("li",{children:"• Fund your account for messaging services"})]})]})]})]})},m.id))]}),l.jsxs(Y,{children:[l.jsx(me,{children:l.jsx(pe,{children:"Advertising Performance"})}),l.jsx(ie,{children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:"$1,247"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"This Month"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold",children:"456,789"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Ad Impressions"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold",children:"2.3%"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Click Rate"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold",children:"$2.75"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"CPM"})]})]})})]})]})}function ije(){return l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(Oc,{className:"h-8 w-8 text-blue-600"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Interview Requests"}),l.jsx("p",{className:"text-gray-600",children:"Manage interview scheduling and requests"})]})]}),l.jsxs(Y,{children:[l.jsx(me,{children:l.jsxs(pe,{className:"flex items-center gap-2",children:[l.jsx(Oc,{className:"h-5 w-5"}),"Recent Interview Requests",l.jsx(Qe,{variant:"secondary",children:"0 Pending"})]})}),l.jsx(ie,{children:l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(Oc,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),l.jsx("p",{children:"No interview requests yet"}),l.jsx("p",{className:"text-sm",children:"Requests will appear here when users submit them"})]})})]})]})}function sje(){return l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(Tp,{className:"h-8 w-8 text-green-600"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Program Proposals"}),l.jsx("p",{className:"text-gray-600",children:"Review and manage program proposals"})]})]}),l.jsxs(Y,{children:[l.jsx(me,{children:l.jsxs(pe,{className:"flex items-center gap-2",children:[l.jsx(Tp,{className:"h-5 w-5"}),"Recent Program Proposals",l.jsx(Qe,{variant:"secondary",children:"0 Pending"})]})}),l.jsx(ie,{children:l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(Tp,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),l.jsx("p",{children:"No program proposals yet"}),l.jsx("p",{className:"text-sm",children:"Proposals will appear here when users submit them"})]})})]})]})}function aje(){return eD.useSyncExternalStore(oje,()=>!0,()=>!1)}function oje(){return()=>{}}var S_="Avatar",[lje,Gje]=zn(S_),[cje,u8]=lje(S_),d8=E.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,s]=E.useState("idle");return l.jsx(cje,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:l.jsx(Re.span,{...n,ref:e})})});d8.displayName=S_;var f8="AvatarImage",h8=E.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...s}=t,a=u8(f8,r),o=uje(n,s),c=mr(u=>{i(u),a.onImageLoadingStatusChange(u)});return ar(()=>{o!=="idle"&&c(o)},[o,c]),o==="loaded"?l.jsx(Re.img,{...s,ref:e,src:n}):null});h8.displayName=f8;var m8="AvatarFallback",p8=E.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,s=u8(m8,r),[a,o]=E.useState(n===void 0);return E.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>o(!0),n);return()=>window.clearTimeout(c)}},[n]),a&&s.imageLoadingStatus!=="loaded"?l.jsx(Re.span,{...i,ref:e}):null});p8.displayName=m8;function NR(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function uje(t,{referrerPolicy:e,crossOrigin:r}){const n=aje(),i=E.useRef(null),s=n?(i.current||(i.current=new window.Image),i.current):null,[a,o]=E.useState(()=>NR(s,t));return ar(()=>{o(NR(s,t))},[s,t]),ar(()=>{const c=f=>()=>{o(f)};if(!s)return;const u=c("loaded"),d=c("error");return s.addEventListener("load",u),s.addEventListener("error",d),e&&(s.referrerPolicy=e),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,r,e]),a}var g8=d8,v8=h8,y8=p8;const x8=E.forwardRef(({className:t,...e},r)=>l.jsx(g8,{ref:r,className:Fe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));x8.displayName=g8.displayName;const b8=E.forwardRef(({className:t,...e},r)=>l.jsx(v8,{ref:r,className:Fe("aspect-square h-full w-full",t),...e}));b8.displayName=v8.displayName;const w8=E.forwardRef(({className:t,...e},r)=>l.jsx(y8,{ref:r,className:Fe("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));w8.displayName=y8.displayName;function dje(){const{user:t}=xT(),{toast:e}=Jr(),[r,n]=E.useState(!1),[i,s]=E.useState(!1),[a,o]=E.useState({username:(t==null?void 0:t.username)||"",email:(t==null?void 0:t.email)||"",fullName:(t==null?void 0:t.fullName)||"",profileImage:(t==null?void 0:t.profileImage)||"",currentPassword:"",newPassword:"",confirmPassword:""}),[c,u]=E.useState({siteName:"Oroma TV",siteDescription:"Northern Uganda's premier media house",primaryColor:"#dc2626",secondaryColor:"#000000",enableRegistration:!0,enableComments:!0,maintenanceMode:!1}),d=async()=>{s(!0);try{if(a.newPassword&&a.newPassword!==a.confirmPassword){e({title:"Error",description:"New passwords do not match",variant:"destructive"});return}const h={username:a.username,email:a.email,fullName:a.fullName,profileImage:a.profileImage,...a.newPassword&&{currentPassword:a.currentPassword,newPassword:a.newPassword}},m=await fetch(`/api/admin/profile/${t==null?void 0:t.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(m.ok)e({title:"Success",description:"Profile updated successfully"}),o(p=>({...p,currentPassword:"",newPassword:"",confirmPassword:""}));else{const p=await m.text();e({title:"Error",description:p||"Failed to update profile",variant:"destructive"})}}catch{e({title:"Error",description:"Failed to update profile",variant:"destructive"})}finally{s(!1)}},f=async()=>{s(!0);try{(await fetch("/api/admin/site-settings",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})).ok?e({title:"Success",description:"Site settings updated successfully"}):e({title:"Error",description:"Failed to update site settings",variant:"destructive"})}catch{e({title:"Error",description:"Failed to update site settings",variant:"destructive"})}finally{s(!1)}};return l.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(xl,{className:"h-8 w-8 text-gray-600"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),l.jsx("p",{className:"text-gray-600",children:"Manage your admin account and site configuration"})]})]}),l.jsxs(vo,{defaultValue:"profile",className:"space-y-6",children:[l.jsxs(oa,{className:"grid w-full grid-cols-4",children:[l.jsxs(Ct,{value:"profile",className:"flex items-center gap-2",children:[l.jsx(kw,{className:"h-4 w-4"}),"Profile"]}),l.jsxs(Ct,{value:"site",className:"flex items-center gap-2",children:[l.jsx(cf,{className:"h-4 w-4"}),"Site"]}),l.jsxs(Ct,{value:"appearance",className:"flex items-center gap-2",children:[l.jsx(dg,{className:"h-4 w-4"}),"Appearance"]}),l.jsxs(Ct,{value:"security",className:"flex items-center gap-2",children:[l.jsx(Vs,{className:"h-4 w-4"}),"Security"]})]}),l.jsx(jt,{value:"profile",children:l.jsxs(Y,{children:[l.jsx(me,{children:l.jsxs(pe,{className:"flex items-center gap-2",children:[l.jsx(kw,{className:"h-5 w-5"}),"Admin Profile",l.jsx(Qe,{variant:"secondary",className:"ml-2",children:"Super Admin"})]})}),l.jsxs(ie,{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsxs(x8,{className:"h-20 w-20",children:[l.jsx(b8,{src:a.profileImage}),l.jsx(w8,{className:"text-lg",children:a.username.charAt(0).toUpperCase()})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Q,{variant:"outline",size:"sm",className:"gap-2",children:[l.jsx(dM,{className:"h-4 w-4"}),"Upload Image"]}),l.jsx("p",{className:"text-sm text-gray-500",children:"JPG, PNG, or GIF. Max 2MB."})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ce,{htmlFor:"username",children:"Username"}),l.jsx(ke,{id:"username",value:a.username,onChange:h=>o(m=>({...m,username:h.target.value}))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ce,{htmlFor:"email",children:"Email"}),l.jsx(ke,{id:"email",type:"email",value:a.email,onChange:h=>o(m=>({...m,email:h.target.value}))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ce,{htmlFor:"fullName",children:"Full Name"}),l.jsx(ke,{id:"fullName",value:a.fullName,onChange:h=>o(m=>({...m,fullName:h.target.value}))})]}),l.jsxs("div",{className:"border-t pt-6",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[l.jsx(sM,{className:"h-5 w-5"}),"Change Password"]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ce,{htmlFor:"currentPassword",children:"Current Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(ke,{id:"currentPassword",type:r?"text":"password",value:a.currentPassword,onChange:h=>o(m=>({...m,currentPassword:h.target.value}))}),l.jsx(Q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>n(!r),children:r?l.jsx(mz,{className:"h-4 w-4"}):l.jsx(Qt,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ce,{htmlFor:"newPassword",children:"New Password"}),l.jsx(ke,{id:"newPassword",type:r?"text":"password",value:a.newPassword,onChange:h=>o(m=>({...m,newPassword:h.target.value}))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ce,{htmlFor:"confirmPassword",children:"Confirm Password"}),l.jsx(ke,{id:"confirmPassword",type:r?"text":"password",value:a.confirmPassword,onChange:h=>o(m=>({...m,confirmPassword:h.target.value}))})]})]})]})]}),l.jsxs(Q,{onClick:d,disabled:i,className:"gap-2",children:[l.jsx(Ja,{className:"h-4 w-4"}),i?"Saving...":"Save Profile"]})]})]})}),l.jsx(jt,{value:"site",children:l.jsxs(Y,{children:[l.jsx(me,{children:l.jsxs(pe,{className:"flex items-center gap-2",children:[l.jsx(cf,{className:"h-5 w-5"}),"Site Configuration"]})}),l.jsxs(ie,{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ce,{htmlFor:"siteName",children:"Site Name"}),l.jsx(ke,{id:"siteName",value:c.siteName,onChange:h=>u(m=>({...m,siteName:h.target.value}))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ce,{htmlFor:"siteDescription",children:"Site Description"}),l.jsx(Br,{id:"siteDescription",value:c.siteDescription,onChange:h=>u(m=>({...m,siteDescription:h.target.value})),className:"min-h-[80px]"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Site Features"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(Ce,{htmlFor:"enableRegistration",children:"User Registration"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Allow new users to register accounts"})]}),l.jsx(Qr,{id:"enableRegistration",checked:c.enableRegistration,onCheckedChange:h=>u(m=>({...m,enableRegistration:h}))})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(Ce,{htmlFor:"enableComments",children:"Comments"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Allow users to comment on news articles"})]}),l.jsx(Qr,{id:"enableComments",checked:c.enableComments,onCheckedChange:h=>u(m=>({...m,enableComments:h}))})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(Ce,{htmlFor:"maintenanceMode",children:"Maintenance Mode"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Temporarily disable site for maintenance"})]}),l.jsx(Qr,{id:"maintenanceMode",checked:c.maintenanceMode,onCheckedChange:h=>u(m=>({...m,maintenanceMode:h}))})]})]})]}),l.jsxs(Q,{onClick:f,disabled:i,className:"gap-2",children:[l.jsx(Ja,{className:"h-4 w-4"}),i?"Saving...":"Save Settings"]})]})]})}),l.jsx(jt,{value:"appearance",children:l.jsxs(Y,{children:[l.jsx(me,{children:l.jsxs(pe,{className:"flex items-center gap-2",children:[l.jsx(dg,{className:"h-5 w-5"}),"Appearance & Branding"]})}),l.jsxs(ie,{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ce,{htmlFor:"primaryColor",children:"Primary Color"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ke,{id:"primaryColor",type:"color",value:c.primaryColor,onChange:h=>u(m=>({...m,primaryColor:h.target.value})),className:"w-16 h-10"}),l.jsx(ke,{value:c.primaryColor,onChange:h=>u(m=>({...m,primaryColor:h.target.value})),className:"flex-1"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ce,{htmlFor:"secondaryColor",children:"Secondary Color"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ke,{id:"secondaryColor",type:"color",value:c.secondaryColor,onChange:h=>u(m=>({...m,secondaryColor:h.target.value})),className:"w-16 h-10"}),l.jsx(ke,{value:c.secondaryColor,onChange:h=>u(m=>({...m,secondaryColor:h.target.value})),className:"flex-1"})]})]})]}),l.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50",children:[l.jsx("h4",{className:"font-semibold mb-2",children:"Color Preview"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-lg border",style:{backgroundColor:c.primaryColor}}),l.jsx("div",{className:"w-16 h-16 rounded-lg border",style:{backgroundColor:c.secondaryColor}}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-sm text-gray-600",children:"Primary color is used for buttons, links, and accents. Secondary color is used for text and borders."})})]})]}),l.jsxs(Q,{onClick:f,disabled:i,className:"gap-2",children:[l.jsx(Ja,{className:"h-4 w-4"}),i?"Saving...":"Save Appearance"]})]})]})}),l.jsx(jt,{value:"security",children:l.jsxs(Y,{children:[l.jsx(me,{children:l.jsxs(pe,{className:"flex items-center gap-2",children:[l.jsx(Vs,{className:"h-5 w-5"}),"Security & Access"]})}),l.jsxs(ie,{className:"space-y-6",children:[l.jsxs("div",{className:"p-4 border rounded-lg bg-green-50 border-green-200",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Vs,{className:"h-5 w-5 text-green-600"}),l.jsx("h4",{className:"font-semibold text-green-800",children:"Super Admin Access"})]}),l.jsx("p",{className:"text-sm text-green-700",children:"You have full administrative privileges including user management, content moderation, and system configuration."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Security Features"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"Two-Factor Authentication"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Add an extra layer of security to your account"})]}),l.jsx(Q,{variant:"outline",size:"sm",children:"Configure"})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"Login History"}),l.jsx("p",{className:"text-sm text-gray-500",children:"View recent login activity and devices"})]}),l.jsx(Q,{variant:"outline",size:"sm",children:"View History"})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"API Keys"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Manage API access tokens and keys"})]}),l.jsx(Q,{variant:"outline",size:"sm",children:"Manage Keys"})]})]})]})]})]})})]})]})}function fje(){var m,p;const[t,e]=E.useState("overview"),[r,n]=E.useState(0),{data:i,isLoading:s,refetch:a}=it({queryKey:["/api/admin/engagement-metrics",r],queryFn:async()=>{const g=await fetch("/api/admin/engagement-metrics");if(!g.ok)throw new Error("Failed to fetch engagement metrics");return g.json()},refetchInterval:3e4}),{data:o,isLoading:c,refetch:u}=it({queryKey:["/api/admin/content-metrics",r],queryFn:async()=>{const g=await fetch("/api/admin/content-metrics");if(!g.ok)throw new Error("Failed to fetch content metrics");return g.json()},refetchInterval:6e4}),d=()=>{n(g=>g+1),a(),u()},f=g=>{const v=Math.floor(g/60),y=g%60;return v>0?`${v}h ${y}m`:`${y}m`},h=g=>g>=1e3?`${(g/1e3).toFixed(1)}k`:g.toString();return s||c?l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h2",{className:"text-2xl font-bold",children:"Engagement Metrics"})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(g=>l.jsx(Y,{children:l.jsx(ie,{className:"p-6",children:l.jsx("div",{className:"h-20 bg-gray-200 animate-pulse rounded"})})},g))})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Real-Time Engagement Metrics"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor audience engagement and content performance"})]}),l.jsxs(Q,{onClick:d,variant:"outline",size:"sm",children:[l.jsx(fg,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx(Y,{children:l.jsx(ie,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Viewers"}),l.jsx("p",{className:"text-3xl font-bold text-red-600",children:(i==null?void 0:i.activeUsers)||0}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Peak: ",(i==null?void 0:i.peakViewers)||0]})]}),l.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:l.jsx(Qt,{className:"h-6 w-6 text-red-600"})})]})})}),l.jsx(Y,{children:l.jsx(ie,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Interactions"}),l.jsx("p",{className:"text-3xl font-bold text-blue-600",children:((i==null?void 0:i.totalReactions)||0)+((i==null?void 0:i.totalComments)||0)+((i==null?void 0:i.totalSongRequests)||0)}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Rate: ",(i==null?void 0:i.engagementRate)||0,"%"]})]}),l.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:l.jsx(ZE,{className:"h-6 w-6 text-blue-600"})})]})})}),l.jsx(Y,{children:l.jsx(ie,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg. Session Time"}),l.jsx("p",{className:"text-3xl font-bold text-green-600",children:f((i==null?void 0:i.avgSessionTime)||0)}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Bounce: ",(i==null?void 0:i.bounceRate)||0,"%"]})]}),l.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:l.jsx(io,{className:"h-6 w-6 text-green-600"})})]})})}),l.jsx(Y,{children:l.jsx(ie,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Content Views"}),l.jsx("p",{className:"text-3xl font-bold text-purple-600",children:h(((o==null?void 0:o.newsViews)||0)+((o==null?void 0:o.programViews)||0))}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Events: ",(o==null?void 0:o.eventRSVPs)||0," RSVPs"]})]}),l.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:l.jsx(eM,{className:"h-6 w-6 text-purple-600"})})]})})})]}),l.jsxs(vo,{value:t,onValueChange:e,children:[l.jsxs(oa,{className:"grid w-full grid-cols-4",children:[l.jsx(Ct,{value:"overview",children:"Overview"}),l.jsx(Ct,{value:"audience",children:"Audience"}),l.jsx(Ct,{value:"engagement",children:"Engagement"}),l.jsx(Ct,{value:"content",children:"Content"})]}),l.jsx(jt,{value:"overview",className:"space-y-6",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(Y,{children:[l.jsx(me,{children:l.jsxs(pe,{className:"flex items-center gap-2",children:[l.jsx(Iw,{className:"h-5 w-5"}),"Hourly Audience Trends"]})}),l.jsx(ie,{children:l.jsx(vf,{width:"100%",height:300,children:l.jsxs(ZNe,{data:(i==null?void 0:i.hourlyViewers)||[],children:[l.jsx(Mv,{strokeDasharray:"3 3"}),l.jsx(Ll,{dataKey:"hour"}),l.jsx(Dl,{}),l.jsx(yn,{}),l.jsx(sa,{type:"monotone",dataKey:"tv",stackId:"1",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"TV Viewers"}),l.jsx(sa,{type:"monotone",dataKey:"radio",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6,name:"Radio Listeners"})]})})})]}),l.jsxs(Y,{children:[l.jsx(me,{children:l.jsxs(pe,{className:"flex items-center gap-2",children:[l.jsx(uf,{className:"h-5 w-5"}),"Popular Reactions"]})}),l.jsx(ie,{children:l.jsx("div",{className:"space-y-3",children:((m=i==null?void 0:i.topReactions)==null?void 0:m.map((g,v)=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-2xl",children:g.emoji}),l.jsxs("span",{className:"font-medium",children:["Reaction ",v+1]})]}),l.jsx(Qe,{variant:"secondary",children:g.count})]},v)))||l.jsx("p",{className:"text-gray-500 text-center py-8",children:"No reactions yet"})})})]})]})}),l.jsx(jt,{value:"audience",className:"space-y-6",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(Y,{children:[l.jsx(me,{children:l.jsx(pe,{children:"TV vs Radio Audience"})}),l.jsx(ie,{children:l.jsx(vf,{width:"100%",height:300,children:l.jsxs(n8,{children:[l.jsx(xs,{data:[{name:"TV Viewers",value:(i==null?void 0:i.totalViewers)||0,color:"#ef4444"},{name:"Radio Listeners",value:(i==null?void 0:i.totalListeners)||0,color:"#3b82f6"}],cx:"50%",cy:"50%",labelLine:!1,label:({name:g,percent:v})=>`${g} ${(v*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:[{name:"TV Viewers",value:(i==null?void 0:i.totalViewers)||0,color:"#ef4444"},{name:"Radio Listeners",value:(i==null?void 0:i.totalListeners)||0,color:"#3b82f6"}].map((g,v)=>l.jsx(rm,{fill:g.color},`cell-${v}`))}),l.jsx(yn,{})]})})})]}),l.jsxs(Y,{children:[l.jsx(me,{children:l.jsx(pe,{children:"Audience Statistics"})}),l.jsx(ie,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(so,{className:"h-5 w-5 text-red-600"}),l.jsx("span",{className:"font-medium",children:"TV Oroma"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-bold text-red-600",children:(i==null?void 0:i.totalViewers)||0}),l.jsx("p",{className:"text-xs text-gray-600",children:"Total Viewers"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ss,{className:"h-5 w-5 text-blue-600"}),l.jsx("span",{className:"font-medium",children:"QFM Radio"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-bold text-blue-600",children:(i==null?void 0:i.totalListeners)||0}),l.jsx("p",{className:"text-xs text-gray-600",children:"Total Listeners"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ui,{className:"h-5 w-5 text-gray-600"}),l.jsx("span",{className:"font-medium",children:"Active Now"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-bold text-gray-600",children:(i==null?void 0:i.activeUsers)||0}),l.jsx("p",{className:"text-xs text-gray-600",children:"Live Users"})]})]})]})})]})]})}),l.jsx(jt,{value:"engagement",className:"space-y-6",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs(Y,{children:[l.jsx(me,{children:l.jsxs(pe,{className:"flex items-center gap-2",children:[l.jsx(oM,{className:"h-5 w-5"}),"Live Comments"]})}),l.jsx(ie,{children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-4xl font-bold text-blue-600",children:(i==null?void 0:i.totalComments)||0}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Total Comments"})]})})]}),l.jsxs(Y,{children:[l.jsx(me,{children:l.jsxs(pe,{className:"flex items-center gap-2",children:[l.jsx(uf,{className:"h-5 w-5"}),"Reactions"]})}),l.jsx(ie,{children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-4xl font-bold text-red-600",children:(i==null?void 0:i.totalReactions)||0}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Total Reactions"})]})})]}),l.jsxs(Y,{children:[l.jsx(me,{children:l.jsxs(pe,{className:"flex items-center gap-2",children:[l.jsx(rT,{className:"h-5 w-5"}),"Song Requests"]})}),l.jsx(ie,{children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-4xl font-bold text-green-600",children:(i==null?void 0:i.totalSongRequests)||0}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Total Requests"})]})})]})]})}),l.jsx(jt,{value:"content",className:"space-y-6",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(Y,{children:[l.jsx(me,{children:l.jsx(pe,{children:"Content Performance"})}),l.jsx(ie,{children:l.jsx(vf,{width:"100%",height:300,children:l.jsxs(r8,{data:[{name:"News",views:(o==null?void 0:o.newsViews)||0},{name:"Programs",views:(o==null?void 0:o.programViews)||0},{name:"Events",views:(o==null?void 0:o.eventRSVPs)||0}],children:[l.jsx(Mv,{strokeDasharray:"3 3"}),l.jsx(Ll,{dataKey:"name"}),l.jsx(Dl,{}),l.jsx(yn,{}),l.jsx(Ao,{dataKey:"views",fill:"#8b5cf6"})]})})})]}),l.jsxs(Y,{children:[l.jsx(me,{children:l.jsx(pe,{children:"Popular Content"})}),l.jsx(ie,{children:l.jsx("div",{className:"space-y-3",children:((p=o==null?void 0:o.popularContent)==null?void 0:p.map((g,v)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:g.title}),l.jsx(Qe,{variant:"outline",className:"mt-1 text-xs",children:g.type})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-bold text-purple-600",children:g.views}),l.jsx("p",{className:"text-xs text-gray-600",children:"views"})]})]},v)))||l.jsx("p",{className:"text-gray-500 text-center py-8",children:"No content data available"})})})]})]})})]})]})}function hje(){return l.jsxs("div",{className:"space-y-4 md:space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Event Management"}),l.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"Manage community events like soccer matches, charity fundraisers, concerts, and cultural celebrations"})]}),l.jsxs(Q,{className:"bg-red-600 hover:bg-red-700 w-full sm:w-auto",children:[l.jsx(df,{className:"mr-2 h-4 w-4"}),"New Event"]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:[l.jsxs(Y,{children:[l.jsxs(me,{children:[l.jsxs(pe,{className:"flex items-center gap-2",children:[l.jsx(Xr,{className:"h-5 w-5 text-red-600"}),"Upcoming Events"]}),l.jsx(Mr,{children:"Soccer matches, fundraisers, concerts scheduled"})]}),l.jsx(ie,{children:l.jsx("p",{className:"text-sm text-gray-600",children:"Coming soon..."})})]}),l.jsxs(Y,{children:[l.jsxs(me,{children:[l.jsxs(pe,{className:"flex items-center gap-2",children:[l.jsx(ui,{className:"h-5 w-5 text-red-600"}),"Event Participants"]}),l.jsx(Mr,{children:"Track RSVPs and event attendance"})]}),l.jsx(ie,{children:l.jsx("p",{className:"text-sm text-gray-600",children:"Coming soon..."})})]}),l.jsxs(Y,{children:[l.jsxs(me,{children:[l.jsxs(pe,{className:"flex items-center gap-2",children:[l.jsx(Za,{className:"h-5 w-5 text-red-600"}),"Venue Management"]}),l.jsx(Mr,{children:"Manage venues for community events"})]}),l.jsx(ie,{children:l.jsx("p",{className:"text-sm text-gray-600",children:"Coming soon..."})})]})]})]})}function mje(){const{toast:t}=Jr(),[e,r]=E.useState("privacy"),[n,i]=E.useState({}),{data:s=[],isLoading:a}=it({queryKey:["/api/admin/settings"]}),o=Ar({mutationFn:async({key:f,value:h})=>{const m=s.find(p=>p.key===f);return m?(await zt("PUT",`/api/admin/settings/${m.id}`,{value:h})).json():(await zt("POST","/api/admin/settings",{key:f,value:h,category:"legal"})).json()},onSuccess:()=>{us.invalidateQueries({queryKey:["/api/admin/settings"]}),t({title:"Legal content updated successfully"}),i({})}}),c=f=>{const h=n[f];h&&o.mutate({key:f,value:h})},u=f=>{var h;return((h=s.find(m=>m.key===f))==null?void 0:h.value)||d(f)},d=f=>{switch(f){case"privacy_policy":return`# Privacy Policy

## Information We Collect
Oroma TV collects information you provide directly, such as when you subscribe to our newsletter, contact us, or participate in our interactive features.

## How We Use Your Information
- Provide and improve our streaming services
- Send newsletters and important updates
- Respond to your inquiries and support requests
- Analyze usage patterns to enhance user experience

## Information Sharing
We do not sell, trade, or rent your personal information to third parties.

## Data Security
We implement appropriate technical and organizational measures to protect your personal information.

## Contact Us
For questions about this Privacy Policy, contact us at privacy@oromatv.com`;case"terms_of_service":return`# Terms of Service

## Acceptance of Terms
By accessing and using Oroma TV's website and streaming services, you accept and agree to be bound by these terms.

## Use of Services
### Permitted Use
- Watch our live TV broadcasts and radio streams
- Participate in live comments and reactions
- Subscribe to our newsletter and updates

### Prohibited Activities
- Posting inappropriate, offensive, or illegal content
- Attempting to disrupt our streaming services
- Impersonating others or providing false information

## Intellectual Property
All content on Oroma TV is protected by copyright and other intellectual property laws.

## Contact Information
For questions about these Terms, contact us at legal@oromatv.com`;case"cookies_policy":return`# Cookies Policy

## What Are Cookies
Cookies are small text files stored on your device when you visit our website.

## How We Use Cookies
- Essential cookies for website functionality
- Analytics cookies to understand user behavior
- Preference cookies to remember your settings

## Managing Cookies
You can control cookies through your browser settings.

## Contact Us
For questions about our use of cookies, contact us at privacy@oromatv.com`;default:return""}};return a?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx(Ds,{className:"h-8 w-8 animate-spin text-red-600"})}):l.jsxs("div",{className:"space-y-4 md:space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Legal Pages Management"}),l.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"Manage privacy policy, terms of service, and other legal content"})]}),l.jsx("div",{className:"flex gap-2",children:l.jsx(Q,{variant:"outline",asChild:!0,children:l.jsxs("a",{href:"/privacy-policy",target:"_blank",rel:"noopener noreferrer",children:[l.jsx(Qt,{className:"mr-2 h-4 w-4"}),"Preview Pages"]})})})]}),l.jsxs(vo,{value:e,onValueChange:r,children:[l.jsxs(oa,{className:"grid w-full grid-cols-3",children:[l.jsxs(Ct,{value:"privacy",className:"flex items-center gap-2",children:[l.jsx(Vs,{className:"h-4 w-4"}),"Privacy Policy"]}),l.jsxs(Ct,{value:"terms",className:"flex items-center gap-2",children:[l.jsx(Us,{className:"h-4 w-4"}),"Terms of Service"]}),l.jsxs(Ct,{value:"cookies",className:"flex items-center gap-2",children:[l.jsx(cf,{className:"h-4 w-4"}),"Cookies Policy"]})]}),l.jsx(jt,{value:"privacy",className:"space-y-6",children:l.jsxs(Y,{children:[l.jsx(me,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs(pe,{className:"flex items-center gap-2",children:[l.jsx(Vs,{className:"h-5 w-5 text-red-600"}),"Privacy Policy Content"]}),l.jsx(Mr,{children:"Manage your privacy policy content that explains how you collect and use user data"})]}),l.jsxs(Qe,{variant:"outline",children:["Last updated: ",new Date().toLocaleDateString()]})]})}),l.jsxs(ie,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Ce,{htmlFor:"privacy-content",children:"Privacy Policy Content"}),l.jsx(Br,{id:"privacy-content",value:n.privacy_policy||u("privacy_policy"),onChange:f=>i({...n,privacy_policy:f.target.value}),rows:15,className:"font-mono text-sm",placeholder:"Enter your privacy policy content in Markdown format..."}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use Markdown formatting. This content will be displayed on /privacy-policy"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Q,{onClick:()=>c("privacy_policy"),disabled:o.isPending||!n.privacy_policy,className:"bg-red-600 hover:bg-red-700",children:[o.isPending&&l.jsx(Ds,{className:"mr-2 h-4 w-4 animate-spin"}),l.jsx(Ja,{className:"mr-2 h-4 w-4"}),"Save Privacy Policy"]}),l.jsx(Q,{variant:"outline",asChild:!0,children:l.jsxs("a",{href:"/privacy-policy",target:"_blank",rel:"noopener noreferrer",children:[l.jsx(Qt,{className:"mr-2 h-4 w-4"}),"Preview"]})})]})]})]})}),l.jsx(jt,{value:"terms",className:"space-y-6",children:l.jsxs(Y,{children:[l.jsx(me,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs(pe,{className:"flex items-center gap-2",children:[l.jsx(Us,{className:"h-5 w-5 text-red-600"}),"Terms of Service Content"]}),l.jsx(Mr,{children:"Manage your terms of service that govern how users can use your platform"})]}),l.jsxs(Qe,{variant:"outline",children:["Last updated: ",new Date().toLocaleDateString()]})]})}),l.jsxs(ie,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Ce,{htmlFor:"terms-content",children:"Terms of Service Content"}),l.jsx(Br,{id:"terms-content",value:n.terms_of_service||u("terms_of_service"),onChange:f=>i({...n,terms_of_service:f.target.value}),rows:15,className:"font-mono text-sm",placeholder:"Enter your terms of service content in Markdown format..."}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use Markdown formatting. This content will be displayed on /terms-of-service"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Q,{onClick:()=>c("terms_of_service"),disabled:o.isPending||!n.terms_of_service,className:"bg-red-600 hover:bg-red-700",children:[o.isPending&&l.jsx(Ds,{className:"mr-2 h-4 w-4 animate-spin"}),l.jsx(Ja,{className:"mr-2 h-4 w-4"}),"Save Terms of Service"]}),l.jsx(Q,{variant:"outline",asChild:!0,children:l.jsxs("a",{href:"/terms-of-service",target:"_blank",rel:"noopener noreferrer",children:[l.jsx(Qt,{className:"mr-2 h-4 w-4"}),"Preview"]})})]})]})]})}),l.jsx(jt,{value:"cookies",className:"space-y-6",children:l.jsxs(Y,{children:[l.jsx(me,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs(pe,{className:"flex items-center gap-2",children:[l.jsx(cf,{className:"h-5 w-5 text-red-600"}),"Cookies Policy Content"]}),l.jsx(Mr,{children:"Manage your cookies policy that explains how you use cookies and tracking"})]}),l.jsxs(Qe,{variant:"outline",children:["Last updated: ",new Date().toLocaleDateString()]})]})}),l.jsxs(ie,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Ce,{htmlFor:"cookies-content",children:"Cookies Policy Content"}),l.jsx(Br,{id:"cookies-content",value:n.cookies_policy||u("cookies_policy"),onChange:f=>i({...n,cookies_policy:f.target.value}),rows:15,className:"font-mono text-sm",placeholder:"Enter your cookies policy content in Markdown format..."}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use Markdown formatting. This content will be displayed when needed"})]}),l.jsx("div",{className:"flex gap-2",children:l.jsxs(Q,{onClick:()=>c("cookies_policy"),disabled:o.isPending||!n.cookies_policy,className:"bg-red-600 hover:bg-red-700",children:[o.isPending&&l.jsx(Ds,{className:"mr-2 h-4 w-4 animate-spin"}),l.jsx(Ja,{className:"mr-2 h-4 w-4"}),"Save Cookies Policy"]})})]})]})})]}),l.jsxs(Y,{children:[l.jsxs(me,{children:[l.jsx(pe,{children:"Quick Actions"}),l.jsx(Mr,{children:"Common tasks for legal page management"})]}),l.jsx(ie,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(Q,{variant:"outline",className:"h-auto p-4 flex flex-col items-start",asChild:!0,children:l.jsxs("a",{href:"/privacy-policy",target:"_blank",rel:"noopener noreferrer",children:[l.jsx(Vs,{className:"h-5 w-5 mb-2"}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-medium",children:"View Privacy Policy"}),l.jsx("div",{className:"text-sm text-gray-500",children:"See how it appears to users"})]})]})}),l.jsx(Q,{variant:"outline",className:"h-auto p-4 flex flex-col items-start",asChild:!0,children:l.jsxs("a",{href:"/terms-of-service",target:"_blank",rel:"noopener noreferrer",children:[l.jsx(Us,{className:"h-5 w-5 mb-2"}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-medium",children:"View Terms of Service"}),l.jsx("div",{className:"text-sm text-gray-500",children:"Check the terms page"})]})]})}),l.jsx(Q,{variant:"outline",className:"h-auto p-4 flex flex-col items-start",asChild:!0,children:l.jsxs("a",{href:"/sitemap",target:"_blank",rel:"noopener noreferrer",children:[l.jsx(cf,{className:"h-5 w-5 mb-2"}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-medium",children:"View Sitemap"}),l.jsx("div",{className:"text-sm text-gray-500",children:"Navigate all pages"})]})]})})]})})]})]})}function pje(){const{user:t,logoutMutation:e}=xT(),[,r]=Wh(),[n,i]=E.useState("overview");if(!t)return r("/admin/login"),null;const s=()=>{e.mutate(),r("/")},a=()=>{switch(n){case"overview":return l.jsx(ER,{});case"programs":return l.jsx(tje,{});case"blog":return l.jsx(eje,{});case"events":return l.jsx(hje,{});case"livestream":return l.jsx(iCe,{});case"radiostream":return l.jsx(sCe,{});case"homepage":return l.jsx(rje,{});case"analytics":return l.jsx(fje,{});case"advertising":return l.jsx(nje,{});case"interview-requests":return l.jsx(ije,{});case"program-proposals":return l.jsx(sje,{});case"settings":return l.jsx(dje,{});case"legal":return l.jsx(mje,{});case"security":return l.jsx("div",{className:"p-8 text-center text-gray-500",children:"Security settings coming soon..."});default:return l.jsx(ER,{})}};return l.jsxs("div",{className:"min-h-screen bg-gray-100 flex",children:[l.jsx(Yte,{activeTab:n,onTabChange:i}),l.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[l.jsx(Are,{onLogout:s}),l.jsx("main",{className:"flex-1 overflow-auto p-3 md:p-6",children:l.jsx("div",{className:"max-w-7xl mx-auto",children:a()})})]})]})}function gje(){const[t,e]=TH("/news/:id"),r=e==null?void 0:e.id,{data:n,isLoading:i,error:s}=it({queryKey:["/api/news",r],queryFn:async()=>{if(!r)throw new Error("No article ID");const o=await fetch(`/api/news/${r}`);if(!o.ok)throw new Error("Failed to fetch article");return o.json()},enabled:!!r}),a=async()=>{if(navigator.share&&n)try{await navigator.share({title:n.title,text:n.excerpt,url:window.location.href})}catch(o){console.log("Error sharing:",o)}else navigator.clipboard.writeText(window.location.href)};return!t||!r?l.jsx("div",{className:"pt-16 min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Article Not Found"}),l.jsx(Gt,{href:"/newsroom",children:l.jsx(Q,{children:"Back to Newsroom"})})]})}):i?l.jsx("div",{className:"pt-16 min-h-screen bg-gray-50",children:l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),l.jsx("div",{className:"h-64 bg-gray-200 rounded mb-6"}),l.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-4"}),l.jsx("div",{className:"space-y-3",children:[...Array(8)].map((o,c)=>l.jsx("div",{className:"h-4 bg-gray-200 rounded"},c))})]})})}):s||!n?l.jsx("div",{className:"pt-16 min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Error Loading Article"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"The article could not be loaded."}),l.jsx(Gt,{href:"/newsroom",children:l.jsx(Q,{children:"Back to Newsroom"})})]})}):l.jsx("div",{className:"pt-16 min-h-screen bg-gray-50",children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx(Gt,{href:"/newsroom",children:l.jsxs(Q,{variant:"outline",className:"mb-6",children:[l.jsx(iz,{className:"mr-2 h-4 w-4"}),"Back to Newsroom"]})}),l.jsxs("article",{className:"max-w-4xl mx-auto",children:[l.jsxs("header",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(Qe,{className:"bg-red-600 text-white",children:n.category}),n.featured&&l.jsx(Qe,{variant:"outline",children:"Featured"})]}),l.jsx("h1",{className:"text-4xl font-bold mb-4 leading-tight",children:n.title}),l.jsx("p",{className:"text-xl text-gray-600 mb-6 leading-relaxed",children:n.excerpt}),l.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-6",children:[l.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(kw,{className:"h-4 w-4 mr-1"}),n.author]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Xr,{className:"h-4 w-4 mr-1"}),new Date(n.publishedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Qt,{className:"h-4 w-4 mr-1"}),n.views||0," views"]})]}),l.jsxs(Q,{variant:"outline",size:"sm",onClick:a,children:[l.jsx(yc,{className:"h-4 w-4 mr-2"}),"Share"]})]})]}),n.imageUrl&&l.jsx("div",{className:"mb-8",children:l.jsx("img",{src:n.imageUrl,alt:n.title,className:"w-full h-96 object-cover rounded-lg shadow-lg"})}),l.jsx("div",{className:"prose prose-lg max-w-none",children:l.jsx("div",{className:"whitespace-pre-wrap leading-relaxed text-gray-800",children:n.content})}),l.jsx("footer",{className:"mt-12 pt-8 border-t border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date(n.updatedAt).toLocaleDateString()]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(Q,{variant:"outline",size:"sm",onClick:a,children:[l.jsx(yc,{className:"h-4 w-4 mr-2"}),"Share Article"]}),l.jsx(Gt,{href:"/newsroom",children:l.jsx(Q,{size:"sm",children:"More Articles"})})]})]})})]}),l.jsxs("section",{className:"max-w-4xl mx-auto mt-16",children:[l.jsxs("h2",{className:"text-2xl font-bold mb-6",children:["More from ",n.category]}),l.jsx("div",{className:"text-center text-gray-500",children:l.jsx("p",{children:"Related articles will appear here"})})]})]})})}function vje(){var r;const{data:t=[],isLoading:e}=it({queryKey:["/api/admin/site-settings"]});return(r=t.find(n=>n.key==="privacy_policy"))!=null&&r.value||yje(),e?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx(Ds,{className:"h-8 w-8 animate-spin text-red-600"})}):l.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:l.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("div",{className:"flex items-center justify-center mb-4",children:l.jsx(Vs,{className:"h-12 w-12 text-red-600"})}),l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Privacy Policy"}),l.jsx("p",{className:"text-xl text-gray-600",children:"Your privacy is important to us. Learn how we protect your information."})]}),l.jsxs(Y,{className:"mb-8",children:[l.jsxs(me,{children:[l.jsxs(pe,{className:"flex items-center gap-2",children:[l.jsx(Qt,{className:"h-5 w-5 text-red-600"}),"Information We Collect"]}),l.jsx(Mr,{children:"Types of information Oroma TV collects when you use our services"})]}),l.jsxs(ie,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Personal Information"}),l.jsx("p",{className:"text-gray-600",children:"We collect information you provide directly, such as when you subscribe to our newsletter, contact us, or participate in our interactive features like live comments and song requests."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Usage Information"}),l.jsx("p",{className:"text-gray-600",children:"We automatically collect information about how you use our website and streaming services, including viewing preferences, device information, and interaction patterns."})]})]})]}),l.jsxs(Y,{className:"mb-8",children:[l.jsx(me,{children:l.jsxs(pe,{className:"flex items-center gap-2",children:[l.jsx(fz,{className:"h-5 w-5 text-red-600"}),"How We Use Your Information"]})}),l.jsx(ie,{className:"space-y-4",children:l.jsxs("ul",{className:"space-y-2 text-gray-600",children:[l.jsx("li",{children:"• Provide and improve our streaming services"}),l.jsx("li",{children:"• Send newsletters and important updates"}),l.jsx("li",{children:"• Respond to your inquiries and support requests"}),l.jsx("li",{children:"• Analyze usage patterns to enhance user experience"}),l.jsx("li",{children:"• Ensure platform security and prevent abuse"}),l.jsx("li",{children:"• Comply with legal obligations"})]})})]}),l.jsxs(Y,{className:"mb-8",children:[l.jsx(me,{children:l.jsxs(pe,{className:"flex items-center gap-2",children:[l.jsx(ui,{className:"h-5 w-5 text-red-600"}),"Information Sharing"]})}),l.jsxs(ie,{children:[l.jsx("p",{className:"text-gray-600 mb-4",children:"We do not sell, trade, or rent your personal information to third parties. We may share information only in the following circumstances:"}),l.jsxs("ul",{className:"space-y-2 text-gray-600",children:[l.jsx("li",{children:"• With your explicit consent"}),l.jsx("li",{children:"• To comply with legal requirements"}),l.jsx("li",{children:"• To protect our rights and prevent fraud"}),l.jsx("li",{children:"• With service providers who assist in our operations"})]})]})]}),l.jsxs(Y,{className:"mb-8",children:[l.jsx(me,{children:l.jsxs(pe,{className:"flex items-center gap-2",children:[l.jsx(sM,{className:"h-5 w-5 text-red-600"}),"Data Security"]})}),l.jsx(ie,{children:l.jsx("p",{className:"text-gray-600",children:"We implement appropriate technical and organizational measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction. However, no internet transmission is 100% secure, and we cannot guarantee absolute security."})})]}),l.jsxs(Y,{className:"mb-8",children:[l.jsx(me,{children:l.jsx(pe,{children:"Your Rights"})}),l.jsxs(ie,{children:[l.jsx("p",{className:"text-gray-600 mb-4",children:"You have the right to:"}),l.jsxs("ul",{className:"space-y-2 text-gray-600",children:[l.jsx("li",{children:"• Access your personal information"}),l.jsx("li",{children:"• Correct inaccurate information"}),l.jsx("li",{children:"• Request deletion of your information"}),l.jsx("li",{children:"• Opt-out of marketing communications"}),l.jsx("li",{children:"• File a complaint with data protection authorities"})]})]})]}),l.jsxs(Y,{children:[l.jsx(me,{children:l.jsxs(pe,{className:"flex items-center gap-2",children:[l.jsx(vl,{className:"h-5 w-5 text-red-600"}),"Contact Us"]})}),l.jsxs(ie,{children:[l.jsx("p",{className:"text-gray-600 mb-4",children:"If you have questions about this Privacy Policy or your personal information, contact us:"}),l.jsxs("div",{className:"space-y-2 text-gray-600",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Email:"})," privacy@oromatv.com"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Phone:"})," +256 392 945 943"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Address:"})," Lira City, Northern Uganda"]})]}),l.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:["Last updated: ",new Date().toLocaleDateString()]})]})]})]})})}function yje(){return"This Privacy Policy describes how Oroma TV collects, uses, and protects your information when you use our streaming services and website."}function xje(){var r;const{data:t=[],isLoading:e}=it({queryKey:["/api/admin/site-settings"]});return(r=t.find(n=>n.key==="terms_of_service"))!=null&&r.value||bje(),e?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx(Ds,{className:"h-8 w-8 animate-spin text-red-600"})}):l.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:l.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("div",{className:"flex items-center justify-center mb-4",children:l.jsx(Us,{className:"h-12 w-12 text-red-600"})}),l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Terms of Service"}),l.jsx("p",{className:"text-xl text-gray-600",children:"Please read these terms carefully before using Oroma TV services."})]}),l.jsxs(Y,{className:"mb-8",children:[l.jsx(me,{children:l.jsxs(pe,{className:"flex items-center gap-2",children:[l.jsx(lM,{className:"h-5 w-5 text-red-600"}),"Acceptance of Terms"]})}),l.jsx(ie,{children:l.jsx("p",{className:"text-gray-600",children:"By accessing and using Oroma TV's website and streaming services, you accept and agree to be bound by the terms and provision of this agreement. These terms apply to all visitors, users, and others who access or use our service."})})]}),l.jsxs(Y,{className:"mb-8",children:[l.jsxs(me,{children:[l.jsxs(pe,{className:"flex items-center gap-2",children:[l.jsx(ui,{className:"h-5 w-5 text-red-600"}),"Use of Services"]}),l.jsx(Mr,{children:"Guidelines for using Oroma TV's platform and services"})]}),l.jsxs(ie,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Permitted Use"}),l.jsxs("ul",{className:"space-y-1 text-gray-600",children:[l.jsx("li",{children:"• Watch our live TV broadcasts and radio streams"}),l.jsx("li",{children:"• Participate in live comments and reactions"}),l.jsx("li",{children:"• Subscribe to our newsletter and updates"}),l.jsx("li",{children:"• Request songs during appropriate programming"}),l.jsx("li",{children:"• Share our content on social media platforms"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Prohibited Activities"}),l.jsxs("ul",{className:"space-y-1 text-gray-600",children:[l.jsx("li",{children:"• Posting inappropriate, offensive, or illegal content"}),l.jsx("li",{children:"• Attempting to disrupt our streaming services"}),l.jsx("li",{children:"• Impersonating others or providing false information"}),l.jsx("li",{children:"• Using automated systems to access our services"}),l.jsx("li",{children:"• Redistributing our content without permission"})]})]})]})]}),l.jsxs(Y,{className:"mb-8",children:[l.jsx(me,{children:l.jsxs(pe,{className:"flex items-center gap-2",children:[l.jsx(Vs,{className:"h-5 w-5 text-red-600"}),"Intellectual Property"]})}),l.jsxs(ie,{children:[l.jsx("p",{className:"text-gray-600 mb-4",children:"All content on Oroma TV, including but not limited to text, graphics, logos, audio clips, video clips, and software, is the property of Oroma TV or its content suppliers and is protected by copyright and other intellectual property laws."}),l.jsx("p",{className:"text-gray-600",children:"You may not reproduce, distribute, modify, or create derivative works of our content without explicit written permission from Oroma TV."})]})]}),l.jsxs(Y,{className:"mb-8",children:[l.jsx(me,{children:l.jsxs(pe,{className:"flex items-center gap-2",children:[l.jsx(Nz,{className:"h-5 w-5 text-red-600"}),"User Content and Conduct"]})}),l.jsxs(ie,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Content Standards"}),l.jsx("p",{className:"text-gray-600 mb-2",children:"When participating in live comments, song requests, or other interactive features, you agree that your content:"}),l.jsxs("ul",{className:"space-y-1 text-gray-600",children:[l.jsx("li",{children:"• Does not violate any laws or regulations"}),l.jsx("li",{children:"• Is not defamatory, obscene, or offensive"}),l.jsx("li",{children:"• Does not infringe on others' rights"}),l.jsx("li",{children:"• Does not contain spam or promotional material"}),l.jsx("li",{children:"• Respects community guidelines and cultural values"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Moderation"}),l.jsx("p",{className:"text-gray-600",children:"Oroma TV reserves the right to monitor, edit, or remove any user-generated content that violates these terms or is deemed inappropriate for our platform."})]})]})]}),l.jsxs(Y,{className:"mb-8",children:[l.jsx(me,{children:l.jsx(pe,{children:"Service Availability"})}),l.jsxs(ie,{children:[l.jsx("p",{className:"text-gray-600 mb-4",children:"We strive to provide continuous broadcasting services, but cannot guarantee uninterrupted access. Our services may be temporarily unavailable due to:"}),l.jsxs("ul",{className:"space-y-1 text-gray-600",children:[l.jsx("li",{children:"• Scheduled maintenance"}),l.jsx("li",{children:"• Technical difficulties"}),l.jsx("li",{children:"• Internet connectivity issues"}),l.jsx("li",{children:"• Force majeure events"})]})]})]}),l.jsxs(Y,{className:"mb-8",children:[l.jsx(me,{children:l.jsxs(pe,{className:"flex items-center gap-2",children:[l.jsx(pz,{className:"h-5 w-5 text-red-600"}),"Limitation of Liability"]})}),l.jsx(ie,{children:l.jsx("p",{className:"text-gray-600",children:"Oroma TV shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses, resulting from your use of our services."})})]}),l.jsxs(Y,{className:"mb-8",children:[l.jsx(me,{children:l.jsx(pe,{children:"Termination"})}),l.jsx(ie,{children:l.jsx("p",{className:"text-gray-600",children:"We may terminate or suspend your access to our services immediately, without prior notice or liability, for any reason whatsoever, including without limitation if you breach the Terms."})})]}),l.jsxs(Y,{className:"mb-8",children:[l.jsx(me,{children:l.jsx(pe,{children:"Changes to Terms"})}),l.jsx(ie,{children:l.jsx("p",{className:"text-gray-600",children:"We reserve the right to modify or replace these Terms at any time. If a revision is material, we will try to provide at least 30 days notice prior to any new terms taking effect."})})]}),l.jsxs(Y,{children:[l.jsx(me,{children:l.jsx(pe,{children:"Contact Information"})}),l.jsxs(ie,{children:[l.jsx("p",{className:"text-gray-600 mb-4",children:"If you have any questions about these Terms of Service, please contact us:"}),l.jsxs("div",{className:"space-y-2 text-gray-600",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Email:"})," legal@oromatv.com"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Phone:"})," +256 392 945 943"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Address:"})," Lira City, Northern Uganda"]})]}),l.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:["Last updated: ",new Date().toLocaleDateString()]})]})]})]})})}function bje(){return"These Terms of Service govern your use of Oroma TV's website and streaming services. By using our services, you agree to these terms."}const wje=[{category:"Main Pages",icon:eT,pages:[{name:"Home",href:"/",description:"Live streaming TV and Radio"},{name:"Watch Live",href:"/watch-live",description:"Live TV broadcasts and programs"},{name:"QFM Radio",href:"/radio",description:"Live radio streaming 94.3 FM"}]},{category:"Content",icon:so,pages:[{name:"Newsroom",href:"/newsroom",description:"Latest news and articles"},{name:"Programs",href:"/programs",description:"TV and radio program schedules"},{name:"Events",href:"/events",description:"Upcoming community events"},{name:"Media Gallery",href:"/media",description:"Photos and video content"}]},{category:"About & Contact",icon:ui,pages:[{name:"About",href:"/about",description:"About Oroma TV and our mission"},{name:"Contact",href:"/contact",description:"Get in touch with us"},{name:"Donate",href:"/donate",description:"Support our broadcasting mission"}]},{category:"Legal",icon:Vs,pages:[{name:"Privacy Policy",href:"/privacy-policy",description:"How we protect your information"},{name:"Terms of Service",href:"/terms-of-service",description:"Terms and conditions of use"},{name:"Sitemap",href:"/sitemap",description:"Complete site navigation"}]}];function Sje(){return l.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:l.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("div",{className:"flex items-center justify-center mb-4",children:l.jsx(Us,{className:"h-12 w-12 text-red-600"})}),l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Sitemap"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Navigate through all pages and sections of Oroma TV's website. Find everything from live streaming to community events and news."})]}),l.jsx("div",{className:"grid gap-8 md:grid-cols-2",children:wje.map(t=>{const e=t.icon;return l.jsxs(Y,{className:"h-fit",children:[l.jsxs(me,{children:[l.jsxs(pe,{className:"flex items-center gap-3",children:[l.jsx(e,{className:"h-6 w-6 text-red-600"}),t.category]}),l.jsxs(Mr,{children:[t.category==="Main Pages"&&"Core streaming and broadcasting pages",t.category==="Content"&&"News, programs, and media content",t.category==="About & Contact"&&"Information about us and how to reach us",t.category==="Legal"&&"Legal documents and policies"]})]}),l.jsx(ie,{children:l.jsx("div",{className:"space-y-4",children:t.pages.map(r=>l.jsx(Gt,{href:r.href,className:"block p-4 rounded-lg border border-gray-200 hover:border-red-300 hover:bg-red-50 transition-all duration-200 group",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-red-600 transition-colors",children:r.name}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r.description})]}),l.jsx("div",{className:"text-gray-400 group-hover:text-red-500 transition-colors",children:"→"})]})},r.href))})})]},t.category)})}),l.jsxs(Y,{className:"mt-12",children:[l.jsxs(me,{children:[l.jsx(pe,{className:"text-center",children:"Website Overview"}),l.jsx(Mr,{className:"text-center",children:"Complete overview of Oroma TV's digital presence"})]}),l.jsx(ie,{children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 text-center",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"flex items-center justify-center",children:l.jsx(so,{className:"h-8 w-8 text-red-600"})}),l.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"2"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Live Streams"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"flex items-center justify-center",children:l.jsx(bz,{className:"h-8 w-8 text-red-600"})}),l.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"50+"}),l.jsx("div",{className:"text-sm text-gray-600",children:"News Articles"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"flex items-center justify-center",children:l.jsx(Xr,{className:"h-8 w-8 text-red-600"})}),l.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"25+"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Weekly Programs"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"flex items-center justify-center",children:l.jsx(ui,{className:"h-8 w-8 text-red-600"})}),l.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"1000+"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Daily Viewers"})]})]})})]}),l.jsxs(Y,{className:"mt-8",children:[l.jsx(me,{children:l.jsxs(pe,{className:"flex items-center gap-2",children:[l.jsx(vl,{className:"h-5 w-5 text-red-600"}),"Need Help Finding Something?"]})}),l.jsxs(ie,{children:[l.jsx("p",{className:"text-gray-600 mb-4",children:"Can't find what you're looking for? Our team is here to help you navigate our website and find the content you need."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsx(Gt,{href:"/contact",children:l.jsx("button",{className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg transition-colors",children:"Contact Support"})}),l.jsx(Gt,{href:"/",children:l.jsx("button",{className:"border border-red-600 text-red-600 hover:bg-red-50 px-6 py-2 rounded-lg transition-colors",children:"Back to Home"})})]})]})]}),l.jsxs("div",{className:"text-center mt-12 text-sm text-gray-500",children:[l.jsxs("p",{children:["Last updated: ",new Date().toLocaleDateString()]}),l.jsxs("p",{className:"mt-2",children:["© ",new Date().getFullYear()," Oroma TV. All rights reserved."]})]})]})})}function Eje(){return l.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:l.jsx(Y,{className:"w-full max-w-md mx-4",children:l.jsxs(ie,{className:"pt-6",children:[l.jsxs("div",{className:"flex mb-4 gap-2",children:[l.jsx(JE,{className:"h-8 w-8 text-red-500"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),l.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function Tje(){return l.jsxs(BP,{children:[l.jsx(Rr,{path:"/admin/login",component:qte}),l.jsx(Rr,{path:"/admin",component:pje}),l.jsx(Rr,{children:l.jsx(pq,{children:l.jsxs(BP,{children:[l.jsx(Rr,{path:"/",component:YJ}),l.jsx(Rr,{path:"/watch-live",component:XJ}),l.jsx(Rr,{path:"/programs",component:Ote}),l.jsx(Rr,{path:"/newsroom",component:Rte}),l.jsx(Rr,{path:"/news/:id",component:gje}),l.jsx(Rr,{path:"/about",component:Mte}),l.jsx(Rr,{path:"/events",component:$te}),l.jsx(Rr,{path:"/media",component:Fte}),l.jsx(Rr,{path:"/donate",component:Gte}),l.jsx(Rr,{path:"/contact",component:Wte}),l.jsx(Rr,{path:"/privacy-policy",component:vje}),l.jsx(Rr,{path:"/terms-of-service",component:xje}),l.jsx(Rr,{path:"/sitemap",component:Sje}),l.jsx(Rr,{component:Eje})]})})})]})}function Aje(){return l.jsx(e7,{defaultTheme:"light",storageKey:"oroma-ui-theme",children:l.jsx(KH,{client:us,children:l.jsx(XK,{children:l.jsxs(ZK,{children:[l.jsx(fW,{}),l.jsx(Tje,{})]})})})})}Q2(document.getElementById("root")).render(l.jsx(Aje,{}));
